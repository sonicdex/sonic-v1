{"version":3,"file":"static/js/main.8dca164a.js","mappings":"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","sources":["webpack://sonic-app/./src/App.tsx","webpack://sonic-app/./src/apis/analytics.ts","webpack://sonic-app/./src/apis/index.ts","webpack://sonic-app/./src/apis/rosetta.ts","webpack://sonic-app/./src/assets/index.tsx","webpack://sonic-app/./src/components/core/asset/asset.tsx","webpack://sonic-app/./src/components/core/asset/index.ts","webpack://sonic-app/./src/components/core/check-box/check-box.tsx","webpack://sonic-app/./src/components/core/check-box/index.ts","webpack://sonic-app/./src/components/core/display-value/display-value.tsx","webpack://sonic-app/./src/components/core/display-value/index.ts","webpack://sonic-app/./src/components/core/emoji/emoji.tsx","webpack://sonic-app/./src/components/core/emoji/index.ts","webpack://sonic-app/./src/components/core/fee-box/fee-box.tsx","webpack://sonic-app/./src/components/core/fee-box/index.ts","webpack://sonic-app/./src/components/core/gradient-box/gradient-box.tsx","webpack://sonic-app/./src/components/core/gradient-box/index.ts","webpack://sonic-app/./src/components/core/header/header.tsx","webpack://sonic-app/./src/components/core/header/index.ts","webpack://sonic-app/./src/components/core/image-block/index.ts","webpack://sonic-app/./src/components/core/image-block/lp-image-block.tsx","webpack://sonic-app/./src/components/core/image-block/swap-image-block.tsx","webpack://sonic-app/./src/components/core/image-block/token-image-block.tsx","webpack://sonic-app/./src/components/core/index.ts","webpack://sonic-app/./src/components/core/information-box/index.ts","webpack://sonic-app/./src/components/core/information-box/information-box.tsx","webpack://sonic-app/./src/components/core/logo-box/index.ts","webpack://sonic-app/./src/components/core/logo-box/logo-box.tsx","webpack://sonic-app/./src/components/core/logo/index.ts","webpack://sonic-app/./src/components/core/logo/logo.tsx","webpack://sonic-app/./src/components/core/lp-breakdown-popover/index.ts","webpack://sonic-app/./src/components/core/lp-breakdown-popover/lp-breakdown-popover-item.tsx","webpack://sonic-app/./src/components/core/lp-breakdown-popover/lp-breakdown-popover.tsx","webpack://sonic-app/./src/components/core/number-input/index.ts","webpack://sonic-app/./src/components/core/number-input/number-input.tsx","webpack://sonic-app/./src/components/core/search-bar/index.ts","webpack://sonic-app/./src/components/core/search-bar/search-bar.tsx","webpack://sonic-app/./src/components/core/slippage-settings/index.ts","webpack://sonic-app/./src/components/core/slippage-settings/slippage-settings.tsx","webpack://sonic-app/./src/components/core/stack-line/index.ts","webpack://sonic-app/./src/components/core/stack-line/stack-line.tsx","webpack://sonic-app/./src/components/core/token-balances-popover/index.ts","webpack://sonic-app/./src/components/core/token-balances-popover/token-balances-popover-item.tsx","webpack://sonic-app/./src/components/core/token-balances-popover/token-balances-popover.tsx","webpack://sonic-app/./src/components/core/token/index.ts","webpack://sonic-app/./src/components/core/token/token.tsx","webpack://sonic-app/./src/components/core/token/tokenCreditinfo.tsx","webpack://sonic-app/./src/components/core/view-header/index.ts","webpack://sonic-app/./src/components/core/view-header/view-header.tsx","webpack://sonic-app/./src/components/icons/circle-icon/circle-icon.tsx","webpack://sonic-app/./src/components/icons/circle-icon/index.ts","webpack://sonic-app/./src/components/icons/index.ts","webpack://sonic-app/./src/components/icons/plus/index.ts","webpack://sonic-app/./src/components/icons/plus/plus-icon.tsx","webpack://sonic-app/./src/components/index.ts","webpack://sonic-app/./src/components/layout/index.ts","webpack://sonic-app/./src/components/layout/layout.constants.tsx","webpack://sonic-app/./src/components/layout/layout.tsx","webpack://sonic-app/./src/components/maintenance/index.ts","webpack://sonic-app/./src/components/maintenance/maintenance.tsx","webpack://sonic-app/./src/components/modals/add-liquidity-fail-modal.tsx","webpack://sonic-app/./src/components/modals/add-liquidity-progress-modal.tsx","webpack://sonic-app/./src/components/modals/allowance-verify-modal.tsx","webpack://sonic-app/./src/components/modals/app-Updated.tsx","webpack://sonic-app/./src/components/modals/components/import-token/import-token-image.tsx","webpack://sonic-app/./src/components/modals/components/import-token/import-token.tsx","webpack://sonic-app/./src/components/modals/components/import-token/index.ts","webpack://sonic-app/./src/components/modals/components/index.ts","webpack://sonic-app/./src/components/modals/components/transaction/index.ts","webpack://sonic-app/./src/components/modals/components/transaction/transaction-failed-modal-content.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction-progress-modal-content.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction-step.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction.utils.ts","webpack://sonic-app/./src/components/modals/deposit-fail-modal.tsx","webpack://sonic-app/./src/components/modals/deposit-info.tsx","webpack://sonic-app/./src/components/modals/deposit-progress-modal.tsx","webpack://sonic-app/./src/components/modals/index.ts","webpack://sonic-app/./src/components/modals/mint-manual-modal.tsx","webpack://sonic-app/./src/components/modals/mint-wicp-fail-modal.tsx","webpack://sonic-app/./src/components/modals/mint-wicp-progress-modal.tsx","webpack://sonic-app/./src/components/modals/mint-xtc-fail-modal.tsx","webpack://sonic-app/./src/components/modals/mint-xtc-progress-modal.tsx","webpack://sonic-app/./src/components/modals/remove-liquidity-fail-modal.tsx","webpack://sonic-app/./src/components/modals/remove-liquidity-progress-modal.tsx","webpack://sonic-app/./src/components/modals/retryDeposit.tsx","webpack://sonic-app/./src/components/modals/swap-fail-modal.tsx","webpack://sonic-app/./src/components/modals/swap-progress-modal.tsx","webpack://sonic-app/./src/components/modals/terms-and-conditions-modal.tsx","webpack://sonic-app/./src/components/modals/token-select-modal.tsx","webpack://sonic-app/./src/components/modals/transfer-progress-modal.tsx","webpack://sonic-app/./src/components/modals/use-step-status.ts","webpack://sonic-app/./src/components/modals/wallet-list.tsx","webpack://sonic-app/./src/components/modals/withdraw-progress-modal.tsx","webpack://sonic-app/./src/components/modals/withdraw-wicp-fail-modal.tsx","webpack://sonic-app/./src/components/modals/withdraw-wicp-progress-modal.tsx","webpack://sonic-app/./src/components/plug/index.ts","webpack://sonic-app/./src/components/plug/plug-button/constants.ts","webpack://sonic-app/./src/components/plug/plug-button/index.ts","webpack://sonic-app/./src/components/plug/plug-button/plug-button.tsx","webpack://sonic-app/./src/components/plug/plug-logo/index.ts","webpack://sonic-app/./src/components/plug/plug-logo/plug-logo.tsx","webpack://sonic-app/./src/components/plug/plug-menu/index.ts","webpack://sonic-app/./src/components/plug/plug-menu/plug-menu.tsx","webpack://sonic-app/./src/components/plug/plug-not-connected/index.tsx","webpack://sonic-app/./src/components/wallet/index.ts","webpack://sonic-app/./src/components/wallet/wallet-menu.tsx","webpack://sonic-app/./src/components/wallet/wallet-not-connected.tsx","webpack://sonic-app/./src/components/wallet/walletbutton.tsx","webpack://sonic-app/./src/config/constants.ts","webpack://sonic-app/./src/config/env.ts","webpack://sonic-app/./src/config/index.ts","webpack://sonic-app/./src/config/utils.ts","webpack://sonic-app/./src/constants/index.ts","webpack://sonic-app/./src/constants/token.ts","webpack://sonic-app/./src/did/dfinity/index.ts","webpack://sonic-app/./src/did/dfinity/ledger.did.ts","webpack://sonic-app/./src/did/index.ts","webpack://sonic-app/./src/did/sonic/capCanReg.did.ts","webpack://sonic-app/./src/did/sonic/cycles-minting.did.ts","webpack://sonic-app/./src/did/sonic/index.ts","webpack://sonic-app/./src/did/sonic/swap-storage.did.ts","webpack://sonic-app/./src/did/sonic/swap.did.ts","webpack://sonic-app/./src/did/sonic/token.did.ts","webpack://sonic-app/./src/did/sonic/xtc.did.ts","webpack://sonic-app/./src/hooks/index.ts","webpack://sonic-app/./src/hooks/use-all-pairs.ts","webpack://sonic-app/./src/hooks/use-balances.ts","webpack://sonic-app/./src/hooks/use-block-heights-init.ts","webpack://sonic-app/./src/hooks/use-header-resize-effect.ts","webpack://sonic-app/./src/hooks/use-network-error-notifications.ts","webpack://sonic-app/./src/hooks/use-query.ts","webpack://sonic-app/./src/hooks/use-token-allowance.ts","webpack://sonic-app/./src/hooks/use-token-balance.ts","webpack://sonic-app/./src/hooks/use-token-fee.ts","webpack://sonic-app/./src/hooks/use-token-logos-fetcher-init.ts","webpack://sonic-app/./src/hooks/use-token-selection-detector.ts","webpack://sonic-app/./src/hooks/use-user-metrics.ts","webpack://sonic-app/./src/index.tsx","webpack://sonic-app/./src/integrations/actor/create-ledger-actor.ts","webpack://sonic-app/./src/integrations/actor/create-swap-actor.ts","webpack://sonic-app/./src/integrations/actor/create-token-actor.ts","webpack://sonic-app/./src/integrations/actor/index.ts","webpack://sonic-app/./src/integrations/artemis/index.ts","webpack://sonic-app/./src/integrations/artemis/walletInit.ts","webpack://sonic-app/./src/integrations/cap/connection.ts","webpack://sonic-app/./src/integrations/cap/features/get-user-transactions.ts","webpack://sonic-app/./src/integrations/cap/features/index.ts","webpack://sonic-app/./src/integrations/cap/index.ts","webpack://sonic-app/./src/integrations/cap/utils.ts","webpack://sonic-app/./src/integrations/ledger/index.ts","webpack://sonic-app/./src/integrations/ledger/ledger-transactions.ts","webpack://sonic-app/./src/integrations/plug/index.ts","webpack://sonic-app/./src/integrations/plug/plug.utils.ts","webpack://sonic-app/./src/integrations/plug/use-plug-init.ts","webpack://sonic-app/./src/integrations/transactions/batch-transactions.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/batch.utils.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-add-liquidity-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-deposit-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-multiple-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-single-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-remove-liquidity-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-swap-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-transfer-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-withdraw-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-withdraw-wicp-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/approve.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/create-pair.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/deposit.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/icrcTransfer.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/ledger-transfer.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/liquidity.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/mint-wicp.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/mint-xtc.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/swap.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/transfer.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/withdraw-wicp.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/withdraw.ts","webpack://sonic-app/./src/integrations/transactions/hooks/use-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/use-mint-error-handler.ts","webpack://sonic-app/./src/integrations/transactions/index.ts","webpack://sonic-app/./src/integrations/transactions/models/batch.ts","webpack://sonic-app/./src/integrations/transactions/models/index.ts","webpack://sonic-app/./src/integrations/transactions/models/transactions/index.ts","webpack://sonic-app/./src/notifications/components/add-liquidity-notification-content.tsx","webpack://sonic-app/./src/notifications/components/deposit-notification-content.tsx","webpack://sonic-app/./src/notifications/components/index.ts","webpack://sonic-app/./src/notifications/components/mint-auto-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-manual-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-wicp-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-xtc-notification-content.tsx","webpack://sonic-app/./src/notifications/components/remove-liquidity-notifcation-content.tsx","webpack://sonic-app/./src/notifications/components/swap-notification-content.tsx","webpack://sonic-app/./src/notifications/components/transaction-notification-content.tsx","webpack://sonic-app/./src/notifications/components/transfer-notification-content.tsx","webpack://sonic-app/./src/notifications/components/withdraw-notification-content.tsx","webpack://sonic-app/./src/notifications/components/withdraw-wicp-notification-content.tsx","webpack://sonic-app/./src/notifications/index.ts","webpack://sonic-app/./src/notifications/notification-box.tsx","webpack://sonic-app/./src/notifications/notification-content.tsx","webpack://sonic-app/./src/notifications/notification-errors.tsx","webpack://sonic-app/./src/notifications/notification-header.tsx","webpack://sonic-app/./src/notifications/notification-manager.tsx","webpack://sonic-app/./src/notifications/notification-timer.tsx","webpack://sonic-app/./src/store/features/activity-view/activity-view-slice.ts","webpack://sonic-app/./src/store/features/activity-view/index.ts","webpack://sonic-app/./src/store/features/activity-view/use-activity-view-store.ts","webpack://sonic-app/./src/store/features/activity-view/use-activity-view.ts","webpack://sonic-app/./src/store/features/allowance/allowance-slice.ts","webpack://sonic-app/./src/store/features/allowance/async-thunk/fetch-allowance.ts","webpack://sonic-app/./src/store/features/allowance/async-thunk/index.ts","webpack://sonic-app/./src/store/features/allowance/index.ts","webpack://sonic-app/./src/store/features/assets-view/assets-view-slice.ts","webpack://sonic-app/./src/store/features/assets-view/index.ts","webpack://sonic-app/./src/store/features/assets-view/use-assets-view-store.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/cycles-minting-canister-slice.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/cycles-minting-canister.constants.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/index.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/use-cycles-minting-canister-init.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/use-cycles-minting-canister-store.ts","webpack://sonic-app/./src/store/features/deposit-view/deposit-view-slice.ts","webpack://sonic-app/./src/store/features/deposit-view/index.ts","webpack://sonic-app/./src/store/features/deposit-view/use-deposit-view-store.ts","webpack://sonic-app/./src/store/features/dfinitywallet/index.ts","webpack://sonic-app/./src/store/features/dfinitywallet/wallet-slice.ts","webpack://sonic-app/./src/store/features/index.ts","webpack://sonic-app/./src/store/features/keep-sync/index.ts","webpack://sonic-app/./src/store/features/keep-sync/keep-sync-slice.ts","webpack://sonic-app/./src/store/features/keep-sync/use-keep-sync.ts","webpack://sonic-app/./src/store/features/liquidity-view/index.ts","webpack://sonic-app/./src/store/features/liquidity-view/liquidity-view-slice.ts","webpack://sonic-app/./src/store/features/liquidity-view/use-liquidity-view-init.ts","webpack://sonic-app/./src/store/features/liquidity-view/use-liquidity-view-store.ts","webpack://sonic-app/./src/store/features/modals/index.ts","webpack://sonic-app/./src/store/features/modals/modals-slice.ts","webpack://sonic-app/./src/store/features/modals/use-modals-store.ts","webpack://sonic-app/./src/store/features/modals/use-token-modal-opener.ts","webpack://sonic-app/./src/store/features/notification/index.ts","webpack://sonic-app/./src/store/features/notification/notification-slice.ts","webpack://sonic-app/./src/store/features/notification/use-notification-store.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/connect.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/disconnect.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/index.ts","webpack://sonic-app/./src/store/features/plug/index.ts","webpack://sonic-app/./src/store/features/plug/plug-slice.ts","webpack://sonic-app/./src/store/features/price/index.ts","webpack://sonic-app/./src/store/features/price/price-slice.ts","webpack://sonic-app/./src/store/features/price/use-price-init.ts","webpack://sonic-app/./src/store/features/price/use-price-store.ts","webpack://sonic-app/./src/store/features/swap-canister/index.ts","webpack://sonic-app/./src/store/features/swap-canister/swap-canister-slice.ts","webpack://sonic-app/./src/store/features/swap-canister/use-swap-canister-init.ts","webpack://sonic-app/./src/store/features/swap-canister/use-swap-canister-store.ts","webpack://sonic-app/./src/store/features/swap-view/index.ts","webpack://sonic-app/./src/store/features/swap-view/swap-view-slice.ts","webpack://sonic-app/./src/store/features/swap-view/use-swap-view-init.ts","webpack://sonic-app/./src/store/features/swap-view/use-swap-view-store.ts","webpack://sonic-app/./src/store/features/transfer-view/index.ts","webpack://sonic-app/./src/store/features/transfer-view/transfer-view-slice.ts","webpack://sonic-app/./src/store/features/transfer-view/use-transfer-view-store.ts","webpack://sonic-app/./src/store/features/withdraw-view/index.ts","webpack://sonic-app/./src/store/features/withdraw-view/use-withdraw-view-store.ts","webpack://sonic-app/./src/store/features/withdraw-view/withdraw-view-slice.ts","webpack://sonic-app/./src/store/hooks.ts","webpack://sonic-app/./src/store/index.ts","webpack://sonic-app/./src/store/models.ts","webpack://sonic-app/./src/store/store.ts","webpack://sonic-app/./src/theme/components/button.ts","webpack://sonic-app/./src/theme/components/close-button.ts","webpack://sonic-app/./src/theme/components/menu.ts","webpack://sonic-app/./src/theme/components/modal.ts","webpack://sonic-app/./src/theme/components/popover.ts","webpack://sonic-app/./src/theme/components/tabs.ts","webpack://sonic-app/./src/theme/foundations/colors.ts","webpack://sonic-app/./src/theme/foundations/index.ts","webpack://sonic-app/./src/theme/index.ts","webpack://sonic-app/./src/utils/canister.ts","webpack://sonic-app/./src/utils/canisterDriver.ts","webpack://sonic-app/./src/utils/external-link.ts","webpack://sonic-app/./src/utils/format.ts","webpack://sonic-app/./src/utils/function.ts","webpack://sonic-app/./src/utils/icp.ts","webpack://sonic-app/./src/utils/index.ts","webpack://sonic-app/./src/utils/local-storage.ts","webpack://sonic-app/./src/utils/log.ts","webpack://sonic-app/./src/utils/navigator.tsx","webpack://sonic-app/./src/views/activity/components/add-liquidity-activity.tsx","webpack://sonic-app/./src/views/activity/components/deposit-activity.tsx","webpack://sonic-app/./src/views/activity/components/index.ts","webpack://sonic-app/./src/views/activity/components/ledger-transaction-activity.tsx","webpack://sonic-app/./src/views/activity/components/loading-activity.tsx","webpack://sonic-app/./src/views/activity/components/remove-liquidity-activity.tsx","webpack://sonic-app/./src/views/activity/components/swap-activity.tsx","webpack://sonic-app/./src/views/activity/components/withdraw-activity.tsx","webpack://sonic-app/./src/views/activity/index.ts","webpack://sonic-app/./src/views/activity/list.tsx","webpack://sonic-app/./src/views/assets/deposit.tsx","webpack://sonic-app/./src/views/assets/index.ts","webpack://sonic-app/./src/views/assets/list.tsx","webpack://sonic-app/./src/views/assets/transfer.tsx","webpack://sonic-app/./src/views/assets/withdraw.tsx","webpack://sonic-app/./src/views/index.ts","webpack://sonic-app/./src/views/liquidity/add.tsx","webpack://sonic-app/./src/views/liquidity/components/index.ts","webpack://sonic-app/./src/views/liquidity/components/paired-user-lp-token.tsx","webpack://sonic-app/./src/views/liquidity/components/remove-liquidity-modal-asset.tsx","webpack://sonic-app/./src/views/liquidity/components/remove-liquidity-modal.tsx","webpack://sonic-app/./src/views/liquidity/index.ts","webpack://sonic-app/./src/views/liquidity/liquidity.utils.ts","webpack://sonic-app/./src/views/liquidity/list.tsx","webpack://sonic-app/./src/views/swap/components/chain-popover.tsx","webpack://sonic-app/./src/views/swap/components/exchange-box.tsx","webpack://sonic-app/./src/views/swap/components/index.ts","webpack://sonic-app/./src/views/swap/components/keep-in-sonic-box.tsx","webpack://sonic-app/./src/views/swap/components/topmenu.tsx","webpack://sonic-app/./src/views/swap/hooks/index.ts","webpack://sonic-app/./src/views/swap/hooks/use-swap-view-data.tsx","webpack://sonic-app/./src/views/swap/index.ts","webpack://sonic-app/./src/views/swap/mint.tsx","webpack://sonic-app/./src/views/swap/swap.tsx","webpack://sonic-app/./src/views/swap/swap.utils.ts","webpack://sonic-app/./src/views/test/index.ts","webpack://sonic-app/./src/views/test/test.tsx","webpack://sonic-app/./src/views/test/test2.tsx","webpack://sonic-app/./src/views/test/todos.tsx","webpack://sonic-app/./src/views/test/useFetch.ts"],"sourcesContent":["import { ActorAdapter, Default } from '@memecake/sonic-js';\r\nimport { BrowserRouter, Navigate, Route, Routes } from 'react-router-dom';\r\n\r\nimport { NotificationManager } from '@/notifications';\r\nimport { ActivityListView, AssetsDepositView, AssetsListView, AssetsWithdrawView, LiquidityAddView, LiquidityListView, SwapView , MintView  , AssetsTransferView} from '@/views';\r\n\r\nimport { TestView , TestViewt1 , TestViewt2}  from '@/views';\r\n\r\nimport { Layout } from './components';\r\nimport {\r\n  AddLiquidityFailModal, AddLiquidityProgressModal, AllowanceVerifyModal, DepositProgressModal, MintManualModal, MintWICPFailModal,\r\n  MintWICPProgressModal, MintXTCFailModal, MintXTCProgressModal, RemoveLiquidityFailModal, RemoveLiquidityProgressModal, SwapFailModal,\r\n  SwapProgressModal, TermsAndConditionsModal, TokenSelectModal, WithdrawProgressModal, WithdrawWICPFailModal, WithdrawWICPProgressModal,\r\n  WalletListModal, TransferProgressModal\r\n} from './components/modals';\r\n\r\n//AppUpdatedModal\r\n\r\nimport { ENV } from './config';\r\nimport { useNetworkErrorNotifications, } from './hooks';\r\nimport { useBlockHeightsInit } from './hooks/use-block-heights-init';\r\n\r\nimport { useWalletInit } from '@/integrations/artemis'\r\n\r\nimport { useCyclesMintingCanisterInit, useLiquidityViewInit, usePriceInit, useSwapCanisterInit } from './store';\r\nimport {loadsupportedTokenList} from '@/utils'\r\n\r\nActorAdapter.DEFAULT_HOST = ENV.host;\r\nDefault.ENV = process.env.NODE_ENV || 'production';\r\nDefault.IC_HOST = ENV.host;\r\n\r\nloadsupportedTokenList;\r\nexport const App = () => {\r\n  useCyclesMintingCanisterInit();\r\n  useWalletInit();\r\n  usePriceInit();\r\n  useSwapCanisterInit();\r\n  useLiquidityViewInit();\r\n  useBlockHeightsInit();\r\n  useNetworkErrorNotifications();\r\n  loadsupportedTokenList();\r\n  return (\r\n    <BrowserRouter basename=\"/\">\r\n      <Layout>\r\n        <WalletListModal/>\r\n        <NotificationManager />\r\n\r\n        <TermsAndConditionsModal />\r\n        <TokenSelectModal />\r\n        <AllowanceVerifyModal />\r\n        <MintManualModal />\r\n\r\n        <SwapProgressModal />\r\n        <SwapFailModal />\r\n\r\n        <WithdrawProgressModal />\r\n\r\n        <DepositProgressModal />\r\n\r\n        <TransferProgressModal />\r\n\r\n        <AddLiquidityProgressModal />\r\n        <AddLiquidityFailModal />\r\n\r\n        <RemoveLiquidityProgressModal />\r\n        <RemoveLiquidityFailModal />\r\n\r\n        <WithdrawWICPProgressModal />\r\n        <WithdrawWICPFailModal />\r\n\r\n        <MintXTCProgressModal />\r\n        <MintXTCFailModal />\r\n\r\n        <MintWICPProgressModal />\r\n        <MintWICPFailModal />\r\n\r\n        <Routes>\r\n          <Route path=\"/swap\" element={<SwapView />} />\r\n          <Route path=\"/swap/mint\" element={<MintView />} />\r\n          <Route path=\"/assets\" element={<AssetsListView />} />\r\n          <Route path=\"/assets/withdraw\" element={<AssetsWithdrawView />} />\r\n          <Route path=\"/assets/deposit\" element={<AssetsDepositView />} />\r\n          <Route path=\"/assets/transfer\" element={<AssetsTransferView />} />\r\n          <Route path=\"/liquidity\" element={<LiquidityListView />} />\r\n          <Route path=\"/liquidity/add\" element={<LiquidityAddView />} />\r\n          <Route path=\"/activity\" element={<ActivityListView />} />\r\n          <Route path=\"/test\" element={<TestView />} />\r\n          <Route path=\"/test/t1\" element={<TestViewt1 />} />\r\n          <Route path=\"/test/t2\" element={<TestViewt2 />} />\r\n          <Route path=\"*\" element={<Navigate to=\"/swap\" />} />\r\n        </Routes>\r\n      </Layout>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import { deserialize, serialize } from '@memecake/sonic-js';\r\nimport axios from 'axios';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nexport class AnalyticsApi {\r\n  public axios;\r\n  constructor() {\r\n    this.axios = axios.create({\r\n      baseURL: ENV.analyticsHost,\r\n      method: 'post',\r\n      transformRequest: (data) => serialize(data),\r\n      transformResponse: (data) => deserialize(data),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n  }\r\n\r\n  async request<T = any>(data: AnalyticsApi.GraphqlQuery): Promise<T> {\r\n    return (await this.axios.request({ data: data })).data.data;\r\n  }\r\n\r\n  async queryUserLPMetrics( principalId: string, pairId?: string): Promise<AnalyticsApi.PositionMetrics> {\r\n    const response = await this.request<AnalyticsApi.UserLPMetricsQuery>({\r\n      operationName: null,\r\n      query: `\r\n            query {\r\n              user(id: \"${principalId}\") {\r\n                positionMetrics${pairId ? `(pairId: \"${pairId}\")` : ''} {\r\n                  impLoss,\r\n                  fees\r\n                }\r\n              }\r\n            }\r\n            `,\r\n      variables: {},\r\n    });\r\n    return response?.user?.positionMetrics;\r\n  }\r\n}\r\n\r\nexport namespace AnalyticsApi {\r\n  export interface GraphqlQuery {\r\n    operationName: string | null;\r\n    query: string;\r\n    variables: any;\r\n  }\r\n\r\n  export interface PositionMetrics {\r\n    impLoss: string;\r\n    fees: string;\r\n  }\r\n\r\n  export interface UserLPMetricsQuery {\r\n    user: {\r\n      positionMetrics: PositionMetrics;\r\n    };\r\n  }\r\n}\r\n","export * from './rosetta';\r\nexport * from './analytics';\r\n","/**\r\n * @file RosettaApi\r\n * @copyright Copyright (c) 2018-2021 Dylan Miller and dfinityexplorer contributors\r\n * @license MIT License\r\n */\r\n\r\nimport axios from 'axios';\r\nimport BigNumber from 'bignumber.js';\r\nimport jsonBigint from 'json-bigint';\r\n\r\n// Set useNativeBigInt to true and use BigInt once BigInt is widely supported.\r\nconst JSONbig = jsonBigint({ strict: true });\r\n\r\n/**\r\n * Types of Rosetta API errors.\r\n */\r\nexport const RosettaErrorType = Object.freeze({\r\n  NotFound: 0,\r\n  Timeout: 1,\r\n  NetworkError: 2,\r\n});\r\n\r\n/**\r\n * Describes the cause of a Rosetta API error.\r\n */\r\nexport class RosettaError extends Error {\r\n  /**\r\n   * Create a RosettaError.\r\n   * @param {String} message An error message describing the error.\r\n   * @param {Number} status number The HTTP response status.\r\n   */\r\n  public errorType;\r\n  constructor(message: string, status?: number | string) {\r\n    super(message);\r\n    switch (status) {\r\n      case 408:\r\n        this.errorType = RosettaErrorType.Timeout;\r\n        break;\r\n      case 500:\r\n        this.errorType = RosettaErrorType.NotFound;\r\n        break;\r\n      default:\r\n        this.errorType = RosettaErrorType.NetworkError;\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Contains information about a transaction.\r\n */\r\nexport class Transaction {\r\n  /**\r\n   * Create a Transaction.\r\n   * @param {Any} rosettaTransaction The Rosetta Transaction object of the transaction.\r\n   * @param {Number} blockIndex The index.tsx of the block containing the transaction.\r\n   * milliseconds since the Unix Epoch.\r\n   */\r\n  public blockIndex;\r\n  public hash;\r\n  public timestamp;\r\n  public type;\r\n  public status;\r\n  public account1Address;\r\n  public account2Address;\r\n  public amount: BigNumber;\r\n  public fee;\r\n  public memo;\r\n\r\n  constructor(rosettaTransaction: any, blockIndex: number) {\r\n    this.blockIndex = blockIndex;\r\n    this.hash = rosettaTransaction.transaction_identifier.hash;\r\n    const timestampMs = rosettaTransaction.metadata.timestamp\r\n      .div(1000000)\r\n      .toNumber();\r\n    this.timestamp = new Date(timestampMs);\r\n    const operations = rosettaTransaction.operations;\r\n    if (operations.length >= 1) {\r\n      this.type = operations[0].type;\r\n      this.status = operations[0].status;\r\n      this.account1Address = operations[0].account.address;\r\n      this.amount = new BigNumber(operations[0].amount.value);\r\n      // Negate amount for TRANSACTION and BURN, so that they appear in the UI as positive values.\r\n      if (\r\n        (operations[0].type === 'TRANSACTION' ||\r\n          operations[0].type === 'BURN') &&\r\n        !this.amount.isZero()\r\n      ) {\r\n        this.amount = this.amount.negated();\r\n      }\r\n    } else {\r\n      this.type = '';\r\n      this.status = '';\r\n      this.account1Address = '';\r\n      this.amount = new BigNumber(0);\r\n    }\r\n    if (operations.length >= 2 && operations[1].type === 'TRANSACTION')\r\n      this.account2Address = operations[1].account.address;\r\n    else this.account2Address = '';\r\n    if (operations.length >= 3 && operations[2].type === 'FEE')\r\n      this.fee = new BigNumber(-operations[2].amount.value);\r\n    else this.fee = new BigNumber(0);\r\n    this.memo = new BigNumber(rosettaTransaction.metadata.memo);\r\n  }\r\n}\r\n\r\n/**\r\n * Manages Rosetta API calls.\r\n */\r\nexport default class RosettaApi {\r\n  /**\r\n   * Create a RosettaApi.\r\n   */\r\n  public networkIdentifier;\r\n  public axios;\r\n  constructor() {\r\n    this.axios = axios.create({\r\n      baseURL:\r\n        process.env.REACT_APP_ROSETTA_BASE_URL ||\r\n        'https://rosetta-api.internetcomputer.org/',\r\n      method: 'post',\r\n      transformRequest: (data) => JSONbig.stringify(data),\r\n      transformResponse: (data) => JSONbig.parse(data),\r\n      headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n    });\r\n\r\n    this.networkIdentifier = this.networksList().then((res) =>\r\n      res.network_identifiers.find(\r\n        (networkIdentifier: any) =>\r\n          networkIdentifier.blockchain === 'Internet Computer'\r\n      )\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the ICP account balance of the specified account.\r\n   * @param {string} accountAddress The account address to get the ICP balance of.\r\n   * @returns {Promise<BigNumber|RosettaError>} The ICP account balance of the specified account, or\r\n   * a RosettaError for error.\r\n   */\r\n  async getAccountBalance(accountAddress: string) {\r\n    try {\r\n      const response = await this.accountBalanceByAddress(accountAddress);\r\n      return new BigNumber(response.balances[0].value);\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : ''\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the latest block index.tsx.\r\n   * @returns {Promise<number>} The latest block index.tsx, or a RosettaError for error.\r\n   */\r\n  async getLastBlockIndex() {\r\n    try {\r\n      const response = await this.networkStatus();\r\n      return response.current_block_identifier.index;\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : ''\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction object with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Transaction|null} The Transaction object with the specified hash, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransaction(transactionHash: string) {\r\n    try {\r\n      const responseTransactions = await this.transactionsByHash(\r\n        transactionHash\r\n      );\r\n      if (responseTransactions.transactions.length === 0)\r\n        return new RosettaError('Transaction not found.', 500);\r\n\r\n      return new Transaction(\r\n        responseTransactions.transactions[0].transaction,\r\n        responseTransactions.transactions[0].block_identifier.index\r\n      );\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param limit {number} The maximum number of transactions to return in one call.\r\n   * @param maxBlockIndex {number} The block index.tsx to start at. If not specified, start at current\r\n   * block.\r\n   * @param offset {number} The offset from maxBlockIndex to start returning transactions.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactions(limit: number, maxBlockIndex: number, offset: number) {\r\n    try {\r\n      // This function can be simplified once /search/transactions supports using the properties\r\n      // max_block, offset, and limit.\r\n      let blockIndex;\r\n      if (maxBlockIndex) blockIndex = maxBlockIndex;\r\n      else {\r\n        // Get the latest block index.tsx.\r\n        const response = await this.networkStatus();\r\n        blockIndex = response.current_block_identifier.index;\r\n      }\r\n      if (offset) blockIndex = Math.max(blockIndex - offset, -1);\r\n      const transactionCount = Math.min(limit, blockIndex + 1);\r\n      const transactions = [];\r\n      for (let i = 0; i < transactionCount; i++)\r\n        transactions.push(await this.getTransactionByBlock(blockIndex - i));\r\n      return transactions;\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactionsByAccount(accountAddress: string) {\r\n    try {\r\n      const response = await this.transactionsByAccount(accountAddress);\r\n      const transactions = await Promise.all(\r\n        response.transactions.map((blockTransaction: any) => {\r\n          return new Transaction(\r\n            blockTransaction.transaction,\r\n            blockTransaction.block_identifier.index\r\n          );\r\n        })\r\n      );\r\n      return transactions.reverse();\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction corresponding to the specified block index.tsx (i.e., block height).\r\n   * @param {number} blockIndex The index.tsx of the block to return the Transaction for.\r\n   * @returns {Promise<Transaction>} The Transaction corresponding to the specified block index.tsx.\r\n   * @private\r\n   */\r\n  async getTransactionByBlock(blockIndex: number) {\r\n    const response = await this.blockByIndex(blockIndex);\r\n    return new Transaction(response.block.transactions[0], blockIndex);\r\n  }\r\n\r\n  /**\r\n   * Perform the specified http request and return the response data.\r\n   * @param {string} url The server URL that will be used for the request.\r\n   * @param {object} data The data to be sent as the request body.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async request(url: string, data: any) {\r\n    return (await this.axios.request({ url: url, data: data })).data;\r\n  }\r\n\r\n  /**\r\n   * Return the /network/list response, containing a list of NetworkIdentifiers that the Rosetta\r\n   * server supports.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  networksList() {\r\n    return this.request('/network/list', {});\r\n  }\r\n\r\n  /**\r\n   * Return /network/status response, describing the current status of the network.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async networkStatus() {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/network/status', {\r\n      network_identifier: networkIdentifier,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /account/balance response for the specified account.\r\n   * @param {string} accountAddress The account address to get the balance of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async accountBalanceByAddress(accountAddress: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/account/balance', {\r\n      network_identifier: networkIdentifier,\r\n      account_identifier: { address: accountAddress },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /block response for the block corresponding to the specified block index.tsx (i.e.,\r\n   * block height).\r\n   * @param {number} blockIndex The index.tsx of the block to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async blockByIndex(blockIndex: number) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/block', {\r\n      network_identifier: networkIdentifier,\r\n      block_identifier: { index: blockIndex },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions containing an operation that affects\r\n   * the specified account.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByAccount(accountAddress: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/search/transactions', {\r\n      network_identifier: networkIdentifier,\r\n      account_identifier: { address: accountAddress },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions (only one) with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByHash(transactionHash: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/search/transactions', {\r\n      network_identifier: networkIdentifier,\r\n      transaction_identifier: { hash: transactionHash },\r\n    });\r\n  }\r\n}\r\n","export { default as arrowBackSrc } from './arrow-back.svg';\r\nexport { default as arrowDownSrc } from './arrow-down.svg';\r\nexport { default as closeSrc } from './close.svg';\r\nexport { default as checkSrc } from './check.svg';\r\nexport { default as checkPlainSrc } from './check-plain.svg';\r\nexport { default as depositSrc } from './deposit.svg';\r\nexport { default as dropSrc } from './drop.svg';\r\nexport { default as doubleRightChevronSrc } from './double-right-chevron.svg';\r\nexport { default as equalSrc } from './equal.svg';\r\nexport { default as icpSrc } from './icp.svg';\r\nexport { default as greenCheckSrc } from './green-check.svg';\r\nexport { default as logoSrc } from './logo.png';\r\nexport { default as plugCircleSrc } from './plug-circle.svg';\r\nexport { default as plusSrc } from './plus.svg';\r\nexport { default as questionMarkSrc } from './question-mark.svg';\r\nexport { default as redWarningSrc } from './red-warning.svg';\r\nexport { default as redTriangleWarningSrc } from './red-triangle-warning.svg';\r\nexport { default as searchSrc } from './search.svg';\r\nexport { default as sonicCircleSrc } from './sonic-circle.svg';\r\nexport { default as swapSrc } from './swap.svg';\r\nexport { default as transparentGreenCheckSrc } from './transparent-green-check.svg';\r\nexport { default as withdrawSrc } from './withdraw.svg';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  Flex,\r\n  FlexProps,\r\n  Heading,\r\n  IconButton,\r\n  IconButtonProps,\r\n  Skeleton,\r\n  SkeletonCircle,\r\n  Text,\r\n  Tooltip,\r\n  TooltipProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { createContext } from '@chakra-ui/react-utils';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nimport { LPImageBlock, SwapImageBlock, TokenImageBlock } from '..';\r\n\r\nexport type AssetType = 'swap' | 'lp' | 'token';\r\n\r\nexport type AssetUniqueProps = {\r\n  type?: AssetType;\r\n  imageSources?: string[];\r\n  isLoading?: boolean;\r\n};\r\n\r\nexport type AssetProps = FlexProps & AssetUniqueProps;\r\n\r\nconst [AssetProvider, useAssetContext] = createContext<AssetUniqueProps>({\r\n  name: 'CardContext',\r\n  errorMessage:\r\n    'useCardContext: `context` is undefined. Seems you forgot to wrap all card components within `<Card />`',\r\n});\r\n\r\nexport const Asset = ({\r\n  type,\r\n  imageSources = [questionMarkSrc],\r\n  isLoading = false,\r\n  ...props\r\n}: AssetProps) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <AssetProvider value={{ isLoading, type, imageSources }}>\r\n      <Flex\r\n        position=\"relative\"\r\n        direction=\"row\"\r\n        borderRadius=\"xl\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        bg={bg}\r\n        shadow={shadow}\r\n        px={5}\r\n        py={4}\r\n        flexWrap=\"wrap\"\r\n        gap={2}\r\n        {...props}\r\n      />\r\n    </AssetProvider>\r\n  );\r\n};\r\n\r\ntype AssetIconButtonProps = IconButtonProps & {\r\n  tooltipProps?: Partial<TooltipProps>;\r\n};\r\n\r\nexport const AssetIconButton = ({\r\n  'aria-label': ariaLabel,\r\n  tooltipProps,\r\n  ...props\r\n}: AssetIconButtonProps) => {\r\n  const { isLoading } = useAssetContext();\r\n\r\n  return (\r\n    <SkeletonCircle h={10} w={10} minW=\"fit-content\" isLoaded={!isLoading}>\r\n      <Tooltip label={ariaLabel} {...tooltipProps}>\r\n        <IconButton\r\n          isRound\r\n          aria-label={ariaLabel}\r\n          variant=\"outline\"\r\n          {...props}\r\n        />\r\n      </Tooltip>\r\n    </SkeletonCircle>\r\n  );\r\n};\r\n\r\ntype AssetTitleBlockProps = BoxProps & {\r\n  title: string;\r\n  subtitle?: string;\r\n};\r\n\r\nexport const AssetTitleBlock = ({\r\n  title,\r\n  subtitle,\r\n  ...props\r\n}: AssetTitleBlockProps) => {\r\n  const { isLoading } = useAssetContext();\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const subtitleColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <Box ml={4} {...props}>\r\n      <Skeleton\r\n        isLoaded={!isLoading}\r\n        mb={isLoading ? 2 : 0}\r\n        width={isLoading ? 60 : 'unset'}\r\n      >\r\n        <Heading as=\"h3\" fontSize=\"lg\" fontWeight={700} color={color}>\r\n          {title}\r\n        </Heading>\r\n      </Skeleton>\r\n      <Skeleton isLoaded={!isLoading} width={isLoading ? 40 : 'unset'}>\r\n        <Tooltip label={subtitle} openDelay={1000}>\r\n          <Text\r\n            fontSize=\"sm\"\r\n            color={subtitleColor}\r\n            textOverflow=\"ellipsis\"\r\n            whiteSpace=\"nowrap\"\r\n            overflow=\"hidden\"\r\n            maxW=\"100%\"\r\n          >\r\n            {subtitle}\r\n          </Text>\r\n        </Tooltip>\r\n      </Skeleton>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport const AssetImageBlock = () => {\r\n  const {\r\n    type = 'token',\r\n    imageSources = [questionMarkSrc, questionMarkSrc],\r\n    isLoading,\r\n  } = useAssetContext();\r\n\r\n  const views = {\r\n    swap: <SwapImageBlock imageSources={imageSources} isLoading={isLoading} />,\r\n    lp: <LPImageBlock imageSources={imageSources} isLoading={isLoading} />,\r\n    token: <TokenImageBlock src={imageSources[0]} isLoading={isLoading} />,\r\n  };\r\n\r\n  return views[type] ?? null;\r\n};\r\n","export * from './asset';\r\n","import { Fade, Flex, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { MouseEvent } from 'react';\r\n\r\nimport { checkPlainSrc } from '@/assets';\r\n\r\ntype CheckboxProps = {\r\n  checked: boolean;\r\n  onClick: (event: MouseEvent<HTMLDivElement>) => any;\r\n};\r\n\r\nexport const Checkbox = ({ checked, onClick }: CheckboxProps) => {\r\n  const borderColor = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Flex\r\n      cursor=\"pointer\"\r\n      borderRadius={1.5}\r\n      width={6}\r\n      height={6}\r\n      onClick={onClick}\r\n      border={checked ? 'none' : '1.5px solid'}\r\n      borderColor={borderColor}\r\n      bg={checked ? 'dark-blue.400' : ''}\r\n      alignItems=\"center\"\r\n      justifyContent=\"center\"\r\n    >\r\n      <Fade in={checked}>\r\n        <Image src={checkPlainSrc} width={4} height={4} />\r\n      </Fade>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './check-box';\r\n","import { forwardRef, keyframes,Text,TextProps,Tooltip,\r\n} from '@chakra-ui/react';\r\n\r\nimport { formatAmount, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nexport type DisplayValueProps = TextProps & {\r\n  isUpdating?: boolean;\r\n  value?: number | string;\r\n  decimals?: number;\r\n  prefix?: string;\r\n  suffix?: string;\r\n  disableTooltip?: boolean;\r\n  shouldDivideByDecimals?: boolean;\r\n};\r\n\r\nexport const DisplayValue = forwardRef<DisplayValueProps, 'p'>((\r\n    { \r\n      value = 0,decimals = 4, isUpdating, prefix, suffix,disableTooltip,\r\n      shouldDivideByDecimals, ...textProps},ref\r\n  ) => {\r\n    const blinker = keyframes`50% { opacity: 0.35;}`;\r\n\r\n    const [formattedValue, tooltipAmount, isDisabled] = useMemo(() => {\r\n      const tooltipAmount = shouldDivideByDecimals\r\n        ? toBigNumber(value).applyDecimals(decimals).toString()\r\n        : toBigNumber(value).dp(decimals).toString();\r\n\r\n      const formattedValue = formatAmount(tooltipAmount);\r\n      \r\n      return [formattedValue, tooltipAmount, disableTooltip || String(tooltipAmount).length <= 4,];\r\n    }, [value, decimals, disableTooltip, shouldDivideByDecimals]);\r\n  \r\n    return (\r\n      <Tooltip label={tooltipAmount} isDisabled={isDisabled}>\r\n        <Text ref={ref} {...textProps} animation={isUpdating ? `${blinker} 1s linear infinite` : undefined}>\r\n          {prefix}\r\n          {formattedValue}\r\n          {suffix}\r\n        </Text>\r\n      </Tooltip>\r\n    );\r\n  }\r\n);\r\n","export * from './display-value';\r\n","import { chakra, forwardRef } from '@chakra-ui/system';\r\nimport React from 'react';\r\n\r\nexport type EmojiProps = {\r\n  label: string;\r\n  children: string;\r\n};\r\n\r\nexport const Emoji: React.FC<EmojiProps> = forwardRef<EmojiProps, 'svg'>(\r\n  ({ children, label }, ref) => {\r\n    return (\r\n      <chakra.span\r\n        ref={ref}\r\n        role=\"img\"\r\n        aria-label={label}\r\n        title={label}\r\n        fontSize=\"md\"\r\n        ml={1}\r\n        mt={0.5}\r\n        transform=\"scale(1)\"\r\n      >\r\n        {children}\r\n      </chakra.span>\r\n    );\r\n  }\r\n);\r\n","export * from './emoji';\r\n","import { Flex, Text } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport React, { useMemo } from 'react';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\nimport {artemis} from '@/integrations/artemis';\r\n\r\nexport type FeeBoxProps = {\r\n  token?: AppTokenMetadata;\r\n  isDeposit?: boolean;\r\n  isTransfer?: boolean;\r\n};\r\n\r\nexport const FeeBox: React.FC<FeeBoxProps> = ({ isDeposit = false, token  , isTransfer= false}) => {\r\n\r\n  var connectedWalletInfo = artemis.connectedWalletInfo;\r\n  \r\n  const fee = useMemo(() => {\r\n    if (token) {\r\n      return toBigNumber(BigInt(isDeposit ? 2 : 1) * token.fee).applyDecimals(token.decimals).toString();\r\n    }\r\n  }, [isDeposit, token]);\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Flex opacity={0.5} alignItems=\"center\" px={4} fontWeight={400} mb={5}>\r\n      {!isTransfer?(\r\n      <Text display=\"flex\" alignItems=\"center\">\r\n        {isDeposit ? connectedWalletInfo.name : 'Sonic'}&nbsp;\r\n        <FaArrowRight />\r\n        &nbsp;{isDeposit ? 'Sonic' : connectedWalletInfo.name}\r\n      </Text>):\r\n      (<Text display=\"flex\" alignItems=\"center\">From {connectedWalletInfo.name}</Text>)\r\n      }\r\n      \r\n      <Text flex={1} textAlign=\"right\" mx={2}>\r\n        {token.symbol}&nbsp;Fee =&nbsp;\r\n        {fee}\r\n        &nbsp;{token.symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './fee-box';\r\nexport * from './index';\r\n","import { useColorModeValue } from '@chakra-ui/color-mode';\r\nimport { Box, Flex } from '@chakra-ui/react';\r\nimport { FC, HTMLAttributes } from 'react';\r\n\r\ntype GradientBoxProps = HTMLAttributes<HTMLDivElement> & {\r\n  size?: 'sm' | 'md' | 'lg';\r\n};\r\n\r\n/*\r\n   _before={{\r\ncontent: '\"\"',\r\nposition: 'absolute',\r\ntop: 0,\r\nright: 0,\r\nbottom: 0,\r\nleft: 0,\r\nmargin: '-4px',\r\nborderRadius: 'inherit',\r\nzIndex: 'hide',\r\nbackground:\r\n'linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)',\r\n}}\r\n */\r\n\r\nexport const GradientBox: FC<GradientBoxProps> = ({\r\n  size = 'md',\r\n  children,\r\n  ...props\r\n}: GradientBoxProps) => {\r\n  const bg = useColorModeValue('gray.100', 'gray.800');\r\n\r\n  const boxProps = {\r\n    sm: {\r\n      w: '4',\r\n      h: '4',\r\n    },\r\n    md: {\r\n      w: '6',\r\n      h: '6',\r\n    },\r\n    lg: {\r\n      w: '8',\r\n      h: '8',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Flex\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      borderRadius=\"full\"\r\n      background={bg}\r\n      pt={-1}\r\n      {...boxProps[size]}\r\n    >\r\n      <Box\r\n        position=\"absolute\"\r\n        bg=\"linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)\"\r\n        width={7}\r\n        height={7}\r\n        borderRadius=\"full\"\r\n      />\r\n      <Box\r\n        position=\"absolute\"\r\n        bg=\"gray.900\"\r\n        height={6}\r\n        width={6}\r\n        borderRadius=\"full\"\r\n      />\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './gradient-box';\r\n","import {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Flex,\r\n  Spinner,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React, { useState } from 'react';\r\n\r\nimport { useHeaderResizeEffect } from '@/hooks';\r\n\r\ntype HeaderProps = {\r\n  title: string;\r\n  buttonText?: string;\r\n  onButtonClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n  isUpdating?: boolean;\r\n};\r\n\r\nexport const Header: React.FC<HeaderProps> = ({\r\n  title,\r\n  buttonText,\r\n  onButtonClick,\r\n  isUpdating,\r\n  children,\r\n}) => {\r\n  const [top, setTop] = useState('116px');\r\n  const paddingToLine = buttonText && onButtonClick ? '17px' : '24px';\r\n  const marginTop = buttonText && onButtonClick ? '-8px' : '0px';\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const backgroundColor = useColorModeValue('app.background.body.light', 'app.background.body.dark');\r\n\r\n  useHeaderResizeEffect((element) => {\r\n    setTop(`${element.clientHeight - 1}px`);\r\n  });\r\n\r\n  return (\r\n    <Flex\r\n      position=\"sticky\"\r\n      top={top}\r\n      pt={5}\r\n      mt={-10}\r\n      mb={5}\r\n      backgroundColor={backgroundColor}\r\n      transition=\"background-color 200ms\"\r\n      zIndex={1}\r\n      flexDirection=\"column\"\r\n    >\r\n      {children}\r\n      <Flex\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n        pb={paddingToLine}\r\n        mt={marginTop}\r\n      >\r\n        <Box as=\"h3\" fontWeight={700} color={color}>\r\n          {title}\r\n          {isUpdating && <Spinner width={3} height={3} mx={3} />}\r\n        </Box>\r\n        {buttonText && onButtonClick && (\r\n          <Button\r\n            variant=\"gradient\"\r\n            colorScheme=\"dark-blue\"\r\n            onClick={onButtonClick}\r\n          >\r\n            {buttonText}\r\n          </Button>\r\n        )}\r\n      </Flex>\r\n      <Divider />\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './header';\r\n","export * from './lp-image-block';\r\nexport * from './swap-image-block';\r\nexport * from './token-image-block';\r\n","import { Box, Image, SkeletonCircle } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type LPImageBlockProps = {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  isLoading?: boolean;\r\n  imageSources?: (string | undefined)[];\r\n};\r\n\r\nexport const LPImageBlock: React.FC<LPImageBlockProps> = ({\r\n  size = 'md',\r\n  isLoading,\r\n  imageSources = [questionMarkSrc, questionMarkSrc],\r\n}) => {\r\n  const boxSize = {\r\n    lg: 10,\r\n    md: 9,\r\n    sm: 8,\r\n  };\r\n\r\n  const skeletonSize = {\r\n    lg: 7,\r\n    md: 6,\r\n    sm: 5,\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      width={boxSize[size]}\r\n      height={boxSize[size]}\r\n      position=\"relative\"\r\n      minW=\"fit-content\"\r\n    >\r\n      <SkeletonCircle\r\n        h={skeletonSize[size]}\r\n        w={skeletonSize[size]}\r\n        isLoaded={!isLoading}\r\n      >\r\n        <Image\r\n          alt=\"token0\"\r\n          position=\"absolute\"\r\n          width={skeletonSize[size]}\r\n          height={skeletonSize[size]}\r\n          top={0}\r\n          left={0}\r\n          src={imageSources[0]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n      <SkeletonCircle\r\n        h={skeletonSize[size]}\r\n        w={skeletonSize[size]}\r\n        isLoaded={!isLoading}\r\n      >\r\n        <Image\r\n          alt=\"token1\"\r\n          position=\"absolute\"\r\n          width={skeletonSize[size]}\r\n          height={skeletonSize[size]}\r\n          bottom={0}\r\n          right={0}\r\n          src={imageSources[1]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n    </Box>\r\n  );\r\n};\r\n","import { Box, Image, SkeletonCircle, Text } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type SwapImageBlockProps = {\r\n  isLoading?: boolean;\r\n  imageSources?: string[];\r\n};\r\n\r\nexport const SwapImageBlock: React.FC<SwapImageBlockProps> = ({\r\n  isLoading,\r\n  imageSources = [questionMarkSrc, questionMarkSrc],\r\n}) => {\r\n  return (\r\n    <Box width={10} height={10} position=\"relative\" minW=\"fit-content\">\r\n      <SkeletonCircle h={6} w={6} isLoaded={!isLoading}>\r\n        <Image\r\n          alt=\"token from\"\r\n          position=\"absolute\"\r\n          width={6}\r\n          height={6}\r\n          top={0}\r\n          left={0}\r\n          src={imageSources[0]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n      <Text>&#x21AA;</Text>\r\n      <SkeletonCircle h={6} w={6} isLoaded={!isLoading}>\r\n        <Image\r\n          alt=\"token to\"\r\n          position=\"absolute\"\r\n          width={6}\r\n          height={6}\r\n          bottom={0}\r\n          right={0}\r\n          src={imageSources[1]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n    </Box>\r\n  );\r\n};\r\n","import { Image, LayoutProps, SkeletonCircle } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type TokenImageBlockProps = {\r\n  isLoading?: boolean;\r\n  src?: string | number;\r\n  size?: LayoutProps['width'];\r\n};\r\n\r\nexport const TokenImageBlock: React.FC<TokenImageBlockProps> = ({\r\n  isLoading,\r\n  src = questionMarkSrc,\r\n  size = 10,\r\n}) => {\r\n  return (\r\n    <SkeletonCircle h={size} w={size} minW={size} isLoaded={!isLoading}>\r\n      <Image\r\n        width={size}\r\n        height={size}\r\n        src={src}\r\n        borderRadius=\"full\"\r\n        alt=\"token\"\r\n      />\r\n    </SkeletonCircle>\r\n  );\r\n};\r\n","export * from './asset';\r\nexport * from './check-box';\r\nexport * from './display-value';\r\nexport * from './emoji';\r\nexport * from './gradient-box';\r\nexport * from './header';\r\nexport * from './image-block';\r\nexport * from './information-box';\r\nexport * from './logo';\r\nexport * from './logo-box';\r\nexport * from './number-input';\r\nexport * from './search-bar';\r\nexport * from './slippage-settings';\r\nexport * from './stack-line';\r\nexport * from './token';\r\nexport * from './token-balances-popover';\r\nexport * from './view-header';\r\n","export * from './information-box';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  CloseButton,\r\n  Collapse,\r\n  Flex,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { ReactNode, useState } from 'react';\r\n\r\ntype InformationBoxTypes = BoxProps & {\r\n  title: string;\r\n  children: ReactNode;\r\n  onClose?: () => void;\r\n};\r\n\r\nexport const InformationBox = ({\r\n  title,\r\n  children,\r\n  onClose,\r\n  ...props\r\n}: InformationBoxTypes) => {\r\n  const [collapse, setCollapse] = useState(true);\r\n\r\n  const handleClose = () => {\r\n    setCollapse(false);\r\n    if (onClose) {\r\n      setTimeout(onClose, 200);\r\n    }\r\n  };\r\n\r\n  const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n  const bg = useColorModeValue('dark-blue.100', 'rgba(57, 77, 231, 0.2)');\r\n\r\n  return (\r\n    <Collapse in={collapse} unmountOnExit={true}>\r\n      <Box bg={bg} pt={4} px={5} pb={5} mb={5} borderRadius=\"xl\" {...props}>\r\n        <Flex direction=\"row\" justifyContent=\"space-between\" mb={2}>\r\n          <Box as=\"h3\" fontSize=\"lg\" fontWeight=\"bold\" color={titleColor}>\r\n            {title}\r\n          </Box>\r\n          <Tooltip label=\"Close\">\r\n            <CloseButton size=\"sm\" variant=\"rounded\" onClick={handleClose} />\r\n          </Tooltip>\r\n        </Flex>\r\n        {children}\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n","export * from './logo-box';\r\n","import { Stack, Text } from '@chakra-ui/layout';\r\nimport { useColorModeValue , Link} from '@chakra-ui/react';\r\nimport { Logo } from '../logo';\r\n\r\nexport const LogoBox = () => {\r\n  const stackBg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Link href={'/'} style={{ textDecoration: \"none\" , boxShadow:'none'}}>\r\n      <Stack direction=\"row\" align=\"center\" bg={stackBg} shadow={shadow} px={4} h=\"12\" borderRadius=\"full\" userSelect=\"none\">\r\n        <Logo w=\"5\" h=\"7\" />\r\n      <Text fontWeight=\"bold\">Sonic</Text>\r\n    </Stack>\r\n    </Link>\r\n  );\r\n};\r\n","export * from './logo';\r\n","import Icon, { IconProps } from '@chakra-ui/icon';\r\nimport { forwardRef } from '@chakra-ui/system';\r\n\r\nexport const Logo = forwardRef<IconProps, 'svg'>((props, ref) => {\r\n  return (\r\n    <Icon\r\n      ref={ref}\r\n      viewBox=\"0 0 438 576\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...props}\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M340.824 535.768C379.219 518.987 437.117 439.772 437.117 390.054C437.117 334.21 407.602 288.94 371.194 288.94C336.932 288.94 308.153 330.958 304.881 382.453C288.283 381.461 268.324 383.097 244.345 388.171C206.535 396.171 168.296 402.991 129.803 406.442C57.0437 412.965 7.93594 433.479 6.33618 475.073C6.33618 526.705 87.4154 575.959 191.128 575.959C250.135 575.959 304.725 559.482 340.824 535.768Z\"\r\n        fill=\"url(#paint0_linear_1_72)\"\r\n      />\r\n      <path\r\n        d=\"M431.082 399.358C409.569 446.2 276.464 399.358 180.2 358.186C85.5077 314.698 19.6274 274.889 35.963 231.091C57.4758 184.248 216.976 175.2 311.669 218.688C406.361 262.177 449.16 344.136 431.082 399.358Z\"\r\n        fill=\"#1A2A86\"\r\n      />\r\n      <path\r\n        d=\"M374.138 69.3708C384.394 119.087 320.932 132.999 188.881 160.24C87.0951 181.238 11.4238 311.976 0.761834 175.541C-3.33268 123.147 47.4486 30.0377 149.235 9.03976C251.021 -11.9582 356.187 15.0277 374.138 69.3708Z\"\r\n        fill=\"url(#paint1_linear_1_72)\"\r\n      />\r\n      <path\r\n        d=\"M255.951 276.809C249.286 301.418 186.793 340.881 120.989 323.06C55.1857 305.239 2.92729 230.251 9.59206 205.642C16.0479 181.804 66.5027 159.144 141.51 196.194C146.444 198.631 151.682 200.8 156.957 202.368C311.009 248.148 262.503 252.613 255.951 276.809Z\"\r\n        fill=\"#1A2A86\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M374.111 69.1391C375.404 75.4067 375.55 81.1086 374.56 86.3413C361.134 50.7476 312.018 27.5309 248.718 24.1348C154.337 19.0713 117.36 51.9478 112.384 95.654C112.384 128.443 144.403 163.36 194.809 176.264L278.252 207.049C289.844 210.552 300.928 214.662 311.24 219.398C386.125 253.789 428.402 312.354 433.588 362.536C435.224 371.361 436.1 380.68 436.1 390.314C436.1 449.085 381.215 513.798 344.208 533.277C308.222 558.327 251.683 576 190.377 576C86.6639 576 6.58354 527.417 6.58354 476.113C6.58354 470.345 7.55766 464.978 9.43422 459.995C9.36668 461.02 9.33263 462.05 9.33263 463.084C9.33263 511.079 82.6754 549.986 173.148 549.986C263.621 549.986 336.964 511.079 336.964 463.084C336.964 430.639 303.448 402.347 253.78 387.42C253.796 387.418 253.811 387.415 253.826 387.412C228.596 378.279 203.431 368.097 180.388 358.242C122.201 331.519 74.9448 306.192 51.1264 280.465C31.8405 261.447 17.9268 240.196 12.507 224.111C7.14857 214.388 3.44721 198.782 1.58671 175.445C-2.63373 122.508 47.833 28.5814 149.407 7.62722C250.981 -13.327 356.05 14.1987 374.111 69.1391Z\"\r\n        fill=\"url(#paint2_linear_1_72)\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M374.111 69.1392C375.404 75.4068 375.55 81.1088 374.56 86.3414C361.135 50.7477 312.018 27.531 248.718 24.135C154.337 19.0715 117.36 51.948 112.384 95.6541C112.384 128.443 144.403 163.36 194.809 176.265L278.252 207.049C289.844 210.552 300.928 214.662 311.24 219.398C386.125 253.789 428.403 312.354 433.589 362.536C435.224 371.361 436.1 380.68 436.1 390.315C436.1 449.085 381.215 513.798 344.208 533.277C308.222 558.327 251.683 576 190.377 576C86.6639 576 6.5836 527.417 6.5836 476.113C6.5836 470.345 7.55772 464.978 9.43428 459.995C9.36674 461.02 9.33269 462.05 9.33269 463.084C9.33269 511.079 82.6754 549.986 173.148 549.986C263.621 549.986 336.964 511.079 336.964 463.084C336.964 430.639 303.448 402.348 253.78 387.42C253.796 387.418 253.811 387.415 253.826 387.412C228.596 378.279 203.431 368.097 180.388 358.242C122.201 331.519 74.9449 306.192 51.1265 280.465C31.8406 261.447 17.9268 240.196 12.5071 224.111C7.14864 214.388 3.44727 198.782 1.58677 175.445C-2.63367 122.508 47.833 28.5815 149.407 7.62734C250.981 -13.3269 356.051 14.1988 374.111 69.1392Z\"\r\n        fill=\"url(#paint3_linear_1_72)\"\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id=\"paint0_linear_1_72\"\r\n          x1=\"352.703\"\r\n          y1=\"431.619\"\r\n          x2=\"4.2183\"\r\n          y2=\"491.079\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#1A2A86\" />\r\n          <stop offset=\"1\" stopColor=\"#2C44FF\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint1_linear_1_72\"\r\n          x1=\"108.269\"\r\n          y1=\"104.295\"\r\n          x2=\"383.244\"\r\n          y2=\"74.7432\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#1A2A86\" />\r\n          <stop offset=\"1\" stopColor=\"#2B43FB\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint2_linear_1_72\"\r\n          x1=\"339.961\"\r\n          y1=\"0.605345\"\r\n          x2=\"137.188\"\r\n          y2=\"593.938\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#566AFF\" />\r\n          <stop offset=\"0.493345\" stopColor=\"#3347D1\" />\r\n          <stop offset=\"1\" stopColor=\"#566AFF\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint3_linear_1_72\"\r\n          x1=\"339.961\"\r\n          y1=\"0.605467\"\r\n          x2=\"137.189\"\r\n          y2=\"593.938\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#566AFF\" />\r\n          <stop offset=\"0.493345\" stopColor=\"#3347D1\" />\r\n          <stop offset=\"1\" stopColor=\"#566AFF\" />\r\n        </linearGradient>\r\n      </defs>\r\n    </Icon>\r\n  );\r\n});\r\n","export * from './lp-breakdown-popover-item';\r\nexport * from './lp-breakdown-popover';\r\n","import { Flex, HStack, Image, Text } from '@chakra-ui/react';\r\nimport { FC } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nimport { LPBreakdown } from '.';\r\n\r\ntype LPBreakdownPopoverItemProps = LPBreakdown;\r\n\r\nexport const LPBreakdownPopoverItem: FC<LPBreakdownPopoverItemProps> = ({\r\n  src = questionMarkSrc,\r\n  balance,\r\n  symbol,\r\n}) => {\r\n  return (\r\n    <Flex justify=\"space-between\" pb={3} _last={{ pb: 0 }}>\r\n      <HStack flex={0} minWidth=\"fit-content\">\r\n        <Image src={src} boxSize={4} alt={`${symbol} logo`} />\r\n        <Text>{symbol}</Text>\r\n      </HStack>\r\n      <Text>\r\n        {balance}&nbsp;{symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverHeader,\r\n  PopoverTrigger,\r\n} from '@chakra-ui/popover';\r\nimport { Heading, useColorModeValue } from '@chakra-ui/react';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { LPBreakdownPopoverItem } from './lp-breakdown-popover-item';\r\n\r\nexport type LPBreakdown = {\r\n  symbol: string;\r\n  decimals: number;\r\n  balance?: string;\r\n  src?: string;\r\n};\r\n\r\ntype LPBreakdownPopoverProps = {\r\n  sources?: LPBreakdown[];\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport const LPBreakdownPopover: FC<LPBreakdownPopoverProps> = ({\r\n  sources = [],\r\n  children,\r\n}) => {\r\n  const filteredSources = useMemo(\r\n    () =>\r\n      sources.filter((source) => source.balance && Number(source.balance) > 0),\r\n    [sources]\r\n  );\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  if (filteredSources.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>{children}</PopoverTrigger>\r\n      <PopoverContent color={color}>\r\n        <PopoverArrow />\r\n        <PopoverHeader>\r\n          <Heading as=\"h3\" size=\"sm\">\r\n            LP Breakdown\r\n          </Heading>\r\n        </PopoverHeader>\r\n        <PopoverBody>\r\n          {filteredSources.map((source) => (\r\n            <LPBreakdownPopoverItem key={source.symbol} {...source} />\r\n          ))}\r\n        </PopoverBody>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n","export * from './number-input';\r\n","import {\r\n  forwardRef,\r\n  Input,\r\n  InputProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { ChangeEvent } from 'react';\r\n\r\nexport type NumberInputProps = InputProps & {\r\n  setValue?: (value: string) => void;\r\n  placeholder?: string;\r\n};\r\n\r\nexport const NumberInput = forwardRef<NumberInputProps, 'input'>(\r\n  ({ placeholder = '0.00', onChange, setValue, ...props }, ref) => {\r\n    const handleValueChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n      const value = event.target.value;\r\n\r\n      if(value == '.' ) setValue?setValue('0.'):false;\r\n\r\n      if (isNaN(Number(value))) return;\r\n\r\n      if (onChange) {\r\n        onChange(event);\r\n      }\r\n\r\n      if (setValue) {\r\n        setValue(value);\r\n      }\r\n    };\r\n\r\n    const color = useColorModeValue('gray.500', 'gray.300');\r\n\r\n    return (\r\n      <Input\r\n        ref={ref}\r\n        variant=\"unstyled\"\r\n        type=\"text\"\r\n        textAlign=\"right\"\r\n        fontSize=\"3xl\"\r\n        fontWeight={700}\r\n        backgroundColor=\"transparent\"\r\n        color={color}\r\n        outline=\"none\"\r\n        transition=\"color 400ms\"\r\n        placeholder={placeholder}\r\n        _placeholder={{ color: color }}\r\n        {...props}\r\n        onChange={handleValueChange}\r\n      />\r\n    );\r\n  }\r\n);\r\n","export * from './search-bar';\r\n","import { Box, Flex, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { ChangeEvent } from 'react';\r\n\r\nimport { searchSrc } from '@/assets';\r\n\r\ntype SearchBarProps = {\r\n  search: string;\r\n  setSearch: (arg0: string) => any;\r\n};\r\n\r\nexport const SearchBar = ({ search, setSearch }: SearchBarProps) => {\r\n  const handleSearchChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const inputValue = event.target.value;\r\n\r\n    setSearch(inputValue);\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.3');\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Flex\r\n      boxSizing=\"border-box\"\r\n      px={4}\r\n      bg={bg}\r\n      shadow={shadow}\r\n      w=\"100%\"\r\n      h={10}\r\n      borderRadius={12}\r\n    >\r\n      <Image src={searchSrc} alt=\"search\" w={4} mr={3} />\r\n      <Box\r\n        as=\"input\"\r\n        value={search}\r\n        bg={bg}\r\n        border=\"none\"\r\n        w=\"100%\"\r\n        color={color}\r\n        outline=\"none\"\r\n        fontWeight={400}\r\n        placeholder=\"Search by name or canister id\"\r\n        onChange={handleSearchChange}\r\n        _placeholder={{\r\n          color: 'custom.1',\r\n        }}\r\n      />\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './slippage-settings';\r\n","import {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Flex,\r\n  HStack,\r\n  Icon,\r\n  InputGroup,\r\n  InputRightElement,\r\n  Stack,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaExclamationTriangle } from '@react-icons/all-files/fa/FaExclamationTriangle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { NumberInput } from '@/components';\r\n\r\ntype SlippageSettingsProps = {\r\n  slippage: string;\r\n  isAutoSlippage: boolean;\r\n  setSlippage: (slippage: string) => any;\r\n  setIsAutoSlippage: (isAutoSlippage: boolean) => any;\r\n};\r\n\r\nexport const SlippageSettings = ({\r\n  slippage,\r\n  setSlippage,\r\n  isAutoSlippage,\r\n  setIsAutoSlippage,\r\n}: SlippageSettingsProps) => {\r\n  const inputBorderColorDisabled = useColorModeValue('gray.200', 'custom.4');\r\n  const inputBorderColorEnabled = 'dark-blue.500';\r\n  const inputBorderColor = isAutoSlippage\r\n    ? inputBorderColorDisabled\r\n    : inputBorderColorEnabled;\r\n\r\n  const inputColorDisabled = useColorModeValue('gray.400', 'custom.1');\r\n  const inputColorEnabled = useColorModeValue('gray.800', 'gray.50');\r\n  const inputColor = isAutoSlippage ? inputColorDisabled : inputColorEnabled;\r\n\r\n  const yellowColor = useColorModeValue('yellow.600', 'yellow.500');\r\n  const redColor = useColorModeValue('red.600', 'red.500');\r\n  const messageColor = Number(slippage) > 50 ? redColor : yellowColor;\r\n\r\n  const handleInputClick = () => {\r\n    if (isAutoSlippage) setIsAutoSlippage(false);\r\n  };\r\n\r\n  const handleButtonClick = () => {\r\n    if (!isAutoSlippage) setIsAutoSlippage(true);\r\n  };\r\n\r\n  const handleChange = (value: string) => {\r\n    setIsAutoSlippage(false);\r\n    const num = Number(value);\r\n    if (num < 0) {\r\n      setSlippage('0');\r\n    } else {\r\n      setSlippage(value.replace(/^0+/, '').replace(/^\\./, '0.') || '0');\r\n    }\r\n  };\r\n\r\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    setSlippage(String(Number(e.target.value)));\r\n  };\r\n\r\n  const warningMessage = useMemo(() => {\r\n    if (Number(slippage) > 50) {\r\n      setIsAutoSlippage(true);\r\n      return 'Enter a valid slippage percentage (default: 0.5%)';\r\n    }\r\n\r\n    if (Number(slippage) > 5) {\r\n      return 'Your slippage tolerance is set very high, the received amount of tokens may reduced because of it. Consider reducing it.';\r\n    }\r\n\r\n    if (Number(slippage) < 0.25) {\r\n      return 'Your slippage tolerance is set very low, the transaction may fail.';\r\n    }\r\n  }, [slippage]);\r\n\r\n  return (\r\n    <Stack zIndex=\"popover\" px={5} pt={3} pb={3}>\r\n      <Box as=\"h1\" textAlign=\"left\" fontSize=\"1rem\" w=\"100%\">\r\n        Transaction Settings\r\n      </Box>\r\n      <Divider />\r\n      <Box as=\"p\" fontSize=\"0.875rem\" textAlign=\"left\" fontWeight={400}>\r\n        Slippage tolerance\r\n      </Box>\r\n      <Flex direction=\"row\" alignItems=\"center\">\r\n        <Button\r\n          variant={isAutoSlippage ? 'gradient' : 'outline'}\r\n          colorScheme=\"dark-blue\"\r\n          borderRadius=\"full\"\r\n          onClick={handleButtonClick}\r\n          mr={3}\r\n        >\r\n          Auto\r\n        </Button>\r\n        <InputGroup color={inputColor} fontWeight={600}>\r\n          <NumberInput\r\n            opacity={1}\r\n            color={inputColor}\r\n            borderColor={inputBorderColor}\r\n            borderStyle=\"solid\"\r\n            borderWidth=\"1px\"\r\n            borderRadius=\"full\"\r\n            value={slippage}\r\n            setValue={handleChange}\r\n            onClick={handleInputClick}\r\n            onBlur={handleBlur}\r\n            pr={8}\r\n            pl={2.5}\r\n            pt={2.5}\r\n            pb={2}\r\n            fontSize=\"sm\"\r\n          />\r\n          <InputRightElement fontSize=\"sm\">%</InputRightElement>\r\n        </InputGroup>\r\n      </Flex>\r\n      {warningMessage && (\r\n        <HStack textAlign=\"left\" color={messageColor} maxW=\"320px\" spacing={4}>\r\n          <Icon as={FaExclamationTriangle} height={6} width={6} />\r\n          <Text fontWeight=\"normal\" fontSize=\"sm\">\r\n            {warningMessage}\r\n          </Text>\r\n        </HStack>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","export * from './stack-line';\r\n","import { Flex, StackItem, Text } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nexport type StackLineProps = {\r\n  title: string;\r\n  value: React.ReactNode;\r\n};\r\n\r\nexport const StackLine: React.FC<StackLineProps> = ({ value, title }) => {\r\n  return (\r\n    <StackItem>\r\n      <Flex>\r\n        <Text>{title}</Text>\r\n        <Text ml={2} flex={1} textAlign=\"right\">\r\n          {value}\r\n        </Text>\r\n      </Flex>\r\n    </StackItem>\r\n  );\r\n};\r\n","export * from './token-balances-popover-item';\r\nexport * from './token-balances-popover';\r\n","import { Flex, HStack, Image, Text } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\ntype TokenBalancesPopoverItemProps = {\r\n  src?: string;\r\n  name?: string;\r\n  balance?: number;\r\n  symbol?: string;\r\n  decimals?: number;\r\n};\r\n\r\nexport const TokenBalancesPopoverItem: FC<TokenBalancesPopoverItemProps> = ({\r\n  src = questionMarkSrc, symbol,balance,decimals,name}) => {\r\n    \r\n  const _balance = useMemo(() =>\r\n      toBigNumber(balance ?? 0).applyDecimals(decimals ?? 0).toString(),\r\n    [balance, decimals]\r\n  );\r\n\r\n  return (\r\n    <Flex justify=\"space-between\" pb={3} _last={{ pb: 0 }}>\r\n      <HStack flex={0} minWidth=\"fit-content\">\r\n        <Image borderRadius='full' src={src} boxSize={4} alt={`${symbol} logo`} />\r\n        <Text>{name}</Text>\r\n      </HStack>\r\n      <Text textAlign=\"right\" flex={1}>\r\n        {_balance} {symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Popover, PopoverArrow, PopoverBody, PopoverContent, PopoverHeader, PopoverTrigger } from '@chakra-ui/popover';\r\n\r\nimport { Heading, HStack, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { TokenSource } from '@/components';\r\n\r\nimport { TokenBalancesPopoverItem } from './token-balances-popover-item';\r\n\r\ntype TokenBalancesPopoverProps = {\r\n  symbol?: string;\r\n  decimals?: number;\r\n  sources?: TokenSource[];\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport const TokenBalancesPopover: FC<TokenBalancesPopoverProps> = ({\r\n  symbol, decimals, sources = [], children }) => {\r\n\r\n  const filteredSources = useMemo(\r\n    () => sources.filter((source) => source.balance && source.balance > 0),\r\n    [sources]\r\n  );\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  if (filteredSources.length === 0) { return null; }\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>\r\n        {children || (\r\n          <HStack spacing={1}>\r\n            {filteredSources.map((source) => (\r\n              <Image borderRadius='full' boxSize='20px' key={source?.src} src={source?.src} alt={source.name} />\r\n            ))}\r\n          </HStack>\r\n          \r\n        )}\r\n      </PopoverTrigger>\r\n      <div>\r\n        <PopoverContent color={color}>\r\n          <PopoverArrow />\r\n          <PopoverHeader>\r\n            <Heading as=\"h3\" size=\"sm\"> Balance Breakdown</Heading>\r\n          </PopoverHeader>\r\n          <PopoverBody>\r\n            {filteredSources.map((source) => (\r\n              <TokenBalancesPopoverItem key={source.name} decimals={decimals} symbol={symbol} {...source} />\r\n            ))}\r\n          </PopoverBody>\r\n        </PopoverContent>\r\n      </div>\r\n\r\n    </Popover>\r\n  );\r\n};\r\n","export * from './token';\r\nexport * from './tokenCreditinfo';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  Button,\r\n  ButtonProps,\r\n  Flex,\r\n  FlexProps,\r\n  forwardRef,\r\n  HStack,\r\n  Icon,\r\n  Image,\r\n  ImageProps,\r\n  Skeleton,\r\n  Text,\r\n  TextProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { createContext } from '@chakra-ui/react-utils';\r\nimport { Price } from '@memecake/sonic-js';\r\nimport { FaChevronDown } from '@react-icons/all-files/fa/FaChevronDown';\r\nimport React, { useCallback, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { NumberInput } from '@/components';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { getMaxValue } from '@/utils/format';\r\n\r\nimport { DisplayValue, NumberInputProps } from '..';\r\nimport { TokenBalancesPopover } from '../token-balances-popover';\r\n\r\n// === Core ===\r\n\r\nexport type TokenUniqueProps = {\r\n  value?: string;\r\n  tokenMetadata?: AppTokenMetadata;\r\n  tokenListMetadata?: AppTokenMetadata[];\r\n  sources?: TokenSource[];\r\n  setValue?: (value: string) => unknown;\r\n  isDisabled?: boolean;\r\n  isLoading?: boolean;\r\n  shouldGlow?: boolean;\r\n};\r\n\r\nexport type TokenProps = TokenUniqueProps & {\r\n  htmlProps?: BoxProps;\r\n};\r\n\r\nconst [TokenProvider, useTokenContext] = createContext<TokenUniqueProps>({\r\n  name: 'TokenContext',\r\n  errorMessage:\r\n    'useTokenContext: `context` is undefined. Seems you forgot to wrap all card components within `<Card />`',\r\n});\r\n\r\nexport type TokenSource = {\r\n  name: string;\r\n  src: string;\r\n  balance?: number;\r\n};\r\n\r\nexport const Token: React.FC<TokenProps> = ({\r\n  shouldGlow = false,\r\n  htmlProps,\r\n  children,\r\n  ...tokenProps\r\n}) => {\r\n  const borderGlow = useColorModeValue('dark-blue.300', 'dark-blue.500');\r\n  const borderNotGlow = useColorModeValue('gray.100', 'custom.4');\r\n  const borderColor = shouldGlow ? borderGlow : borderNotGlow;\r\n\r\n  const backgroundGlow = useColorModeValue('gray.50', 'black');\r\n  const backgroundNotGlow = useColorModeValue('gray.50', 'custom.2');\r\n  const background = shouldGlow ? backgroundGlow : backgroundNotGlow;\r\n\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <TokenProvider value={{ shouldGlow, ...tokenProps }}>\r\n      <Box\r\n        borderRadius={20}\r\n        bg={background}\r\n        border=\"1px solid\"\r\n        borderColor={borderColor}\r\n        shadow={shadow}\r\n        py={5}\r\n        px={5}\r\n        transition=\"border 400ms\"\r\n        position=\"relative\"\r\n        {...htmlProps}\r\n      >\r\n        {shouldGlow && <TokenGlow />}\r\n        {children}\r\n      </Box>\r\n    </TokenProvider>\r\n  );\r\n};\r\n\r\ntype TokenContentProps = FlexProps;\r\n\r\nexport const TokenContent: React.FC<TokenContentProps> = (props) => {\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n      mb={3}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\n// === Details ===\r\n\r\ntype TokenDetailsButtonProps = ButtonProps;\r\n\r\nexport const TokenDetailsButton = forwardRef<TokenDetailsButtonProps, 'button'>(\r\n  ({ children, ...props }, ref) => {\r\n    const { isLoading } = useTokenContext();\r\n    return (\r\n      <Button ref={ref} borderRadius=\"full\" mr={5} minWidth=\"fit-content\" {...props} isDisabled={isLoading || props.isDisabled}>\r\n        {children}\r\n        <Icon as={FaChevronDown} ml={2.5} width={3} />\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\ntype TokenDetailsLogo = ImageProps;\r\n\r\nexport const TokenDetailsLogo: React.FC<TokenDetailsLogo> = (props) => {\r\n  const { isLoading, tokenMetadata } = useTokenContext();\r\n\r\n  const logoSrc = tokenMetadata?.logo ?? questionMarkSrc;\r\n\r\n  return (\r\n    <Skeleton\r\n      isLoaded={!isLoading}\r\n      height={5}\r\n      width={5}\r\n      borderRadius=\"full\"\r\n      mr={2}\r\n    >\r\n      <Image\r\n        width={5}\r\n        minW={5}\r\n        height={5}\r\n        minH={5}\r\n        borderRadius=\"full\"\r\n        src={logoSrc}\r\n        alt={`${tokenMetadata?.symbol} logo`}\r\n        {...props}\r\n      />\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\nexport const TokenDetailsSymbol: React.FC<TextProps> = (props) => {\r\n  const { isLoading, tokenMetadata } = useTokenContext();\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} height={5} width=\"fit-content\">\r\n      <Text\r\n        fontWeight={700}\r\n        fontSize=\"lg\"\r\n        width=\"fit-content\"\r\n        minWidth={5}\r\n        {...props}\r\n      >\r\n        {tokenMetadata?.symbol}\r\n      </Text>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Balances ===\r\n\r\nexport const TokenData = (props: FlexProps) => {\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport type TokenDataPriceProps = BoxProps & {\r\n  isUpdating?: boolean;\r\n  priceImpact?: string;\r\n};\r\n\r\nexport const TokenDataPrice: React.FC<TokenDataPriceProps> = ({\r\n  isUpdating,\r\n  priceImpact,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const { isLoading, value, tokenMetadata } = useTokenContext();\r\n\r\n  const isActive = useMemo(() => {\r\n    if (isLoading || parseFloat(value || '0') <= 0) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }, [isLoading, value]);\r\n\r\n  const price = useMemo(\r\n    () =>\r\n      Price.getByAmount({\r\n        amount: value,\r\n        price: tokenMetadata?.price,\r\n      }).toString(),\r\n    [tokenMetadata?.price, value]\r\n  );\r\n\r\n  const defaultColorActive = useColorModeValue('gray.800', 'gray.50');\r\n  const defaultColorInactive = useColorModeValue('gray.600', 'gray.300');\r\n  const defaultColor = isActive ? defaultColorActive : defaultColorInactive;\r\n\r\n  const color = useMemo(() => {\r\n    if (priceImpact) {\r\n      const priceImpactNumber = parseFloat(priceImpact);\r\n      const color =\r\n        priceImpactNumber > 0\r\n          ? 'green.500'\r\n          : priceImpactNumber <= 0 && priceImpactNumber >= -1\r\n            ? defaultColor\r\n            : priceImpactNumber < -1 && priceImpactNumber >= -5\r\n              ? 'yellow.500'\r\n              : 'red.500';\r\n\r\n      return color;\r\n    }\r\n\r\n    return defaultColor;\r\n  }, [priceImpact, defaultColor]);\r\n\r\n  const isPrice = useMemo(() => {\r\n    return price !== '0';\r\n  }, [price]);\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\" minWidth={5}>\r\n      <HStack\r\n        transition=\"color 400ms\"\r\n        alignItems=\"center\"\r\n        color={defaultColor}\r\n        {...props}\r\n      >\r\n        {isPrice && (\r\n          <DisplayValue isUpdating={isUpdating} value={price} prefix=\"~$\" />\r\n        )}\r\n        {priceImpact && (\r\n          <DisplayValue\r\n            isUpdating={isUpdating}\r\n            color={color}\r\n            value={priceImpact}\r\n            prefix=\"(\"\r\n            suffix=\"%)\"\r\n          />\r\n        )}\r\n        {children}\r\n      </HStack>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\nexport type TokeDataBalancesProps = FlexProps & {\r\n  isUpdating?: boolean;\r\n  onMaxClick?: () => unknown | Promise<unknown>;\r\n};\r\n\r\nexport const TokenDataBalances: React.FC<TokeDataBalancesProps> = ({\r\n  isUpdating,\r\n  onMaxClick,\r\n  ...props\r\n}) => {\r\n  const { isLoading, sources, tokenMetadata, value } = useTokenContext();\r\n\r\n  const totalTokenBalance = useMemo(\r\n    () => sources?.reduce((acc, current) => acc + (current.balance ?? 0), 0),\r\n    [sources]\r\n  );\r\n\r\n  const shouldRenderMaxButton = useMemo(() => {\r\n    if (\r\n      onMaxClick &&\r\n      totalTokenBalance &&\r\n      totalTokenBalance > 0 &&\r\n      getMaxValue(tokenMetadata, totalTokenBalance).toNumber() !== Number(value)\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }, [onMaxClick, tokenMetadata, totalTokenBalance, value]);\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\" minW={20}>\r\n      <Flex direction=\"row\" color={color} {...props}>\r\n        <HStack>\r\n          <TokenBalancesPopover\r\n            sources={sources}\r\n            decimals={tokenMetadata?.decimals}\r\n            symbol={tokenMetadata?.symbol}\r\n          />\r\n\r\n          {typeof totalTokenBalance === 'number' && (\r\n            <DisplayValue\r\n              isUpdating={isUpdating}\r\n              value={totalTokenBalance}\r\n              decimals={tokenMetadata?.decimals || 0}\r\n              prefix=\"Balance: \"\r\n              suffix={tokenMetadata?.symbol && ` ${tokenMetadata?.symbol}`}\r\n              shouldDivideByDecimals\r\n            />\r\n          )}\r\n\r\n          {shouldRenderMaxButton && (\r\n            <Button variant=\"link\" onClick={onMaxClick}>\r\n              (Max)\r\n            </Button>\r\n          )}\r\n        </HStack>\r\n      </Flex>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Input ===\r\n\r\ntype TokenInputProps = NumberInputProps;\r\n\r\nexport const TokenInput: React.FC<TokenInputProps> = (props) => {\r\n\r\n  const { isLoading, isDisabled, shouldGlow, value, setValue, tokenMetadata } = useTokenContext();\r\n  const background = shouldGlow ? 'black' : 'custom.2';\r\n\r\n  const isActive = useMemo(() => {\r\n    if (isLoading || parseFloat(value || '0') <= 0) { return false;}\r\n    return true;\r\n  }, [isLoading, value]);\r\n\r\n  const handleChange = useCallback((_value: string) => {\r\n    if (tokenMetadata && setValue) {\r\n      if (_value === '' || typeof (_value) == undefined) return setValue('');\r\n      const [nat, decimals] = _value.split('.');\r\n      let newValue = parseInt(nat) > 0 ? nat.replace(/^0+/, '') : '0';\r\n      if (_value.includes('.') && tokenMetadata.decimals > 0) { newValue += '.'; }\r\n      if (decimals) { newValue += `${decimals.slice(0, tokenMetadata.decimals)}`; }\r\n      setValue(newValue);\r\n    }\r\n  },\r\n    [tokenMetadata, setValue]\r\n  );\r\n  const activeColor = useColorModeValue('gray.800', 'gray.50');\r\n  const inactiveColor = useColorModeValue('gray.400', 'custom.1');\r\n  const color = isActive ? activeColor : inactiveColor;\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\">\r\n      <NumberInput\r\n        isDisabled={isDisabled}\r\n        value={value}\r\n        setValue={handleChange}\r\n        color={color}\r\n        background={background}\r\n        {...props}\r\n      />\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Other Internal Components ===\r\n\r\nconst TokenGlow = () => (\r\n  <Box\r\n    position=\"absolute\"\r\n    borderRadius={20}\r\n    top={0}\r\n    left={0}\r\n    width=\"100%\"\r\n    height=\"100%\"\r\n    filter=\"blur(6px)\"\r\n    zIndex={-100}\r\n    bg=\"dark-blue.500\"\r\n  />\r\n);\r\n","import { Flex,Text  } from '@chakra-ui/react';\r\nimport { useTokenTaxCheck } from '@/hooks'\r\n\r\nexport type TokenMetaProps = {\r\n    tokenSymbol?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?: string;\r\n    tokenId?: string;\r\n    pageInfo?:string;\r\n};\r\n\r\nexport const TokenDataMetaInfo: React.FC<TokenMetaProps> = ({\r\n    tokenSymbol,\r\n    tokenValue,\r\n    tokenDecimals,\r\n    tokenId,\r\n    pageInfo,\r\n}) => {\r\n    var info = useTokenTaxCheck({tokenId ,tokenSymbol, tokenDecimals, tokenValue});\r\n    let isPrice = (): number => {\r\n        return parseFloat(info.taxInfo.netValue.toFixed(3));\r\n    };\r\n    let calcPrice: number = isPrice();\r\n\r\n    return (\r\n        <Flex mt={2} className=\"\">\r\n            {calcPrice&&tokenSymbol=='YC' ? (\r\n                <Text color=\"var(--chakra-colors-gray-200)\" >\r\n                    { pageInfo == \"swap\" ? \"Swapping for after 11% \": \"Credited after 11%\" }\r\n                    <a style={{ color: 'var(--chakra-colors-blue-300)' }} target=\"_blank\" \r\n                    href=\"https://blog.cigdao.com/cigdao-decentralization-sale-6856ad618f8c\"> YC tax </a> : {calcPrice}\r\n                </Text>\r\n            ) : (\r\n                ''\r\n            )}\r\n        </Flex>\r\n    );\r\n};","export * from './view-header';\r\n","import {\r\n  Box,\r\n  Flex,\r\n  IconButton,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaArrowLeft } from '@react-icons/all-files/fa/FaArrowLeft';\r\n\r\ntype ViewHeaderProps = {\r\n  title: string;\r\n  onArrowBack?: () => void;\r\n};\r\n\r\nexport const ViewHeader: React.FC<ViewHeaderProps> = ({\r\n  title,\r\n  onArrowBack,\r\n  children,\r\n}) => {\r\n  const titleRightAdjustment = children ? 8 : 'auto';\r\n  const titleLeftAdjustment = onArrowBack ? 8 : 'auto';\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  return (\r\n    <Flex direction=\"column\">\r\n      <Flex\r\n        py={3}\r\n        px={5}\r\n        bg={bg}\r\n        shadow={shadow}\r\n        fontSize=\"lg\"\r\n        color={color}\r\n        fontWeight={700}\r\n        textAlign=\"center\"\r\n        borderTopRadius={20}\r\n        borderBottomRadius={20}\r\n        direction=\"row\"\r\n        align=\"center\"\r\n      >\r\n        {onArrowBack && (\r\n          <Tooltip label=\"Back\">\r\n            <IconButton\r\n              size=\"sm\"\r\n              isRound\r\n              onClick={onArrowBack}\r\n              variant=\"outline\"\r\n              aria-label=\"back\"\r\n              icon={<FaArrowLeft />}\r\n              mr=\"auto\"\r\n            />\r\n          </Tooltip>\r\n        )}\r\n        <Box\r\n          pr={titleLeftAdjustment}\r\n          pl={titleRightAdjustment}\r\n          w=\"100%\"\r\n          mx=\"auto\"\r\n        >\r\n          {title}\r\n        </Box>\r\n        {children}\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Flex,\r\n  Image,\r\n  keyframes,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { greenCheckSrc } from '@/assets';\r\nimport { StepStatus } from '@/components/modals';\r\n\r\nconst spin = keyframes`\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n`;\r\n\r\ntype CircleIconProps = {\r\n  status?: StepStatus;\r\n  iconSrc: string;\r\n};\r\n\r\nexport const CircleIcon = ({ status, iconSrc }: CircleIconProps) => {\r\n  const spinAnimation = `${spin} infinite 2s linear`;\r\n\r\n  const bgDark = status === StepStatus.Disabled ? 'custom.3' : 'dark-blue.500';\r\n  const bgLight = status === StepStatus.Disabled ? 'gray.200' : 'dark-blue.500';\r\n  const bg = useColorModeValue(bgLight, bgDark);\r\n\r\n  const opacity = status === StepStatus.Disabled ? 0.5 : 1;\r\n  const checkOpacity = status === StepStatus.Done ? 1 : 0;\r\n\r\n  return (\r\n    <Box\r\n      w=\"2.8125rem\"\r\n      h=\"2.8125rem\"\r\n      borderRadius=\"2.8125rem\"\r\n      position=\"relative\"\r\n      bg={bg}\r\n    >\r\n      {status === 'active' && (\r\n        <Box\r\n          w=\"2.8125rem\"\r\n          h=\"2.8125rem\"\r\n          borderRadius={45}\r\n          bg=\"dark-blue.500\"\r\n          filter=\"blur(10px)\"\r\n          position=\"absolute\"\r\n        />\r\n      )}\r\n      {status === 'active' && (\r\n        <Box\r\n          w=\"100%\"\r\n          h=\"100%\"\r\n          borderRadius=\"2.8125rem\"\r\n          zIndex={200}\r\n          border=\"2px solid #A8B2FF\"\r\n          borderTop=\"2px solid #FFFFFF\"\r\n          position=\"absolute\"\r\n          animation={spinAnimation}\r\n        />\r\n      )}\r\n      <Image\r\n        alt={'check'}\r\n        top={0}\r\n        right={0}\r\n        opacity={checkOpacity}\r\n        mt=\"-5px\"\r\n        mr=\"-3px\"\r\n        zIndex={300}\r\n        src={greenCheckSrc}\r\n        transition=\"opacity 400ms\"\r\n        position=\"absolute\"\r\n      />\r\n      <Flex\r\n        w=\"100%\"\r\n        h=\"100%\"\r\n        borderRadius=\"2.8125rem\"\r\n        zIndex={200}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        position=\"absolute\"\r\n        opacity={opacity}\r\n        transition=\"opacity 400ms\"\r\n      >\r\n        <Image w=\"1.125rem\" src={iconSrc} alt={'icon'} />\r\n      </Flex>\r\n    </Box>\r\n  );\r\n};\r\n","export * from './circle-icon';\r\n","export * from './plus';\r\nexport * from './circle-icon';\r\n","export * from './plus-icon';\r\n","import Icon, { IconProps } from '@chakra-ui/icon';\r\nimport { forwardRef } from '@chakra-ui/system';\r\n\r\nexport const PlusIcon = forwardRef<IconProps, 'svg'>((props, ref) => (\r\n  <Icon\r\n    ref={ref}\r\n    width=\"18\"\r\n    height=\"18\"\r\n    viewBox=\"0 0 18 18\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <path\r\n      d=\"M16.9062 7.9375H10.4375V1.46875C10.4375 1.10938 10.0781 0.75 9.71875 0.75H8.28125C7.87695 0.75 7.5625 1.10938 7.5625 1.46875V7.9375H1.09375C0.689453 7.9375 0.375 8.29688 0.375 8.65625V10.0938C0.375 10.498 0.689453 10.8125 1.09375 10.8125H7.5625V17.2812C7.5625 17.6855 7.87695 18 8.28125 18H9.71875C10.0781 18 10.4375 17.6855 10.4375 17.2812V10.8125H16.9062C17.2656 10.8125 17.625 10.498 17.625 10.0938V8.65625C17.625 8.29688 17.2656 7.9375 16.9062 7.9375Z\"\r\n      fill=\"dark-blue.500\"\r\n    />\r\n  </Icon>\r\n));\r\n","export * from './core';\r\nexport * from './layout';\r\nexport * from './plug';\r\nexport * from './icons';\r\nexport * from './maintenance';\r\n\r\nexport * from './wallet';\r\n","export * from './layout';\r\n","export const NAVBAR_HEIGHT = '116px';\r\nexport const FOOTER_HEIGHT = '40px';\r\n\r\nexport const NAVIGATION_TABS = [\r\n  { label: 'Swap', url: '/swap' },\r\n  { label: 'Liquidity', url: '/liquidity' },\r\n  { label: 'Assets', url: '/assets' },\r\n  { label: 'Activity', url: '/activity' },\r\n];\r\n","import {\r\n  chakra,\r\n  Container,\r\n  Flex,\r\n  HStack,\r\n  IconButton,\r\n  Link as ChakraLink,\r\n  Menu,\r\n  MenuButton,\r\n  MenuDivider,\r\n  MenuItem,\r\n  MenuList,\r\n  Tab,\r\n  TabList,\r\n  Tabs,\r\n  Text,\r\n  useColorMode,\r\n  useColorModeValue,\r\n  useToken,\r\n} from '@chakra-ui/react';\r\nimport { FaBook } from '@react-icons/all-files/fa/FaBook';\r\nimport { FaDiscord } from '@react-icons/all-files/fa/FaDiscord';\r\nimport { FaEllipsisH } from '@react-icons/all-files/fa/FaEllipsisH';\r\nimport { FaMedium } from '@react-icons/all-files/fa/FaMedium';\r\nimport { FaMoon } from '@react-icons/all-files/fa/FaMoon';\r\nimport { FaNetworkWired } from '@react-icons/all-files/fa/FaNetworkWired';\r\nimport { FaRedo } from '@react-icons/all-files/fa/FaRedo';\r\nimport { FaSun } from '@react-icons/all-files/fa/FaSun';\r\nimport { FaTwitter } from '@react-icons/all-files/fa/FaTwitter';\r\nimport { FiArrowUpRight } from '@react-icons/all-files/fi/FiArrowUpRight';\r\nimport React, { useMemo, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nimport { ENV } from '@/config';\r\nimport { useHeaderResizeEffect } from '@/hooks';\r\nimport { modalsSliceActions, useAppDispatch, useWalletStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nimport packageJSON from '@/../package.json';\r\n\r\nimport { LogoBox } from '../core';\r\n\r\nimport { FOOTER_HEIGHT, NAVIGATION_TABS } from './layout.constants';\r\n\r\nimport { WalletConnectBtn, WalletMenu } from '@/components/wallet';\r\n\r\n\r\nexport const Layout: React.FC = ({ children, ...props }) => {\r\n\r\n  const { isConnected } = useWalletStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n  const location = useLocation();\r\n  const [headerHeight, setHeaderHeight] = useState('116px');\r\n\r\n  const currentTabIndex = useMemo(\r\n    () =>\r\n      NAVIGATION_TABS.findIndex(({ url }) => location.pathname.includes(url)),\r\n    [location]\r\n  );\r\n\r\n  const backgroundColor = useColorModeValue('custom.5', 'darkBlue');\r\n  const backgroundColorValue = useToken('colors', backgroundColor);\r\n\r\n  const { colorMode, toggleColorMode } = useColorMode();\r\n\r\n  const menuBg = useColorModeValue('gray.50', 'custom.2');\r\n  const menuShadow = useColorModeValue('base', 'none');\r\n\r\n  useHeaderResizeEffect((element) => { setHeaderHeight(`${element.clientHeight}px`); });\r\n\r\n  return (\r\n    <>\r\n      <Container as=\"header\" maxW={['100%', 'container.xl', 'container.xl']} position=\"sticky\" top={0} zIndex={10} id=\"header\" bg={backgroundColor}>\r\n        <Flex\r\n          zIndex=\"1000\" width=\"full\" maxWidth=\"container.xl\" margin=\"auto\"\r\n          direction=\"row\" justifyContent=\"center\" alignItems=\"center\" flexWrap=\"wrap\"\r\n          gap=\"2\" p={['4', '4', '8']} position=\"sticky\" top=\"0\"\r\n        >\r\n          <Flex display={['none', 'none', 'none', 'flex']} width={['0', '20%']} alignItems=\"center\" justifyContent=\"center\">\r\n            <LogoBox />\r\n          </Flex>\r\n          <chakra.nav flex=\"1\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n            <Tabs index={currentTabIndex} variant=\"solid-rounded\" colorScheme=\"dark-blue\">\r\n              <TabList bg={menuBg}>\r\n                {NAVIGATION_TABS.map(({ label, url }) => (\r\n                  <Tab as={Link} key={label} to={url} px={6}>\r\n                    {label}\r\n                  </Tab>\r\n                ))}\r\n\r\n\r\n                <Tab display={['none', 'none', 'flex', 'flex']} as=\"a\"\r\n                  href={'https://lbp.sonic.ooo/'} target={'_blank'}\r\n                  px={4}\r\n                >\r\n                  LBP\r\n                  <FiArrowUpRight />\r\n                </Tab>\r\n\r\n                <Tab display={['none', 'none', 'flex', 'flex']} as=\"a\"\r\n                  href={ExternalLink.analyticsApp} target={ExternalLink.analyticsApp}\r\n                  px={4}\r\n                >\r\n                  Analytics\r\n                  <FiArrowUpRight />\r\n                </Tab>\r\n              </TabList>\r\n            </Tabs>\r\n          </chakra.nav>\r\n          <Flex direction=\"row\" width={['fit-content', 'fit-content', '20%']} gap=\"4\" mr=\"-2\"\r\n            alignItems=\"center\" justifyContent=\"flex-end\">\r\n            <HStack>\r\n              {isConnected ? <WalletMenu placement=\"bottom-end\" /> : <WalletConnectBtn />}\r\n              <Menu placement=\"bottom-end\">\r\n                <MenuButton as={IconButton} aria-label=\"Menu\" icon={<FaEllipsisH />} borderRadius=\"full\" bg={menuBg} shadow={menuShadow} />\r\n                <div>\r\n                  <MenuList bg={menuBg} shadow={menuShadow} borderRadius=\"xl\">\r\n                    {ENV.isDarkModeEnabled && (\r\n                      <MenuItem onClick={toggleColorMode} icon={colorMode === 'dark' ? <FaSun /> : <FaMoon />}>\r\n                        {colorMode === 'dark' ? 'Light mode' : 'Dark mode'}\r\n                      </MenuItem>\r\n                    )}\r\n                    {isConnected && (\r\n                      <MenuItem onClick={() => dispatch(modalsSliceActions.openMintManualModal())} icon={<FaRedo />}>\r\n                        Retry minting\r\n                      </MenuItem>\r\n                    )}\r\n\r\n                    <MenuDivider />\r\n                    <ChakraLink href={ExternalLink.twitter} target={ExternalLink.twitter} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaTwitter />}>Twitter</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.discord} target={ExternalLink.discord} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaDiscord />}>Discord</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.medium} target={ExternalLink.medium} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaMedium />}>Medium</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.sonicDocs} target={ExternalLink.sonicDocs} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaBook />}>Documentation</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.swapApiDocs} target={ExternalLink.swapApiDocs} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaNetworkWired />}>API</MenuItem>\r\n                    </ChakraLink>\r\n                  </MenuList>\r\n                </div>\r\n              </Menu>\r\n            </HStack>\r\n          </Flex>\r\n        </Flex>\r\n      </Container>\r\n\r\n      <Container as=\"main\" maxW=\"xl\" minH={`calc(100vh - ${headerHeight} - ${FOOTER_HEIGHT})`} py=\"4\" display=\"flex\" flexDirection=\"column\" {...props}>\r\n        {children}\r\n      </Container>\r\n\r\n      <chakra.footer px=\"4\" py=\"2\" position=\"fixed\" bottom={0} left={0} right={0}\r\n        background={`linear-gradient(to bottom, transparent 0%, ${backgroundColorValue} 50%)`} pointerEvents=\"none\"\r\n      >\r\n        <Text>Sonic v{packageJSON.version}</Text>\r\n      </chakra.footer>\r\n    </>\r\n  );\r\n};\r\n","export * from './maintenance';\r\n","import { Flex, Image, Link, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { FaBook } from '@react-icons/all-files/fa/FaBook';\r\nimport { FaDiscord } from '@react-icons/all-files/fa/FaDiscord';\r\nimport { FaTwitter } from '@react-icons/all-files/fa/FaTwitter';\r\n\r\nimport { logoSrc } from '@/assets';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nexport const Maintenance = () => {\r\n  const color = useColorModeValue('gray.600', 'gray.300');\r\n\r\n  return (\r\n    <Flex\r\n      flexDirection=\"column\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      position=\"fixed\"\r\n      top={0}\r\n      left={0}\r\n      right={0}\r\n      bottom={0}\r\n    >\r\n      <Image src={logoSrc} m=\"8vh\" height=\"10vh\" />\r\n\r\n      <Flex\r\n        flex={1}\r\n        m={30}\r\n        textAlign=\"center\"\r\n        verticalAlign=\"center\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        flexDirection=\"column\"\r\n      >\r\n        <Text fontSize=\"4xl\">Maintenance</Text>\r\n        <Text fontSize=\"xl\">\r\n          Sonic App is under maintenance. We'll be back shortly.\r\n        </Text>\r\n        <Text color=\"dark-blue.500\">\r\n          <Link href={ExternalLink.twitter} target={ExternalLink.twitter}>\r\n            Checkout out more information\r\n          </Link>\r\n        </Text>\r\n      </Flex>\r\n\r\n      <Flex\r\n        m=\"5vh\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"space-around\"\r\n        alignItems=\"center\"\r\n        width={200}\r\n        color={color}\r\n      >\r\n        <Link href={ExternalLink.discord} target={ExternalLink.discord}>\r\n          <FaDiscord size={40} />\r\n        </Link>\r\n        <Link href={ExternalLink.twitter} target={ExternalLink.twitter}>\r\n          <FaTwitter size={40} />\r\n        </Link>\r\n        <Link href={ExternalLink.sonicDocs} target={ExternalLink.sonicDocs}>\r\n          <FaBook size={40} />\r\n        </Link>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const AddLiquidityFailModal = () => {\r\n  const {\r\n    isAddLiquidityFailModalOpened: isAddLiquidityFailOpened,\r\n    addLiquidityModalData: addLiquidityData,\r\n  } = useModalsStore();\r\n  const { callbacks: [addLiquidityCallback, closeCallback] = [] } =\r\n    addLiquidityData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isAddLiquidityFailOpened}\r\n      isCentered\r\n      title=\"Add Liquidity Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={addLiquidityCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Close\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, dropSrc, plusSrc } from '@/assets';\r\nimport {\r\n  AddLiquidityModalData,\r\n  AddLiquidityModalDataStep,\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const AddLiquidityProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isAddLiquidityProgressModalOpened, addLiquidityModalData } =\r\n    useModalsStore();\r\n  const {\r\n    steps,\r\n    token1Symbol,\r\n    token0Symbol,\r\n    step: activeStep,\r\n  } = addLiquidityModalData;\r\n\r\n  const getStepStatus = useStepStatus<AddLiquidityModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isAddLiquidityProgressModalOpened}\r\n      isCentered\r\n      title=\"Add LP in progress\"\r\n    >\r\n\r\n      {steps?.includes(AddLiquidityModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(AddLiquidityModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic <br /> Account\r\n\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.CreatePair) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.CreatePair)}\r\n          iconSrc={plusSrc}\r\n          chevron\r\n        >\r\n          Creating pair <br /> {token0Symbol} - {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n\r\n      {steps?.includes(AddLiquidityModalDataStep.Approve0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Approve0)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Deposit0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Deposit0)}\r\n          iconSrc={depositSrc}\r\n          chevron\r\n        >\r\n          Depositing <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Approve1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Approve1)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Deposit1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Deposit1)}\r\n          iconSrc={depositSrc}\r\n          chevron\r\n        >\r\n          Depositing <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n\r\n      <TransactionStep\r\n        status={getStepStatus(AddLiquidityModalDataStep.AddLiquidity)}\r\n        iconSrc={dropSrc}\r\n      >\r\n        Adding LP of <br /> {token0Symbol} + {token1Symbol}\r\n      </TransactionStep>\r\n\r\n\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Box } from '@chakra-ui/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { checkPlainSrc } from '@/assets';\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { StepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const AllowanceVerifyModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    isAllowanceVerifyModalOpened,\r\n    allowanceModalData: { tokenSymbol },\r\n  } = useModalsStore();\r\n\r\n  const _tokenSymbol = useMemo(() => {\r\n    if (!tokenSymbol) {\r\n      return ['token'];\r\n    } else if (typeof tokenSymbol === 'string') {\r\n      return [tokenSymbol];\r\n    } else {\r\n      return tokenSymbol;\r\n    }\r\n  }, [tokenSymbol]);\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isAllowanceVerifyModalOpened}\r\n      isCentered\r\n      title=\"Verifying Allowance\"\r\n    >\r\n      {_tokenSymbol.map((symbol) => (\r\n        <TransactionStep\r\n          status={StepStatus.Active}\r\n          iconSrc={checkPlainSrc}\r\n          key={symbol}\r\n        >\r\n          <Box mx={6}>\r\n            Verifying {symbol} <br /> allowance\r\n          </Box>\r\n        </TransactionStep>\r\n      ))}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import {\r\n    Flex, Heading, Modal, ModalCloseButton, ModalContent, ModalOverlay, Text, useColorModeValue\r\n} from '@chakra-ui/react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport packageJSON from '@/../package.json';\r\n\r\n\r\n\r\nvar appVer = localStorage.getItem('appver');\r\ntype AppUpdatedModalProps = {\r\n    isNotiOpen: boolean;\r\n};\r\n\r\nexport const AppUpdatedModal: React.FC<AppUpdatedModalProps> = ({ isNotiOpen }) => {\r\n\r\n    const [isModelOpen, setisModelOpen] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (packageJSON.version == appVer) {\r\n            setisModelOpen(false);\r\n        }\r\n    }, [appVer])\r\n\r\n    function handleClose() {\r\n        localStorage.setItem('appver', packageJSON.version);\r\n        setisModelOpen(false);\r\n    }\r\n\r\n    const bg = useColorModeValue('gray.50', 'custom.2');\r\n    const color = useColorModeValue('gray.600', 'custom.1');\r\n    const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n    return isModelOpen ? (\r\n        <Modal isOpen={isModelOpen} isCentered onClose={handleClose}>\r\n            <ModalOverlay />\r\n            <ModalContent as={Flex} maxW=\"md\" direction=\"column\" alignItems=\"center\" bg={bg}\r\n                pt=\"37px\" px=\"37px\" pb=\"43px\" borderRadius={20}\r\n            >\r\n                <ModalCloseButton />\r\n                <Heading as=\"h2\" color={titleColor} fontWeight={700} fontSize=\"1.2rem\" mb={3}>\r\n                    UPDATE NOTIFICATION!\r\n                </Heading>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                We're excited to announce the launch of new features on SONIC, designed to improve your trading experience. \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                With the introduction of ICRC support, you can now trade and add liquidity pools for ckBTC, SNS1, and CHAT tokens. We've also implemented ICP, allowing you to trade and create LP for your favorite tokens using ICP without affecting current WICP pairs.\r\n   \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                Additionally, we've streamlined the ICP Wrapping process under the mint option for greater ease of use. \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                By default, tokens will be kept in your sonic wallet to facilitate high-frequency trading, where even a few extra seconds matter a lot. However, during the swap,\r\n                 you can uncheck this feature if you want to withdraw directly to your web wallet.\r\n                 <a style={{color:\"#008eff\" , fontWeight:\"bold\" }} href='https://docs.sonic.ooo/product/assets#keeping-assets-in-sonic-after-a-swap' target=\"_blank\">Learn more</a>\r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                    We're confident that these updates will enhance your trading efficiency on Sonic DEX. Thank you for choosing Sonic DEX!\r\n                </Text>\r\n            </ModalContent>\r\n        </Modal>\r\n    ) : <></>;\r\n};\r\n","import { Flex, Image } from '@chakra-ui/react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\ntype ImportTokenImageProps = {\r\n  logo?: string;\r\n};\r\n\r\nexport const ImportTokenImage = ({\r\n  logo = questionMarkSrc,\r\n}: ImportTokenImageProps) => {\r\n  if (logo === questionMarkSrc) {\r\n    return (\r\n      <Flex\r\n        borderRadius={26}\r\n        bg=\"gray.500\"\r\n        w={10}\r\n        h={10}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Image alt=\"logo\" w={6} h={6} src={logo} />\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  return <Image alt=\"logo\" borderRadius={26} w={10} h={10} src={logo} />;\r\n};\r\n","import {\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Flex,\r\n  Heading,\r\n  Image,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { useState } from 'react';\r\n\r\nimport { redTriangleWarningSrc } from '@/assets';\r\n\r\nimport { ImportTokenImage } from './import-token-image';\r\n\r\ntype ImportTokenProps = {\r\n  logo?: string;\r\n  id: string;\r\n  symbol: string;\r\n  name: string;\r\n  handleImport: (arg0?: any) => any;\r\n};\r\n\r\nexport const ImportToken = ({\r\n  logo,\r\n  id,\r\n  symbol,\r\n  name,\r\n  handleImport,\r\n}: ImportTokenProps) => {\r\n  const [understandRisk, setUnderstandRisk] = useState(false);\r\n\r\n  const bg = useColorModeValue('gray.100', 'custom.3');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Flex direction=\"column\" width=\"100%\" alignItems=\"center\">\r\n      <Heading as=\"h1\" fontWeight={700} fontSize=\"1.125rem\" mb={6}>\r\n        Import Token\r\n      </Heading>\r\n      <ImportTokenImage logo={logo} />\r\n      <Text mt={2} fontSize=\"1.125rem\" fontWeight={700} color=\"gray.50\">\r\n        {symbol}\r\n      </Text>\r\n      <Text color={color}>{name}</Text>\r\n      <Flex\r\n        mt={5}\r\n        mb={6}\r\n        py={3}\r\n        w=\"100%\"\r\n        bg={bg}\r\n        borderRadius={20}\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        direction=\"row\"\r\n      >\r\n        <Text color=\"gray.50\">{id}</Text>\r\n      </Flex>\r\n      <Box\r\n        position=\"relative\"\r\n        bg=\"rgba(229, 130, 121, 0.1)\"\r\n        borderRadius={20}\r\n        mb={6}\r\n        pt={4}\r\n        px={5}\r\n        pb={5}\r\n      >\r\n        <Image\r\n          alt=\"warning\"\r\n          src={redTriangleWarningSrc}\r\n          w={6}\r\n          position=\"absolute\"\r\n          top={4}\r\n          right={5}\r\n        />\r\n        <Text fontSize=\"1.125rem\" color=\"#E58279\" fontWeight={700} mb={2}>\r\n          Trade at your own risk!\r\n        </Text>\r\n        <Text color=\"gray.50\">\r\n          Swapping from ICP to WICP is not reccomended at this moment due to the\r\n          IC restriction. Swapping from WICP to ICP is only allowed on Sonic P2P\r\n          market.\r\n        </Text>\r\n      </Box>\r\n      <Checkbox\r\n        isChecked={understandRisk}\r\n        alignSelf=\"flex-start\"\r\n        onChange={(e) => setUnderstandRisk(e.target.checked)}\r\n        size=\"lg\"\r\n        color=\"gray.50\"\r\n        fontWeight={600}\r\n        mb={6}\r\n      >\r\n        I understand the risk of trading this token\r\n      </Checkbox>\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        w=\"100%\"\r\n        borderRadius={12}\r\n        fontSize=\"1.125rem\"\r\n        fontWeight={700}\r\n        onClick={handleImport}\r\n        disabled={!understandRisk}\r\n      >\r\n        Import Token\r\n      </Button>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './import-token-image';\r\nexport * from './import-token';\r\n","export * from './import-token';\r\nexport * from './transaction';\r\n","export * from './transaction-failed-modal-content';\r\nexport * from './transaction-progress-modal-content';\r\nexport * from './transaction-step';\r\nexport * from './transaction.utils';\r\n","import {\r\n  Heading,\r\n  HStack,\r\n  Modal,\r\n  ModalBody,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  ModalProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\ntype TransactionFailedModalProps = ModalProps & {\r\n  title: string;\r\n};\r\n\r\nexport const TransactionFailedModal: React.FC<TransactionFailedModalProps> = ({\r\n  title,\r\n  children,\r\n  ...modalProps\r\n}) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <Modal {...modalProps}>\r\n      <ModalOverlay />\r\n      <ModalContent textAlign=\"center\" borderRadius={20} bg={bg}>\r\n        <ModalHeader>\r\n          <Heading as=\"h2\" fontWeight={700} fontSize=\"1.375rem\">\r\n            {title}\r\n          </Heading>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <Text color={color}>Please choose an option below</Text>\r\n        </ModalBody>\r\n        <ModalFooter as={HStack}>{children}</ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Heading,\r\n  Modal,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalOverlay,\r\n  ModalProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nexport type TransactionProgressModalProps = ModalProps & {\r\n  title: string;\r\n};\r\n\r\nexport const TransactionProgressModal: React.FC<\r\n  TransactionProgressModalProps\r\n> = ({ children, title, ...props }) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  return (\r\n    <Modal {...props}>\r\n      <ModalOverlay />\r\n      <ModalContent\r\n        as={Flex}\r\n        direction=\"column\"\r\n        alignItems=\"center\"\r\n        bg={bg}\r\n        pt=\"37px\"\r\n        px=\"37px\"\r\n        pb=\"43px\"\r\n        borderRadius={20}\r\n        minWidth={['unset', 'fit-content', 'fit-content']}\r\n      >\r\n        <ModalCloseButton />\r\n        <Heading\r\n          as=\"h1\"\r\n          color={titleColor}\r\n          fontWeight={700}\r\n          fontSize=\"1.375rem\"\r\n          mb={3}\r\n        >\r\n          {title}\r\n        </Heading>\r\n        <Text as=\"p\" color={color} mb=\"2.06rem\">\r\n          Please wait some time for transactions to finish\r\n        </Text>\r\n        <Flex\r\n          direction=\"row\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"flex-start\"\r\n          flexWrap=\"wrap\"\r\n          rowGap={4}\r\n        >\r\n          {children}\r\n        </Flex>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Box, Flex, Icon, useColorModeValue } from '@chakra-ui/react';\r\nimport { FaChevronRight } from '@react-icons/all-files/fa/FaChevronRight';\r\nimport { useMemo } from 'react';\r\n\r\nimport { CircleIcon } from '@/components';\r\n\r\nimport { StepStatus } from '../..';\r\n\r\ntype TransactionStepProps = {\r\n  children: React.ReactNode;\r\n  status: StepStatus;\r\n  iconSrc: string;\r\n  chevron?: boolean;\r\n};\r\n\r\nexport const TransactionStep = ({\r\n  children,\r\n  iconSrc,\r\n  status,\r\n  chevron = false,\r\n}: TransactionStepProps) => {\r\n  const colorDisabled = useColorModeValue('gray.600', 'custom.1');\r\n  const colorEnabled = useColorModeValue('gray.800', 'white');\r\n\r\n  const { color, weight, opacity } = useMemo(() => {\r\n    if (status === StepStatus.Disabled) {\r\n      return {\r\n        color: colorDisabled,\r\n        weight: 400,\r\n        opacity: 0.4,\r\n      };\r\n    }\r\n\r\n    return {\r\n      color: colorEnabled,\r\n      weight: 600,\r\n      opacity: 1,\r\n    };\r\n  }, [colorDisabled, colorEnabled, status]);\r\n\r\n  return (\r\n    <>\r\n      <Flex\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Flex direction=\"column\" alignItems=\"center\">\r\n          <CircleIcon iconSrc={iconSrc} status={status} />\r\n          <Flex\r\n            mt={2}\r\n            as=\"h3\"\r\n            fontWeight={weight}\r\n            fontSize=\"0.875rem\"\r\n            color={color}\r\n            textAlign=\"center\"\r\n            transition=\"color 400ms\"\r\n            flex={1}\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            {children}\r\n          </Flex>\r\n        </Flex>\r\n      </Flex>\r\n      {chevron && (\r\n        <Box>\r\n          <Icon\r\n            as={FaChevronRight}\r\n            my={4}\r\n            mx={2}\r\n            opacity={opacity}\r\n            transition=\"opacity 400ms\"\r\n          />\r\n        </Box>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","export enum TransactionType {}\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const DepositFailModal = () => {\r\n  const { isDepositFailModalOpened, depositModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = depositModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeDepositFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isDepositFailModalOpened}\r\n      isCentered\r\n      title=\"Deposit Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import {\r\n    Flex, Heading, Modal, ModalCloseButton, ModalContent, ModalOverlay, useColorModeValue, ModalBody, Box, Text, HStack, Button\r\n} from '@chakra-ui/react';\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\n\r\nimport QRCode from \"react-qr-code\";\r\nimport { FiCopy } from '@react-icons/all-files/fi/FiCopy';\r\ntype DepostAddressProps = {\r\n    isNotiOpen: boolean;\r\n    tokenId?: string;\r\n    onclose?: any;\r\n};\r\n\r\nimport { tokenList } from '@/utils'\r\nimport { useWalletStore } from '@/store';\r\n\r\nimport { desensitizationPrincipalId } from '@/utils/canister';\r\nimport { copyToClipboard } from '@/utils';\r\n\r\nexport const DepostAddressModal: React.FC<DepostAddressProps> = ({ isNotiOpen, tokenId, onclose }) => {\r\n    const [isModelOpen, setisModelOpen] = useState(isNotiOpen);\r\n\r\n    const { accountId, principalId } = useWalletStore();\r\n\r\n    useEffect(() => {\r\n        setisModelOpen(isNotiOpen);\r\n    }, [isNotiOpen])\r\n\r\n    function handleClose() {\r\n        setisModelOpen(false);\r\n        onclose()\r\n    }\r\n    const shortPrincipalId = useMemo(() => {\r\n        return desensitizationPrincipalId(principalId);\r\n    }, [principalId]);\r\n\r\n    const shortAccntId =  useMemo(() => {\r\n        return desensitizationPrincipalId(accountId);\r\n    },[accountId])\r\n\r\n    const handleCopy = (type:string) => {\r\n        if(type =='princ'){\r\n            if (principalId) {\r\n                copyToClipboard(principalId, 'Principal ID copied to clipboard');\r\n            }\r\n        }else if(type =='acntid'){\r\n            if (accountId) {\r\n                copyToClipboard(accountId, 'Account ID copied to clipboard');\r\n            }\r\n        }else if(type == 'tokenid'){\r\n            if (tokenId) {\r\n                copyToClipboard(tokenId, 'Token Canister ID copied to clipboard');\r\n            }\r\n        }\r\n    };\r\n    \r\n    const tokenData =  useMemo(() => {\r\n        return tokenId ? tokenList('obj', tokenId) : {};\r\n    },[tokenId]) \r\n    \r\n    const bg = useColorModeValue('gray.50', 'custom.2');\r\n    const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n    return isModelOpen ? (\r\n        <Modal isOpen={isModelOpen} isCentered onClose={handleClose}>\r\n            <ModalOverlay />\r\n            <ModalContent as={Flex} maxW=\"xl\" direction=\"column\" alignItems=\"center\" bg={bg}\r\n                pt=\"37px\" px=\"37px\" pb=\"43px\" borderRadius={20}\r\n            >\r\n                <ModalCloseButton />\r\n                <Heading as=\"h4\" color={titleColor} fontWeight={600} fontSize={'1.3rem'}>\r\n                    Deposit {tokenData?.symbol}\r\n                  \r\n                </Heading>\r\n                <Box mb={3}>\r\n                    <br/>\r\n                    <p> <b>Token Canister  :  </b> <span style={{userSelect:'all' , marginRight:'5px'}}>{tokenData?.id}</span> <Box onClick={()=>handleCopy('tokenid')} cursor={'pointer'} as={FiCopy} display={'inline-flex'}/></p>\r\n                </Box>\r\n               \r\n                <ModalBody mt={4} p={0} display={'contents'}>\r\n                    <Box width={'full'} py={3} px={2} >\r\n                        <Heading as=\"h2\" color={titleColor} fontWeight={400} fontSize=\"1.2rem\" mb={3}>\r\n                            Use Principal ID\r\n                        </Heading>\r\n                        <Flex width={'100%'} border=\"1px solid rgb(63, 81, 181)\" borderRadius={'lg'} py={3} px={2}>\r\n                            <Box display=\"flex\" width={'100%'} alignItems=\"center\"  justifyContent=\"start\">\r\n                                <Box mr={4}>Principal ID</Box>\r\n                                <Button onClick={()=>handleCopy('princ')} >\r\n                                    <HStack px={10} p={3}>\r\n                                        <FiCopy />\r\n                                        <Text> {shortPrincipalId}</Text>\r\n                                    </HStack>\r\n                                </Button>\r\n                            </Box>\r\n                            <Box border=\"1px solid rgb(63, 81, 181)\" p={1} borderRadius={'md'} >\r\n                                {principalId && <QRCode value={principalId} size={100} />}\r\n                            </Box>\r\n                        </Flex>\r\n                    </Box>\r\n                    { tokenData?.symbol =='ICP' &&\r\n                    <Box width={'full'} py={3} px={2} mt=\"3\" >\r\n                        <Heading as=\"h2\" color={titleColor} fontWeight={400} fontSize=\"1.2rem\" mb={3}>\r\n                            Use Account ID\r\n                        </Heading>\r\n                        <Flex width={'100%'} border=\"1px solid rgb(63, 81, 181)\" borderRadius={'lg'} py={3} px={2}>\r\n                        <Box display=\"flex\" width={'100%'} alignItems=\"center\"  justifyContent=\"start\" >\r\n                                <Box mr={4}>Account ID</Box>\r\n                                <Button onClick={()=>handleCopy('acntid')} >\r\n                                    <HStack px={10} p={3}>\r\n                                        <FiCopy />\r\n                                        <Text> {shortAccntId}</Text>\r\n                                    </HStack>\r\n                                </Button>\r\n                            </Box>\r\n                            <Box border=\"1px solid rgb(63, 81, 181)\" p={1} borderRadius={'md'} >\r\n                                {accountId && <QRCode value={accountId} size={100} />}\r\n                            </Box>\r\n                        </Flex>\r\n                    </Box>}\r\n                </ModalBody>\r\n            </ModalContent>\r\n        </Modal>\r\n    ) : <></>;\r\n};\r\n","import { checkPlainSrc, depositSrc } from '@/assets';\r\nimport {\r\n  DepositModalData, DepositModalDataStep, modalsSliceActions,\r\n  useAppDispatch, useModalsStore\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const DepositProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isDepositProgressModalOpened, depositModalData } = useModalsStore();\r\n  const { steps, tokenSymbol, step: activeStep } = depositModalData;\r\n\r\n  const getStepStatus = useStepStatus<DepositModalData['step']>({ activeStep, steps });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeDepositProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal onClose={handleClose}\r\n      isOpen={isDepositProgressModalOpened} isCentered title=\"Deposit in progress\">\r\n      {steps?.includes(DepositModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(DepositModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic {tokenSymbol}  <br /> Account\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(DepositModalDataStep.Approve) && (\r\n        <TransactionStep status={getStepStatus(DepositModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Approving <br /> {tokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep status={getStepStatus(DepositModalDataStep.Deposit)} iconSrc={depositSrc}>\r\n        Depositing <br /> {tokenSymbol}\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","export * from './add-liquidity-fail-modal';\r\nexport * from './add-liquidity-progress-modal';\r\nexport * from './allowance-verify-modal';\r\nexport * from './components';\r\nexport * from './deposit-fail-modal';\r\nexport * from './deposit-progress-modal';\r\nexport * from './mint-manual-modal';\r\nexport * from './mint-wicp-fail-modal';\r\nexport * from './mint-wicp-progress-modal';\r\nexport * from './mint-xtc-fail-modal';\r\nexport * from './mint-xtc-progress-modal';\r\nexport * from './remove-liquidity-fail-modal';\r\nexport * from './remove-liquidity-progress-modal';\r\nexport * from './swap-fail-modal';\r\nexport * from './swap-progress-modal';\r\nexport * from './terms-and-conditions-modal';\r\nexport * from './token-select-modal';\r\nexport * from './use-step-status';\r\nexport * from './withdraw-progress-modal';\r\nexport * from './withdraw-wicp-fail-modal';\r\nexport * from './withdraw-wicp-progress-modal';\r\nexport * from './app-Updated';\r\nexport * from './wallet-list';\r\nexport * from './deposit-info';\r\nexport * from './transfer-progress-modal';\r\nexport * from './retryDeposit';","import {\r\n  Button,\r\n  FormControl,\r\n  FormErrorMessage,\r\n  FormHelperText,\r\n  FormLabel,\r\n  HStack,\r\n  Input,\r\n  Link as ChakraLink,\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  Select,\r\n  Stack,\r\n  Text,\r\n  useColorModeValue,\r\n  useConst,\r\n} from '@chakra-ui/react';\r\nimport { FaRedoAlt } from '@react-icons/all-files/fa/FaRedoAlt';\r\nimport {\r\n  ChangeEvent,\r\n  FormEvent,\r\n  KeyboardEvent,\r\n  useCallback,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nimport {\r\n  MintTokenSymbol,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  useNotificationStore,\r\n} from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\n\r\nexport const MintManualModal = () => {\r\n  const TOKEN_OPTIONS = useConst([\r\n    {\r\n      label: MintTokenSymbol.WICP,\r\n      value: MintTokenSymbol.WICP,\r\n    },\r\n    {\r\n      label: MintTokenSymbol.XTC,\r\n      value: MintTokenSymbol.XTC,\r\n    },\r\n  ]);\r\n  const color = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const {\r\n    mintManualModalOpened,\r\n    mintManualBlockHeight,\r\n    mintManualTokenSymbol,\r\n    mintManualModalErrorMessage,\r\n  } = useModalsStore();\r\n  const { addNotification } = useNotificationStore();\r\n\r\n  const [blockHeightErrorMessage, setBlockHeightErrorMessage] = useState<\r\n    string | undefined\r\n  >(undefined);\r\n  const [tokenErrorMessage, setTokenErrorMessage] = useState<\r\n    string | undefined\r\n  >(undefined);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleMint = useCallback(\r\n    (tokenSymbol: MintTokenSymbol) => {\r\n      addNotification({\r\n        title: `Minting ${tokenSymbol}`,\r\n        type: NotificationType.MintManual,\r\n        id: String(new Date().getTime()),\r\n      });\r\n    },\r\n    [addNotification]\r\n  );\r\n\r\n  const resetModalData = () => {\r\n    dispatch(modalsSliceActions.setMintManualModalErrorMessage(''));\r\n    setBlockHeightErrorMessage(undefined);\r\n    setTokenErrorMessage(undefined);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetModalData();\r\n    dispatch(modalsSliceActions.closeMintManualModal());\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\r\n    resetModalData();\r\n    e.preventDefault();\r\n\r\n    if (!mintManualBlockHeight || !mintManualTokenSymbol) {\r\n      if (!mintManualBlockHeight) {\r\n        setBlockHeightErrorMessage('Block Height is required');\r\n      }\r\n      if (!mintManualTokenSymbol) {\r\n        setTokenErrorMessage('Token is required');\r\n      }\r\n      return;\r\n    }\r\n\r\n    handleMint(mintManualTokenSymbol);\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n\r\n  const { activityTabURL, learnMoreURL } = useMemo(() => {\r\n    return {\r\n      activityTabURL: '/activity',\r\n      learnMoreURL: ExternalLink.failedMintDocs,\r\n    };\r\n  }, []);\r\n\r\n  const handleBlockHeightChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    dispatch(modalsSliceActions.setMintManualBlockHeight(e.target.value));\r\n  };\r\n\r\n  const handleTokenSymbolSelect = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    dispatch(\r\n      modalsSliceActions.setMintManualTokenSymbol(\r\n        e.target.value as MintTokenSymbol\r\n      )\r\n    );\r\n  };\r\n\r\n  const blockInvalidBlockHeightChar = (e: KeyboardEvent<HTMLInputElement>) =>\r\n    ['e', 'E', '+', '-'].includes(e.key) && e.preventDefault();\r\n\r\n  return (\r\n    <Modal isOpen={mintManualModalOpened} onClose={handleClose} isCentered>\r\n      <ModalOverlay />\r\n      <ModalContent as=\"form\" onSubmit={handleSubmit} noValidate>\r\n        <ModalCloseButton />\r\n        <ModalHeader borderBottom=\"none\">\r\n          Retry minting{' '}\r\n          <Text textAlign=\"center\" fontSize=\"sm\" color={color}>\r\n            Use this form to retry any of your failed mints.\r\n          </Text>\r\n        </ModalHeader>\r\n        <ModalBody as={Stack} spacing={4}>\r\n          <FormControl isRequired isInvalid={Boolean(tokenErrorMessage)}>\r\n            <FormLabel>Token</FormLabel>\r\n            <Select\r\n              name=\"token\"\r\n              value={mintManualTokenSymbol}\r\n              onChange={handleTokenSymbolSelect}\r\n            >\r\n              {TOKEN_OPTIONS.map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n            <FormErrorMessage>{tokenErrorMessage}</FormErrorMessage>\r\n          </FormControl>\r\n\r\n          <FormControl isRequired isInvalid={Boolean(blockHeightErrorMessage)}>\r\n            <FormLabel>Transaction Block Height</FormLabel>\r\n\r\n            <Input\r\n              name=\"blockHeight\"\r\n              value={mintManualBlockHeight}\r\n              onKeyDown={blockInvalidBlockHeightChar}\r\n              onChange={handleBlockHeightChange}\r\n              placeholder=\"2021024\"\r\n              type=\"number\"\r\n            />\r\n\r\n            <FormErrorMessage>{blockHeightErrorMessage}</FormErrorMessage>\r\n            <FormHelperText>\r\n              Visit your&nbsp;\r\n              <ChakraLink\r\n                as={Link}\r\n                color={linkColor}\r\n                to={activityTabURL}\r\n                onClick={handleClose}\r\n              >\r\n                activity tab\r\n              </ChakraLink>\r\n              &nbsp;to find your failed transactions blockheight. Learn more\r\n              about failed mints&nbsp;\r\n              <ChakraLink\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                color={linkColor}\r\n                href={learnMoreURL}\r\n              >\r\n                here\r\n              </ChakraLink>\r\n              .\r\n            </FormHelperText>\r\n          </FormControl>\r\n          {mintManualModalErrorMessage && (\r\n            <Text textAlign=\"center\" fontSize=\"sm\" color=\"red.500\">\r\n              {mintManualModalErrorMessage}\r\n            </Text>\r\n          )}\r\n        </ModalBody>\r\n        <ModalFooter as={HStack}>\r\n          <Button leftIcon={<FaRedoAlt />} isFullWidth type=\"submit\" variant=\"gradient\" colorScheme=\"dark-blue\">\r\n            Retry\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const MintWICPFailModal = () => {\r\n  const { isMintWICPFailModalOpened, mintWICPModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = mintWICPModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeMintWICPFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isMintWICPFailModalOpened}\r\n      isCentered\r\n      title=\"ICP Wrapping Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  MintModalData,\r\n  MintModalDataStep,\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const MintWICPProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isMintWICPProgressModalOpened, mintWICPModalData } = useModalsStore();\r\n  const { steps, step: activeStep } = mintWICPModalData;\r\n  const getStepStatus = useStepStatus<MintModalData['step']>({ activeStep, steps});\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isMintWICPProgressModalOpened}\r\n      isCentered\r\n      title=\"ICP wrapping in progress\"\r\n    >\r\n      {steps?.includes(MintModalDataStep.LedgerTransfer) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.LedgerTransfer)}\r\n          iconSrc={withdrawSrc}\r\n          chevron\r\n        >\r\n          Ledger Transfer <br />\r\n          ICP\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep\r\n        status={getStepStatus(MintModalDataStep.Mint)}\r\n        iconSrc={swapSrc}\r\n        chevron={\r\n          steps?.includes(MintModalDataStep.Approve) ||\r\n          steps?.includes(MintModalDataStep.Deposit)\r\n        }\r\n      >\r\n        Minting <br /> WICP\r\n      </TransactionStep>\r\n      {steps?.includes(MintModalDataStep.Approve) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(MintModalDataStep.Deposit) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Deposit)}\r\n          iconSrc={depositSrc}\r\n        >\r\n          Depositing <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const MintXTCFailModal = () => {\r\n  const {\r\n    isMintXTCFailModalOpened: isRemoveLiquidityFailOpened,\r\n    mintXTCModalData,\r\n  } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = mintXTCModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeMintXTCFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityFailOpened}\r\n      isCentered\r\n      title=\"Mint XTC Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  MintModalData,MintModalDataStep,modalsSliceActions,useAppDispatch,useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const MintXTCProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isMintXTCProgressModalOpened, mintXTCModalData } = useModalsStore();\r\n  const { steps, step: activeStep } = mintXTCModalData;\r\n\r\n  const getStepStatus = useStepStatus<MintModalData['step']>({activeStep,steps,});\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isMintXTCProgressModalOpened}\r\n      isCentered\r\n      title=\"Mint XTC in progress\"\r\n    >\r\n      <TransactionStep status={getStepStatus(MintModalDataStep.LedgerTransfer)} iconSrc={withdrawSrc} chevron>\r\n        Ledger Transfer <br /> ICP\r\n      </TransactionStep>\r\n      <TransactionStep\r\n        status={getStepStatus(MintModalDataStep.Mint)}\r\n        iconSrc={swapSrc}\r\n        chevron={\r\n          steps?.includes(MintModalDataStep.Approve) ||\r\n          steps?.includes(MintModalDataStep.Deposit)\r\n        }\r\n      >\r\n        Minting <br /> XTC\r\n      </TransactionStep>\r\n      {steps?.includes(MintModalDataStep.Approve) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> XTC\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(MintModalDataStep.Deposit) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Deposit)}\r\n          iconSrc={depositSrc}\r\n        >\r\n          Depositing <br /> XTC\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const RemoveLiquidityFailModal = () => {\r\n  const { isRemoveLiquidityFailModalOpened, removeLiquidityModalData } =\r\n    useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } =\r\n    removeLiquidityModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityFailModalOpened}\r\n      isCentered\r\n      title=\"Remove Liquidity Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Close\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { dropSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,\r\n  RemoveLiquidityModalData,\r\n  RemoveLiquidityModalDataStep,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const RemoveLiquidityProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isRemoveLiquidityProgressModalOpened, removeLiquidityModalData } =\r\n    useModalsStore();\r\n  const {\r\n    steps,\r\n    token1Symbol,\r\n    token0Symbol,\r\n    step: activeStep,\r\n  } = removeLiquidityModalData;\r\n  const getStepStatus = useStepStatus<RemoveLiquidityModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityProgressModalOpened}\r\n      isCentered\r\n      title=\"Removing LP in progress\"\r\n    >\r\n      <TransactionStep\r\n        status={getStepStatus(RemoveLiquidityModalDataStep.RemoveLiquidity)}\r\n        iconSrc={dropSrc}\r\n        chevron={\r\n          steps?.includes(RemoveLiquidityModalDataStep.Withdraw0) ||\r\n          steps?.includes(RemoveLiquidityModalDataStep.Withdraw1)\r\n        }\r\n      >\r\n        Removing Liquidity Position of <br /> {token0Symbol} + {token1Symbol}\r\n      </TransactionStep>\r\n\r\n      {steps?.includes(RemoveLiquidityModalDataStep.Withdraw0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(RemoveLiquidityModalDataStep.Withdraw0)}\r\n          iconSrc={withdrawSrc}\r\n          chevron={steps?.includes(RemoveLiquidityModalDataStep.Withdraw1)}\r\n        >\r\n          Withdrawing <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(RemoveLiquidityModalDataStep.Withdraw1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(RemoveLiquidityModalDataStep.Withdraw1)}\r\n          iconSrc={withdrawSrc}\r\n        >\r\n          Withdrawing <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport {\r\n    Button, Modal, ModalOverlay, ModalContent, ModalHeader, ModalBody, ModalFooter, useColorModeValue,\r\n    FormControl, FormErrorMessage, Stack, HStack, Select, ModalCloseButton, FormLabel, Text\r\n} from '@chakra-ui/react';\r\n\r\nimport { FaRedoAlt } from '@react-icons/all-files/fa/FaRedoAlt';\r\nimport { useSwapCanisterStore } from '@/store';\r\n\r\nimport { Principal } from '@dfinity/principal';\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\n\r\nimport { NotificationType, useNotificationStore } from '@/store';\r\n\r\ntype RetryProps = {\r\n    isRetryOpen?: Number;\r\n};\r\n\r\nexport const RetryFailedTrxModal: React.FC<RetryProps> = ({ isRetryOpen }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [tokenErrorMessage, setRokenError] = useState('');\r\n    const [tokenSelected, settokenSelected] = useState('');\r\n    const [buttonText, setbuttonText] = useState('Retry');\r\n    const { supportedTokenList } = useSwapCanisterStore();\r\n    const [isTokenTrx, setisTokenTrx] = useState(false);\r\n\r\n    const { addNotification } = useNotificationStore();\r\n\r\n    setRokenError; setisTokenTrx; setbuttonText; BatchTransact; artemis;\r\n    // setRokenError; supportedTokenList; supportedTokenListState; tokenSelected;\r\n\r\n    const bg = useColorModeValue('gray.50', 'custom.2');\r\n    const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n\r\n    useEffect(() => {\r\n        if (supportedTokenList?.length && !tokenSelected)\r\n            settokenSelected(supportedTokenList[0]?.id);\r\n    }, [supportedTokenList])\r\n\r\n\r\n    useEffect(() => {\r\n        if (isRetryOpen) { setIsOpen(true) }\r\n        else setIsOpen(false);\r\n    }, [isRetryOpen])\r\n\r\n    const handleSubmit = async (event: any) => {\r\n        event.preventDefault();\r\n        setisTokenTrx(true);\r\n        const trx = new BatchTransact({\r\n            retry: {\r\n                canisterId: ENV.canistersPrincipalIDs.swap,\r\n                idl: SwapIDL.factory,\r\n                methodName: 'retryDeposit',\r\n                onSuccess: () => { },\r\n                onFail: () => { },\r\n                args: [Principal.fromText(tokenSelected)]\r\n            }\r\n        }, artemis);\r\n\r\n        trx.execute().then((data: any) => {\r\n            if(data){\r\n                addNotification({ title: `Added Failed Transaction balance`, type: NotificationType.Success, id: String(new Date().getTime()), });\r\n            }else{\r\n                addNotification({ title: `No pending deposits`, type: NotificationType.Error, id: String(new Date().getTime()), });\r\n            }\r\n            setIsOpen(false);\r\n            setisTokenTrx(false);\r\n        }).catch((err: any) => {\r\n            setisTokenTrx(false);\r\n            setIsOpen(false);\r\n            addNotification({ title: `Error in Transaction. Please try again`, type: NotificationType.Error, id: String(new Date().getTime()), });\r\n        })\r\n    };\r\n    const handleTokenSelect = async (event: any) => {\r\n        event.preventDefault();\r\n        settokenSelected(event.target.value);\r\n    };\r\n\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={() => setIsOpen(false)} isCentered closeOnOverlayClick={!isTokenTrx}>\r\n            <ModalOverlay />\r\n            <ModalContent as=\"form\" onSubmit={handleSubmit} noValidate bg={bg}>\r\n                {isTokenTrx == false && <ModalCloseButton />}\r\n                <ModalHeader borderBottom=\"none\" pt={8}>\r\n                    Retry Failed Deposit\r\n                    <Text mt={3} textAlign=\"center\" fontSize=\"sm\" color={titleColor}>\r\n                        Use this form to retry any of your failed Deposit.\r\n                    </Text>\r\n                </ModalHeader>\r\n                <ModalBody as={Stack} spacing={4} pt={6} pb={4}>\r\n                    <FormControl isRequired isInvalid={Boolean(tokenErrorMessage)}>\r\n                        <FormLabel>Select Token</FormLabel>\r\n                        <Select name=\"token\" value={tokenSelected} onChange={handleTokenSelect}>\r\n                            {supportedTokenList?.map((option, index) => (\r\n                                <option key={index} value={option.id}>\r\n                                    {option.name}\r\n                                </option>\r\n                            ))}\r\n                        </Select>\r\n                        <FormErrorMessage>{tokenErrorMessage}</FormErrorMessage>\r\n                    </FormControl>\r\n                </ModalBody>\r\n                <ModalFooter as={HStack}>\r\n                    <Button isLoading={isTokenTrx} width={'100%'} leftIcon={<FaRedoAlt />} type=\"submit\" variant=\"gradient\" colorScheme=\"dark-blue\">\r\n                        {buttonText}\r\n                    </Button>\r\n                </ModalFooter>\r\n            </ModalContent>\r\n        </Modal>\r\n    );\r\n};","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const SwapFailModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isSwapFailModalOpened, swapModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, withdrawCallback, closeCallback] = [] } =\r\n    swapModalData;\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeSwapFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isSwapFailModalOpened}\r\n      isCentered\r\n      title=\"Swap Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry Swap\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={withdrawCallback}\r\n        isFullWidth\r\n      >\r\n        Withdraw to Plug\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions, SwapModalData, SwapModalDataStep, useAppDispatch, useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const SwapProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isSwapProgressModalOpened, swapModalData } = useModalsStore();\r\n  const { steps, fromTokenSymbol, toTokenSymbol, step: activeStep } = swapModalData;\r\n\r\n  const getStepStatus = useStepStatus<SwapModalData['step']>({ activeStep, steps });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeSwapProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal onClose={handleClose} isOpen={isSwapProgressModalOpened} isCentered title=\"Swap in progress\">\r\n       {steps?.includes(SwapModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic<br />{fromTokenSymbol} Account\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(SwapModalDataStep.Approve) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Approve)} iconSrc={checkPlainSrc} chevron>\r\n          Approving <br /> {fromTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(SwapModalDataStep.Deposit) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Deposit)} iconSrc={depositSrc} chevron>\r\n          Depositing <br /> {fromTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep status={getStepStatus(SwapModalDataStep.Swap)} iconSrc={swapSrc} chevron={steps?.includes(SwapModalDataStep.Withdraw)}>\r\n        Swapping <br /> {fromTokenSymbol} to {toTokenSymbol}\r\n      </TransactionStep>\r\n      {steps?.includes(SwapModalDataStep.Withdraw) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Withdraw)} iconSrc={withdrawSrc}>\r\n          Withdrawing <br /> {toTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Link,\r\n  Modal,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nexport const TermsAndConditionsModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    isTermsAndConditionsModalOpened: isOpened,\r\n    termsAndConditionsModalData: {\r\n      callbacks: [successCallback, closeCallback] = [],\r\n    },\r\n  } = useModalsStore();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeTermsAndConditionsModal());\r\n  };\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Modal onClose={handleClose} isOpen={isOpened} isCentered>\r\n      <ModalOverlay />\r\n\r\n      <ModalContent\r\n        alignItems=\"center\"\r\n        borderRadius={20}\r\n        minWidth=\"fit-content\"\r\n      >\r\n        <ModalCloseButton />\r\n        <ModalHeader borderBottom=\"none\">Terms and Conditions</ModalHeader>\r\n        <Text as=\"p\" color={color} maxW={370}>\r\n          Please read &nbsp;\r\n          <Link color=\"dark-blue.600\" href={ExternalLink.termsAndConditions}>\r\n            Sonic's terms & conditions\r\n          </Link>\r\n          &nbsp;carefully.\r\n          <br />\r\n          By clicking \"I agree\" you acknowledge that you have read and accepted\r\n          them.\r\n        </Text>\r\n        <ModalFooter width=\"full\">\r\n          <Button\r\n            onClick={successCallback}\r\n            width=\"full\"\r\n            colorScheme=\"dark-blue\"\r\n            variant=\"gradient\"\r\n          >\r\n            I agree\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { \r\n  Box, Button,Flex,Heading,Icon,Image,Modal,ModalBody,ModalCloseButton,ModalContent,\r\n  ModalHeader,ModalOverlay,Skeleton,Stack,Text,Tooltip,useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { deserialize } from '@memecake/sonic-js';\r\nimport { FaHdd } from '@react-icons/all-files/fa/FaHdd';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\nimport { arrowBackSrc, questionMarkSrc } from '@/assets';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { FeatureState, modalsSliceActions, useAppDispatch, useModalsStore} from '@/store';\r\n\r\n// import { ExternalLink } from '@/utils';\r\n\r\nimport { DisplayValue, SearchBar } from '..';\r\nimport { ImportToken } from './components';\r\n\r\nexport const TokenSelectModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    tokenSelectModalData: tokenSelectData,\r\n    isTokenSelectModalModalOpened: isTokenSelectOpened,\r\n  } = useModalsStore();\r\n\r\n  const { tokens, onSelect, selectedTokenIds, isLoading = false, allowAddToken} = tokenSelectData; // This controls if token can be imported\r\n\r\n  const [addToken, setAddToken] = useState(false);\r\n  const [importTokenData, setImportTokenData] = useState({ name: '',symbol: '',logo: '',id: ''});\r\n\r\n  const parsedTokens = useMemo(() => deserialize(tokens), [tokens]);\r\n  const [search, setSearch] = useState('');\r\n  const [filteredList, setFilteredList] =\r\n    useState<AppTokenMetadata[]>(parsedTokens);\r\n  const { totalBalances } = useBalances();\r\n\r\n  useEffect(() => {\r\n    const filterFunction = ({ symbol, name }: Partial<AppTokenMetadata>) => {\r\n      if (search?.length === 0) {\r\n        return true;\r\n      }\r\n      const lowerSearch = search.toLowerCase();\r\n      return (\r\n        symbol?.toLowerCase().includes(lowerSearch) ||\r\n        name?.toLowerCase().includes(lowerSearch)\r\n      );\r\n    };\r\n\r\n    const filteredItems = parsedTokens.filter(filterFunction);\r\n    setFilteredList(filteredItems);\r\n  }, [search, parsedTokens]);\r\n \r\n \r\n  const handleSelect = (tokenId?: string) => {  \r\n    onSelect(tokenId);handleTokenSelectClose();\r\n  };\r\n\r\n  const handleImportToken = (tokenData: any) => {\r\n    setAddToken(true);setImportTokenData(importTokenData);\r\n  };\r\n\r\n  const importToken = () => {\r\n    // TODO: Import token integration\r\n    handleTokenSelectClose();\r\n  };\r\n\r\n  const handleTokenSelectClose = () => {\r\n    setSearch('');\r\n    dispatch(modalsSliceActions.closeTokenSelectModal());\r\n  };\r\n\r\n  const bg = useColorModeValue('white', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  const emptyColor = useColorModeValue('gray.600', 'gray.300');\r\n\r\n  return (\r\n    <Modal isOpen={isTokenSelectOpened} onClose={handleTokenSelectClose} scrollBehavior=\"inside\" isCentered size=\"md\">\r\n      <ModalOverlay />\r\n      <ModalContent bg={bg}>\r\n        <ModalCloseButton zIndex=\"docked\" />\r\n        <ModalHeader>\r\n          {addToken ? (\r\n            <Box onClick={() => setAddToken(false)} position=\"absolute\" p={2} top={3}\r\n              left={4} cursor=\"pointer\" transition=\"background 400ms\" _hover={{ background: 'custom.3'}}\r\n            >\r\n              <Image src={arrowBackSrc} alt=\"Back\" />\r\n            </Box>\r\n          ) : (\r\n            <Flex w=\"100%\" direction=\"column\" alignItems=\"center\" position=\"sticky\" bg={bg} top={0}>\r\n              <Heading as=\"h1\" fontWeight={700} fontSize=\"lg\">\r\n                Select Token\r\n              </Heading>\r\n              <Box fontSize=\"md\" px=\"0.625rem\" w=\"100%\" mt={4}>\r\n                <SearchBar search={search} setSearch={setSearch} />\r\n              </Box>\r\n            </Flex>\r\n          )}\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          {addToken ? (\r\n            <div>\r\n              <ImportToken id={importTokenData?.id} symbol={importTokenData?.symbol} name={importTokenData?.name} handleImport={importToken}/>\r\n            </div>\r\n          ) : (\r\n            <Stack width=\"100%\" direction=\"column\">\r\n              {isLoading &&\r\n                [...Array(4)].map(() => <TokenSelectItemSkeleton />)}\r\n              {!isLoading && filteredList.length > 0 ? (\r\n                filteredList.map(({ id, logo, symbol, decimals, name }) => (\r\n                  <TokenSelectItem key={id} balance={totalBalances && totalBalances[id]}\r\n                    symbol={symbol} decimals={decimals} name={name} onSelect={() => handleSelect(id)} isLoading={isLoading}\r\n                    isSelected={selectedTokenIds?.includes(id)} logoSrc={logo}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <Stack color={emptyColor} alignItems=\"center\" pt={2}>\r\n                  <Icon as={FaHdd} />\r\n                  <Text textAlign=\"center\">\r\n                    Can't see your token? Request it to be added to Sonic using\r\n                    the button below.\r\n                  </Text>\r\n                </Stack>\r\n              )}\r\n\r\n              {allowAddToken && filteredList.length === 0 && (\r\n                <Flex direction=\"row\" alignItems=\"center\" py={3} px={3}\r\n                  cursor=\"pointer\" justifyContent=\"space-between\" width=\"100%\"\r\n                  transition=\"border 400ms\" border=\"1px solid transparent\" borderRadius=\"20px\"\r\n                >\r\n                  <Flex direction=\"row\" alignItems=\"center\">\r\n                    <Skeleton isLoaded={!isLoading} borderRadius={40}>\r\n                      <Image alt={importTokenData.symbol} src={importTokenData.logo}\r\n                        w={10} h={10} borderRadius={40}\r\n                      />\r\n                    </Skeleton>\r\n                    <Skeleton isLoaded={!isLoading} minWidth={4} ml={3}>\r\n                      <Text fontWeight={700} fontSize=\"1.125rem\" pl={3}>\r\n                        {importTokenData.symbol}\r\n                      </Text>\r\n                    </Skeleton>\r\n                    <Skeleton isLoaded={!isLoading} minWidth={17} ml={2}>\r\n                      <Text pl={2} color={color}>\r\n                        {importTokenData.name}\r\n                      </Text>\r\n                    </Skeleton>\r\n                  </Flex>\r\n                  <Skeleton isLoaded={!isLoading} minWidth={17} ml={2}>\r\n                    <Button width=\"fit-content\" variant=\"gradient\" colorScheme=\"dark-blue\"\r\n                      px={4} borderRadius={20} fontWeight={700} onClick={handleImportToken}\r\n                    >\r\n                      Import\r\n                    </Button>\r\n                  </Skeleton>\r\n                </Flex>\r\n              )}\r\n            </Stack>\r\n          )}\r\n        </ModalBody>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\ntype TokenSelectItemProps = Partial<{\r\n  balance: number; onSelect: any; name: string;\r\n  symbol: string; decimals: number;isSelected: boolean;\r\n  isLoading: boolean;logoSrc: string;\r\n}>;\r\n\r\nconst TokenSelectItem = ({\r\n  balance = 0, onSelect, name = '', symbol = '', decimals = 0,isSelected = false,\r\n  isLoading = false, logoSrc = questionMarkSrc,\r\n}: TokenSelectItemProps) => {\r\n  const { balancesState } = useBalances();\r\n\r\n  const isBalancesUpdating = useMemo(() => {\r\n    return balancesState === FeatureState.Updating;\r\n  }, [balancesState]);\r\n\r\n  const nameColor = useColorModeValue('gray.700', 'gray.300');\r\n\r\n  return (\r\n    <Flex alignItems=\"center\" justifyContent=\"space-between\" py={3} px={3} cursor=\"pointer\"\r\n      width=\"100%\" transition=\"border 400ms\" border=\"1px solid\" borderColor={isSelected ? 'gray.600' : 'transparent'}\r\n      borderRadius=\"20px\" onClick={onSelect} _hover={{ borderColor: 'custom.4'}}\r\n    >\r\n      <Stack direction=\"row\" alignItems=\"center\" spacing={4}>\r\n        <Skeleton isLoaded={!isLoading}>\r\n          <Image alt={symbol} src={logoSrc} w={8} h={8} borderRadius={40} />\r\n        </Skeleton>\r\n        <Box>\r\n          <Skeleton isLoaded={!isLoading} minWidth=\"fit-content\">\r\n            <Text fontWeight={700} maxWidth=\"100%\">\r\n              {symbol}\r\n            </Text>\r\n          </Skeleton>\r\n          <Skeleton isLoaded={!isLoading} flex={1} overflow=\"hidden\">\r\n            <Tooltip label={name} openDelay={1000}>\r\n              <Text fontSize=\"sm\" color={nameColor}>\r\n                {name}\r\n              </Text>\r\n            </Tooltip>\r\n          </Skeleton>\r\n        </Box>\r\n      </Stack>\r\n      <Skeleton isLoaded={!isLoading} minWidth=\"fit-content\" ml={3}>\r\n        <DisplayValue isUpdating={isBalancesUpdating} value={balance} decimals={decimals}\r\n          fontSize=\"1.125rem\" fontWeight={700} textAlign=\"right\" shouldDivideByDecimals\r\n        />\r\n      </Skeleton>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nconst TokenSelectItemSkeleton = () => (\r\n  <Flex direction=\"row\" alignItems=\"center\" py={3} px={2} cursor=\"pointer\" height={16}\r\n   justifyContent=\"space-between\" width=\"100%\" transition=\"border 400ms\" border=\"1px solid transparent\"\r\n    borderRadius={20}\r\n  >\r\n    <Flex direction=\"row\" alignItems=\"center\">\r\n      <Skeleton isLoaded={false} height={10} width={10} borderRadius={40} />\r\n      <Skeleton isLoaded={false} width={12} ml={3} height={7} />\r\n      <Skeleton isLoaded={false} width={18} height={6} ml={2} />\r\n    </Flex>\r\n    <Skeleton isLoaded={false} minWidth={18} height={6} ml={2} />\r\n  </Flex>\r\n);\r\n","import {depositSrc } from '@/assets';\r\nimport {\r\n  TransferModalData, TransferModalDataStep, modalsSliceActions,\r\n  useAppDispatch, useModalsStore\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const TransferProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isTransferProgressModalOpened, transferModalData } = useModalsStore();\r\n  const { steps, tokenSymbol, step: activeStep } = transferModalData;\r\n\r\n  const getStepStatus = useStepStatus<TransferModalData['step']>({ activeStep, steps });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeTransferProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal onClose={handleClose}\r\n      isOpen={isTransferProgressModalOpened} isCentered title=\"Transfer in progress\">\r\n      {steps?.includes(TransferModalDataStep.Transfer) && (\r\n        <TransactionStep status={getStepStatus(TransferModalDataStep.Transfer)}\r\n          iconSrc={depositSrc}>\r\n          Transferring {tokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { useCallback } from 'react';\r\n\r\nexport enum StepStatus {\r\n  Active = 'active',\r\n  Disabled = 'disabled',\r\n  Done = 'done',\r\n}\r\n\r\ntype UseStepStatusMemoOptions<Step> = {\r\n  activeStep?: Step;\r\n  steps?: Step[];\r\n};\r\n\r\nexport const useStepStatus = <Step>({\r\n  activeStep,\r\n  steps,\r\n}: UseStepStatusMemoOptions<Step>) =>\r\n  useCallback(\r\n    (step: Step) => {\r\n      if (activeStep) {\r\n        const selectedStepIndex = steps?.indexOf(step);\r\n        const activeStepIndex = steps?.indexOf(activeStep);\r\n\r\n        if (activeStepIndex! > selectedStepIndex!) return StepStatus.Done;\r\n        if (activeStepIndex === selectedStepIndex) return StepStatus.Active;\r\n      }\r\n\r\n      return StepStatus.Disabled;\r\n    },\r\n    [activeStep, steps]\r\n  );\r\n","import {\r\n    Flex, Heading, Modal, ModalCloseButton, ModalContent, ModalOverlay, useColorModeValue, ModalHeader, ModalBody,\r\n    Stack, Image, Box, Text, Spinner\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { useWalletStore, walletState, useAppDispatch, walletActions } from '@/store';\r\n\r\nimport {artemis} from '@/integrations/artemis';\r\n\r\nimport { tokenList} from '@/utils'\r\nimport { ENV } from '@/config';\r\n\r\nexport const WalletListModal: React.FC = () => {\r\n    const { state , walletSelected} = useWalletStore();\r\n    const dispatch = useAppDispatch();\r\n\r\n    function handleClose() {\r\n        dispatch(walletActions.setOnwalletList(walletState.Idle));\r\n    }\r\n    async function handleSelectWallet(id: string) {\r\n        var tknList= tokenList(\"obj\");\r\n        const connectObj = {\r\n            host: ENV.host,\r\n            whitelist: [...Object.values(ENV.canistersPrincipalIDs),...Object.keys(tknList)],\r\n        }\r\n        \r\n        dispatch(walletActions.setWalletSelected(id));\r\n        dispatch(walletActions.setOnwalletList(walletState.Connecting));\r\n        \r\n        var connectInfo = await artemis.connect(id,connectObj);\r\n        if(connectInfo){\r\n            if(artemis?.principalId && artemis?.provider){\r\n                dispatch(walletActions.setWalletLoaded({ principleId: artemis.principalId ,accountId: artemis.accountId ,walletActive:artemis.walletActive }) );\r\n            }\r\n        }else{\r\n            dispatch(walletActions.setOnwalletList(walletState.OpenWalletList));\r\n        }\r\n    }\r\n    const bg = useColorModeValue('gray.50', 'custom.2');\r\n    const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n\r\n    \r\n\r\n\r\n\r\n    return (\r\n        <Modal isOpen={(state == walletState.OpenWalletList || state == walletState.Connecting) ? true : false} isCentered onClose={handleClose}>\r\n            <ModalOverlay />\r\n            <ModalContent as={Flex} maxW=\"sm\" direction=\"column\" alignItems=\"center\" bg={bg}\r\n                pt=\"36px\" px=\"20px\" pb=\"44px\" borderRadius={20}\r\n            >\r\n                <ModalCloseButton />\r\n                {(state == walletState.OpenWalletList) &&\r\n                    <>\r\n                        <ModalHeader>\r\n                            <Heading textAlign={'left'} as=\"h2\" color={titleColor} fontWeight={700} fontSize=\"1.2rem\" mb={4}>\r\n                                Connect Wallet\r\n                            </Heading>\r\n                        </ModalHeader>\r\n                        <ModalBody mt={4} p={0}>\r\n                            {artemis?.wallets.map((item: any, i:number) => (\r\n                                <Stack width=\"100%\" maxWidth=\"100%\" direction={['row', 'row']} key={i}\r\n                                    alignItems=\"center\" mt={2} cursor=\"pointer\" mb={2} pt={1} pb={1} pl={2} pr={20} border=\"1px solid rgb(63, 81, 181)\" borderRadius=\"60px\"\r\n                                    onClick={() => handleSelectWallet(item?.id)}\r\n                                >\r\n                                    <Box mr={4}>\r\n                                        <Image borderRadius='full' boxSize='32px' src={item?.icon} alt='' bg={'gray.800'} />\r\n                                    </Box>\r\n                                    <Box>\r\n                                        <Text fontSize='14px' > {item?.name}</Text>\r\n                                        <Text fontSize='12px' color={'gray.300'} >{item?.adapter.readyState}</Text>\r\n                                    </Box>\r\n                                </Stack>\r\n                            ))}\r\n                        </ModalBody>\r\n                    </>\r\n                }\r\n                {(state == walletState.Connecting) &&\r\n                    <>\r\n                        <ModalHeader>\r\n                            <Heading textAlign={'left'} as=\"h2\" color={titleColor} fontWeight={700} fontSize=\"1.2rem\" mb={4} textTransform={'capitalize'}>\r\n                                Connecting {walletSelected} Wallet\r\n                            </Heading>\r\n                        </ModalHeader>\r\n                        <ModalBody mt={4} p={4}>\r\n                            <Spinner thickness='4px' speed='0.65s' emptyColor='rgba(0, 0, 0, 0.5)' color='blue.500' size='xl' />\r\n                        </ModalBody>\r\n                    </>\r\n                }\r\n            </ModalContent>\r\n        </Modal>\r\n    );\r\n};\r\n","import { withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  WithdrawModalData,\r\n  WithdrawModalDataStep,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const WithdrawProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isWithdrawProgressModalOpened, withdrawModalData } = useModalsStore();\r\n  const { tokenSymbol, steps, step: activeStep } = withdrawModalData;\r\n\r\n  const getStepStatus = useStepStatus<WithdrawModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      title=\"Withdraw in progress\"\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawProgressModalOpened}\r\n      isCentered\r\n    >\r\n      <TransactionStep\r\n        status={getStepStatus(WithdrawModalDataStep.Withdraw)}\r\n        iconSrc={withdrawSrc}\r\n      >\r\n        Withdrawing <br /> {tokenSymbol}\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const WithdrawWICPFailModal = () => {\r\n  const { isWithdrawWICPFailModalOpened, withdrawWICPModalData } =\r\n    useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } =\r\n    withdrawWICPModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawWICPFailModalOpened}\r\n      isCentered\r\n      title=\"ICP Unwrapping Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,useAppDispatch,useModalsStore, WithdrawWICPModalData, WithdrawWICPModalDataStep,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const WithdrawWICPProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isWithdrawWICPProgressModalOpened, withdrawWICPModalData } = useModalsStore();\r\n  const { steps, step: activeStep } = withdrawWICPModalData;\r\n\r\n  const getStepStatus = useStepStatus<WithdrawWICPModalData['step']>({activeStep,steps,});\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawWICPProgressModalOpened}\r\n      isCentered\r\n      title=\"WICP unwrapping in progress\"\r\n    >\r\n      {steps?.includes(WithdrawWICPModalDataStep.Withdraw) && (\r\n        <TransactionStep\r\n          status={getStepStatus(WithdrawWICPModalDataStep.Withdraw)}\r\n          iconSrc={withdrawSrc}\r\n          chevron\r\n        >\r\n          Withdrawing <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep\r\n        status={getStepStatus(WithdrawWICPModalDataStep.WithdrawWICP)}\r\n        iconSrc={swapSrc}\r\n      >\r\n        Unwrapping <br /> WICP\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","export * from './plug-button';\r\nexport * from './plug-logo';\r\nexport * from './plug-menu';\r\nexport * from './plug-not-connected';\r\n","export const PLUG_WALLET_WEBSITE_URL = 'https://plugwallet.ooo/';\r\n","export * from './constants';\r\nexport * from './plug-button';\r\n","import { Button, ButtonProps } from '@chakra-ui/button';\r\nimport { useColorModeValue } from '@chakra-ui/color-mode';\r\nimport type { Provider } from '@memecake/plug-inpage-provider';\r\nimport { forwardRef, useMemo } from 'react';\r\n\r\nimport { plugActions, PlugState, useAppDispatch, usePlugStore } from '@/store';\r\n\r\nimport { PlugLogo } from '../plug-logo/plug-logo';\r\n\r\nexport type PlugButtonProps = Omit<ButtonProps, 'color' | 'variant'> & {\r\n  variant?: 'default' | 'dark';\r\n};\r\n\r\nexport const PlugButton = forwardRef<HTMLButtonElement, PlugButtonProps>(\r\n  ({ ...props }, ref) => {\r\n    const { variant = 'default' } = props;\r\n    const { state } = usePlugStore();\r\n    const dispatch = useAppDispatch();\r\n\r\n    const isPlugPAPIExists = Boolean(window.ic?.plug);\r\n\r\n    const isLoading = useMemo(() => {\r\n      return state === PlugState.Loading;\r\n    }, [state]);\r\n\r\n    const colorDark = useColorModeValue('gray.800', 'gray.500');\r\n    const bgDark = useColorModeValue('gray.50', 'custom.2');\r\n    const bgHoverDark = useColorModeValue('gray.50', 'gray.700');\r\n\r\n    const colorLight = useColorModeValue('gray.800', 'white');\r\n    const bgLight = useColorModeValue('gray.50', 'custom.2');\r\n    const bgHoverLight = useColorModeValue('gray.50', 'gray.800');\r\n\r\n    const shadow = useColorModeValue('base', 'none');\r\n\r\n    const { color, bg, bgHover, leftIcon, before, borderRadius } =\r\n      useMemo(() => {\r\n        if (variant === 'dark') {\r\n          return {\r\n            color: colorDark,\r\n            bg: bgDark,\r\n            bgHover: bgHoverDark,\r\n            borderRadius: 'xl',\r\n          };\r\n        }\r\n\r\n        return {\r\n          color: colorLight,\r\n          bg: bgLight,\r\n          bgHover: bgHoverLight,\r\n          leftIcon: <PlugLogo />,\r\n          before: {\r\n            content: \"''\",\r\n            position: 'absolute',\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            zIndex: 'hide',\r\n            margin: '-2px',\r\n            borderRadius: 'inherit',\r\n            background:\r\n              'linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)',\r\n          },\r\n          borderRadius: 'full',\r\n        };\r\n      }, [\r\n        bgDark,\r\n        bgHoverDark,\r\n        bgHoverLight,\r\n        bgLight,\r\n        colorDark,\r\n        colorLight,\r\n        variant,\r\n      ]);\r\n\r\n    const handleClick = (): void => {\r\n      switch (state) {\r\n        case PlugState.Disconnected:{\r\n          dispatch(plugActions.connect());\r\n          break;\r\n        }\r\n        case PlugState.NotInstalled:\r\n          window.open('https://plugwallet.ooo/', '_plug');\r\n          break;\r\n        case PlugState.Connected:\r\n        case PlugState.Loading:\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size=\"lg\"\r\n        leftIcon={leftIcon}\r\n        onClick={handleClick}\r\n        isDisabled={isLoading}\r\n        borderRadius={borderRadius}\r\n        backgroundColor={bg}\r\n        shadow={shadow}\r\n        _hover={{\r\n          backgroundColor: bgHover,\r\n          _disabled: { backgroundColor: bg },\r\n        }}\r\n        _active={{ backgroundColor: bgHover }}\r\n        _disabled={{ backgroundColor: bg, cursor: 'not-allowed' }}\r\n        _before={before}\r\n        color={color}\r\n        {...props}\r\n      >\r\n        {isLoading\r\n          ? 'Loading...'\r\n          : isPlugPAPIExists\r\n          ? 'Connect'\r\n          : 'Install Plug'}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nPlugButton.displayName = 'PlugButton';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    ic?: {\r\n      plug?: Provider;\r\n    };\r\n  }\r\n}\r\n","export * from './plug-logo';\r\n","import {\r\n  forwardRef,\r\n  Icon,\r\n  IconProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nexport const PlugLogo = forwardRef<IconProps, 'svg'>((props, ref) => {\r\n  const socketColor = useColorModeValue('black', 'white');\r\n  return (\r\n    <Icon\r\n      viewBox=\"0 0 18 27\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      ref={ref}\r\n      {...props}\r\n    >\r\n      <g clipPath=\"url(#clip0_88:618)\">\r\n        <path\r\n          d=\"M3.36523 0.413793C3.36523 0.185261 3.54425 0 3.76509 0H5.59107C5.81191 0 5.99093 0.185261 5.99093 0.413793V6.66207H3.36523V0.413793Z\"\r\n          fill={socketColor}\r\n        />\r\n        <path\r\n          d=\"M11.9492 0.413793C11.9492 0.185261 12.1282 0 12.3491 0H14.1751C14.3959 0 14.5749 0.185261 14.5749 0.413793V6.66207H11.9492V0.413793Z\"\r\n          fill={socketColor}\r\n        />\r\n        <path\r\n          d=\"M0 7.75323C0 7.1522 0.470772 6.66504 1.0515 6.66504H16.9423C17.523 6.66504 17.9938 7.1522 17.9938 7.75323V13.1736C17.9938 18.3157 13.9658 22.4842 8.99687 22.4842C4.02805 22.4842 0 18.3157 0 13.1736V7.75323Z\"\r\n          fill=\"url(#paint0_linear_88:618)\"\r\n        />\r\n        <path\r\n          d=\"M5.99316 21.6953H11.9998V22.4707C11.9998 23.5975 11.1172 24.511 10.0283 24.511H7.96473C6.87587 24.511 5.99316 23.5975 5.99316 22.4707V21.6953Z\"\r\n          fill=\"url(#paint1_linear_88:618)\"\r\n        />\r\n        <path\r\n          d=\"M6.96582 24.1846H11.0273V25.64C11.0273 26.3913 10.4388 27.0002 9.71287 27.0002H8.2802C7.55434 27.0002 6.96582 26.3913 6.96582 25.64V24.1846Z\"\r\n          fill=\"url(#paint2_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M17.2814 16.8109C15.8952 11.5743 11.2636 7.72607 5.76353 7.72607C3.67346 7.72607 1.70881 8.2818 0 9.25821V13.1737C0 17.2259 2.50147 20.6735 5.99355 21.9529V22.4707C5.99355 23.2202 6.38414 23.8754 6.96615 24.2301V25.6399C6.96615 26.3912 7.55467 27.0002 8.28053 27.0002H9.7132C10.4391 27.0002 11.0276 26.3912 11.0276 25.6399V24.2301C11.6096 23.8754 12.0002 23.2202 12.0002 22.4707V21.9529C14.3801 21.0809 16.3 19.2019 17.2814 16.8109Z\"\r\n          fill=\"url(#paint3_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M15.1303 19.9853C14.6896 14.739 10.4347 10.623 5.25093 10.623C3.32256 10.623 1.52274 11.1926 0 12.1781V13.1734C0 17.2256 2.50147 20.6732 5.99355 21.9526V22.4704C5.99355 23.2199 6.38414 23.8751 6.96615 24.2298V25.6397C6.96615 26.3909 7.55467 26.9999 8.28053 26.9999H9.7132C10.4391 26.9999 11.0276 26.3909 11.0276 25.6397V24.2298C11.6096 23.8751 12.0002 23.2199 12.0002 22.4704V21.9526C13.1748 21.5223 14.2373 20.8466 15.1303 19.9853Z\"\r\n          fill=\"url(#paint4_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M12.01 21.951C11.8231 17.6755 8.4145 14.2686 4.23693 14.2686C2.78497 14.2686 1.4259 14.6801 0.262695 15.3967C0.985966 18.452 3.16636 20.9153 5.99819 21.9528V22.4706C5.99819 23.2201 6.38879 23.8753 6.97083 24.23V25.6399C6.97083 26.3911 7.55928 27.0001 8.28521 27.0001H9.71788C10.4438 27.0001 11.0323 26.3911 11.0323 25.6399V24.23C11.6143 23.8753 12.0049 23.2201 12.0049 22.4706V21.9528C12.0066 21.9522 12.0083 21.9516 12.01 21.951Z\"\r\n          fill=\"url(#paint5_linear_88:618)\"\r\n        />\r\n      </g>\r\n      <defs>\r\n        <linearGradient\r\n          id=\"paint0_linear_88:618\"\r\n          x1=\"12.0068\"\r\n          y1=\"12.5275\"\r\n          x2=\"18.7021\"\r\n          y2=\"6.05122\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint1_linear_88:618\"\r\n          x1=\"12.0064\"\r\n          y1=\"12.5276\"\r\n          x2=\"18.7017\"\r\n          y2=\"6.0513\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint2_linear_88:618\"\r\n          x1=\"12.0065\"\r\n          y1=\"12.5277\"\r\n          x2=\"18.7017\"\r\n          y2=\"6.0514\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint3_linear_88:618\"\r\n          x1=\"10.4427\"\r\n          y1=\"13.813\"\r\n          x2=\"13.7708\"\r\n          y2=\"9.54276\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#10D9ED\" />\r\n          <stop offset=\"1\" stopColor=\"#10D9ED\" stopOpacity=\"0.3\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint4_linear_88:618\"\r\n          x1=\"9.73293\"\r\n          y1=\"15.3702\"\r\n          x2=\"12.0141\"\r\n          y2=\"11.1222\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#FA51D3\" />\r\n          <stop offset=\"0.958774\" stopColor=\"#FA51D3\" stopOpacity=\"0\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint5_linear_88:618\"\r\n          x1=\"6.74911\"\r\n          y1=\"21.7089\"\r\n          x2=\"10.1796\"\r\n          y2=\"13.233\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#FFE700\" />\r\n          <stop offset=\"1\" stopColor=\"#FFE700\" stopOpacity=\"0\" />\r\n        </linearGradient>\r\n        <clipPath id=\"clip0_88:618\">\r\n          <rect width=\"18\" height=\"27\" fill=\"white\" />\r\n        </clipPath>\r\n      </defs>\r\n    </Icon>\r\n  );\r\n});\r\n","export * from './plug-menu';\r\n","import {\r\n  Box,\r\n  Flex,\r\n  Icon,\r\n  Menu,\r\n  MenuButton,\r\n  MenuItem,\r\n  MenuList,\r\n  MenuProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Spinner } from '@chakra-ui/spinner';\r\nimport { BiExit } from '@react-icons/all-files/bi/BiExit';\r\nimport { FaChevronDown } from '@react-icons/all-files/fa/FaChevronDown';\r\nimport { FiCopy } from '@react-icons/all-files/fi/FiCopy';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { plugActions, walletState, useAppDispatch, useWalletStore } from '@/store';\r\nimport { copyToClipboard } from '@/utils';\r\nimport { desensitizationPrincipalId } from '@/utils/canister';\r\n\r\nimport { PlugLogo } from '..';\r\n\r\nexport const PlugMenu: FC<Omit<MenuProps, 'children'>> = (props) => {\r\n  const { principalId, state } = useWalletStore();\r\n  const dispatch = useAppDispatch();\r\n  const handleDisconnect = async () => {\r\n    dispatch(plugActions.disconnect());\r\n  };\r\n\r\n  const shortPrincipalId = useMemo(() => {\r\n    return desensitizationPrincipalId(principalId);\r\n  }, [principalId]);\r\n\r\n  const handleCopy = () => {\r\n    if (principalId) {\r\n      copyToClipboard(principalId, 'Principal ID copied to clipboard');\r\n    }\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Menu {...props}>\r\n      <MenuButton borderRadius=\"full\" px=\"4\" h=\"12\" bg={bg} shadow={shadow}>\r\n        <Flex direction=\"row\" alignItems=\"center\">\r\n          {state === walletState.Loading ? <Spinner /> : <PlugLogo />}\r\n          <Box ml=\"2\" fontWeight={600}> {shortPrincipalId}</Box>\r\n          <Icon as={FaChevronDown} ml={3} />\r\n        </Flex>\r\n      </MenuButton>\r\n      <div>\r\n        <MenuList bg={bg} shadow={shadow} borderRadius=\"xl\" overflow=\"hidden\">\r\n          <MenuItem onClick={handleCopy} icon={<FiCopy />}>\r\n            <Text>Copy ID</Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={handleDisconnect} icon={<BiExit />}>\r\n            <Text>Disconnect</Text>\r\n          </MenuItem>\r\n        </MenuList>\r\n      </div>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nPlugMenu.displayName = 'PlugPrincipalIDTag';\r\n","import { Box, Stack, Text } from '@chakra-ui/react';\r\nimport { FaInbox } from '@react-icons/all-files/fa/FaInbox';\r\nimport React from 'react';\r\n\r\nimport { PlugButton } from '..';\r\n\r\nexport interface PlugNotConnectedProps {\r\n  message?: string;\r\n}\r\n\r\nexport const PlugNotConnected: React.FC<PlugNotConnectedProps> = ({\r\n  message = 'Connect to see the content.',\r\n}) => {\r\n  return (\r\n    <Stack color=\"gray.500\" alignItems=\"center\">\r\n      <Box mt={6} mb={3}>\r\n        <FaInbox size={30} />\r\n      </Box>\r\n      <Text fontSize=\"lg\" pb={3}>\r\n        {message}\r\n      </Text>\r\n      <PlugButton width=\"80%\" variant=\"dark\">\r\n        Connect to Plug\r\n      </PlugButton>\r\n    </Stack>\r\n  );\r\n};\r\n","export * from './walletbutton';\r\nexport * from './wallet-menu'; \r\nexport * from './wallet-not-connected'; ","import {\r\n  Box, Flex, Icon, Menu, MenuButton, MenuItem, MenuList, MenuProps, Text,\r\n  useColorModeValue, Image\r\n} from '@chakra-ui/react';\r\n\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { Spinner } from '@chakra-ui/spinner';\r\nimport { BiExit } from '@react-icons/all-files/bi/BiExit';\r\nimport { FaChevronDown } from '@react-icons/all-files/fa/FaChevronDown';\r\nimport { FiCopy } from '@react-icons/all-files/fi/FiCopy';\r\nimport { FaExchangeAlt } from '@react-icons/all-files/fa/FaExchangeAlt';\r\n// import { FaList } from '@react-icons/all-files/fa/FaList';\r\n\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { walletState, useAppDispatch, useWalletStore, walletActions } from '@/store';\r\nimport { copyToClipboard } from '@/utils';\r\nimport { desensitizationPrincipalId } from '@/utils/canister';\r\n\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const WalletMenu: FC<Omit<MenuProps, 'children'>> = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  const { principalId, state, accountId } = useWalletStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const iconUrl = artemis?.connectedWalletInfo.icon;\r\n\r\n  const handleDisconnect = async () => {\r\n    await artemis.disconnect();\r\n    await dispatch(walletActions.resetWallet());\r\n    location.reload();\r\n  };\r\n\r\n  const shortPrincipalId = useMemo(() => {\r\n    return desensitizationPrincipalId(principalId);\r\n  }, [principalId]);\r\n  const shortaccountId = useMemo(() => {\r\n    return desensitizationPrincipalId(accountId);\r\n  }, [accountId]);\r\n\r\n  const handleCopy = (type: string = 'princ') => {\r\n    if (type == 'princ') {\r\n      if (principalId) {\r\n        copyToClipboard(principalId, 'Principal ID copied to clipboard');\r\n      }\r\n    } else if (type == 'acnt') {\r\n      if (accountId) {\r\n        copyToClipboard(accountId, 'Account ID copied to clipboard');\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Menu {...props}>\r\n      <MenuButton borderRadius=\"full\" px=\"4\" h=\"12\" bg={bg} shadow={shadow}>\r\n        <Flex direction=\"row\" alignItems=\"center\">\r\n          {state === walletState.Loading ? <Spinner /> : <Image src={iconUrl} borderRadius='full' boxSize='20px' />}\r\n          <Box ml=\"2\" fontWeight={600}> {shortPrincipalId}</Box>\r\n          <Icon as={FaChevronDown} ml={3} />\r\n        </Flex>\r\n      </MenuButton>\r\n      <div>\r\n        <MenuList bg={bg} shadow={shadow} borderRadius=\"xl\" overflow=\"hidden\">\r\n          <MenuItem onClick={() => handleCopy('princ')} icon={<FiCopy />}>\r\n            <Text>Principal ID {shortPrincipalId} </Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => handleCopy('acnt')} icon={<FiCopy />}>\r\n            <Text>Account ID {shortaccountId} </Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => navigate('/assets/transfer?tokenId=ryjl3-tyaaa-aaaaa-aaaba-cai') } icon={<FaExchangeAlt/>}>\r\n            <Text>Transfer Token </Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => window.open('https://dashboard.internetcomputer.org/account/'+accountId, '_blank') } icon={<img width={'18px'} src='https://d15bmhsw4m27if.cloudfront.net/sonic/ryjl3-tyaaa-aaaaa-aaaba-cai'/>}>\r\n            <Text> View in IC Dashboard </Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={() => window.open('https://t5t44-naaaa-aaaah-qcutq-cai.raw.ic0.app/holder/'+accountId+'/tokenTransactions', '_blank') } icon={<img width={'18px'} src=\"https://t5t44-naaaa-aaaah-qcutq-cai.raw.ic0.app/favicon-64.svg\" /> }>\r\n            <Text> Token Txns NFTGeek </Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={handleDisconnect} icon={<BiExit />}>\r\n            <Text>Disconnect</Text>\r\n          </MenuItem>\r\n        </MenuList>\r\n      </div>\r\n    </Menu>\r\n  );\r\n};\r\n\r\n//   PlugMenu.displayName = 'PlugPrincipalIDTag';\r\n","import { Box, Stack, Text } from '@chakra-ui/react';\r\nimport { FaInbox } from '@react-icons/all-files/fa/FaInbox';\r\nimport React from 'react';\r\n\r\nimport { WalletConnectBtn } from '..';\r\n\r\ninterface walletNotConnectedProps {\r\n  message?: string;\r\n}\r\n\r\nexport const WalletNotConnected: React.FC<walletNotConnectedProps> = ({\r\n  message = '',\r\n}) => {\r\n  return (\r\n    <Stack color=\"gray.500\" alignItems=\"center\">\r\n      {message && (\r\n        <>\r\n          <Box mt={6} mb={3}>\r\n            <FaInbox size={30} />\r\n          </Box>\r\n          <Text fontSize=\"lg\" pb={3}>\r\n            {message}\r\n          </Text>\r\n        </>\r\n      )}\r\n      <WalletConnectBtn>\r\n        Connect wallet\r\n      </WalletConnectBtn>\r\n    </Stack>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { Button, useColorMode } from '@chakra-ui/react';\r\nimport { useAppDispatch , walletActions , walletState } from '@/store';\r\n\r\nexport const WalletConnectBtn: React.FC = ({ }) => {\r\n    const { colorMode } = useColorMode();\r\n    const dispatch = useAppDispatch();\r\n   \r\n    const { color, background } = useMemo(() => {\r\n        if (colorMode == 'dark') {\r\n            return {\r\n                color: '#fff',\r\n                background: '#3F51B5'\r\n            }\r\n        } else {\r\n            return {\r\n                color: '#fff',\r\n                background: '#3F51B5'\r\n            }\r\n        }\r\n    }, [colorMode])\r\n    const handleClick = (): void => {\r\n        dispatch(walletActions.setOnwalletList(walletState.OpenWalletList));\r\n    }\r\n    return (\r\n        <Button size=\"lg\" borderRadius={100} style={{ width:'100%', color: color, backgroundColor: background }} onClick={handleClick}>\r\n            Connect Wallet\r\n        </Button>\r\n    );\r\n}","export const PATHS = {\r\n  All: '*',\r\n  Home: '/',\r\n};\r\n\r\nexport const ROUTES = {\r\n  Home: '/',\r\n};\r\n\r\nexport const ERRORS = {\r\n  PlugNotConnected: 'Plug is not connected',\r\n};\r\n","export const ENV = {\r\n  host: process.env.HOST || 'https://boundary.ic0.app/',\r\n  analyticsHost: process.env.ANALYTICS_HOST || 'https://api.sonic.ooo/graphql',\r\n  swapCanisterFee: Number(process.env.SWAP_CANISTER_FEE) || 10000,\r\n  isDarkModeEnabled: process.env.IS_DARK_MODE_ENABLED === 'true',\r\n  canistersPrincipalIDs: {\r\n    ledger: process.env.LEDGER_CANISTER_ID || 'ryjl3-tyaaa-aaaaa-aaaba-cai',\r\n    swap: process.env.SWAP_CANISTER_ID || '3xwpq-ziaaa-aaaah-qcn4a-cai',\r\n    cyclesMinting:\r\n      process.env.CYCLES_MINTING_CANISTER_ID || 'rkp4c-7iaaa-aaaaa-aaaca-cai',\r\n    WICP: process.env.WICP_CANISTER_ID || 'utozz-siaaa-aaaam-qaaxq-cai',\r\n    XTC: process.env.XTC_CANISTER_ID || 'aanaa-xaaaa-aaaah-aaeiq-cai',\r\n    swapCapRoot:\r\n      process.env.SWAP_CAP_ROOT_CANISTER_ID || '3qxje-uqaaa-aaaah-qcn4q-cai',\r\n  },\r\n  accountIDs: {\r\n    XTC:\r\n      process.env.XTC_ACCOUNT_ID ||\r\n      '758bdb7e54b73605d1d743da9f3aad70637d4cddcba03db13137eaf35f12d375',\r\n    WICP:\r\n      process.env.WICP_ACCOUNT_ID ||\r\n      'cc659fe529756bae6f72db9937c6c60cf7ad57eb4ac5f930a75748927aab469a',\r\n  },\r\n  URLs: {\r\n    discord: process.env.DISCORD_URL || 'https://discord.com/invite/EkmnRd99h6',\r\n    twitter: process.env.TWITTER_URL || 'https://twitter.com/sonic_ooo',\r\n    medium: process.env.MEDIUM_URL || 'https://medium.com/@sonic-ooo',\r\n    github: process.env.GITHUB_URL || 'https://github.com/psychedelic/sonic',\r\n    sonicDocs: process.env.SONIC_DOCS_URL || 'https://docs.sonic.ooo',\r\n    termsAndConditions:\r\n      process.env.TERMS_AND_CONDITIONS_URL ||\r\n      'https://docs.sonic.ooo/resources/disclaimer-terms',\r\n    tokenRequestForm:\r\n      process.env.TOKEN_REQUEST_FORM_URL ||\r\n      'https://form.typeform.com/to/YnSyAUn0',\r\n    analyticsApp: process.env.ANALYTICS_APP_URL || 'https://data.sonic.ooo',\r\n    ledgerTransactions:\r\n      process.env.LEDGER_TRANSACTIONS_URL || 'https://icscan.io/transaction',\r\n  },\r\n  hiddenTokens: (process.env.HIDDEN_TOKENS || '').split(','),\r\n  maintenanceMode: process.env.MAINTENANCE_MODE === 'true',\r\n  prorityOrder:['ICP', 'WICP', 'XTC', 'SONICX', 'ckBTC', 'SNS1', 'CHAT', 'BOX', 'OGY', 'YC', 'DONGE']\r\n};\r\n","export * from './constants';\r\nexport * from './env';\r\n","import { sonicCircleSrc } from '@/assets';\r\n\r\nimport {artemis} from '@/integrations/artemis';\r\n\r\nexport type GetAppAssetsSourcesParams = {\r\n  balances: {\r\n    wallet?: number;\r\n    sonic?: number;\r\n  };\r\n};\r\n\r\nexport type AppAssetSource = {\r\n  name: string;\r\n  src: string;\r\n  balance?: number;\r\n};\r\n\r\nexport const getAppAssetsSources = ({\r\n  balances,\r\n}: GetAppAssetsSourcesParams): AppAssetSource[] => {\r\n  var connectedWalletInfo = artemis.connectedWalletInfo;\r\n  connectedWalletInfo;\r\n  return [\r\n    {\r\n      name: connectedWalletInfo.name,\r\n      src: connectedWalletInfo.icon,\r\n      balance: balances.wallet,\r\n    },\r\n    {\r\n      name: 'Sonic',\r\n      src: sonicCircleSrc,\r\n      balance: balances.sonic,\r\n    },\r\n  ];\r\n};\r\n","export * from './token';\r\n","import { icpSrc } from '@/assets';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport const ICP_METADATA = {\r\n  id: 'ICP', // ryjl3-tyaaa-aaaaa-aaaba-cai ICP\r\n  name: 'Internet Computer Protocol',\r\n  symbol: 'ICP',\r\n  fee: BigInt(10000), // 0.0001\r\n  decimals: 8,\r\n  totalSupply: BigInt(0),\r\n  logo: icpSrc,\r\n  tokenType:'ICRC1'\r\n};\r\n\r\nexport const getICPTokenMetadata = (price?: string): AppTokenMetadata => ({ ...ICP_METADATA, price});\r\n","export * from './ledger.did';\r\n","import { IDL } from '@dfinity/candid';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nexport namespace LedgerIDL {\r\n  export interface AccountBalanceArgs {\r\n    account: AccountIdentifier;\r\n  }\r\n  export type AccountIdentifier = string;\r\n  export interface ArchiveOptions {\r\n    max_message_size_bytes: [] | [number];\r\n    node_max_memory_size_bytes: [] | [number];\r\n    controller_id: Principal;\r\n  }\r\n  export type BlockHeight = bigint;\r\n  export interface Duration {\r\n    secs: bigint;\r\n    nanos: number;\r\n  }\r\n  export interface ICPTs {\r\n    e8s: bigint;\r\n  }\r\n  export interface LedgerCanisterInitPayload {\r\n    send_whitelist: Array<[Principal]>;\r\n    minting_account: AccountIdentifier;\r\n    transaction_window: [] | [Duration];\r\n    max_message_size_bytes: [] | [number];\r\n    archive_options: [] | [ArchiveOptions];\r\n    initial_values: Array<[AccountIdentifier, ICPTs]>;\r\n  }\r\n  export type Memo = bigint;\r\n  export interface NotifyCanisterArgs {\r\n    to_subaccount: [] | [SubAccount];\r\n    from_subaccount: [] | [SubAccount];\r\n    to_canister: Principal;\r\n    max_fee: ICPTs;\r\n    block_height: BlockHeight;\r\n  }\r\n  export interface SendArgs {\r\n    to: AccountIdentifier;\r\n    fee: ICPTs;\r\n    memo: Memo;\r\n    from_subaccount: [] | [SubAccount];\r\n    created_at_time: [] | [TimeStamp];\r\n    amount: ICPTs;\r\n  }\r\n  export type SubAccount = Array<number>;\r\n  export interface TimeStamp {\r\n    timestamp_nanos: bigint;\r\n  }\r\n  export interface Transaction {\r\n    memo: Memo;\r\n    created_at: BlockHeight;\r\n    transfer: Transfer;\r\n  }\r\n  export type Transfer =\r\n    | {\r\n        Burn: { from: AccountIdentifier; amount: ICPTs };\r\n      }\r\n    | { Mint: { to: AccountIdentifier; amount: ICPTs } }\r\n    | {\r\n        Send: {\r\n          to: AccountIdentifier;\r\n          from: AccountIdentifier;\r\n          amount: ICPTs;\r\n        };\r\n      };\r\n  export interface Factory {\r\n    account_balance_dfx: (arg_0: AccountBalanceArgs) => Promise<ICPTs>;\r\n    notify_dfx: (arg_0: NotifyCanisterArgs) => Promise<undefined>;\r\n    send_dfx: (arg_0: SendArgs) => Promise<BlockHeight>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const AccountIdentifier = IDL.Text;\r\n    // const Duration = IDL.Record({ secs: IDL.Nat64, nanos: IDL.Nat32 });\r\n    // const ArchiveOptions = IDL.Record({\r\n    //   max_message_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   node_max_memory_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   controller_id: IDL.Principal,\r\n    // });\r\n    const ICPTs = IDL.Record({ e8s: IDL.Nat64 });\r\n    // const LedgerCanisterInitPayload = IDL.Record({\r\n    //   send_whitelist: IDL.Vec(IDL.Tuple(IDL.Principal)),\r\n    //   minting_account: AccountIdentifier,\r\n    //   transaction_window: IDL.Opt(Duration),\r\n    //   max_message_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   archive_options: IDL.Opt(ArchiveOptions),\r\n    //   initial_values: IDL.Vec(IDL.Tuple(AccountIdentifier, ICPTs)),\r\n    // });\r\n    const AccountBalanceArgs = IDL.Record({ account: AccountIdentifier });\r\n    const SubAccount = IDL.Vec(IDL.Nat8);\r\n    const BlockHeight = IDL.Nat64;\r\n    const NotifyCanisterArgs = IDL.Record({\r\n      to_subaccount: IDL.Opt(SubAccount),\r\n      from_subaccount: IDL.Opt(SubAccount),\r\n      to_canister: IDL.Principal,\r\n      max_fee: ICPTs,\r\n      block_height: BlockHeight,\r\n    });\r\n    const Memo = IDL.Nat64;\r\n    const TimeStamp = IDL.Record({ timestamp_nanos: IDL.Nat64 });\r\n    const SendArgs = IDL.Record({\r\n      to: AccountIdentifier,\r\n      fee: ICPTs,\r\n      memo: Memo,\r\n      from_subaccount: IDL.Opt(SubAccount),\r\n      created_at_time: IDL.Opt(TimeStamp),\r\n      amount: ICPTs,\r\n    });\r\n    return IDL.Service({\r\n      account_balance_dfx: IDL.Func([AccountBalanceArgs], [ICPTs], ['query']),\r\n      notify_dfx: IDL.Func([NotifyCanisterArgs], [], []),\r\n      send_dfx: IDL.Func([SendArgs], [BlockHeight], []),\r\n    });\r\n  };\r\n}\r\n","export * from './dfinity';\r\nexport * from './sonic';\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace capCanIDL {\r\n    export type DetailValue = { 'I64': bigint } |\r\n    { 'U64': bigint } |\r\n    { 'Vec': Array<DetailValue> } |\r\n    { 'Slice': Array<number> } |\r\n    { 'Text': string } |\r\n    { 'True': null } |\r\n    { 'False': null } |\r\n    { 'Float': number } |\r\n    { 'Principal': Principal };\r\n    export interface Event {\r\n        'time': bigint,\r\n        'operation': string,\r\n        'details': Array<[string, DetailValue]>,\r\n        'caller': Principal,\r\n    };\r\n    export interface GetBucketResponse {\r\n        'witness': [] | [Witness],\r\n        'canister': Principal,\r\n    };\r\n    export interface GetNextCanistersResponse {\r\n        'witness': [] | [Witness],\r\n        'canisters': Array<Principal>,\r\n    };\r\n    export type GetTransactionResponse = {\r\n        'Delegate': [Principal, [] | [Witness]]\r\n    } |\r\n    { 'Found': [[] | [Event], [] | [Witness]] };\r\n    export interface GetTransactionsArg {\r\n        'page': [] | [number],\r\n        'witness': boolean,\r\n    };\r\n    export interface GetTransactionsResponseBorrowed {\r\n        'data': Array<Event>,\r\n        'page': number,\r\n        'witness': [] | [Witness],\r\n    };\r\n    export interface GetUserTransactionsArg {\r\n        'page': [] | [number],\r\n        'user': Principal,\r\n        'witness': boolean,\r\n    };\r\n    export interface IndefiniteEvent {\r\n        'operation': string,\r\n        'details': Array<[string, DetailValue]>,\r\n        'caller': Principal,\r\n    };\r\n    export interface WithIdArg { 'id': bigint, 'witness': boolean };\r\n    export interface WithWitnessArg { 'witness': boolean };\r\n    export interface Witness {\r\n        'certificate': Array<number>,\r\n        'tree': Array<number>,\r\n    };\r\n    export interface capCan {\r\n        'balance': () => Promise<bigint>,\r\n        'contract_id': () => Promise<Principal>,\r\n        'get_bucket_for': (arg_0: WithIdArg) => Promise<GetBucketResponse>,\r\n        'get_next_canisters': (arg_0: WithWitnessArg) => Promise<\r\n            GetNextCanistersResponse\r\n        >,\r\n        'get_transaction': (arg_0: WithIdArg) => Promise<GetTransactionResponse>,\r\n        'get_transactions': (arg_0: GetTransactionsArg) => Promise<\r\n            GetTransactionsResponseBorrowed\r\n        >,\r\n        'get_user_transactions': (arg_0: GetUserTransactionsArg) => Promise<\r\n            GetTransactionsResponseBorrowed\r\n        >,\r\n        'insert': (arg_0: IndefiniteEvent) => Promise<bigint>,\r\n        'migrate': (arg_0: Array<Event>) => Promise<undefined>,\r\n        'size': () => Promise<bigint>,\r\n        'time': () => Promise<bigint>,\r\n    };\r\n    export type Factory = capCan;\r\n\r\n    export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n        const DetailValue = IDL.Rec();\r\n        const WithIdArg = IDL.Record({ 'id': IDL.Nat64, 'witness': IDL.Bool });\r\n        const Witness = IDL.Record({\r\n            'certificate': IDL.Vec(IDL.Nat8),\r\n            'tree': IDL.Vec(IDL.Nat8),\r\n        });\r\n        const GetBucketResponse = IDL.Record({\r\n            'witness': IDL.Opt(Witness),\r\n            'canister': IDL.Principal,\r\n        });\r\n        const WithWitnessArg = IDL.Record({ 'witness': IDL.Bool });\r\n        const GetNextCanistersResponse = IDL.Record({\r\n            'witness': IDL.Opt(Witness),\r\n            'canisters': IDL.Vec(IDL.Principal),\r\n        });\r\n        DetailValue.fill(\r\n            IDL.Variant({\r\n                'I64': IDL.Int64,\r\n                'U64': IDL.Nat64,\r\n                'Vec': IDL.Vec(DetailValue),\r\n                'Slice': IDL.Vec(IDL.Nat8),\r\n                'Text': IDL.Text,\r\n                'True': IDL.Null,\r\n                'False': IDL.Null,\r\n                'Float': IDL.Float64,\r\n                'Principal': IDL.Principal,\r\n            })\r\n        );\r\n        const Event = IDL.Record({\r\n            'time': IDL.Nat64,\r\n            'operation': IDL.Text,\r\n            'details': IDL.Vec(IDL.Tuple(IDL.Text, DetailValue)),\r\n            'caller': IDL.Principal,\r\n        });\r\n        const GetTransactionResponse = IDL.Variant({\r\n            'Delegate': IDL.Tuple(IDL.Principal, IDL.Opt(Witness)),\r\n            'Found': IDL.Tuple(IDL.Opt(Event), IDL.Opt(Witness)),\r\n        });\r\n        const GetTransactionsArg = IDL.Record({\r\n            'page': IDL.Opt(IDL.Nat32),\r\n            'witness': IDL.Bool,\r\n        });\r\n        const GetTransactionsResponseBorrowed = IDL.Record({\r\n            'data': IDL.Vec(Event),\r\n            'page': IDL.Nat32,\r\n            'witness': IDL.Opt(Witness),\r\n        });\r\n        const GetUserTransactionsArg = IDL.Record({\r\n            'page': IDL.Opt(IDL.Nat32),\r\n            'user': IDL.Principal,\r\n            'witness': IDL.Bool,\r\n        });\r\n        const IndefiniteEvent = IDL.Record({\r\n            'operation': IDL.Text,\r\n            'details': IDL.Vec(IDL.Tuple(IDL.Text, DetailValue)),\r\n            'caller': IDL.Principal,\r\n        });\r\n        return IDL.Service({\r\n            'balance': IDL.Func([], [IDL.Nat64], ['query']),\r\n            'contract_id': IDL.Func([], [IDL.Principal], ['query']),\r\n            'get_bucket_for': IDL.Func([WithIdArg], [GetBucketResponse], ['query']),\r\n            'get_next_canisters': IDL.Func(\r\n                [WithWitnessArg],\r\n                [GetNextCanistersResponse],\r\n                ['query'],\r\n            ),\r\n            'get_transaction': IDL.Func(\r\n                [WithIdArg],\r\n                [GetTransactionResponse],\r\n                ['query'],\r\n            ),\r\n            'get_transactions': IDL.Func(\r\n                [GetTransactionsArg],\r\n                [GetTransactionsResponseBorrowed],\r\n                ['query'],\r\n            ),\r\n            'get_user_transactions': IDL.Func(\r\n                [GetUserTransactionsArg],\r\n                [GetTransactionsResponseBorrowed],\r\n                ['query'],\r\n            ),\r\n            'insert': IDL.Func([IndefiniteEvent], [IDL.Nat64], []),\r\n            'migrate': IDL.Func([IDL.Vec(Event)], [], []),\r\n            'size': IDL.Func([], [IDL.Nat64], ['query']),\r\n            'time': IDL.Func([], [IDL.Nat64], ['query']),\r\n        });\r\n    }\r\n\r\n}","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace CyclesMintingIDL {\r\n  export type CyclesResponse =\r\n    | { Refunded: [string, [] | [bigint]] }\r\n    | { CanisterCreated: Principal }\r\n    | { ToppedUp: null };\r\n  export interface ICPTs {\r\n    e8s: bigint;\r\n  }\r\n  export interface IcpXdrConversionRate {\r\n    xdr_permyriad_per_icp: bigint;\r\n    timestamp_seconds: bigint;\r\n  }\r\n  export interface IcpXdrConversionRateCertifiedResponse {\r\n    certificate: Array<number>;\r\n    data: IcpXdrConversionRate;\r\n    hash_tree: Array<number>;\r\n  }\r\n  export type Result = { Ok: CyclesResponse } | { Err: string };\r\n  export interface SetAuthorizedSubnetworkListArgs {\r\n    who: [] | [Principal];\r\n    subnets: Array<Principal>;\r\n  }\r\n  export interface TransactionNotification {\r\n    to: Principal;\r\n    to_subaccount: [] | [Array<number>];\r\n    from: Principal;\r\n    memo: bigint;\r\n    from_subaccount: [] | [Array<number>];\r\n    amount: ICPTs;\r\n    block_height: bigint;\r\n  }\r\n  export interface Factory {\r\n    get_average_icp_xdr_conversion_rate: () => Promise<IcpXdrConversionRateCertifiedResponse>;\r\n    get_icp_xdr_conversion_rate: () => Promise<IcpXdrConversionRateCertifiedResponse>;\r\n    set_authorized_subnetwork_list: (\r\n      arg_0: SetAuthorizedSubnetworkListArgs\r\n    ) => Promise<undefined>;\r\n    transaction_notification: (\r\n      arg_0: TransactionNotification\r\n    ) => Promise<Result>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const IcpXdrConversionRate = IDL.Record({\r\n      xdr_permyriad_per_icp: IDL.Nat64,\r\n      timestamp_seconds: IDL.Nat64,\r\n    });\r\n    const IcpXdrConversionRateCertifiedResponse = IDL.Record({\r\n      certificate: IDL.Vec(IDL.Nat8),\r\n      data: IcpXdrConversionRate,\r\n      hash_tree: IDL.Vec(IDL.Nat8),\r\n    });\r\n    const SetAuthorizedSubnetworkListArgs = IDL.Record({\r\n      who: IDL.Opt(IDL.Principal),\r\n      subnets: IDL.Vec(IDL.Principal),\r\n    });\r\n    const ICPTs = IDL.Record({ e8s: IDL.Nat64 });\r\n    const TransactionNotification = IDL.Record({\r\n      to: IDL.Principal,\r\n      to_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n      from: IDL.Principal,\r\n      memo: IDL.Nat64,\r\n      from_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n      amount: ICPTs,\r\n      block_height: IDL.Nat64,\r\n    });\r\n    const CyclesResponse = IDL.Variant({\r\n      Refunded: IDL.Tuple(IDL.Text, IDL.Opt(IDL.Nat64)),\r\n      CanisterCreated: IDL.Principal,\r\n      ToppedUp: IDL.Null,\r\n    });\r\n    const Result = IDL.Variant({ Ok: CyclesResponse, Err: IDL.Text });\r\n\r\n    return IDL.Service({\r\n      get_average_icp_xdr_conversion_rate: IDL.Func(\r\n        [],\r\n        [IcpXdrConversionRateCertifiedResponse],\r\n        ['query']\r\n      ),\r\n      get_icp_xdr_conversion_rate: IDL.Func(\r\n        [],\r\n        [IcpXdrConversionRateCertifiedResponse],\r\n        ['query']\r\n      ),\r\n      set_authorized_subnetwork_list: IDL.Func(\r\n        [SetAuthorizedSubnetworkListArgs],\r\n        [],\r\n        []\r\n      ),\r\n      transaction_notification: IDL.Func(\r\n        [TransactionNotification],\r\n        [Result],\r\n        []\r\n      ),\r\n    });\r\n  };\r\n}\r\n","export * from './swap-storage.did';\r\nexport * from './swap.did';\r\nexport * from './token.did';\r\nexport * from './xtc.did';\r\nexport * from './capCanReg.did';\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace SwapStorageIDL {\r\n  export interface Bucket {\r\n    addRecords: (arg_0: Array<TxRecord>) => Promise<bigint>;\r\n    getStatus: () => Promise<Status>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord>;\r\n    getTransactions: (arg_0: bigint, arg_1: bigint) => Promise<Array<TxRecord>>;\r\n  }\r\n  export interface BucketInfoExt {\r\n    id: bigint;\r\n    bucketId: Principal;\r\n    start: bigint;\r\n    length: bigint;\r\n  }\r\n  export type Operation =\r\n    | { lpTransfer: null }\r\n    | { lpApprove: null }\r\n    | { withdraw: null }\r\n    | { tokenTransfer: null }\r\n    | { swap: null }\r\n    | { addLiquidity: null }\r\n    | { createPair: null }\r\n    | { deposit: null }\r\n    | { removeLiquidity: null }\r\n    | { lpTransferFrom: null }\r\n    | { tokenTransferFrom: null }\r\n    | { tokenApprove: null };\r\n  export type Operation__1 =\r\n    | { lpTransfer: null }\r\n    | { lpApprove: null }\r\n    | { withdraw: null }\r\n    | { tokenTransfer: null }\r\n    | { swap: null }\r\n    | { addLiquidity: null }\r\n    | { createPair: null }\r\n    | { deposit: null }\r\n    | { removeLiquidity: null }\r\n    | { lpTransferFrom: null }\r\n    | { tokenTransferFrom: null }\r\n    | { tokenApprove: null };\r\n  export interface Status {\r\n    memSize: bigint;\r\n    storageId: Principal;\r\n    cycles: bigint;\r\n    start: bigint;\r\n    length: bigint;\r\n  }\r\n  export interface Status__1 {\r\n    recordsPerBucket: bigint;\r\n    memSize: bigint;\r\n    owner: Principal;\r\n    txAmount: bigint;\r\n    cycles: bigint;\r\n    flushing: boolean;\r\n    bufferSize: bigint;\r\n    chunkSize: bigint;\r\n    dswap: Principal;\r\n    buckets: Array<BucketInfoExt>;\r\n  }\r\n  export interface Storage {\r\n    addRecord: (\r\n      arg_0: Principal,\r\n      arg_1: Operation__1,\r\n      arg_2: string,\r\n      arg_3: Principal,\r\n      arg_4: Principal,\r\n      arg_5: bigint,\r\n      arg_6: bigint,\r\n      arg_7: bigint,\r\n      arg_8: bigint,\r\n      arg_9: Time\r\n    ) => Promise<bigint>;\r\n    flush: () => Promise<boolean>;\r\n    getBucket: () => Promise<Principal>;\r\n    getStatus: () => Promise<Status__1>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord__1>;\r\n    getTransactions: (\r\n      arg_0: bigint,\r\n      arg_1: bigint\r\n    ) => Promise<Array<TxRecord__1>>;\r\n    getUserTransactionAmount: (arg_0: Principal) => Promise<bigint>;\r\n    getUserTransactions: (\r\n      arg_0: Principal,\r\n      arg_1: bigint,\r\n      arg_2: bigint\r\n    ) => Promise<Array<TxRecord__1>>;\r\n    historySize: () => Promise<bigint>;\r\n    newBucket: () => Promise<Principal>;\r\n    setDSwapCanisterId: (arg_0: Principal) => Promise<boolean>;\r\n  }\r\n  export type Time = bigint;\r\n  export interface TxRecord {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    tokenId: string;\r\n    from: Principal;\r\n    amount0: bigint;\r\n    amount1: bigint;\r\n    timestamp: Time;\r\n    caller: Principal;\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export interface TxRecord__1 {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    tokenId: string;\r\n    from: Principal;\r\n    amount0: bigint;\r\n    amount1: bigint;\r\n    timestamp: Time;\r\n    caller: Principal;\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export type Factory = Storage;\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const Operation__1 = IDL.Variant({\r\n      lpTransfer: IDL.Null,\r\n      lpApprove: IDL.Null,\r\n      withdraw: IDL.Null,\r\n      tokenTransfer: IDL.Null,\r\n      swap: IDL.Null,\r\n      addLiquidity: IDL.Null,\r\n      createPair: IDL.Null,\r\n      deposit: IDL.Null,\r\n      removeLiquidity: IDL.Null,\r\n      lpTransferFrom: IDL.Null,\r\n      tokenTransferFrom: IDL.Null,\r\n      tokenApprove: IDL.Null,\r\n    });\r\n    const Time = IDL.Int;\r\n    const Operation = IDL.Variant({\r\n      lpTransfer: IDL.Null,\r\n      lpApprove: IDL.Null,\r\n      withdraw: IDL.Null,\r\n      tokenTransfer: IDL.Null,\r\n      swap: IDL.Null,\r\n      addLiquidity: IDL.Null,\r\n      createPair: IDL.Null,\r\n      deposit: IDL.Null,\r\n      removeLiquidity: IDL.Null,\r\n      lpTransferFrom: IDL.Null,\r\n      tokenTransferFrom: IDL.Null,\r\n      tokenApprove: IDL.Null,\r\n    });\r\n    const TxRecord = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      tokenId: IDL.Text,\r\n      from: IDL.Principal,\r\n      amount0: IDL.Nat,\r\n      amount1: IDL.Nat,\r\n      timestamp: Time,\r\n      caller: IDL.Principal,\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const Status = IDL.Record({\r\n      memSize: IDL.Nat,\r\n      storageId: IDL.Principal,\r\n      cycles: IDL.Nat,\r\n      start: IDL.Nat,\r\n      length: IDL.Nat,\r\n    });\r\n    const Bucket = IDL.Service({\r\n      addRecords: IDL.Func([IDL.Vec(TxRecord)], [IDL.Nat], []),\r\n      getStatus: IDL.Func([], [Status], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord], ['query']),\r\n      getTransactions: IDL.Func(\r\n        [IDL.Nat, IDL.Nat],\r\n        [IDL.Vec(TxRecord)],\r\n        ['query']\r\n      ),\r\n    });\r\n    const BucketInfoExt = IDL.Record({\r\n      id: IDL.Nat,\r\n      bucketId: IDL.Principal,\r\n      start: IDL.Nat,\r\n      length: IDL.Nat,\r\n    });\r\n    const Status__1 = IDL.Record({\r\n      recordsPerBucket: IDL.Nat,\r\n      memSize: IDL.Nat,\r\n      owner: IDL.Principal,\r\n      txAmount: IDL.Nat,\r\n      cycles: IDL.Nat,\r\n      flushing: IDL.Bool,\r\n      bufferSize: IDL.Nat,\r\n      chunkSize: IDL.Nat,\r\n      dswap: IDL.Principal,\r\n      buckets: IDL.Vec(BucketInfoExt),\r\n    });\r\n    const TxRecord__1 = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      tokenId: IDL.Text,\r\n      from: IDL.Principal,\r\n      amount0: IDL.Nat,\r\n      amount1: IDL.Nat,\r\n      timestamp: Time,\r\n      caller: IDL.Principal,\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const Storage = IDL.Service({\r\n      addRecord: IDL.Func(\r\n        [\r\n          IDL.Principal,\r\n          Operation__1,\r\n          IDL.Text,\r\n          IDL.Principal,\r\n          IDL.Principal,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          Time,\r\n        ],\r\n        [IDL.Nat],\r\n        []\r\n      ),\r\n      flush: IDL.Func([], [IDL.Bool], []),\r\n      getBucket: IDL.Func([], [Bucket], []),\r\n      getStatus: IDL.Func([], [Status__1], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord__1], []),\r\n      getTransactions: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TxRecord__1)], []),\r\n      getUserTransactionAmount: IDL.Func([IDL.Principal], [IDL.Nat], ['query']),\r\n      getUserTransactions: IDL.Func(\r\n        [IDL.Principal, IDL.Nat, IDL.Nat],\r\n        [IDL.Vec(TxRecord__1)],\r\n        []\r\n      ),\r\n      historySize: IDL.Func([], [IDL.Nat], []),\r\n      newBucket: IDL.Func([], [Bucket], []),\r\n      setDSwapCanisterId: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n    });\r\n    return Storage;\r\n  };\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace SwapIDL {\r\n  export interface PairInfoExt {\r\n    id: string, price0CumulativeLast: bigint, creator: Principal, reserve0: bigint, reserve1: bigint,\r\n    lptoken: string, totalSupply: bigint, token0: string, token1: string, price1CumulativeLast: bigint,\r\n    kLast: bigint, blockTimestampLast: bigint,\r\n  };\r\n  export interface SwapInfo { owner: Principal, cycles: bigint, tokens: Array<TokenInfoExt>, pairs: Array<PairInfoExt> };\r\n  export interface TokenInfoExt { id: string, fee: bigint, decimals: number, name: string, totalSupply: bigint, symbol: string };\r\n  export interface TokenInfoWithType {\r\n    id: string, fee: bigint, decimals: number, name: string,\r\n    totalSupply: bigint, tokenType: string, symbol: string,\r\n  };\r\n  export type TxReceipt = { ok: bigint } | { err: string };\r\n  export interface UserInfo { lpBalances: Array<[string, bigint]>, balances: Array<[string, bigint]> };\r\n  export interface UserInfoPage { lpBalances: [Array<[string, bigint]>, bigint], balances: [Array<[string, bigint]>, bigint] };\r\n  export type Result = { ok: boolean } | { err: string };\r\n\r\n  export interface Swap {\r\n    addAuth: (arg_0: Principal) => Promise<boolean>,\r\n    addLiquidity: (arg_0: Principal, arg_1: Principal, arg_2: bigint, arg_3: bigint, arg_4: bigint, arg_5: bigint, arg_6: bigint) => Promise<TxReceipt>,\r\n    addToken: (arg_0: Principal) => Promise<TxReceipt>,\r\n    addTokenTypes: (arg_0: Principal, arg_1: string) => Promise<TxReceipt>,\r\n    addTokenWithType: (arg_0: Principal, arg_1: string) => Promise<TxReceipt>,\r\n    allowance: (arg_0: string, arg_1: Principal, arg_2: Principal) => Promise<bigint>,\r\n    approve: (arg_0: string, arg_1: Principal, arg_2: bigint) => Promise<boolean>,\r\n    balanceOf: (arg_0: string, arg_1: Principal) => Promise<bigint>,\r\n    burn: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    createPair: (arg_0: Principal, arg_1: Principal) => Promise<TxReceipt>,\r\n    decimals: (arg_0: string) => Promise<number>,\r\n    deposit: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>,\r\n    depositTo: (arg_0: Principal, arg_1: Principal, arg_2: bigint) => Promise<TxReceipt>,\r\n    exportBalances: (arg_0: string) => Promise<[] | [Array<[Principal, bigint]>]>,\r\n    exportLPTokens: () => Promise<Array<TokenInfoExt>>,\r\n    exportPairs: () => Promise<Array<PairInfoExt>>,\r\n    exportTokenTypes: () => Promise<Array<[string, string]>>,\r\n    exportTokens: () => Promise<Array<TokenInfoExt>>,\r\n    getAllPairs: () => Promise<Array<PairInfoExt>>,\r\n    getHolders: (arg_0: string) => Promise<bigint>,\r\n    getLPTokenId: (arg_0: Principal, arg_1: Principal) => Promise<string>,\r\n    getNumPairs: () => Promise<bigint>,\r\n    getPair: (arg_0: Principal, arg_1: Principal) => Promise<[] | [PairInfoExt]>,\r\n    getPairs: (arg_0: bigint, arg_1: bigint) => Promise<[Array<PairInfoExt>, bigint]>,\r\n    getSupportedTokenList: () => Promise<Array<TokenInfoWithType>>,\r\n    getSupportedTokenListByName: (arg_0: string, arg_1: bigint, arg_2: bigint) => Promise<[Array<TokenInfoExt>, bigint]>,\r\n    getSupportedTokenListSome: (arg_0: bigint, arg_1: bigint) => Promise<[Array<TokenInfoExt>, bigint]>,\r\n    getSwapInfo: () => Promise<SwapInfo>,\r\n    getUserBalances: (arg_0: Principal) => Promise<Array<[string, bigint]>>,\r\n    getUserInfo: (arg_0: Principal) => Promise<UserInfo>,\r\n    getUserInfoAbove: (arg_0: Principal, arg_1: bigint, arg_2: bigint) => Promise<UserInfo>,\r\n    getUserInfoByNamePageAbove: (\r\n      arg_0: Principal, arg_1: bigint, arg_2: string, arg_3: bigint, arg_4: bigint,\r\n      arg_5: bigint, arg_6: string, arg_7: bigint, arg_8: bigint) => Promise<UserInfoPage>,\r\n    getUserLPBalances: (arg_0: Principal) => Promise<Array<[string, bigint]>>,\r\n    getUserLPBalancesAbove: (arg_0: Principal, arg_1: bigint) => Promise<Array<[string, bigint]>>,\r\n    historySize: () => Promise<bigint>,\r\n    initateTransfer: () => Promise<string>,\r\n\r\n    initiateICRC1Transfer : () => Promise<Array<number>>,\r\n\r\n    logMessageClear: () => Promise<undefined>,\r\n    logMessageGet: () => Promise<Array<string>>,\r\n    name: (arg_0: string) => Promise<string>,\r\n    removeAuth: (arg_0: Principal) => Promise<boolean>,\r\n    removeLiquidity: (\r\n      arg_0: Principal, arg_1: Principal, arg_2: bigint, arg_3: bigint,\r\n      arg_4: bigint, arg_5: Principal, arg_6: bigint,\r\n    ) => Promise<TxReceipt>,\r\n    setFeeForToken: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    setFeeOn: (arg_0: boolean) => Promise<boolean>,\r\n    setFeeTo: (arg_0: Principal) => Promise<boolean>,\r\n    setGlobalTokenFee: (arg_0: bigint) => Promise<boolean>,\r\n    setMaxTokens: (arg_0: bigint) => Promise<boolean>,\r\n    setOwner: (arg_0: Principal) => Promise<boolean>,\r\n    setPairSupply: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    setPermissionless: (arg_0: boolean) => Promise<boolean>,\r\n    swapExactTokensForTokens: (arg_0: bigint, arg_1: bigint, arg_2: Array<string>,\r\n      arg_3: Principal, arg_4: bigint) => Promise<TxReceipt>,\r\n    swapTokensForExactTokens: (\r\n      arg_0: bigint, arg_1: bigint, arg_2: Array<string>, arg_3: Principal, arg_4: bigint,\r\n    ) => Promise<TxReceipt>,\r\n    symbol: (arg_0: string) => Promise<string>,\r\n    totalSupply: (arg_0: string) => Promise<bigint>,\r\n    transfer: (arg_0: string, arg_1: Principal, arg_2: bigint) => Promise<boolean>,\r\n    transferFrom: (\r\n      arg_0: string, arg_1: Principal, arg_2: Principal, arg_3: bigint,\r\n    ) => Promise<boolean>,\r\n    updateAllTokenMetadata: () => Promise<boolean>,\r\n    updateTokenFees: () => Promise<boolean>,\r\n    updateTokenMetadata: (arg_0: string) => Promise<boolean>,\r\n    withdraw: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>,\r\n    withdrawTo: (arg_0: Principal, arg_1: Principal, arg_2: bigint) => Promise<TxReceipt>,\r\n    getUserReward : (arg_0: Principal, arg_1: string, arg_2: string) => Promise<Result>,\r\n    retryDeposit : (arg_0: Principal) => Promise<TxReceipt>,\r\n  }\r\n\r\n  export type Factory = Swap;\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const TxReceipt = IDL.Variant({ ok: IDL.Nat, err: IDL.Text });\r\n    const TokenInfoExt = IDL.Record({\r\n      id: IDL.Text, fee: IDL.Nat, decimals: IDL.Nat8,\r\n      name: IDL.Text, totalSupply: IDL.Nat, symbol: IDL.Text,\r\n    });\r\n    const PairInfoExt = IDL.Record({\r\n      id: IDL.Text, price0CumulativeLast: IDL.Nat, creator: IDL.Principal, reserve0: IDL.Nat,\r\n      reserve1: IDL.Nat, lptoken: IDL.Text, totalSupply: IDL.Nat, token0: IDL.Text, token1: IDL.Text,\r\n      price1CumulativeLast: IDL.Nat, kLast: IDL.Nat, blockTimestampLast: IDL.Int,\r\n    });\r\n    const TokenInfoWithType = IDL.Record({\r\n      id: IDL.Text, fee: IDL.Nat, decimals: IDL.Nat8, name: IDL.Text,\r\n      totalSupply: IDL.Nat, tokenType: IDL.Text, symbol: IDL.Text,\r\n    });\r\n    const SwapInfo = IDL.Record({\r\n      owner: IDL.Principal, cycles: IDL.Nat, tokens: IDL.Vec(TokenInfoExt), pairs: IDL.Vec(PairInfoExt),\r\n    });\r\n    const UserInfo = IDL.Record({\r\n      lpBalances: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), balances: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)),\r\n    });\r\n    const UserInfoPage = IDL.Record({\r\n      lpBalances: IDL.Tuple(IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), IDL.Nat),\r\n      balances: IDL.Tuple(IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), IDL.Nat),\r\n    });\r\n    const Result = IDL.Variant({\r\n      ok : IDL.Tuple(IDL.Nat, IDL.Nat),\r\n      err : IDL.Text,\r\n    });\r\n    const Swap = IDL.Service({\r\n      addAuth: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      addLiquidity: IDL.Func(\r\n        [IDL.Principal, IDL.Principal, IDL.Nat, IDL.Nat, IDL.Nat, IDL.Nat, IDL.Int],\r\n        [TxReceipt],\r\n        [],\r\n      ),\r\n      addToken: IDL.Func([IDL.Principal], [TxReceipt], []),\r\n      addTokenTypes: IDL.Func([IDL.Principal, IDL.Text], [TxReceipt], []),\r\n      addTokenWithType: IDL.Func([IDL.Principal, IDL.Text], [TxReceipt], []),\r\n      allowance: IDL.Func([IDL.Text, IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n      approve: IDL.Func([IDL.Text, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      balanceOf: IDL.Func([IDL.Text, IDL.Principal], [IDL.Nat], ['query']),\r\n      burn: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      createPair: IDL.Func([IDL.Principal, IDL.Principal], [TxReceipt], []),\r\n      decimals: IDL.Func([IDL.Text], [IDL.Nat8], ['query']),\r\n      deposit: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      depositTo: IDL.Func([IDL.Principal, IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      exportBalances: IDL.Func([IDL.Text], [IDL.Opt(IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat)))], ['query']),\r\n      exportLPTokens: IDL.Func([], [IDL.Vec(TokenInfoExt)], ['query']),\r\n      exportPairs: IDL.Func([], [IDL.Vec(PairInfoExt)], ['query']),\r\n      exportTokenTypes: IDL.Func([], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text))], ['query']),\r\n      exportTokens: IDL.Func([], [IDL.Vec(TokenInfoExt)], ['query']),\r\n      getAllPairs: IDL.Func([], [IDL.Vec(PairInfoExt)], ['query']),\r\n      getHolders: IDL.Func([IDL.Text], [IDL.Nat], ['query']),\r\n      getLPTokenId: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Text], ['query']),\r\n      getNumPairs: IDL.Func([], [IDL.Nat], ['query']),\r\n      getPair: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Opt(PairInfoExt)], ['query']),\r\n      getPairs: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(PairInfoExt), IDL.Nat], ['query']),\r\n      getSupportedTokenList: IDL.Func([], [IDL.Vec(TokenInfoWithType)], ['query']),\r\n      getSupportedTokenListByName: IDL.Func([IDL.Text, IDL.Nat, IDL.Nat], [IDL.Vec(TokenInfoExt), IDL.Nat], ['query']),\r\n      getSupportedTokenListSome: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TokenInfoExt), IDL.Nat], ['query']),\r\n      getSwapInfo: IDL.Func([], [SwapInfo], ['query']),\r\n      getUserBalances: IDL.Func([IDL.Principal], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      getUserInfo: IDL.Func([IDL.Principal], [UserInfo], ['query']),\r\n      getUserInfoAbove: IDL.Func([IDL.Principal, IDL.Nat, IDL.Nat], [UserInfo], ['query']),\r\n      getUserInfoByNamePageAbove: IDL.Func(\r\n        [IDL.Principal, IDL.Int, IDL.Text, IDL.Nat, IDL.Nat, IDL.Int, IDL.Text, IDL.Nat, IDL.Nat],\r\n        [UserInfoPage], ['query'],\r\n      ),\r\n      getUserLPBalances: IDL.Func([IDL.Principal], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      getUserLPBalancesAbove: IDL.Func([IDL.Principal, IDL.Nat], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      historySize: IDL.Func([], [IDL.Nat], []),\r\n      initateTransfer: IDL.Func([], [IDL.Text], []),\r\n\r\n      initiateICRC1Transfer : IDL.Func([], [IDL.Vec(IDL.Nat8)], []),\r\n\r\n      logMessageClear: IDL.Func([], [], []),\r\n      logMessageGet: IDL.Func([], [IDL.Vec(IDL.Text)], ['query']),\r\n      name: IDL.Func([IDL.Text], [IDL.Text], ['query']),\r\n      removeAuth: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      removeLiquidity: IDL.Func([\r\n        IDL.Principal, IDL.Principal, IDL.Nat, IDL.Nat,\r\n        IDL.Nat, IDL.Principal, IDL.Int], [TxReceipt], [],\r\n      ),\r\n      setFeeForToken: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      setFeeOn: IDL.Func([IDL.Bool], [IDL.Bool], []),\r\n      setFeeTo: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      setGlobalTokenFee: IDL.Func([IDL.Nat], [IDL.Bool], []),\r\n      setMaxTokens: IDL.Func([IDL.Nat], [IDL.Bool], []),\r\n      setOwner: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      setPairSupply: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      setPermissionless: IDL.Func([IDL.Bool], [IDL.Bool], []),\r\n      swapExactTokensForTokens: IDL.Func([IDL.Nat, IDL.Nat, IDL.Vec(IDL.Text), IDL.Principal, IDL.Int], [TxReceipt], []),\r\n      swapTokensForExactTokens: IDL.Func([IDL.Nat, IDL.Nat, IDL.Vec(IDL.Text), IDL.Principal, IDL.Int], [TxReceipt], []),\r\n      symbol: IDL.Func([IDL.Text], [IDL.Text], ['query']),\r\n      totalSupply: IDL.Func([IDL.Text], [IDL.Nat], ['query']),\r\n      transfer: IDL.Func([IDL.Text, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      transferFrom: IDL.Func([IDL.Text, IDL.Principal, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      updateAllTokenMetadata: IDL.Func([], [IDL.Bool], []),\r\n      updateTokenFees: IDL.Func([], [IDL.Bool], []),\r\n      updateTokenMetadata: IDL.Func([IDL.Text], [IDL.Bool], []),\r\n      withdraw: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      withdrawTo: IDL.Func([IDL.Principal, IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      getUserReward : IDL.Func([IDL.Principal, IDL.Text, IDL.Text],[Result],['query']),\r\n      retryDeposit : IDL.Func([IDL.Principal], [TxReceipt], []),\r\n    });\r\n    return Swap;\r\n  };\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace TokenIDL {\r\n  export namespace DIP20 {\r\n    export interface Metadata {\r\n      fee: bigint;\r\n      decimals: number;\r\n      owner: Principal;\r\n      logo: string;\r\n      name: string;\r\n      totalSupply: bigint;\r\n      symbol: string;\r\n    }\r\n    export type Result = { Ok: bigint } | { Err: TxError };\r\n    export type YCResult = { Ok: string } | { Err: TxError };\r\n    export interface TokenInfo {\r\n      holderNumber: bigint;\r\n      deployTime: bigint;\r\n      metadata: Metadata;\r\n      historySize: bigint;\r\n      cycles: bigint;\r\n      feeTo: Principal;\r\n    }\r\n    export type TxError =\r\n      | { InsufficientAllowance: null }\r\n      | { InsufficientBalance: null }\r\n      | { ErrorOperationStyle: null }\r\n      | { Unauthorized: null }\r\n      | { LedgerTrap: null }\r\n      | { ErrorTo: null }\r\n      | { Other: null }\r\n      | { BlockUsed: null }\r\n      | { AmountTooSmall: null };\r\n    export interface Token {\r\n      allowance: (arg_0: Principal, arg_1: Principal) => Promise<bigint>;\r\n      approve: (arg_0: Principal, arg_1: bigint) => Promise<Result>;\r\n      balanceOf: (arg_0: Principal) => Promise<bigint>;\r\n      decimals: () => Promise<number>;\r\n      getAllowanceSize: () => Promise<bigint>;\r\n      getBlockUsed: () => Promise<Array<bigint>>;\r\n      getHolders: (\r\n        arg_0: bigint,\r\n        arg_1: bigint\r\n      ) => Promise<Array<[Principal, bigint]>>;\r\n      logo: () => Promise<string>;\r\n      getMetadata: () => Promise<Metadata>;\r\n      getTokenInfo: () => Promise<TokenInfo>;\r\n      getUserApprovals: (arg_0: Principal) => Promise<Array<[Principal, bigint]>>;\r\n      historySize: () => Promise<bigint>;\r\n      isBlockUsed: (arg_0: bigint) => Promise<boolean>;\r\n      mint: (arg_0: [] | [Array<number>], arg_1: bigint) => Promise<Result>;\r\n      name: () => Promise<string>;\r\n      owner: () => Promise<Principal>;\r\n      setFee: (arg_0: bigint) => Promise<undefined>;\r\n      setFeeTo: (arg_0: Principal) => Promise<undefined>;\r\n      setGenesis: () => Promise<Result>;\r\n      setLogo: (arg_0: string) => Promise<undefined>;\r\n      setName: (arg_0: string) => Promise<undefined>;\r\n      setOwner: (arg_0: Principal) => Promise<undefined>;\r\n      symbol: () => Promise<string>;\r\n      totalSupply: () => Promise<bigint>;\r\n      transfer: (arg_0: Principal, arg_1: bigint) => Promise<Result>;\r\n      transferFrom: (\r\n        arg_0: Principal,\r\n        arg_1: Principal,\r\n        arg_2: bigint\r\n      ) => Promise<Result>;\r\n      withdraw: (arg_0: bigint, arg_1: string) => Promise<Result>;\r\n    }\r\n    export type Factory = Token;\r\n\r\n    export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const TxError = IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n        ErrorOperationStyle: IDL.Null,\r\n        Unauthorized: IDL.Null,\r\n        LedgerTrap: IDL.Null,\r\n        ErrorTo: IDL.Null,\r\n        Other: IDL.Null,\r\n        BlockUsed: IDL.Null,\r\n        AmountTooSmall: IDL.Null,\r\n      });\r\n      const Result = IDL.Variant({ Ok: IDL.Nat, Err: TxError });\r\n      const Metadata = IDL.Record({\r\n        fee: IDL.Nat,\r\n        decimals: IDL.Nat8,\r\n        owner: IDL.Principal,\r\n        logo: IDL.Text,\r\n        name: IDL.Text,\r\n        totalSupply: IDL.Nat,\r\n        symbol: IDL.Text,\r\n      });\r\n      const TokenInfo = IDL.Record({\r\n        holderNumber: IDL.Nat64,\r\n        deployTime: IDL.Nat64,\r\n        metadata: Metadata,\r\n        historySize: IDL.Nat64,\r\n        cycles: IDL.Nat64,\r\n        feeTo: IDL.Principal,\r\n      });\r\n      return IDL.Service({\r\n        allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n        approve: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], []),\r\n        decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        getAllowanceSize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n        getHolders: IDL.Func(\r\n          [IDL.Nat64, IDL.Nat64],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        logo: IDL.Func([], [IDL.Text], ['query']),\r\n        getMetadata: IDL.Func([], [Metadata], ['query']),\r\n        getTokenInfo: IDL.Func([], [TokenInfo], ['query']),\r\n        getUserApprovals: IDL.Func(\r\n          [IDL.Principal],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        historySize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n        mint: IDL.Func([IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64], [Result], []),\r\n        name: IDL.Func([], [IDL.Text], ['query']),\r\n        owner: IDL.Func([], [IDL.Principal], ['query']),\r\n        setFee: IDL.Func([IDL.Nat], [], []),\r\n        setFeeTo: IDL.Func([IDL.Principal], [], []),\r\n        setGenesis: IDL.Func([], [Result], []),\r\n        setLogo: IDL.Func([IDL.Text], [], []),\r\n        setName: IDL.Func([IDL.Text], [], []),\r\n        setOwner: IDL.Func([IDL.Principal], [], []),\r\n        symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n        transfer: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        transferFrom: IDL.Func(\r\n          [IDL.Principal, IDL.Principal, IDL.Nat],\r\n          [Result],\r\n          []\r\n        ),\r\n        withdraw: IDL.Func([IDL.Nat64, IDL.Text], [Result], []),\r\n      });\r\n    };\r\n    export const YCfactory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const TxError = IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n        ErrorOperationStyle: IDL.Null,\r\n        Unauthorized: IDL.Null,\r\n        LedgerTrap: IDL.Null,\r\n        ErrorTo: IDL.Null,\r\n        Other: IDL.Null,\r\n        BlockUsed: IDL.Null,\r\n        AmountTooSmall: IDL.Null,\r\n      });\r\n      const Result = IDL.Variant({ Ok: IDL.Text, Err: TxError });\r\n      const Metadata = IDL.Record({\r\n        fee: IDL.Nat,\r\n        decimals: IDL.Nat8,\r\n        owner: IDL.Principal,\r\n        logo: IDL.Text,\r\n        name: IDL.Text,\r\n        totalSupply: IDL.Nat,\r\n        symbol: IDL.Text,\r\n      });\r\n      const TokenInfo = IDL.Record({\r\n        holderNumber: IDL.Nat64,\r\n        deployTime: IDL.Nat64,\r\n        metadata: Metadata,\r\n        historySize: IDL.Nat64,\r\n        cycles: IDL.Nat64,\r\n        feeTo: IDL.Principal,\r\n      });\r\n      return IDL.Service({\r\n        allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n        approve: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], []),\r\n        decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        getAllowanceSize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n        getHolders: IDL.Func(\r\n          [IDL.Nat64, IDL.Nat64],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        logo: IDL.Func([], [IDL.Text], ['query']),\r\n        getMetadata: IDL.Func([], [Metadata], ['query']),\r\n        getTokenInfo: IDL.Func([], [TokenInfo], ['query']),\r\n        getUserApprovals: IDL.Func(\r\n          [IDL.Principal],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        historySize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n        mint: IDL.Func([IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64], [Result], []),\r\n        name: IDL.Func([], [IDL.Text], ['query']),\r\n        owner: IDL.Func([], [IDL.Principal], ['query']),\r\n        setFee: IDL.Func([IDL.Nat], [], []),\r\n        setFeeTo: IDL.Func([IDL.Principal], [], []),\r\n        setGenesis: IDL.Func([], [Result], []),\r\n        setLogo: IDL.Func([IDL.Text], [], []),\r\n        setName: IDL.Func([IDL.Text], [], []),\r\n        setOwner: IDL.Func([IDL.Principal], [], []),\r\n        symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n        transfer: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        transferFrom: IDL.Func(\r\n          [IDL.Principal, IDL.Principal, IDL.Nat],\r\n          [Result],\r\n          []\r\n        ),\r\n        withdraw: IDL.Func([IDL.Nat64, IDL.Text], [Result], []),\r\n      });\r\n    };\r\n  };\r\n\r\n  export namespace ICRC1 {\r\n    export interface Account { owner: Principal, subaccount: [] | [Array<number>] };\r\n    export interface ArchivedTransactionRange { callback: [Principal, string], start: bigint, length: bigint };\r\n    export interface Burn { from: Account, memo: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint };\r\n    export interface GetTransactionsRequest { start: bigint, length: bigint };\r\n    export interface GetTransactionsResponse {\r\n      first_index: bigint, log_length: bigint, transactions: Array<Transaction>,\r\n      archived_transactions: Array<ArchivedTransactionRange>,\r\n    };\r\n    export interface HttpRequest { url: string, method: string, body: Array<number>, headers: Array<[string, string]> };\r\n    export interface HttpResponse { body: Array<number>, headers: Array<[string, string]>, status_code: number };\r\n    export interface Mint { to: Account, memo: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint };\r\n    export type Result = { Ok: bigint } | { Err: TransferError };\r\n    export interface StandardRecord { url: string, name: string };\r\n    export interface Transaction {\r\n      burn: [] | [Burn], kind: string, mint: [] | [Mint],\r\n      timestamp: bigint, transfer: [] | [Transfer]\r\n    };\r\n    export interface Transfer {\r\n      to: Account, fee: [] | [bigint], from: Account, memo: [] | [Array<number>],\r\n      created_at_time: [] | [bigint], amount: bigint,\r\n    };\r\n    export interface TransferArg {\r\n      to: Account, fee: [] | [bigint], memo: [] | [Array<number>],\r\n      from_subaccount: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint\r\n    };\r\n    export type TransferError = {\r\n      GenericError: { message: string, error_code: bigint }\r\n    } |\r\n    { TemporarilyUnavailable: null } |\r\n    { BadBurn: { min_burn_amount: bigint } } |\r\n    { Duplicate: { duplicate_of: bigint } } |\r\n    { BadFee: { expected_fee: bigint } } |\r\n    { CreatedInFuture: { ledger_time: bigint } } |\r\n    { TooOld: null } |\r\n    { InsufficientFunds: { balance: bigint } };\r\n    export type TransferError_1 = { TxTooOld : { allowed_window_nanos : bigint }} |\r\n    { BadFee : { expected_fee : Tokens } } | { TxDuplicate : { duplicate_of : bigint } } | { TxCreatedInFuture : null } |\r\n    { InsufficientFunds : { balance : Tokens } };\r\n    \r\n    export type Value = { Int: bigint } | { Nat: bigint } | { Blob: Array<number> } | { Text: string };\r\n    export interface Tokens { 'e8s' : bigint };\r\n    export interface TimeStamp { 'timestamp_nanos' : bigint };\r\n    export type Result_1 = { 'Ok' : bigint } |{ 'Err' : TransferError_1 };\r\n    export interface TransferArgs {\r\n      to : Array<number>, fee : Tokens, memo : bigint,from_subaccount : [] | [Array<number>],\r\n      created_at_time : [] | [TimeStamp], amount : Tokens,\r\n    };\r\n    export interface Token {\r\n      get_transactions: (arg_0: GetTransactionsRequest) => Promise<GetTransactionsResponse>,\r\n      http_request: (arg_0: HttpRequest) => Promise<HttpResponse>,\r\n      icrc1_balance_of: (arg_0: Account) => Promise<bigint>,\r\n      icrc1_decimals: () => Promise<number>,\r\n      icrc1_fee: () => Promise<bigint>,\r\n      icrc1_metadata: () => Promise<Array<[string, Value]>>,\r\n      icrc1_minting_account: () => Promise<[] | [Account]>,\r\n      icrc1_name: () => Promise<string>,\r\n      icrc1_supported_standards: () => Promise<Array<StandardRecord>>,\r\n      icrc1_symbol: () => Promise<string>,\r\n      icrc1_total_supply: () => Promise<bigint>,\r\n      icrc1_transfer: (arg_0: TransferArg) => Promise<Result>,\r\n      transfer : (arg_0: TransferArgs) => Promise<Result_1>,\r\n    };\r\n    export type Factory = Token;\r\n    export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const GetTransactionsRequest = IDL.Record({ start: IDL.Nat, length: IDL.Nat });\r\n      const Account = IDL.Record({ owner: IDL.Principal, subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)) });\r\n      const Burn = IDL.Record({\r\n        from: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat\r\n      });\r\n      const Mint = IDL.Record({\r\n        to: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat\r\n      });\r\n      const Transfer = IDL.Record({\r\n        to: Account, fee: IDL.Opt(IDL.Nat), from: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat,\r\n      });\r\n      const Transaction = IDL.Record({\r\n        burn: IDL.Opt(Burn), kind: IDL.Text, mint: IDL.Opt(Mint), timestamp: IDL.Nat64,\r\n        transfer: IDL.Opt(Transfer),\r\n      });\r\n      const ArchivedTransactionRange = IDL.Record({\r\n        callback: IDL.Func( [GetTransactionsRequest],\r\n          [IDL.Record({ transactions: IDL.Vec(Transaction) })],['query'],\r\n        ),\r\n        start: IDL.Nat, length: IDL.Nat,\r\n      });\r\n\r\n      const GetTransactionsResponse = IDL.Record({ \r\n        first_index: IDL.Nat, log_length: IDL.Nat, transactions: IDL.Vec(Transaction),\r\n        archived_transactions: IDL.Vec(ArchivedTransactionRange),\r\n      });\r\n      const HttpRequest = IDL.Record({\r\n        url: IDL.Text, method: IDL.Text,body: IDL.Vec(IDL.Nat8), headers: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text)),\r\n      });\r\n      const HttpResponse = IDL.Record({\r\n        body: IDL.Vec(IDL.Nat8), headers: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text)), status_code: IDL.Nat16,\r\n      });\r\n      const Value = IDL.Variant({ Int: IDL.Int, Nat: IDL.Nat, Blob: IDL.Vec(IDL.Nat8), Text: IDL.Text});\r\n      const StandardRecord = IDL.Record({ url: IDL.Text, name: IDL.Text });\r\n\r\n      const TransferArg = IDL.Record({\r\n        to: Account, fee: IDL.Opt(IDL.Nat), memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        from_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat,\r\n      });\r\n       \r\n      const TransferError = IDL.Variant({\r\n        GenericError: IDL.Record({  message: IDL.Text,   error_code: IDL.Nat }),\r\n        TemporarilyUnavailable: IDL.Null,\r\n        BadBurn: IDL.Record({ min_burn_amount: IDL.Nat }),\r\n        Duplicate: IDL.Record({ duplicate_of: IDL.Nat }),\r\n        BadFee: IDL.Record({ expected_fee: IDL.Nat }),\r\n        CreatedInFuture: IDL.Record({ ledger_time: IDL.Nat64 }),\r\n        TooOld: IDL.Null,\r\n        InsufficientFunds: IDL.Record({ balance: IDL.Nat }),\r\n      });\r\n      \r\n      const Tokens = IDL.Record({ e8s : IDL.Nat64 });\r\n      const TimeStamp = IDL.Record({ timestamp_nanos : IDL.Nat64 });\r\n\r\n      const TransferError_1 = IDL.Variant({\r\n        TxTooOld : IDL.Record({ 'allowed_window_nanos' : IDL.Nat64 }),\r\n        BadFee : IDL.Record({ 'expected_fee' : Tokens }),\r\n        TxDuplicate : IDL.Record({ 'duplicate_of' : IDL.Nat64 }),\r\n        TxCreatedInFuture : IDL.Null,\r\n        InsufficientFunds : IDL.Record({ 'balance' : Tokens }),\r\n      });\r\n\r\n      const Result_1 = IDL.Variant({ 'Ok' : IDL.Nat64, 'Err' : TransferError_1 });\r\n\r\n      const TransferArgs = IDL.Record({\r\n        to : IDL.Vec(IDL.Nat8),\r\n        fee : Tokens,\r\n        memo : IDL.Nat64,\r\n        from_subaccount : IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time : IDL.Opt(TimeStamp),\r\n        amount : Tokens,\r\n      });\r\n      \r\n      const Result = IDL.Variant({ Ok: IDL.Nat, Err: TransferError });\r\n      return IDL.Service({\r\n        get_transactions: IDL.Func( [GetTransactionsRequest], [GetTransactionsResponse],['query']),\r\n        http_request: IDL.Func([HttpRequest], [HttpResponse], ['query']),\r\n        icrc1_balance_of: IDL.Func([Account], [IDL.Nat], ['query']),\r\n        icrc1_decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        icrc1_fee: IDL.Func([], [IDL.Nat], ['query']),\r\n        icrc1_metadata: IDL.Func( [], [IDL.Vec(IDL.Tuple(IDL.Text, Value))],['query'] ),\r\n        icrc1_minting_account: IDL.Func([], [IDL.Opt(Account)], ['query']),\r\n        icrc1_name: IDL.Func([], [IDL.Text], ['query']),\r\n        icrc1_supported_standards: IDL.Func( [],[IDL.Vec(StandardRecord)],['query']),\r\n        icrc1_symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        icrc1_total_supply: IDL.Func([], [IDL.Nat], ['query']),\r\n        icrc1_transfer: IDL.Func([TransferArg], [Result], []),\r\n        transfer : IDL.Func([TransferArgs], [Result_1], []),\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace XTCIDL {\r\n  export type BurnError =\r\n    | { InsufficientBalance: null }\r\n    | { InvalidTokenContract: null }\r\n    | { NotSufficientLiquidity: null };\r\n  export type BurnResult = { Ok: TransactionId } | { Err: BurnError };\r\n  export type CreateResult =\r\n    | { Ok: { canister_id: Principal } }\r\n    | { Err: string };\r\n  export interface Event {\r\n    fee: bigint;\r\n    status: TransactionStatus;\r\n    kind: EventDetail;\r\n    cycles: bigint;\r\n    timestamp: bigint;\r\n  }\r\n  export type EventDetail =\r\n    | {\r\n        Approve: { to: Principal; from: Principal };\r\n      }\r\n    | { Burn: { to: Principal; from: Principal } }\r\n    | { Mint: { to: Principal } }\r\n    | { CanisterCreated: { from: Principal; canister: Principal } }\r\n    | {\r\n        CanisterCalled: {\r\n          from: Principal;\r\n          method_name: string;\r\n          canister: Principal;\r\n        };\r\n      }\r\n    | { Transfer: { to: Principal; from: Principal } }\r\n    | {\r\n        TransferFrom: {\r\n          to: Principal;\r\n          from: Principal;\r\n          caller: Principal;\r\n        };\r\n      };\r\n  export interface EventsConnection {\r\n    data: Array<Event>;\r\n    next_offset: TransactionId;\r\n    next_canister_id: [] | [Principal];\r\n  }\r\n  export interface Metadata {\r\n    fee: bigint;\r\n    decimals: number;\r\n    owner: Principal;\r\n    logo: string;\r\n    name: string;\r\n    totalSupply: bigint;\r\n    symbol: string;\r\n  }\r\n  export type MintError = { NotSufficientLiquidity: null };\r\n  export type MintResult = { Ok: TransactionId } | { Err: MintError };\r\n  export type Operation =\r\n    | { transferFrom: null }\r\n    | { burn: null }\r\n    | { mint: null }\r\n    | { approve: null }\r\n    | { canisterCalled: null }\r\n    | { transfer: null }\r\n    | { canisterCreated: null };\r\n  export type ResultCall = { Ok: { return: Array<number> } } | { Err: string };\r\n  export type ResultSend = { Ok: null } | { Err: string };\r\n  export interface Stats {\r\n    fee: bigint;\r\n    transfers_count: bigint;\r\n    balance: bigint;\r\n    mints_count: bigint;\r\n    transfers_from_count: bigint;\r\n    canisters_created_count: bigint;\r\n    supply: bigint;\r\n    burns_count: bigint;\r\n    approvals_count: bigint;\r\n    proxy_calls_count: bigint;\r\n    history_events: bigint;\r\n  }\r\n  export type Time = bigint;\r\n  export type TransactionId = bigint;\r\n  export type TransactionStatus = { FAILED: null } | { SUCCEEDED: null };\r\n  export type TxError =\r\n    | { NotifyDfxFailed: null }\r\n    | { InsufficientAllowance: null }\r\n    | { UnexpectedCyclesResponse: null }\r\n    | { InsufficientBalance: null }\r\n    | { InsufficientXTCFee: null }\r\n    | { ErrorOperationStyle: null }\r\n    | { Unauthorized: null }\r\n    | { LedgerTrap: null }\r\n    | { ErrorTo: null }\r\n    | { Other: null }\r\n    | { FetchRateFailed: null }\r\n    | { BlockUsed: null }\r\n    | { AmountTooSmall: null };\r\n  export type TxReceipt = { Ok: bigint } | { Err: TxError };\r\n  export type TxReceiptLegacy =\r\n    | { Ok: bigint }\r\n    | {\r\n        Err: { InsufficientAllowance: null } | { InsufficientBalance: null };\r\n      };\r\n  export interface TxRecord {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    status: TransactionStatus;\r\n    from: Principal;\r\n    timestamp: Time;\r\n    caller: [] | [Principal];\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export interface _SERVICE {\r\n    allowance: (arg_0: Principal, arg_1: Principal) => Promise<bigint>;\r\n    approve: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>;\r\n    balance: (arg_0: [] | [Principal]) => Promise<bigint>;\r\n    balanceOf: (arg_0: Principal) => Promise<bigint>;\r\n    burn: (arg_0: {\r\n      canister_id: Principal;\r\n      amount: bigint;\r\n    }) => Promise<BurnResult>;\r\n    decimals: () => Promise<number>;\r\n    events: (arg_0: {\r\n      offset: [] | [bigint];\r\n      limit: number;\r\n    }) => Promise<EventsConnection>;\r\n    getBlockUsed: () => Promise<Array<bigint>>;\r\n    getMetadata: () => Promise<Metadata>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord>;\r\n    getTransactions: (arg_0: bigint, arg_1: bigint) => Promise<Array<TxRecord>>;\r\n    get_map_block_used: (arg_0: bigint) => Promise<[] | [bigint]>;\r\n    get_transaction: (arg_0: TransactionId) => Promise<[] | [Event]>;\r\n    halt: () => Promise<undefined>;\r\n    historySize: () => Promise<bigint>;\r\n    isBlockUsed: (arg_0: bigint) => Promise<boolean>;\r\n    logo: () => Promise<string>;\r\n    mint: (arg_0: Principal, arg_1: bigint) => Promise<MintResult>;\r\n    mint_by_icp: (\r\n      arg_0: [] | [Array<number>],\r\n      arg_1: bigint\r\n    ) => Promise<TxReceipt>;\r\n    name: () => Promise<string>;\r\n    nameErc20: () => Promise<string>;\r\n    stats: () => Promise<Stats>;\r\n    symbol: () => Promise<string>;\r\n    totalSupply: () => Promise<bigint>;\r\n    transfer: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>;\r\n    transferErc20: (\r\n      arg_0: Principal,\r\n      arg_1: bigint\r\n    ) => Promise<TxReceiptLegacy>;\r\n    transferFrom: (\r\n      arg_0: Principal,\r\n      arg_1: Principal,\r\n      arg_2: bigint\r\n    ) => Promise<TxReceipt>;\r\n    wallet_balance: () => Promise<{ amount: bigint }>;\r\n    wallet_call: (arg_0: {\r\n      args: Array<number>;\r\n      cycles: bigint;\r\n      method_name: string;\r\n      canister: Principal;\r\n    }) => Promise<ResultCall>;\r\n    wallet_create_canister: (arg_0: {\r\n      controller: [] | [Principal];\r\n      cycles: bigint;\r\n    }) => Promise<CreateResult>;\r\n    wallet_create_wallet: (arg_0: {\r\n      controller: [] | [Principal];\r\n      cycles: bigint;\r\n    }) => Promise<CreateResult>;\r\n    wallet_send: (arg_0: {\r\n      canister: Principal;\r\n      amount: bigint;\r\n    }) => Promise<ResultSend>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const TxError = IDL.Variant({\r\n      NotifyDfxFailed: IDL.Null,\r\n      InsufficientAllowance: IDL.Null,\r\n      UnexpectedCyclesResponse: IDL.Null,\r\n      InsufficientBalance: IDL.Null,\r\n      InsufficientXTCFee: IDL.Null,\r\n      ErrorOperationStyle: IDL.Null,\r\n      Unauthorized: IDL.Null,\r\n      LedgerTrap: IDL.Null,\r\n      ErrorTo: IDL.Null,\r\n      Other: IDL.Null,\r\n      FetchRateFailed: IDL.Null,\r\n      BlockUsed: IDL.Null,\r\n      AmountTooSmall: IDL.Null,\r\n    });\r\n    const TxReceipt = IDL.Variant({ Ok: IDL.Nat, Err: TxError });\r\n    const TransactionId = IDL.Nat64;\r\n    const BurnError = IDL.Variant({\r\n      InsufficientBalance: IDL.Null,\r\n      InvalidTokenContract: IDL.Null,\r\n      NotSufficientLiquidity: IDL.Null,\r\n    });\r\n    const BurnResult = IDL.Variant({ Ok: TransactionId, Err: BurnError });\r\n    const TransactionStatus = IDL.Variant({\r\n      FAILED: IDL.Null,\r\n      SUCCEEDED: IDL.Null,\r\n    });\r\n    const EventDetail = IDL.Variant({\r\n      Approve: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      Burn: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      Mint: IDL.Record({ to: IDL.Principal }),\r\n      CanisterCreated: IDL.Record({\r\n        from: IDL.Principal,\r\n        canister: IDL.Principal,\r\n      }),\r\n      CanisterCalled: IDL.Record({\r\n        from: IDL.Principal,\r\n        method_name: IDL.Text,\r\n        canister: IDL.Principal,\r\n      }),\r\n      Transfer: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      TransferFrom: IDL.Record({\r\n        to: IDL.Principal,\r\n        from: IDL.Principal,\r\n        caller: IDL.Principal,\r\n      }),\r\n    });\r\n    const Event = IDL.Record({\r\n      fee: IDL.Nat64,\r\n      status: TransactionStatus,\r\n      kind: EventDetail,\r\n      cycles: IDL.Nat64,\r\n      timestamp: IDL.Nat64,\r\n    });\r\n    const EventsConnection = IDL.Record({\r\n      data: IDL.Vec(Event),\r\n      next_offset: TransactionId,\r\n      next_canister_id: IDL.Opt(IDL.Principal),\r\n    });\r\n    const Metadata = IDL.Record({\r\n      fee: IDL.Nat,\r\n      decimals: IDL.Nat8,\r\n      owner: IDL.Principal,\r\n      logo: IDL.Text,\r\n      name: IDL.Text,\r\n      totalSupply: IDL.Nat,\r\n      symbol: IDL.Text,\r\n    });\r\n    const Operation = IDL.Variant({\r\n      transferFrom: IDL.Null,\r\n      burn: IDL.Null,\r\n      mint: IDL.Null,\r\n      approve: IDL.Null,\r\n      canisterCalled: IDL.Null,\r\n      transfer: IDL.Null,\r\n      canisterCreated: IDL.Null,\r\n    });\r\n    const Time = IDL.Int;\r\n    const TxRecord = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      status: TransactionStatus,\r\n      from: IDL.Principal,\r\n      timestamp: Time,\r\n      caller: IDL.Opt(IDL.Principal),\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const MintError = IDL.Variant({ NotSufficientLiquidity: IDL.Null });\r\n    const MintResult = IDL.Variant({ Ok: TransactionId, Err: MintError });\r\n    const Stats = IDL.Record({\r\n      fee: IDL.Nat,\r\n      transfers_count: IDL.Nat64,\r\n      balance: IDL.Nat64,\r\n      mints_count: IDL.Nat64,\r\n      transfers_from_count: IDL.Nat64,\r\n      canisters_created_count: IDL.Nat64,\r\n      supply: IDL.Nat,\r\n      burns_count: IDL.Nat64,\r\n      approvals_count: IDL.Nat64,\r\n      proxy_calls_count: IDL.Nat64,\r\n      history_events: IDL.Nat64,\r\n    });\r\n    const TxReceiptLegacy = IDL.Variant({\r\n      Ok: IDL.Nat,\r\n      Err: IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n      }),\r\n    });\r\n    const ResultCall = IDL.Variant({\r\n      Ok: IDL.Record({ return: IDL.Vec(IDL.Nat8) }),\r\n      Err: IDL.Text,\r\n    });\r\n    const CreateResult = IDL.Variant({\r\n      Ok: IDL.Record({ canister_id: IDL.Principal }),\r\n      Err: IDL.Text,\r\n    });\r\n    const ResultSend = IDL.Variant({ Ok: IDL.Null, Err: IDL.Text });\r\n    return IDL.Service({\r\n      allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n      approve: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      balance: IDL.Func([IDL.Opt(IDL.Principal)], [IDL.Nat64], []),\r\n      balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], ['query']),\r\n      burn: IDL.Func(\r\n        [IDL.Record({ canister_id: IDL.Principal, amount: IDL.Nat64 })],\r\n        [BurnResult],\r\n        []\r\n      ),\r\n      decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n      events: IDL.Func(\r\n        [IDL.Record({ offset: IDL.Opt(IDL.Nat64), limit: IDL.Nat16 })],\r\n        [EventsConnection],\r\n        ['query']\r\n      ),\r\n      getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n      getMetadata: IDL.Func([], [Metadata], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord], []),\r\n      getTransactions: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TxRecord)], []),\r\n      get_map_block_used: IDL.Func(\r\n        [IDL.Nat64],\r\n        [IDL.Opt(IDL.Nat64)],\r\n        ['query']\r\n      ),\r\n      get_transaction: IDL.Func([TransactionId], [IDL.Opt(Event)], []),\r\n      halt: IDL.Func([], [], []),\r\n      historySize: IDL.Func([], [IDL.Nat], ['query']),\r\n      isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n      logo: IDL.Func([], [IDL.Text], ['query']),\r\n      mint: IDL.Func([IDL.Principal, IDL.Nat], [MintResult], []),\r\n      mint_by_icp: IDL.Func(\r\n        [IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64],\r\n        [TxReceipt],\r\n        []\r\n      ),\r\n      name: IDL.Func([], [IDL.Text], ['query']),\r\n      nameErc20: IDL.Func([], [IDL.Text], ['query']),\r\n      stats: IDL.Func([], [Stats], ['query']),\r\n      symbol: IDL.Func([], [IDL.Text], ['query']),\r\n      totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n      transfer: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      transferErc20: IDL.Func([IDL.Principal, IDL.Nat], [TxReceiptLegacy], []),\r\n      transferFrom: IDL.Func(\r\n        [IDL.Principal, IDL.Principal, IDL.Nat],\r\n        [TxReceipt],\r\n        []\r\n      ),\r\n      wallet_balance: IDL.Func(\r\n        [],\r\n        [IDL.Record({ amount: IDL.Nat64 })],\r\n        ['query']\r\n      ),\r\n      wallet_call: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            args: IDL.Vec(IDL.Nat8),\r\n            cycles: IDL.Nat64,\r\n            method_name: IDL.Text,\r\n            canister: IDL.Principal,\r\n          }),\r\n        ],\r\n        [ResultCall],\r\n        []\r\n      ),\r\n      wallet_create_canister: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            controller: IDL.Opt(IDL.Principal),\r\n            cycles: IDL.Nat64,\r\n          }),\r\n        ],\r\n        [CreateResult],\r\n        []\r\n      ),\r\n      wallet_create_wallet: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            controller: IDL.Opt(IDL.Principal),\r\n            cycles: IDL.Nat64,\r\n          }),\r\n        ],\r\n        [CreateResult],\r\n        []\r\n      ),\r\n      wallet_send: IDL.Func(\r\n        [IDL.Record({ canister: IDL.Principal, amount: IDL.Nat64 })],\r\n        [ResultSend],\r\n        []\r\n      ),\r\n    });\r\n  };\r\n}\r\n","export * from './use-all-pairs';\r\nexport * from './use-balances';\r\nexport * from './use-query';\r\nexport * from './use-token-allowance';\r\nexport * from './use-token-balance';\r\nexport * from './use-token-logos-fetcher-init';\r\nexport * from './use-token-selection-detector';\r\nexport * from './use-user-metrics';\r\nexport * from './use-network-error-notifications';\r\nexport * from './use-header-resize-effect';\r\nexport * from './use-token-fee'","import { useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { getswapActor } from '@/utils/canisterDriver'\r\n\r\n\r\nimport { FeatureState, swapCanisterActions, useKeepSync, useSwapCanisterStore } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseAllPairs } from '@/utils/canister';\r\n\r\nexport const useAllPairs = () => {\r\n  const dispatch = useDispatch();\r\n  const { allPairsState, allPairs } = useSwapCanisterStore();\r\n\r\n  const getAllPairs = useKeepSync('getAllPairs',\r\n    useCallback(async (isRefreshing?: boolean) => {\r\n      try {\r\n        if (allPairsState !== FeatureState.Loading) {\r\n          dispatch(swapCanisterActions.setAllPairsState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n          const swapActor = await getswapActor(true);\r\n          var response = await swapActor.getAllPairs();\r\n          if (response) {\r\n            dispatch(swapCanisterActions.setAllPairs(parseResponseAllPairs(response)));\r\n          } else {\r\n            throw new Error('No \"getAllPairs\" response');\r\n          }\r\n          dispatch(swapCanisterActions.setAllPairsState(FeatureState.Idle));\r\n        }\r\n      } catch (error) {\r\n        AppLog.error(`All pairs fetch error`, error);\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Error));\r\n      }\r\n    },[dispatch, allPairsState]),{ interval: 25 * 1000 }\r\n  );\r\n\r\n  const directGetAllPairs = async()=>{\r\n    try {\r\n      if (allPairsState !== FeatureState.Loading) {\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Updating ));\r\n        const swapActor = await getswapActor(true);\r\n        var response = await swapActor.getAllPairs();\r\n        if (response) {\r\n          dispatch(swapCanisterActions.setAllPairs(parseResponseAllPairs(response)));\r\n        } else {\r\n          throw new Error('No \"getAllPairs\" response');\r\n        }\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Idle));\r\n      }\r\n    } catch (error) {\r\n      AppLog.error(`All pairs fetch error`, error);\r\n      dispatch(swapCanisterActions.setAllPairsState(FeatureState.Error));\r\n    }\r\n  }\r\n\r\n  return { allPairs, allPairsState, getAllPairs , directGetAllPairs };\r\n};\r\n\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useCallback, useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nimport { Balances } from '@/models';\r\nimport {\r\n  FeatureState, swapCanisterActions, useAppDispatch, useSwapCanisterStore, useWalletStore\r\n} from '@/store';\r\n\r\nimport { useKeepSync } from '@/store/features/keep-sync';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseUserLPBalances } from '@/utils/canister';\r\n\r\nimport { parseAmount, roundBigInt } from '@/utils/format';\r\nimport { fetchICPBalance } from '@/utils/icp';\r\n\r\nimport { getswapActor, getTokenBalance, tokenList } from '@/utils'\r\n\r\nexport const useBalances = () => {\r\n  const { principalId } = useWalletStore();\r\n\r\n  const { sonicBalances, icpBalance, tokenBalances, balancesState, userLPBalancesState } = useSwapCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const getUserPositiveLPBalances = useKeepSync('getUserPositiveLPBalances',\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        try {\r\n          if (userLPBalancesState === FeatureState.Loading) return;\r\n          dispatch(swapCanisterActions.setUserLPBalancesState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n          if (!principalId) throw new Error('Principal ID not found');\r\n\r\n          const swapActor = await getswapActor(true);\r\n          const response = await swapActor.getUserLPBalancesAbove(Principal.fromText(principalId), BigInt(0));\r\n          if (response) {\r\n            dispatch(swapCanisterActions.setUserLPBalances(parseResponseUserLPBalances(response)));\r\n          } else {\r\n            throw new Error('No \"getUserLPBalancesAbove\" response');\r\n          }\r\n          dispatch(swapCanisterActions.setUserLPBalancesState(FeatureState.Idle));\r\n        } catch (error) {\r\n          AppLog.error(`User LP balances fetch error`, error);\r\n        }\r\n      },\r\n      [userLPBalancesState, principalId, dispatch]\r\n    )\r\n  );\r\n  const maxDecimalPlaces = 5;\r\n  const getBalances = useKeepSync('getBalances', useCallback(async (isRefreshing?: boolean) => {\r\n    try {\r\n      if (balancesState === FeatureState.Loading) return;\r\n      if (!principalId) return;\r\n      const tokenInfo = tokenList('obj');\r\n      dispatch(swapCanisterActions.setBalancesState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n      const swapActor: any = await getswapActor(true);\r\n      const sonicBalances = await swapActor.getUserBalances(Principal.fromText(principalId));\r\n      const tokenBalances = sonicBalances ? await Promise.all(\r\n        sonicBalances.map(async (balance: any, index: number) => {\r\n          const tokenCanisterId = balance[0];\r\n          \r\n          var tokenFeeLen = tokenInfo[tokenCanisterId]?.fee.toString().length;\r\n          var tokenDecimals = tokenInfo[tokenCanisterId]?.decimals;\r\n\r\n\r\n          sonicBalances[index][1] = roundBigInt(sonicBalances[index][1], tokenDecimals, tokenFeeLen > maxDecimalPlaces ? tokenFeeLen : maxDecimalPlaces);\r\n          try {\r\n            var tokenBalance = BigInt(0);\r\n            tokenBalance = await getTokenBalance(tokenCanisterId, principalId);\r\n            const result: [string, bigint] = [balance[0], roundBigInt(tokenBalance, tokenDecimals, tokenFeeLen > maxDecimalPlaces ? tokenFeeLen : maxDecimalPlaces)];\r\n            return result;\r\n          } catch (error) {\r\n           // AppLog.error(`Token balance fetch error: token=\"${tokenCanisterId}\"`, error);\r\n            const errorResult: [string, bigint] = [balance[0], BigInt(0)];\r\n            return errorResult;\r\n          }\r\n        })\r\n      ) : undefined;\r\n      const icpBalance = await fetchICPBalance(principalId);\r\n      dispatch(swapCanisterActions.setICPBalance(parseAmount(icpBalance, ICP_METADATA.decimals)));\r\n      dispatch(swapCanisterActions.setSonicBalances(sonicBalances));\r\n      dispatch(swapCanisterActions.setTokenBalances(tokenBalances));\r\n      dispatch(swapCanisterActions.setBalancesState(FeatureState.Idle));\r\n    } catch (error) {\r\n      AppLog.error(`Balances fetch error`, error);\r\n      dispatch(swapCanisterActions.setBalancesState(FeatureState.Error));\r\n    }\r\n  }, [principalId, dispatch, balancesState]), { interval: 10 * 1000 }\r\n  );\r\n\r\n  const totalBalances = useMemo(() => {\r\n    if (tokenBalances && sonicBalances) {\r\n      return sumBalances(tokenBalances, sonicBalances, { [ICP_METADATA.id]: icpBalance ?? 0 });\r\n    }\r\n    return undefined;\r\n  }, [tokenBalances, sonicBalances, icpBalance, principalId]);\r\n\r\n  return {\r\n    totalBalances, sonicBalances, tokenBalances, icpBalance, balancesState,\r\n    userLPBalancesState, getBalances, getUserPositiveLPBalances,\r\n  };\r\n};\r\n\r\nconst sumBalances = (...balances: Balances[]): Balances => {\r\n  return balances.reduce((acc, current) => {\r\n    const balance = Object.entries(current);\r\n    \r\n    balance.forEach(([canisterId, amount]) => {\r\n      if (acc[canisterId]) { acc[canisterId] += amount;}\r\n      else { acc[canisterId] = amount;}\r\n    });\r\n\r\n    return acc;\r\n  }, {} as Balances);\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { MINT_AUTO_NOTIFICATION_TITLES } from '@/notifications';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationState,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  usePlugStore,\r\n} from '@/store';\r\nimport {\r\n  getFromStorage,\r\n  LocalStorageKey,\r\n  MintUncompleteBlockHeights,\r\n} from '@/utils';\r\n\r\nexport const useBlockHeightsInit = () => {\r\n  const [notificationId] = useState(String(new Date().getTime()));\r\n  const { isConnected, principalId } = usePlugStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const totalBlockHeightsWICP = getFromStorage(\r\n      LocalStorageKey.MintWICPUncompleteBlockHeights\r\n    ) as MintUncompleteBlockHeights | undefined;\r\n    const totalBlockHeightsXTC = getFromStorage(\r\n      LocalStorageKey.MintXTCUncompleteBlockHeights\r\n    ) as MintUncompleteBlockHeights | undefined;\r\n\r\n    if (principalId) {\r\n      const blockHeightsXTC = totalBlockHeightsXTC?.[principalId];\r\n      const blockHeightsWICP = totalBlockHeightsWICP?.[principalId];\r\n\r\n      if (blockHeightsWICP || blockHeightsXTC) {\r\n        const totalLength =\r\n          (blockHeightsWICP?.length ?? 0) + (blockHeightsXTC?.length ?? 0);\r\n\r\n        if (blockHeightsWICP) {\r\n          dispatch(\r\n            modalsSliceActions.setMintWICPUncompleteBlockHeights(\r\n              blockHeightsWICP\r\n            )\r\n          );\r\n        }\r\n        if (blockHeightsXTC) {\r\n          dispatch(\r\n            modalsSliceActions.setMintXTCUncompleteBlockHeights(blockHeightsXTC)\r\n          );\r\n        }\r\n\r\n        if (totalLength >= 1 && isConnected) {\r\n          addNotification({\r\n            id: notificationId,\r\n            title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Error],\r\n            type: NotificationType.MintAuto,\r\n            state: NotificationState.Error,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!isConnected || !principalId) {\r\n      popNotification(notificationId);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isConnected, principalId]);\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nexport const useHeaderResizeEffect = (\r\n  callback: (element: HTMLElement) => void\r\n) => {\r\n  useEffect(() => {\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      const header = document.getElementById('header');\r\n      if (header) {\r\n        callback(header);\r\n      }\r\n    });\r\n    const target = document.getElementById('header');\r\n    if (target) {\r\n      resizeObserver.observe(target);\r\n    }\r\n    return () => {\r\n      resizeObserver.disconnect();\r\n    };\r\n  }, [callback]);\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport {\r\n  FeatureState,\r\n  NotificationType,\r\n  useAppSelector,\r\n  useNotificationStore,\r\n} from '@/store';\r\n\r\nconst useNotificationEffect = (\r\n  id: string,\r\n  title: string,\r\n  state: FeatureState,\r\n  notifications: ReturnType<typeof useNotificationStore>\r\n) =>\r\n  useEffect(() => {\r\n    if (state === FeatureState.Error) {\r\n      return notifications.addNotification({\r\n        id,\r\n        title,\r\n        errorMessage: 'Trying again in 15 seconds...',\r\n        type: NotificationType.Error,\r\n        timeout: '11s',\r\n      });\r\n    } else {\r\n      notifications.popNotification(id);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [state]);\r\n\r\nexport const useNetworkErrorNotifications = () => {\r\n  const { allPairsState, supportedTokenListState,  balanceState } =\r\n    useAppSelector((state) => ({\r\n      allPairsState: state.swap.allPairsState,\r\n      supportedTokenListState: state.swap.supportedTokenListState,\r\n      priceState: state.price.state,\r\n      balanceState: state.swap.balancesState,\r\n    }));\r\n  const notifications = useNotificationStore();\r\n \r\n  // useNotificationEffect(\r\n  //   'icp-price-error',\r\n  //   'Failed to fetch ICP price',\r\n  //   priceState,\r\n  //   notifications\r\n  // );\r\n\r\n  useNotificationEffect(\r\n    'supported-token-list-error',\r\n    'Failed to fetch supported token list',\r\n    supportedTokenListState,\r\n    notifications\r\n  );\r\n\r\n  useNotificationEffect(\r\n    'all-pairs-error',\r\n    'Failed to fetch all pairs',\r\n    allPairsState,\r\n    notifications\r\n  );\r\n\r\n  useNotificationEffect(\r\n    'balance-error',\r\n    'Failed to fetch balances',\r\n    balanceState,\r\n    notifications\r\n  );\r\n};\r\n","import { useCallback } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\nexport const useQuery = () => {\r\n  const location = useLocation();\r\n\r\n  return {\r\n    get: useCallback(\r\n      (key: string) => new URLSearchParams(location.search).get(key),\r\n      [location.search]\r\n    ),\r\n    delete: useCallback(\r\n      (key: string) => {\r\n        const query = new URLSearchParams(location.search);\r\n        query.delete(key);\r\n        location.search = query.toString();\r\n\r\n        window.history.replaceState(\r\n          {},\r\n          '',\r\n          location.pathname +\r\n            (location.search !== '' ? `?${location.search}` : '')\r\n        );\r\n      },\r\n      [location.search]\r\n    ),\r\n  };\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { allowanceActions, useAllowanceStore, useAppDispatch, useWalletStore } from '@/store';\r\n\r\nimport { validPrincipalId } from '@/utils';\r\n\r\nexport const useTokenAllowance = (tokenId = ''): number | undefined => {\r\n  const dispatch = useAppDispatch();\r\n  const { principalId } = useWalletStore();\r\n  const { tokensAllowance } = useAllowanceStore();\r\n\r\n  useEffect(() => {\r\n    if (validPrincipalId(tokenId) && principalId) {\r\n      if (tokensAllowance[tokenId]) {\r\n        if (Date.now() > tokensAllowance[tokenId].expiration) {\r\n          dispatch(allowanceActions.fetchAllowance({ tokenId }));\r\n        }\r\n      } else {\r\n        dispatch(allowanceActions.fetchAllowance({ tokenId }));\r\n      }\r\n    }\r\n  }, [tokenId, principalId, dispatch, tokensAllowance]);\r\n\r\n  return tokensAllowance[tokenId]?.allowance;\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nimport { useBalances } from './use-balances';\r\n\r\nexport const useTokenBalanceMemo = (canisterId?: string , tokenType?:string) => {\r\n  const { totalBalances, icpBalance } = useBalances();\r\n\r\n  return useMemo(() => {\r\n    if (canisterId && totalBalances) {\r\n      const isICP = canisterId === ICP_METADATA.id;\r\n      if (isICP) { return icpBalance; }\r\n\r\n      return totalBalances[canisterId];\r\n    }\r\n  }, [canisterId, totalBalances, icpBalance]);\r\n};\r\n","import { useBalances } from '@/hooks/use-balances';\r\n\r\ntype useTokenTaxCheckOptions = {\r\n    tokenId?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?:string;\r\n    tokenSymbol?:string;\r\n};\r\nexport const useTokenTaxCheck = ({ tokenId ,tokenSymbol, tokenDecimals=1 , tokenValue='' ,}: useTokenTaxCheckOptions) => {\r\n    const { sonicBalances, tokenBalances ,icpBalance } = useBalances();\r\n    const tokenInfo={ wallet:0, sonic:0, taxInfo:{ input: 0 ,taxedValue:0, nonTaxedValue:0 ,netValue:0} }\r\n    if(tokenId!='' && tokenId!='ICP' && sonicBalances && tokenBalances){\r\n        var id= tokenId?tokenId:'';\r\n        tokenInfo['wallet'] = tokenBalances[id]? tokenBalances[id]:0;\r\n        tokenInfo['sonic'] = sonicBalances[id]?sonicBalances[id]:0;\r\n    }else{ tokenInfo['wallet'] = icpBalance?icpBalance:0;}\r\n    if(tokenValue){\r\n      let tokenVal:number = parseFloat(tokenValue)\r\n        if(tokenSymbol == 'YC'){\r\n            let decimals = tokenDecimals?(10**tokenDecimals):1\r\n            let sonicBalance = tokenInfo['sonic'] / decimals;\r\n            if((sonicBalance > tokenVal)){\r\n                tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n                tokenInfo.taxInfo.taxedValue = 0;\r\n            } else {\r\n                tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n                tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n            }    \r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89/100));\r\n        }\r\n    }    \r\n    return tokenInfo\r\n}","import { useEffect } from 'react';\r\nimport { getFromStorage, saveToStorage } from '@/utils';\r\nimport { AppLog , tokenList} from '@/utils';\r\n\r\n\r\n// not using\r\nexport const useTokenLogosFetcherInit = (): void => {\r\n  const supportedTokenList = tokenList('array');\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    Promise.all(\r\n      supportedTokenList.map(async (token:{id:string}) => {\r\n        const storageKey = `${token.id}-logo`;\r\n        const logo = getFromStorage(storageKey);\r\n        if (!logo) {\r\n          try {\r\n            var tokenLogo = \"https://cdn.sonic.ooo/icons/\"+token.id ; // await getTokenLogo(token.id);\r\n            saveToStorage(storageKey, tokenLogo);        \r\n          } catch (e) {\r\n            AppLog.error(`Token logo fetch error: token=${token.id}`, e);\r\n          }\r\n        }\r\n      })\r\n    );\r\n  }, [supportedTokenList]);\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nexport type UseTokenSelectionCheckerOptions = {\r\n  id0?: string;\r\n  id1?: string;\r\n  targetId?: string;\r\n};\r\n\r\nexport type UseTokenSelectionCheckerReturn = ReturnType<\r\n  typeof useTokenSelectionChecker\r\n>;\r\n\r\nexport const useTokenSelectionChecker = ({ id0, id1,targetId = ICP_METADATA.id,\r\n}: UseTokenSelectionCheckerOptions) => {\r\n\r\n  const isFirstIsSelected = useMemo(() => id0 === targetId, [id0, targetId]);\r\n  const isSecondIsSelected = useMemo(() => id1 === targetId, [id1, targetId]);\r\n\r\n  return { isFirstIsSelected, isSecondIsSelected, isTokenSelected: isFirstIsSelected || isSecondIsSelected};\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { Principal } from '@dfinity/principal';\r\nimport { AnalyticsApi } from '@/apis';\r\nimport { useWalletStore, useSwapCanisterStore } from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { getswapActor } from '@/utils'\r\n\r\nexport type UserLPMetrics = {\r\n  [pairId: string]: AnalyticsApi.PositionMetrics;\r\n};\r\n\r\n\r\nexport const useUserMetrics = () => {\r\n  const { principalId } = useWalletStore();\r\n\r\n  const { allPairs } = useSwapCanisterStore();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [userLPMetrics, setUserLPMetrics] = useState<UserLPMetrics>();\r\n\r\n  const getUserLPMetrics = async () => {\r\n    try {\r\n      if (isLoading) { return; }\r\n      if (!principalId || !allPairs) { setUserLPMetrics(undefined); return; }\r\n\r\n      const swapActor = await getswapActor(true);\r\n      const response = await swapActor.getUserLPBalancesAbove(Principal.fromText(principalId), BigInt(0));\r\n\r\n      const pairIds: any[] = response.length > 0 ? response.map(x => x[0]) : [];\r\n\r\n      setIsLoading(true);\r\n\r\n      const analyticsApi = new AnalyticsApi();\r\n      const promises = pairIds.map((pairId) => analyticsApi.queryUserLPMetrics(principalId, pairId));\r\n      const responses = await Promise.all(promises);\r\n\r\n      const _userPairMetrics = responses.reduce((acc, response, index) => {\r\n        acc[pairIds[index]] = response; return acc;\r\n      }, {} as UserLPMetrics);\r\n      setUserLPMetrics(_userPairMetrics);\r\n    } catch (error) {\r\n      AppLog.error(`User metrics fetch error`, error);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserLPMetrics()\r\n  }, [principalId]);\r\n\r\n  return { isLoading, userPairMetrics: userLPMetrics, getUserMetrics: getUserLPMetrics };\r\n};\r\n\r\nexport const getuserLprewards = (token0: string, token1: string) => {\r\n  const { principalId } = useWalletStore();\r\n  const [data, setData] = useState({ token0: BigInt(0), token1: BigInt(0) });\r\n\r\n  const getUserRwds = async () => {\r\n    const swapActor = await getswapActor(true);\r\n    if (!principalId) { return; }\r\n    const response: any = await swapActor.getUserReward(Principal.fromText(principalId), token0, token1);\r\n    setData({ token0: response?.ok[0], token1: response?.ok[1] })\r\n    return data;\r\n  }\r\n  useEffect(() => { getUserRwds(); }, [principalId]);\r\n\r\n  return data\r\n\r\n}","import { ChakraProvider, ColorModeScript } from '@chakra-ui/react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider as ReduxProvider } from 'react-redux';\r\n\r\nimport { theme } from '@/theme';\r\n\r\nimport { App } from './App';\r\nimport { Maintenance } from './components';\r\nimport { ENV } from './config';\r\nimport { store } from './store';\r\n\r\nlet Render: React.FC;\r\n\r\nif (ENV.maintenanceMode) {\r\n  Render = () => <Maintenance />;\r\n} else {\r\n  Render = () => <App />;\r\n}\r\n\r\nReactDOM.render(\r\n  <>\r\n    <ColorModeScript initialColorMode={theme.config.initialColorMode} />\r\n    <ChakraProvider theme={theme} resetCSS>\r\n      <ReduxProvider store={store}>\r\n        <Render />\r\n      </ReduxProvider>\r\n    </ChakraProvider>\r\n  </>,\r\n  document.getElementById('sonic-app-root')\r\n);\r\n","import { ActorAdapter } from '@memecake/sonic-js';\r\n\r\nimport { ENV } from '@/config';\r\nimport { LedgerIDL } from '@/did';\r\n\r\nexport const createAnonLedgerActor = async (): Promise<LedgerIDL.Factory> => {\r\n  return ActorAdapter.createAnonymousActor(\r\n    ENV.canistersPrincipalIDs.ledger,\r\n    LedgerIDL.factory\r\n  );\r\n};\r\n","import { ActorAdapter  } from '@memecake/sonic-js';\r\n\r\nimport { SwapIDL } from \"@/did\"\r\n\r\nimport { ENV } from '@/config';\r\n\r\nimport { plug } from '../plug';\r\n\r\nexport const createSwapActor = async (): Promise<SwapIDL.Factory> => {\r\n  const actorAdapter = new ActorAdapter(plug as any);\r\n  return actorAdapter.createActor(\r\n    ENV.canistersPrincipalIDs.swap,\r\n    SwapIDL.factory\r\n  );\r\n};\r\n\r\nexport const createAnonSwapActor = async (): Promise<SwapIDL.Factory> => {\r\n  return ActorAdapter.createAnonymousActor(\r\n    ENV.canistersPrincipalIDs.swap,\r\n    SwapIDL.factory\r\n  );\r\n};\r\n","import {  ActorAdapter, createTokenActor as cta } from '@memecake/sonic-js';\r\nimport { TokenIDL } from '@/did';\r\nexport const createTokenActor = cta;\r\n\r\nexport const createAnonTokenActor =  async (canisterId: string , tokenType?:string): Promise<any> =>{\r\n  if( tokenType == 'DIP20')\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.Factory>( canisterId,TokenIDL.DIP20.factory);\r\n  else if( tokenType == 'YC')\r\n  return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.YCResult>( canisterId,TokenIDL.DIP20.YCfactory);\r\n  else if( tokenType == 'ICRC1')\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.ICRC1.Factory>( canisterId,TokenIDL.ICRC1.factory);\r\n  else\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.Factory>( canisterId,TokenIDL.DIP20.factory);\r\n}\r\n  \r\n","export * from './create-swap-actor';\r\nexport * from './create-token-actor';\r\nexport * from './create-ledger-actor';\r\n","export * from './walletInit';\r\n","import { useEffect } from 'react';\r\nimport { useAppDispatch, walletActions, walletState } from '@/store';\r\nimport {Artemis} from 'artemis-web3-adapter';\r\n\r\nimport { tokenList } from '@/utils'\r\nimport { ENV } from '@/config';\r\n\r\nexport const artemis = new Artemis();\r\n\r\nexport const useWalletInit = (): void => {\r\n    const dispatch = useAppDispatch();\r\n    const tknList = tokenList(\"obj\");\r\n    const connectObj = { host: ENV.host, whitelist: [...Object.values(ENV.canistersPrincipalIDs), ...Object.keys(tknList)] };\r\n    useEffect(() => {\r\n      const initAdapter = async (): Promise<void> => {\r\n        const walletId: string = localStorage.getItem('dfinityWallet') || '';\r\n  \r\n        if (walletId) {\r\n          dispatch(walletActions.setWalletSelected(walletId));\r\n          dispatch(walletActions.setOnwalletList(walletState.Connecting));\r\n        }\r\n        const walletStatus = await artemis.autoConnect(connectObj);\r\n        if (walletStatus && artemis?.principalId && artemis?.provider) {\r\n          dispatch(walletActions.setWalletLoaded({\r\n            principleId: artemis.principalId,\r\n            accountId: artemis.accountId,\r\n            walletActive: artemis.walletActive\r\n          }));\r\n        } else {\r\n          dispatch(walletActions.setOnwalletList(walletState.Idle));\r\n        }\r\n      };\r\n  \r\n      initAdapter();\r\n    }, []);\r\n  };","import { CapRoot } from '@memecake/cap-js';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nexport interface CapRouterInstanceProps {\r\n  canisterId: string;\r\n  host?: string;\r\n}\r\n\r\nexport const getCapRootInstance = async ({ canisterId, host = ENV.host}: CapRouterInstanceProps) =>\r\n  await CapRoot.init({host,canisterId});\r\n","import { Principal } from '@dfinity/principal';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nimport { MappedCapHistoryLog } from '..';\r\nimport { getCapRootInstance } from '../connection';\r\nimport { CapHistoryLog } from '../history-log';\r\nimport { parseCapHistoryLog } from '../utils';\r\n\r\nexport interface UserTransactionsResponse {\r\n  data: MappedCapHistoryLog[];\r\n  page: number;\r\n}\r\n\r\nexport const getUserTransactions = async ( principalId: string, page?: number): Promise<UserTransactionsResponse> => {\r\n  const capRoot = await getCapRootInstance({\r\n    canisterId: ENV.canistersPrincipalIDs.swapCapRoot,\r\n  });\r\n\r\n  const result = (await capRoot.get_user_transactions({\r\n    user: Principal.fromText(principalId) as any,\r\n    page,\r\n  })) as { data: CapHistoryLog[]; page: number };\r\n\r\n  return {\r\n    data: parseCapHistoryLog(Object.values(result.data.reverse())),\r\n    page: result.page,\r\n  };\r\n};\r\n","export * from './get-user-transactions';\r\n","export * from './features';\r\nexport * from './history-log';\r\n","import { CapHistoryLog, MappedCapHistoryLog } from '.';\r\n\r\nconst mapDetails = (details: CapHistoryLog['details']) => {\r\n  return details.reduce((acc, [key, value]) => {\r\n    const aux = Object.values(value)[0];\r\n    acc[key] = typeof aux === 'bigint' ? Number(aux) : aux;\r\n    return acc;\r\n  }, {} as any);\r\n};\r\n\r\nexport const parseCapHistoryLog = (\r\n  data: CapHistoryLog[]\r\n): MappedCapHistoryLog[] => {\r\n  return data.map<MappedCapHistoryLog>((data) => {\r\n    return {\r\n      ...data,\r\n      time: Number(data.time),\r\n      details: mapDetails(data.details),\r\n    };\r\n  });\r\n};\r\n","export * from './ledger-transactions';\r\n","import BigNumber from 'bignumber.js';\r\n\r\nimport RosettaApi from '@/apis/rosetta';\r\nimport { ENV } from '@/config';\r\n\r\nexport interface LedgerTransaction {\r\n  account1Address: string;\r\n  account2Address: string;\r\n  amount: BigNumber;\r\n  blockIndex: number;\r\n  fee: BigNumber;\r\n  hash: string;\r\n  memo: BigNumber;\r\n  status: string;\r\n  timestamp: Date;\r\n  type: string;\r\n}\r\n\r\nconst ADDRESS_TO_FILTER = [ENV.accountIDs.XTC, ENV.accountIDs.WICP];\r\n\r\nexport const getUserLedgerTransactions = async (\r\n  accountId: string\r\n): Promise<LedgerTransaction[]> => {\r\n  const rosetta = new RosettaApi();\r\n  const ledgerTransactions = await rosetta.getTransactionsByAccount(accountId);\r\n\r\n  if (Array.isArray(ledgerTransactions)) {\r\n    return ledgerTransactions\r\n      .filter(\r\n        (t) =>\r\n          ADDRESS_TO_FILTER.includes(t.account1Address) ||\r\n          ADDRESS_TO_FILTER.includes(t.account2Address)\r\n      )\r\n      .reverse();\r\n  } else {\r\n    throw new Error('Failed to get ledger transactions');\r\n  }\r\n};\r\n","export * from './use-plug-init';\r\nexport * from './plug.utils';\r\n","import Provider from '@memecake/plug-inpage-provider';\r\n\r\ntype RequestConnectArgs = {\r\n  whitelist?: string[];\r\n  host?: string;\r\n};\r\n\r\nconst isDev = process.env.NODE_ENV === 'development';\r\nconst ua = navigator.userAgent.toLowerCase();\r\nconst isAndroid = ua.indexOf('android') > -1;\r\nconst isiOs = ua.indexOf('iphone') > -1 || ua.indexOf('ipad') > -1;\r\n\r\nconst isMobile = isAndroid || isiOs;\r\n\r\nif (!window.ic?.plug && isMobile) {\r\n  Provider.exposeProviderWithWalletConnect({ window, debug: isDev });\r\n}\r\n\r\nexport const plug = window.ic?.plug;\r\n\r\nexport const requestConnect = (args?: RequestConnectArgs) =>\r\n  window.ic?.plug?.requestConnect(args);\r\n\r\nexport const checkIsConnected = () => window.ic?.plug?.isConnected();\r\n\r\nexport const getPrincipal = () => window.ic?.plug?.getPrincipal();\r\n\r\nexport const requestBalance = () => (window.ic?.plug as any)?.requestBalance();\r\n\r\nexport const disconnect = () => window.ic?.plug?.disconnect();\r\n\r\nexport const checkIfPlugProviderVersionCompatible = (version = '1.6.0') => {\r\n  if (!plug?.versions.provider) return false;\r\n\r\n  const parseVersion = (v: string) =>\r\n    v\r\n      .replace(/([^(\\d|.)]+)/gi, '')\r\n      .split('.')\r\n      .map(Number);\r\n\r\n  const providerVersion = parseVersion(plug.versions.provider);\r\n  const requiredVersion = parseVersion(version);\r\n\r\n  for (let i = 0; i < requiredVersion.length; i++) {\r\n    if (providerVersion[i] === undefined) providerVersion[i] = 0;\r\n    if (requiredVersion[i] === undefined) requiredVersion[i] = 0;\r\n\r\n    if (providerVersion[i] === requiredVersion[i]) {\r\n      continue;\r\n    } else if (providerVersion[i] > requiredVersion[i]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { plugActions, PlugState, useAppDispatch } from '@/store';\r\n\r\nimport { plug } from './plug.utils';\r\n\r\nexport const usePlugInit = (): void => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (plug) {\r\n      dispatch(plugActions.setState(PlugState.Loading));\r\n\r\n      new Promise<string>((resolve, reject) => {\r\n        const timeout = setTimeout(reject, 3000);\r\n        plug\r\n          ?.isConnected()\r\n          .then((isConnected) => {\r\n            if (isConnected && plug) {\r\n              return plug.getPrincipal();\r\n            }\r\n            throw new Error('Plug is not connected');\r\n          })\r\n          .then((principal) => {\r\n            const principalId =\r\n              typeof principal === 'string' ? principal : principal.toText();\r\n            clearTimeout(timeout);\r\n            resolve(principalId);\r\n          })\r\n          .catch(reject);\r\n      })\r\n        .then((principalId) =>\r\n          dispatch(plugActions.setPrincipalId(principalId))\r\n        )\r\n        .catch(() => dispatch(plugActions.setState(PlugState.Disconnected)));\r\n    } else {\r\n      dispatch(plugActions.setState(PlugState.NotInstalled));\r\n    }\r\n  }, [dispatch]);\r\n};\r\n","import Provider from '@memecake/plug-inpage-provider';\r\nimport type {\r\n  Transaction,\r\n  TransactionPrevResponse,\r\n} from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\n\r\nimport { AppLog } from '@/utils';\r\nimport { Batch } from './models/batch';\r\n\r\nimport {artemis} from '@/integrations/artemis';\r\n\r\nartemis;\r\n\r\nexport class BatchTransactions implements Batch.Controller {\r\n  private transactions: Transaction[] = [];\r\n  private state: Batch.State = Batch.State.Idle;\r\n  private batchTransactionResolver?: (value: unknown) => void;\r\n  private batchTransactionRejector?: (value: unknown) => void;\r\n  constructor(\r\n    private provider?: Provider,\r\n    private handleRetry?: (\r\n      error: unknown,\r\n      prevResponses?: TransactionPrevResponse[]\r\n    ) => Promise<boolean | { nextTxArgs: any }>\r\n  ) {}\r\n\r\n  public push(transaction: Transaction): BatchTransactions {\r\n    this.transactions.push({\r\n      ...transaction,\r\n      onSuccess: (response) =>\r\n        this.handleTransactionSuccess(transaction, response),\r\n      onFail: (error, prevResponses) => {\r\n        AppLog.error(`Batch Transaction`, transaction, error, prevResponses);\r\n        return this.handleTransactionFail(transaction, error, prevResponses);\r\n      },\r\n    });\r\n    return this;\r\n  }\r\n\r\n  public async execute(): Promise<unknown> {\r\n    if (this.state !== Batch.State.Idle) {\r\n      return Promise.reject(Batch.State.Running);\r\n    }\r\n\r\n    if (this.transactions.length === 0) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.state = Batch.State.Running;\r\n      this.batchTransactionResolver = resolve;\r\n      this.batchTransactionRejector = reject;\r\n      this.start();\r\n    });\r\n  }\r\n\r\n  public getTransactions(): Transaction[] {\r\n    return this.transactions;\r\n  }\r\n\r\n  public getState(): Batch.State {\r\n    return this.state;\r\n  }\r\n\r\n  private async handleTransactionSuccess(\r\n    transaction: Transaction,\r\n    responses: unknown[]\r\n  ): Promise<unknown> {\r\n    const result = await transaction.onSuccess(responses);\r\n    this.pop();\r\n    if (this.transactions.length === 0) {\r\n      this.finishPromise(true, responses);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private async handleTransactionFail(\r\n    transaction: Transaction,\r\n    error: unknown,\r\n    prevResponses?: TransactionPrevResponse[]\r\n  ): Promise<void> {\r\n    const retryResponse =\r\n      this.handleRetry && (await this.handleRetry(error, prevResponses));\r\n\r\n    if (retryResponse) {\r\n      if (typeof retryResponse !== 'boolean' && 'nextTxArgs' in retryResponse) {\r\n        this.start(retryResponse.nextTxArgs);\r\n      } else {\r\n        this.start();\r\n      }\r\n    } else {\r\n      await transaction.onFail(error, prevResponses);\r\n      this.finishPromise(false, error);\r\n    }\r\n  }\r\n\r\n  private pop(): void {\r\n    this.transactions = this.transactions.slice(1);\r\n  }\r\n\r\n  private finishPromise(resolved: boolean, result: unknown): void {\r\n    if (!this.batchTransactionRejector || !this.batchTransactionResolver) {\r\n      throw new Error('Batch promise not initialized');\r\n    }\r\n\r\n    if (resolved) {\r\n      this.batchTransactionResolver(result);\r\n    } else {\r\n      this.batchTransactionRejector(result);\r\n    }\r\n    this.batchTransactionResolver = undefined;\r\n    this.batchTransactionRejector = undefined;\r\n    this.state = Batch.State.Idle;\r\n  }\r\n\r\n  private start(nextTxArgs?: any): void {\r\n    const firstTransaction = this.transactions[0];\r\n    const otherTransactions = this.transactions.filter(\r\n      (txData, index) => index !== 0\r\n    );\r\n\r\n    const transactions = nextTxArgs\r\n      ? [\r\n          {\r\n            ...firstTransaction,\r\n            args: () => firstTransaction.args(nextTxArgs),\r\n          },\r\n          ...(otherTransactions?.length > 0 ? otherTransactions : []),\r\n        ]\r\n      : this.transactions;\r\n    \r\n    \r\n    this.provider?.batchTransactions(transactions).catch((error) => {\r\n      if (this.handleRetry) {\r\n        return this.handleRetry(error).then((response) => {\r\n          if (response) {\r\n            return this.start();\r\n          } else {\r\n            this.finishPromise(false, error);\r\n          }\r\n        });\r\n      } else {\r\n        this.finishPromise(false, error);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { TransactionPrevResponse } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\n\r\nimport { MintTokenSymbol } from '@/store';\r\nimport {  \r\n  getFromStorage, LocalStorageKey,  MintUncompleteBlockHeights, saveToStorage,\r\n} from '@/utils';\r\n\r\nexport const getAmountDependsOnBalance = ( tokenBalance: number,tokenDecimals: number, fromValue: string): string => {\r\n  const parsedFromValue = parseFloat(fromValue);\r\n  const parsedTokenBalance = toBigNumber(tokenBalance).applyDecimals(tokenDecimals).toNumber();\r\n\r\n  return (parsedFromValue - parsedTokenBalance).toString();\r\n};\r\n\r\ntype GetDepositTransactionsOptions = {\r\n  getAcnt?:any, approveTx: any;depositTx: any;txNames?: string[],tokenType?: string\r\n};\r\n\r\nexport const getDepositTransactions = ({approveTx, depositTx, txNames = ['approve', 'deposit'] ,tokenType }: GetDepositTransactionsOptions) => {\r\n    let transactions = {};\r\n    if(tokenType ==  'DIP20' || tokenType =='YC'){\r\n      let requiredAllowance = Number(approveTx?.args[1]);\r\n      let requiredBalance = Number(depositTx?.args[1] );\r\n      if (requiredBalance > 0) {\r\n        if (requiredAllowance > 0) {\r\n          transactions = { ...transactions, [txNames[0]]: approveTx };\r\n        }\r\n        transactions = { ...transactions, [txNames[1]?txNames[1]:'']: depositTx };\r\n      }\r\n    }else if( tokenType ==  'ICRC1' ){\r\n      transactions = {[txNames[0]]: approveTx, [txNames[1]]: depositTx };\r\n    }\r\n  return transactions;\r\n};\r\n\r\nexport type GetTransactionNameOptions = {\r\n  tokenSymbol: MintTokenSymbol;\r\n  blockHeight: string;\r\n};\r\n\r\nexport function getTransactionName({\r\n  tokenSymbol,\r\n  blockHeight,\r\n}: GetTransactionNameOptions) {\r\n  return `${tokenSymbol}-${blockHeight}`;\r\n}\r\n\r\nexport type SaveBlockHeightToStorageOptions = {\r\n  blockHeight?: bigint;\r\n  principalId?: string;\r\n  tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\n// === Block Heights ===\r\n\r\nexport type RemoveBlockHeightFromStorageOptions = {\r\n  blockHeight: string;\r\n  principalId?: string;\r\n  tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\nexport const removeBlockHeightFromStorage = ({\r\n  blockHeight,\r\n  principalId,\r\n  tokenSymbol,\r\n}: RemoveBlockHeightFromStorageOptions) => {\r\n  if (!principalId) {\r\n    return null;\r\n  }\r\n\r\n  const localStorageKey =\r\n    tokenSymbol === MintTokenSymbol.XTC\r\n      ? LocalStorageKey.MintXTCUncompleteBlockHeights\r\n      : LocalStorageKey.MintWICPUncompleteBlockHeights;\r\n\r\n  const totalBlockHeights = getFromStorage(localStorageKey) as\r\n    | MintUncompleteBlockHeights\r\n    | undefined;\r\n  const userBlockHeights = totalBlockHeights?.[principalId];\r\n\r\n  if (userBlockHeights && userBlockHeights.length > 0) {\r\n    const newBlockHeights = userBlockHeights.filter(\r\n      (_blockHeight: string) => _blockHeight !== blockHeight\r\n    );\r\n\r\n    saveToStorage(localStorageKey, {\r\n      ...totalBlockHeights,\r\n      [principalId]: newBlockHeights,\r\n    });\r\n  }\r\n};\r\n\r\nexport const saveBlockHeightToStorage = ({\r\n  blockHeight,\r\n  principalId,\r\n  tokenSymbol,\r\n}: SaveBlockHeightToStorageOptions) => {\r\n  \r\n  if (!principalId || !blockHeight) { return null;}\r\n\r\n  const localStorageKey =\r\n    tokenSymbol === MintTokenSymbol.XTC\r\n      ? LocalStorageKey.MintXTCUncompleteBlockHeights\r\n      : LocalStorageKey.MintWICPUncompleteBlockHeights;\r\n\r\n  const prevMintWICPBlockHeight = getFromStorage(localStorageKey);\r\n\r\n  const newBlockHeights = {\r\n    ...prevMintWICPBlockHeight,\r\n    [principalId]: [\r\n      ...(prevMintWICPBlockHeight?.[principalId] || []),\r\n      String(blockHeight),\r\n    ],\r\n  };\r\n\r\n  saveToStorage(localStorageKey, newBlockHeights);\r\n};\r\n\r\nexport const updateFailedBlockHeight = ({prevResponses,...props}: Omit<SaveBlockHeightToStorageOptions, 'blockHeight'> & {\r\n  prevResponses: TransactionPrevResponse[];\r\n}) => {\r\n  const failedBlockHeight = prevResponses?.[0]?.response as bigint | undefined;\r\n\r\n  saveBlockHeightToStorage({ blockHeight: failedBlockHeight, ...props });\r\n};\r\n","export * from './batch.utils';\r\nexport * from './use-add-liquidity-batch';\r\nexport * from './use-deposit-batch';\r\nexport * from './use-mint-batch';\r\nexport * from './use-mint-multiple-batch';\r\nexport * from './use-mint-single-batch';\r\nexport * from './use-remove-liquidity-batch';\r\nexport * from './use-swap-batch';\r\nexport * from './use-withdraw-batch';\r\nexport * from './use-withdraw-wicp-batch';\r\nexport * from './use-transfer-batch';\r\n","import { useMemo } from 'react';\r\n\r\nimport { AddLiquidityModalDataStep, modalsSliceActions, useAppDispatch, useLiquidityViewStore, useSwapCanisterStore } from '@/store';\r\n\r\nimport { AddLiquidity, Deposit } from '../..';\r\nimport {\r\n  useAddLiquidityTransactionMemo, useApproveTransactionMemo, useDepositTransactionMemo, \r\n  intitICRCTokenDepositIn, useICRCTransferMemo, //useICRCDepositMemo //useBatch\r\n} from '..';\r\n\r\nimport { useCreatePairTransactionMemo } from '../transactions/create-pair';\r\n\r\nimport { getAmountDependsOnBalance } from './batch.utils';\r\n\r\ninterface Transactions { [transactionName: string]: any;}\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\n\r\nexport const useAddLiquidityBatch = (addLiquidityParams: AddLiquidity) => {\r\n  const dispatch = useAppDispatch();\r\n  var batchLoad: any = { state: \"idle\" };\r\n  const { sonicBalances } = useSwapCanisterStore();\r\n  const { pair } = useLiquidityViewStore();\r\n\r\n  if (!sonicBalances) {\r\n     return { batch: batchLoad, openBatchModal: () => { } };\r\n  }\r\n  if (!addLiquidityParams.token0.metadata || !addLiquidityParams.token1.metadata) {\r\n    return { batch: batchLoad, openBatchModal: () => { } };\r\n  }\r\n\r\n  const deposit0Params = useMemo(() => {\r\n    if (addLiquidityParams.token0.metadata) {\r\n      return {\r\n        token: addLiquidityParams.token0.metadata,\r\n        amount: getAmountDependsOnBalance(\r\n          sonicBalances[addLiquidityParams.token0.metadata?.id],\r\n          addLiquidityParams.token0.metadata.decimals, addLiquidityParams.token0.value\r\n        ),\r\n        allowance: addLiquidityParams.allowance0,\r\n      };\r\n    }\r\n  }, []) as Deposit;\r\n\r\n  const deposit1Params = useMemo(() => {\r\n    if (addLiquidityParams.token1.metadata) {\r\n      return {\r\n        token: addLiquidityParams.token1.metadata,\r\n        amount: getAmountDependsOnBalance(\r\n          sonicBalances[addLiquidityParams.token1.metadata?.id],\r\n          addLiquidityParams.token1.metadata.decimals, addLiquidityParams.token1.value\r\n        ),\r\n        allowance: addLiquidityParams.allowance1,\r\n      };\r\n    }\r\n  }, []) as Deposit;\r\n\r\n  const createPairParams = useMemo(() => {\r\n    return {\r\n      token0: addLiquidityParams.token0,\r\n      token1: addLiquidityParams.token1,\r\n    };\r\n  }, []);\r\n\r\n  var approve0: any, deposit0: any, approve1: any, deposit1: any, steps: any = [];\r\n  var tx0complete = false, tx1complete = false, getICRCAcnt: any;\r\n\r\n  var DepositBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n\r\n  var token0Type = addLiquidityParams.token0.metadata.tokenType;\r\n  var token1Type = addLiquidityParams.token1.metadata.tokenType;\r\n\r\n  var token0Amt = parseFloat(deposit0Params?.amount ? deposit0Params?.amount : '0');\r\n  var token1Amt = parseFloat(deposit1Params?.amount ? deposit1Params?.amount : '0');\r\n\r\n  if (!pair) { steps = ['createPair'] }\r\n\r\n  if (token0Type == 'ICRC1' || token1Type == 'ICRC1') {\r\n    getICRCAcnt = intitICRCTokenDepositIn(); steps = [...steps, 'getacnt'];\r\n  }\r\n\r\n  //step 1\r\n  if (token0Amt > 0) {\r\n    if (token0Type == 'DIP20' || token0Type == 'YC') {\r\n      approve0 = useApproveTransactionMemo(deposit0Params);\r\n      deposit0 = useDepositTransactionMemo(deposit0Params);\r\n      if (deposit0) tx0complete = true;\r\n    } else if (token0Type == 'ICRC1') {\r\n      approve0 = useICRCTransferMemo({ ...deposit0Params, tokenAcnt: getICRCAcnt });\r\n      deposit0 = useDepositTransactionMemo(deposit0Params);\r\n      if (getICRCAcnt) tx0complete = true;\r\n    }\r\n    steps = [...steps, 'approve0', 'deposit0'];\r\n  } else tx0complete = true;\r\n\r\n  //step 2\r\n  if (token1Amt > 0) {\r\n    if (token1Type == 'DIP20' || token1Type == 'YC') {\r\n      approve1 = useApproveTransactionMemo(deposit1Params);\r\n      deposit1 = useDepositTransactionMemo(deposit1Params);\r\n\r\n      if (tx0complete && deposit1) tx1complete = true;\r\n    } else if (token1Type == 'ICRC1') {\r\n      approve1 = useICRCTransferMemo({ ...deposit1Params, tokenAcnt: getICRCAcnt });\r\n      deposit1 = useDepositTransactionMemo(deposit1Params);\r\n\r\n      if (getICRCAcnt && approve1) tx1complete = true;\r\n    }\r\n    steps = [...steps, 'approve1', 'deposit1'];\r\n  } else tx1complete = true;\r\n\r\n  const createPair = useCreatePairTransactionMemo(createPairParams);\r\n  const addLiquidity = useAddLiquidityTransactionMemo(addLiquidityParams);\r\n\r\n  const LiquidityBatchTx = useMemo(() => {\r\n    let _transactions: Transactions = {};\r\n    if (!pair) { _transactions = { ..._transactions, createPair } }\r\n    if (token0Amt > 0) {\r\n      _transactions = {..._transactions,approve0:approve0, deposit0:deposit0}\r\n    }\r\n    if (token1Amt > 0) {\r\n      _transactions = {..._transactions,approve1:approve1,deposit1:deposit1}\r\n    }\r\n    _transactions = { ..._transactions, addLiquidity };\r\n     \r\n    return new BatchTransact(_transactions, artemis);\r\n  }, [getICRCAcnt]);\r\n\r\n  steps = [...steps, 'addLiquidity'];\r\n\r\n  const handleRetry = async () => {\r\n    return new Promise<boolean>((resolve) => {\r\n      dispatch(\r\n        modalsSliceActions.setAddLiquidityModalData({\r\n          callbacks: [\r\n            () => { // Retry callback\r\n              dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n              openBatchModal(); resolve(true);\r\n            },\r\n            () => { // Cancel callback\r\n              dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n              resolve(false);\r\n            },\r\n          ],\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n      dispatch(modalsSliceActions.openAddLiquidityFailModal());\r\n    });\r\n  };\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setAddLiquidityModalData({\r\n        steps: steps as AddLiquidityModalDataStep[],\r\n        token0Symbol: addLiquidityParams.token0.metadata?.symbol,\r\n        token1Symbol: addLiquidityParams.token1.metadata?.symbol,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openAddLiquidityProgressModal());\r\n  };\r\n\r\n  if(LiquidityBatchTx && tx0complete &&tx1complete  ){\r\n    batchLoad.batchExecute = LiquidityBatchTx;\r\n    batchLoad.handleRetry = handleRetry; \r\n    batchLoad.batchFnUpdate=true;\r\n  }else {\r\n    if(!getICRCAcnt){  batchLoad.state = 'getacnt';}\r\n  }\r\n\r\n  DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal };\r\n   return DepositBatch\r\n};","import { useMemo } from 'react';\r\n\r\nimport { DepositModalDataStep, modalsSliceActions, useAppDispatch } from '@/store';\r\n\r\nimport { Deposit } from '../..';\r\nimport { useApproveTransactionMemo, useDepositTransactionMemo, intitICRCTokenDeposit, useICRCTransferMemo } from '..'; //useICRCDepositMemo\r\n\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\n\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const useDepositBatch = (deposit: Deposit): any => {\r\n  const dispatch = useAppDispatch();\r\n  var batchLoad: any = { state: \"idle\" };\r\n\r\n  var DepositBatch = { batch: batchLoad, openBatchModal: () => { }, transactions: {} };\r\n  var tokenType = deposit.token?.tokenType;\r\n\r\n  if (tokenType == 'DIP20' || tokenType == 'YC') {\r\n\r\n    var approveTx = useApproveTransactionMemo(deposit);\r\n    var depositTx = useDepositTransactionMemo(deposit);\r\n\r\n    const DepositBatchTx = useMemo(() => {\r\n      return new BatchTransact({ approve: approveTx, deposit: depositTx }, artemis);\r\n    }, [depositTx]);\r\n\r\n    var openBatchModal = () => {\r\n      dispatch(\r\n       modalsSliceActions.setDepositModalData({\r\n          steps: [ 'approve', 'deposit'] as DepositModalDataStep[],\r\n          tokenSymbol: deposit.token?.symbol,\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openDepositProgressModal());\r\n    };\r\n    if (DepositBatchTx) { batchLoad.batchExecute = DepositBatchTx;}\r\n\r\n    DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal };\r\n    return DepositBatch;\r\n\r\n  } else if (tokenType == 'ICRC1') {\r\n    var openBatchModal = () => {\r\n      dispatch(modalsSliceActions.setDepositModalData(\r\n        { steps: ['getacnt', 'approve', 'deposit'] as DepositModalDataStep[], tokenSymbol: deposit.token?.symbol})\r\n      );\r\n      dispatch(modalsSliceActions.openDepositProgressModal());\r\n    };\r\n    DepositBatch = { ...DepositBatch, openBatchModal };\r\n\r\n    var getAcnt = intitICRCTokenDeposit();\r\n    var approveTx = useICRCTransferMemo({ ...deposit });\r\n    var depositTx = useDepositTransactionMemo(deposit);\r\n\r\n    const DepositBatchTx = useMemo(() => {\r\n      return new BatchTransact({getacnt:getAcnt, approve: approveTx,deposit: depositTx}, artemis);\r\n    }, []);\r\n\r\n    if (DepositBatchTx) {\r\n      batchLoad.batchExecute = DepositBatchTx;\r\n      DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal };\r\n    }\r\n    DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal };\r\n    return DepositBatch;\r\n  }\r\n  else return DepositBatch\r\n};\r\n","// import { TransactionPrevResponse } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { useMemo } from 'react';\r\nimport { ENV } from '@/config';\r\n// import { MINT_AUTO_NOTIFICATION_TITLES } from '@/notifications';\r\n\r\nimport {\r\n  MintTokenSymbol, modalsSliceActions, useAppDispatch, useSwapViewStore  //useWalletStore //addNotification, NotificationType, //MintModalData  addNotification, MintModalDataStep , useModalsStore , NotificationState , NotificationType\r\n} from '@/store';\r\n\r\nimport {\r\n  getMintWICPTransaction, getMintXTCTransaction, useApproveTransactionMemo,\r\n  useDepositTransactionMemo, useLedgerTransferTransactionMemo,\r\n} from '..';\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport type UseMintBatchOptions = {\r\n  amountIn: string; amountOut: string; blockHeight?: string;\r\n  keepInSonic?: boolean; tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\nexport const useMintBatch = ({ amountIn, amountOut, keepInSonic, tokenSymbol }: UseMintBatchOptions) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const dispatch = useAppDispatch();\r\n  if (!tokenList) throw new Error('Token list is required');\r\n  var batchLoad: any = { state: \"idle\" };\r\n\r\n  const ledgerTransfer = (tokenSymbol === MintTokenSymbol.WICP) ?\r\n    useLedgerTransferTransactionMemo({ toAccountId: ENV.accountIDs.WICP, amount: amountIn }) :\r\n    (tokenSymbol === MintTokenSymbol.XTC) ?\r\n      useLedgerTransferTransactionMemo({ toAccountId: ENV.accountIDs.XTC, amount: amountIn }) :\r\n      false;\r\n\r\n  const canisterPrincipalId = (tokenSymbol === MintTokenSymbol.WICP) ? ENV.canistersPrincipalIDs.WICP :\r\n    (tokenSymbol === MintTokenSymbol.XTC) ? ENV.canistersPrincipalIDs.XTC : '';\r\n\r\n  var _trx: any = { ledgerTransfer: ledgerTransfer };\r\n\r\n  if (tokenSymbol === MintTokenSymbol.WICP) {\r\n    _trx.mint = getMintWICPTransaction({ blockHeight: '' })\r\n  } else if (tokenSymbol === MintTokenSymbol.XTC) {\r\n    _trx.mint = getMintXTCTransaction({ blockHeight: '' })\r\n  }\r\n\r\n  if (keepInSonic) {\r\n    const depositParams = { token: tokenList[canisterPrincipalId], amount: amountOut };\r\n    const approve = useApproveTransactionMemo(depositParams);\r\n    const deposit = useDepositTransactionMemo(depositParams);\r\n    _trx.approve = approve; _trx.deposit = deposit;\r\n  }\r\n\r\n  const batchTrx = useMemo(() => { return new BatchTransact(_trx, artemis)}, []);\r\n\r\n  if (batchTrx) {\r\n    batchLoad.steps = batchTrx.stepsList;\r\n    batchLoad.batchExecute = batchTrx;\r\n    batchLoad.batchFnUpdate = true;\r\n  }\r\n  const openBatchModal = () => {\r\n    const  steps: any = Object.keys(_trx).length?Object.keys(_trx):[];\r\n\r\n    if (tokenSymbol === MintTokenSymbol.WICP) {\r\n      dispatch(modalsSliceActions.setMintWICPModalData({steps:steps}));\r\n      dispatch(modalsSliceActions.openMintWICPProgressModal());\r\n    } else if (tokenSymbol === MintTokenSymbol.XTC) {\r\n      dispatch(modalsSliceActions.setMintXTCModalData({ steps:steps }));\r\n      dispatch(modalsSliceActions.openMintXTCProgressModal());\r\n    }\r\n  };\r\n\r\n  return { batch: batchLoad, openBatchModal: openBatchModal };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { MintTokenSymbol, usePlugStore } from '@/store';\r\n\r\nimport { getMintWICPTransaction, getMintXTCTransaction, useBatch } from '..';\r\nimport { getTransactionName, removeBlockHeightFromStorage } from '.';\r\n\r\nexport type UseMintMultipleBatchOptions = {\r\n  blockHeights: {\r\n    [MintTokenSymbol.XTC]?: string[];\r\n    [MintTokenSymbol.WICP]?: string[];\r\n  };\r\n};\r\n\r\nexport const useMintMultipleBatch = ({\r\n  blockHeights,\r\n}: UseMintMultipleBatchOptions) => {\r\n  const { principalId } = usePlugStore();\r\n\r\n  const [transactions, setTransactions] = useState<Record<string, any>>({});\r\n\r\n  useEffect(() => {\r\n    let transactions: Record<string, any> = {};\r\n\r\n    const updateTransactions = (\r\n      tokenSymbol: MintTokenSymbol,\r\n      blockHeight: string\r\n    ) => {\r\n      const handler =\r\n        tokenSymbol === MintTokenSymbol.XTC\r\n          ? getMintXTCTransaction\r\n          : getMintWICPTransaction;\r\n\r\n      const transactionName = getTransactionName({ tokenSymbol, blockHeight });\r\n      const transaction = handler({ blockHeight }, () =>\r\n        removeBlockHeightFromStorage({ blockHeight, tokenSymbol, principalId })\r\n      );\r\n\r\n      transactions = {\r\n        ...transactions,\r\n        [transactionName]: transaction,\r\n      };\r\n    };\r\n\r\n    blockHeights.WICP?.forEach((blockHeight: string) => {\r\n      updateTransactions(MintTokenSymbol.WICP, blockHeight);\r\n    });\r\n\r\n    blockHeights.XTC?.forEach((blockHeight: string) => {\r\n      updateTransactions(MintTokenSymbol.XTC, blockHeight);\r\n    });\r\n\r\n    setTransactions(transactions);\r\n  }, [blockHeights.WICP, blockHeights.XTC, principalId]);\r\n\r\n  const getTransactionNames = () => Object.keys(transactions);\r\n\r\n  return {\r\n    batch: useBatch<string>({ transactions }),\r\n    getTransactionNames,\r\n  };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { MintTokenSymbol, usePlugStore, useWalletStore } from '@/store';\r\n\r\nimport { getMintWICPTransaction } from '..';\r\nimport { getMintXTCTransaction } from '../transactions/mint-xtc';\r\n\r\n// import { removeBlockHeightFromStorage } from '.';\r\n\r\nexport type UseMintSingleBatchOptions = {\r\n  tokenSymbol: MintTokenSymbol;\r\n  blockHeight: string;\r\n};\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nBatchTransact; artemis; usePlugStore;\r\n\r\nexport const useMintSingleBatch: any = ({ tokenSymbol, blockHeight }: UseMintSingleBatchOptions) => {\r\n  const { principalId } = useWalletStore();\r\n  if (!principalId) { return false };\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n  var MintBatchTx = { batch: batchLoad };\r\n\r\n  const batchTx = useMemo(() => {\r\n    var trx:any;\r\n    if (tokenSymbol === MintTokenSymbol.WICP) {\r\n      trx = getMintWICPTransaction({ blockHeight:  blockHeight })\r\n    } else if (tokenSymbol === MintTokenSymbol.XTC) {\r\n      trx = getMintXTCTransaction({ blockHeight: blockHeight })\r\n    }\r\n    return new BatchTransact({ mint : trx}, artemis);\r\n  }, []);\r\n  if(batchTx){\r\n    batchLoad.batchExecute = batchTx;\r\n  }\r\n\r\n  return MintBatchTx;\r\n    // const transactions = useMemo(() => {\r\n    //   let transactions: Record<string, any> = {};\r\n    //   if (!principalId) { return transactions; }\r\n\r\n    //   const handler = tokenSymbol === MintTokenSymbol.XTC ? getMintXTCTransaction : getMintWICPTransaction;\r\n\r\n    //   transactions = {\r\n    //     ...transactions,\r\n    //     [tokenSymbol]: handler({ blockHeight }, () =>\r\n    //       removeBlockHeightFromStorage({\r\n    //         blockHeight,\r\n    //         tokenSymbol: tokenSymbol,\r\n    //         principalId,\r\n    //       })\r\n    //     ),\r\n    //   };\r\n\r\n    //   return transactions;\r\n    // }, [principalId, tokenSymbol, blockHeight]);\r\n\r\n    // const getTransactionNames = () => Object.keys(transactions);\r\n\r\n    // return {\r\n    //   batch: useBatch<string>({ transactions }),\r\n    //   getTransactionNames,\r\n    // };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport {\r\n  modalsSliceActions, RemoveLiquidityModalDataStep, useAppDispatch, useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { RemoveLiquidity } from '../..';\r\nimport { useRemoveLiquidityTransactionMemo, useWithdrawTransactionMemo } from '..';\r\n\r\nexport interface UseRemoveLiquidityBatchOptions extends RemoveLiquidity {\r\n  keepInSonic: boolean;\r\n}\r\n\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const useRemoveLiquidityBatch = ({ keepInSonic, ...removeLiquidityParams }: UseRemoveLiquidityBatchOptions) => {\r\n  const dispatch = useAppDispatch();\r\n  const { sonicBalances } = useSwapCanisterStore();\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n\r\n  if (!sonicBalances) {\r\n    return { batch: batchLoad, openBatchModal: () => { } };\r\n  }\r\n\r\n  if (!removeLiquidityParams.token0.metadata || !removeLiquidityParams.token1.metadata) {\r\n    return { batch: batchLoad, openBatchModal: () => { } };\r\n  }\r\n  var RemoveLiquidityBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n\r\n  const withdraw0Params = {\r\n    token: removeLiquidityParams.token0.metadata,\r\n    amount: removeLiquidityParams.amount0Min.toString(),\r\n  };\r\n\r\n  const withdraw1Params = {\r\n    token: removeLiquidityParams.token1.metadata,\r\n    amount: removeLiquidityParams.amount1Min.toString(),\r\n  };\r\n\r\n  const removeLiquidity = useRemoveLiquidityTransactionMemo(removeLiquidityParams);\r\n  const withdraw0 = useWithdrawTransactionMemo(withdraw0Params);\r\n  const withdraw1 = useWithdrawTransactionMemo(withdraw1Params);\r\n\r\n  const LiquidityBatchTx = useMemo(() => {\r\n    let _transactions: any = { removeLiquidity };\r\n    if (!keepInSonic) {\r\n      _transactions = { ..._transactions, withdraw0, withdraw1 };\r\n    }\r\n    return new BatchTransact(_transactions, artemis);\r\n    // return _transactions;\r\n  }, [...Object.values(removeLiquidityParams), keepInSonic]);\r\n\r\n  const handleRetry = async () => {\r\n    return new Promise<boolean>((resolve) => {\r\n      dispatch(\r\n        modalsSliceActions.setRemoveLiquidityModalData({\r\n          callbacks: [\r\n            // Retry callback\r\n            () => {\r\n              dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n              openBatchModal();\r\n              resolve(true);\r\n            },\r\n            // Not retry callback\r\n            () => {\r\n              dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n              resolve(false);\r\n            },\r\n          ],\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n      dispatch(modalsSliceActions.openRemoveLiquidityFailModal());\r\n    });\r\n  };\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setRemoveLiquidityModalData({\r\n        steps: LiquidityBatchTx.stepsList as RemoveLiquidityModalDataStep[],\r\n        token0Symbol: removeLiquidityParams.token0.metadata?.symbol,\r\n        token1Symbol: removeLiquidityParams.token1.metadata?.symbol,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openRemoveLiquidityProgressModal());\r\n  };\r\n  if (LiquidityBatchTx) {\r\n    batchLoad.batchExecute = LiquidityBatchTx;\r\n    batchLoad.handleRetry = handleRetry;\r\n    batchLoad.batchFnUpdate = true;\r\n  }\r\n  return RemoveLiquidityBatch = { ...RemoveLiquidityBatch, batch: batchLoad, openBatchModal };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { modalsSliceActions, SwapModalDataStep, useAppDispatch, useSwapCanisterStore } from '@/store';\r\nimport { SwapModel } from '../..';\r\n\r\nimport {\r\n  useApproveTransactionMemo, useDepositTransactionMemo,\r\n  useSwapExactTokensTransactionMemo, useWithdrawTransactionMemo,\r\n  intitICRCTokenDeposit, useICRCTransferMemo, // useICRCDepositMemo , \r\n} from '..';\r\n\r\nimport { getAmountDependsOnBalance } from './batch.utils';\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport interface ExtraDepositSwapBatchOptions { keepInSonic: boolean}\r\n\r\nexport const useSwapBatch = ({ keepInSonic, ...swapParams }: SwapModel & ExtraDepositSwapBatchOptions) => {\r\n  const dispatch = useAppDispatch();\r\n \r\n  const { sonicBalances } = useSwapCanisterStore();\r\n \r\n  if (!sonicBalances) throw new Error('Sonic balance is required');\r\n  if (!swapParams.from.metadata || !swapParams.to.metadata) throw new Error('Tokens are required');\r\n\r\n  const depositParams = {\r\n    token: swapParams.from.metadata,\r\n    amount: getAmountDependsOnBalance(sonicBalances[swapParams.from.metadata.id],\r\n      swapParams.from.metadata.decimals,\r\n      swapParams.from.value\r\n    ),\r\n    allowance: swapParams.allowance,\r\n    entryVal: '0'\r\n  };\r\n  const withdrawParams = { token: swapParams.to.metadata, amount: swapParams.to.value };\r\n  var tokenType = depositParams.token?.tokenType;\r\n\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n  var SwapBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n  var trxList: any = {};\r\n\r\n  \r\n    if (tokenType == 'DIP20' || tokenType == 'YC') {\r\n      const approve = useApproveTransactionMemo(depositParams);\r\n      const deposit = useDepositTransactionMemo(depositParams);\r\n      if(parseFloat(depositParams.amount)>0)\r\n        trxList = { approve: approve, deposit: deposit };\r\n    } else if (tokenType == 'ICRC1') {\r\n      var getAcnt = intitICRCTokenDeposit();\r\n      var approveTx = useICRCTransferMemo({ ...depositParams });\r\n      var depositTx = useDepositTransactionMemo(depositParams);\r\n      if(parseFloat(depositParams.amount)>0)\r\n        trxList = { getacnt: getAcnt, approve: approveTx, deposit: depositTx }\r\n    }\r\n\r\n\r\n  swapParams.entryVal = depositParams.amount;\r\n  const swap = useSwapExactTokensTransactionMemo(swapParams);\r\n\r\n  trxList = { ...trxList, swap: swap, }\r\n\r\n  if (!keepInSonic) { \r\n    trxList = { ...trxList, withdraw: useWithdrawTransactionMemo(withdrawParams) } \r\n  }\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setSwapModalData({\r\n        steps: Object.keys(trxList) as SwapModalDataStep[],\r\n        fromTokenSymbol: swapParams.from.metadata?.symbol,\r\n        toTokenSymbol: swapParams.to.metadata?.symbol,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openSwapProgressModal());\r\n  };\r\n\r\n  const SwapBatchTrx = useMemo(() => {\r\n    return new BatchTransact(trxList, artemis);\r\n  }, []);\r\n\r\n   if (SwapBatchTrx) {\r\n      batchLoad.batchExecute = SwapBatchTrx;\r\n      batchLoad.batchFnUpdate = true;\r\n    }\r\n\r\n  SwapBatch = { batch: batchLoad, openBatchModal };\r\n\r\n  return SwapBatch;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // if (tokenType == 'DIP20' || tokenType == 'YC') {\r\n\r\n  //   const approve = useApproveTransactionMemo(depositParams);\r\n  //   const deposit = useDepositTransactionMemo(depositParams);\r\n  //   swapParams.entryVal = depositParams.amount;\r\n  //   const swap = useSwapExactTokensTransactionMemo(swapParams);\r\n  //   withdrawParams.amount = swap.amountOutMin?.toString();\r\n  //   const withdraw = useWithdrawTransactionMemo(withdrawParams);\r\n\r\n  //   const SwapBatchTrx = useMemo(() => {\r\n  //     var _transactions: any = { approve: approve, deposit: deposit, swap: swap };\r\n  //     if (!keepInSonic) { _transactions = { ..._transactions, withdraw: withdraw } };\r\n  //     return new BatchTransact(_transactions, artemis);\r\n  //   }, [withdraw]);\r\n\r\n  //   const openBatchModal = () => {\r\n  //     dispatch(\r\n  //       modalsSliceActions.setSwapModalData({\r\n  //         steps: SwapBatchTrx.stepsList as SwapModalDataStep[],\r\n  //         fromTokenSymbol: swapParams.from.metadata?.symbol,\r\n  //         toTokenSymbol: swapParams.to.metadata?.symbol,\r\n  //       })\r\n  //     );\r\n  //     dispatch(modalsSliceActions.openSwapProgressModal());\r\n  //   };\r\n\r\n  //   if (SwapBatchTrx) {\r\n  //     batchLoad.batchExecute = SwapBatchTrx;\r\n  //     batchLoad.batchFnUpdate = true;\r\n  //   }\r\n  //   SwapBatch = { batch: batchLoad, openBatchModal };\r\n  //   return SwapBatch;\r\n  // } else if (tokenType == 'ICRC1') {\r\n  //   var steps = ['swap']; \r\n  //   if (!keepInSonic) steps = [ 'swap' , 'withdraw']\r\n  //   var reqAmt = parseFloat(depositParams.amount);\r\n  //   if (reqAmt > 0) { steps = ['getacnt', 'approve', 'deposit', ...steps]; }\r\n\r\n  //   const openBatchModal = () => {\r\n  //     dispatch(\r\n  //       modalsSliceActions.setSwapModalData({\r\n  //         steps: steps as SwapModalDataStep[],\r\n  //         fromTokenSymbol: swapParams.from.metadata?.symbol,\r\n  //         toTokenSymbol: swapParams.to.metadata?.symbol,\r\n  //       })\r\n  //     );\r\n  //     dispatch(modalsSliceActions.openSwapProgressModal());\r\n  //   };\r\n\r\n  //   SwapBatch = { ...SwapBatch, openBatchModal };\r\n  //   const getAcnt = intitICRCTokenDeposit();\r\n  //   const approveTx = useICRCTransferMemo({ ...depositParams, tokenAcnt: getAcnt });\r\n  //   const depositTx = useDepositTransactionMemo(depositParams);\r\n\r\n  //   const swap = useSwapExactTokensTransactionMemo(swapParams);\r\n  //   const withdraw = useWithdrawTransactionMemo(withdrawParams);\r\n\r\n  //   const SwapBatchTrx = useMemo(() => {\r\n  //     if(!getAcnt) return false;\r\n  //     let _transactions: any = { approve: approveTx, deposit: depositTx, swap: swap };\r\n  //     if (!keepInSonic) { _transactions = { ..._transactions, withdraw: withdraw } };\r\n  //     return new BatchTransact(_transactions, artemis);\r\n  //   }, [getAcnt]);\r\n  //   if(!getAcnt)  batchLoad.state = 'getacnt';\r\n  //   if (SwapBatchTrx) {\r\n  //     batchLoad.batchExecute = SwapBatchTrx;\r\n  //     batchLoad.batchFnUpdate = true;\r\n  //   }\r\n  //   SwapBatch = { batch: batchLoad, openBatchModal };\r\n  //   return SwapBatch;\r\n  // } else return SwapBatch;\r\n\r\n};","import { useMemo } from 'react';\r\n\r\nimport { TransferModalDataStep, modalsSliceActions, useAppDispatch } from '@/store';\r\n\r\nimport { Transfer } from '../..';\r\nimport { useTransferTransactionMemo } from '..';\r\n\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const useTransferBatch = (transfer: Transfer): any => {\r\n  const dispatch = useAppDispatch();\r\n  var batchLoad: any = { state: \"idle\", batchExecute: {} };\r\n  var TransferBatch = { batch: batchLoad, openBatchModal: () => { }, transactions: {} };\r\n\r\n  var openBatchModal = () => {\r\n    dispatch(modalsSliceActions.setTransferModalData(\r\n      { steps: ['transfer'] as TransferModalDataStep[], tokenSymbol: transfer.token?.symbol })\r\n    );\r\n    dispatch(modalsSliceActions.openTransferProgressModal());\r\n  };\r\n\r\n  const transferTrx = useTransferTransactionMemo(transfer); //useTransferTransactionMemo(transfer);\r\n\r\n  const TransferBatchTx = useMemo(() => {\r\n    return new BatchTransact({ transfer: transferTrx }, artemis);\r\n  }, [transferTrx]);\r\n\r\n  if (TransferBatchTx) { \r\n    batchLoad.batchExecute = TransferBatchTx; \r\n    TransferBatch = { ...TransferBatch, batch: batchLoad, openBatchModal };\r\n    return TransferBatch;\r\n  }\r\n  else  return TransferBatch;\r\n};","import { modalsSliceActions, useAppDispatch, WithdrawModalDataStep } from '@/store';\r\nimport { useMemo } from 'react';\r\nimport { Withdraw } from '../..';\r\nimport { useWithdrawTransactionMemo } from '..';\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const useWithdrawBatch = (withdraw: Withdraw) => {\r\n  const dispatch = useAppDispatch();\r\n  var batchLoad: any = { state: \"idle\" };\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setWithdrawModalData({ steps: ['withdraw'] as WithdrawModalDataStep[], tokenSymbol: withdraw.token?.symbol,})\r\n    );\r\n    dispatch(modalsSliceActions.openWithdrawProgressModal());\r\n  };\r\n  const withdrawMemo = useWithdrawTransactionMemo(withdraw);\r\n  \r\n  const  WithdrawBatchTx = useMemo(() => {\r\n    return new BatchTransact({ withdraw: withdrawMemo }, artemis);\r\n  }, [withdrawMemo]);\r\n\r\n  if (WithdrawBatchTx) { batchLoad.batchExecute = WithdrawBatchTx;}\r\n\r\n  return {batch: batchLoad, openBatchModal };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport {\r\n  modalsSliceActions, useAppDispatch, useSwapCanisterStore, useSwapViewStore, WithdrawWICPModalDataStep,\r\n} from '@/store';\r\n\r\nimport {\r\n  useWithdrawTransactionMemo, useWithdrawWICPTransactionMemo,\r\n} from '../transactions';\r\n\r\nimport { getAmountDependsOnBalance } from '.';\r\n\r\n\r\nimport { BatchTransact } from 'artemis-web3-adapter';\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\ntype UseWithdrawWICPBatchOptions = {\r\n  amount: string;\r\n  toAccountId?: string;\r\n};\r\n\r\nexport const useWithdrawWICPBatch = ({ amount, toAccountId, }: UseWithdrawWICPBatchOptions) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const { tokenBalances } = useSwapCanisterStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  if (!tokenBalances) throw new Error('Sonic balance is required');\r\n  if (!tokenList) throw new Error('Token list is required');\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n\r\n  const withdraw = useWithdrawTransactionMemo({\r\n    token: tokenList[ENV.canistersPrincipalIDs.WICP],\r\n    amount: getAmountDependsOnBalance(\r\n      tokenBalances[ENV.canistersPrincipalIDs.WICP], ICP_METADATA.decimals,amount\r\n    ),\r\n  });\r\n  const withdrawWICP = useWithdrawWICPTransactionMemo({ toAccountId, amount });\r\n\r\n  const WithdrawBatch = useMemo(() => {\r\n    let _transactions = {};\r\n    if (Number(withdraw.args[1]) > 0) { _transactions = { withdraw };}\r\n    _transactions = { ..._transactions, withdrawWICP };\r\n    return new BatchTransact(_transactions, artemis);\r\n  }, [withdrawWICP, withdraw]);\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setWithdrawWICPModalData({\r\n        steps: Object.keys(WithdrawBatch.stepsList) as WithdrawWICPModalDataStep[],\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openWithdrawWICPProgressModal());\r\n  };\r\n\r\n  if (WithdrawBatch) { batchLoad.batchExecute = WithdrawBatch;}\r\n\r\n  return {batch: batchLoad, openBatchModal };\r\n\r\n  // if(WithdrawBatch){\r\n\r\n  // }\r\n\r\n\r\n  // return {\r\n  //   batch: useBatch({\r\n  //     transactions,\r\n  //     handleRetry: () => {\r\n  //       return new Promise((resolve) => {\r\n  //         dispatch(\r\n  //           modalsSliceActions.setWithdrawWICPModalData({\r\n  //             callbacks: [\r\n  //               // Retry callback\r\n  //               () => {\r\n  //                 dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n  //                 openBatchModal();\r\n  //                 resolve(true);\r\n  //               },\r\n  //               // Close callback\r\n  //               () => {\r\n  //                 dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n  //                 resolve(false);\r\n  //               },\r\n  //             ],\r\n  //           })\r\n  //         );\r\n\r\n  //         dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n  //         dispatch(modalsSliceActions.openWithdrawWICPFailModal());\r\n  //       });\r\n  //     },\r\n  //   }),\r\n  //   openBatchModal,\r\n  // };\r\n};\r\n","export * from './transactions';\r\nexport * from './batch';\r\nexport * from './use-batch';\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { TokenIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nexport const useApproveTransactionMemo: CreateTransaction<Deposit> = (\r\n  { amount, token, allowance = 0 }, onSuccess, onFail\r\n) =>\r\n  useMemo(() => {\r\n    if (!token?.id ) { return; }\r\n    if(amount) if(parseFloat(amount) <= 0) return;\r\n    \r\n    const tokenType = token.tokenType;\r\n    const parsedAmount = amount ? parseAmount(amount, token.decimals) : BigInt(0);\r\n    const toApproveAmount = parsedAmount + token.fee > BigInt(allowance) ? parsedAmount : 0;\r\n\r\n    if (tokenType == 'DIP20') {\r\n      return {\r\n        canisterId: token.id, idl: TokenIDL.DIP20.factory, methodName: 'approve',\r\n        onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n          if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n          if (onSuccess) onSuccess(res);\r\n        },\r\n        onFail,\r\n        args: [Principal.fromText(ENV.canistersPrincipalIDs.swap), toApproveAmount],\r\n      };\r\n    }\r\n    else if (tokenType == 'YC') {\r\n      return {\r\n        canisterId: token.id, idl: TokenIDL.DIP20.YCfactory, methodName: 'approve',\r\n        onSuccess: async (res: TokenIDL.DIP20.YCResult) => {\r\n          if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n          if (onSuccess) onSuccess(res);\r\n        },\r\n        onFail,\r\n        args: [Principal.fromText(ENV.canistersPrincipalIDs.swap), toApproveAmount],\r\n      };\r\n    }\r\n    else return false;\r\n  }, [amount, token, allowance]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { CreatePair, CreateTransaction } from '../../models';\r\n\r\nexport type CreatePairTransaction = Transaction;\r\n\r\nexport const useCreatePairTransactionMemo: CreateTransaction<CreatePair> = (\r\n   { token0, token1 }: CreatePair,onSuccess,onFail) =>useMemo(() => {\r\n    if (!token0.metadata || !token1.metadata) {\r\n      return {};\r\n    }\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'createPair',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        AppLog.error('Create pair transaction failed', res);\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata.id),\r\n        Principal.fromText(token1.metadata.id),\r\n      ],\r\n    };\r\n  }, []);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nexport const useDepositTransactionMemo: CreateTransaction<Deposit> = ({ amount, token }, onSuccess, onFail) =>\r\n  useMemo(() => {\r\n    if (!token?.id || !amount) { return {} }\r\n    if(amount) if(parseFloat(amount) <= 0) return;\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'deposit',\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n      args: [ Principal.fromText(token?.id),parseAmount(amount, token?.decimals)],\r\n    };\r\n  }, [amount, token]);\r\n","import { fromHexString, getTokenActor, getswapActor } from '@/utils';\r\n\r\nimport { useState, useMemo, useEffect } from \"react\";\r\n\r\nimport { parseAmount } from '@/utils/format';\r\nimport { Principal } from '@dfinity/principal';\r\nimport { ENV } from '@/config';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nimport { TokenIDL, SwapIDL } from '@/did';\r\n\r\nexport const intitICRCTokenDepositIn = (deposit?:any): any => {\r\n    const [tokenAcnt, setData] = useState<undefined | boolean>();\r\n    useMemo(() => {\r\n        getswapActor(false).then(actor => {\r\n            actor.initiateICRC1Transfer().then((data:any) => {\r\n                setData(data);\r\n            }).catch(e=>{ setData(false)});\r\n        });\r\n    }, [deposit]);\r\n    return tokenAcnt;\r\n};\r\n\r\nexport const intitICRCTokenDeposit: any = () => useMemo(() => {\r\n    return {\r\n        canisterId: ENV.canistersPrincipalIDs.swap,\r\n        idl: SwapIDL.factory,\r\n        methodName: 'initiateICRC1Transfer',\r\n        updateNextStep: (trxResult: any, nextTrxItem: any, ) => {\r\n            nextTrxItem.args[0].to.subaccount = [trxResult]\r\n        },\r\n        onSuccess: () => { },\r\n        onFail: () => { },\r\n        args: []\r\n    }\r\n}, [])\r\n\r\n\r\nexport const useICRCTransferMemo: CreateTransaction<Deposit> = (\r\n    { amount, token, allowance = 0, tokenAcnt=[] }, onSuccess, onFail) => useMemo(() => {\r\n        if (!token?.id) { return; }\r\n        var canId = token?.id ? token.id : '';\r\n        var parsedAmount = amount ? parseAmount(amount, token?.decimals ? token?.decimals : 0) : BigInt(0);\r\n        parsedAmount += token?.fee ? token?.fee : BigInt(0);\r\n        var subacc: any = tokenAcnt.length?tokenAcnt: [];\r\n        return {\r\n            canisterId: canId,\r\n            idl: TokenIDL.ICRC1.factory,\r\n            methodName: 'icrc1_transfer',\r\n            onSuccess: async (res: TokenIDL.ICRC1.Result) => {\r\n                if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n                if (onSuccess) onSuccess(res);\r\n            },\r\n            onFail,\r\n            args: [{\r\n                to: { owner: Principal.fromText(ENV.canistersPrincipalIDs.swap), subaccount: [subacc] },\r\n                fee: [], memo: [], amount: parsedAmount, from_subaccount: [], created_at_time: []\r\n            }],\r\n        };\r\n    }, [token, tokenAcnt]);\r\n\r\nexport const useICRCDepositMemo: CreateTransaction<Deposit> = ({ amount, token, allowance = 0, tokenAcnt = '' }, onSuccess, onFail) => {\r\n    const [tokenTrx, settokenTrxData] = useState({});\r\n    useEffect((): any => {\r\n        var canId = token?.id ? token.id : '';\r\n        if (!tokenAcnt) return false;\r\n        getTokenActor(canId, false).then(actor => {\r\n            var parsedAmount = amount ? parseAmount(amount, token?.decimals ? token?.decimals : 0) : BigInt(0);\r\n            parsedAmount += token?.fee ? token?.fee : BigInt(0);\r\n            var subacc: number[] = fromHexString(tokenAcnt);\r\n            actor.icrc1_transfer({\r\n                to: { owner: Principal.fromText(ENV.canistersPrincipalIDs.swap), subaccount: [subacc] },\r\n                fee: [], memo: [], amount: parsedAmount, from_subaccount: [], created_at_time: []\r\n            }).then((data: any) => {\r\n                settokenTrxData({ resp: data });\r\n            }).catch(((err: any) => { return false; }))\r\n        });\r\n    }, [tokenAcnt]);\r\n    return tokenTrx;\r\n}\r\n","export * from './approve';\r\nexport * from './create-pair';\r\nexport * from './deposit';\r\nexport * from './ledger-transfer';\r\nexport * from './liquidity';\r\nexport * from './mint-wicp';\r\nexport * from './mint-xtc';\r\nexport * from './swap';\r\nexport * from './withdraw-wicp';\r\nexport * from './withdraw';\r\nexport * from './icrcTransfer'\r\nexport * from './transfer'\r\n","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { LedgerIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, LedgerTransfer } from '../../models';\r\n\r\nexport const useLedgerTransferTransactionMemo: CreateTransaction<LedgerTransfer> = (\r\n  { toAccountId, fee = ICP_METADATA.fee, amount, memo = BigInt(0) }, onSuccess, onFail) =>\r\n  useMemo(() => {\r\n    if (!toAccountId || !amount) { return {}; }\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.ledger,\r\n      idl: LedgerIDL.factory,\r\n      methodName: 'send_dfx',\r\n      onSuccess: async (blockHeight: number[]) => {\r\n        if (onSuccess) onSuccess(blockHeight);\r\n        return blockHeight;\r\n      },\r\n      onFail,\r\n      updateNextStep: (trxResult: any, nextTrxItem: any) => {\r\n        if (nextTrxItem) { nextTrxItem.args[1] = trxResult; }\r\n      },\r\n      args: [\r\n        {\r\n          to: toAccountId, fee: { e8s: fee }, amount: { e8s: parseAmount(amount, ICP_METADATA.decimals) },\r\n          memo, from_subaccount: [], created_at_time: [],\r\n        },\r\n      ],\r\n    };\r\n  }, [amount, fee, memo, onFail, onSuccess, toAccountId]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { Swap } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppLog } from '@/utils';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { useBalances } from '@/hooks';\r\n\r\nimport { AddLiquidity, CreateTransaction, RemoveLiquidity } from '../../models';\r\n\r\nexport type LiquidityTransaction = Transaction;\r\n\r\nexport interface LiquidityExtraArgs {\r\n  principal: Principal;\r\n}\r\n\r\ntype useTokenTaxCheckOptions = {\r\n  balances?: any;\r\n  tokenId?: string;\r\n  tokenDecimals?: number;\r\n  tokenValue?: string;\r\n  tokenSymbol?: string;\r\n};\r\n\r\nconst useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', }: useTokenTaxCheckOptions) => {\r\n  const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n  const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n  if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n    var id = tokenId ? tokenId : '';\r\n    tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n    tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n  } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n  if (tokenValue) {\r\n\r\n    let tokenVal: number = parseFloat(tokenValue)\r\n    if (tokenSymbol == 'YC') {\r\n      let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n      let sonicBalance = tokenInfo['sonic'] / decimals;\r\n     \r\n      if ((sonicBalance > tokenVal)) {\r\n        tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n        tokenInfo.taxInfo.taxedValue = 0;\r\n      } else {\r\n        tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n        tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n      }\r\n      tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89 / 100));\r\n    }\r\n  }\r\n  return tokenInfo\r\n};\r\n\r\nexport const useAddLiquidityTransactionMemo: CreateTransaction<AddLiquidity> = (\r\n  { token0, token1, slippage }: AddLiquidity, onSuccess, onFail) => {\r\n  var token0Value = token0.value, token1Value = token1.value;\r\n  var balances = useBalances();\r\n  return useMemo(() => {\r\n    if (!token0.metadata || !token1.metadata) throw new Error('Tokens are required');\r\n\r\n    if (token0.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: token0.metadata ? token0.metadata.id : '',\r\n        tokenSymbol: token0.metadata ? token0.metadata.symbol : '',\r\n        tokenDecimals: token0.metadata ? token0.metadata.decimals : 1,\r\n        tokenValue: token0.value ? token0.value : ''\r\n      });\r\n\r\n      token0Value = info.taxInfo.netValue.toString();\r\n      var _temp = token0Value.split(\".\");\r\n\r\n      token0Value = _temp[0] + '.' + (_temp[1] ? _temp[1].substring(0, 3):'0');\r\n    }\r\n\r\n    if (token1.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: token1.metadata ? token1.metadata.id : '',\r\n        tokenSymbol: token1.metadata ? token1.metadata.symbol : '',\r\n        tokenDecimals: token1.metadata ? token1.metadata.decimals : 1,\r\n        tokenValue: token1.value ? token1.value : ''\r\n      });\r\n\r\n      token1Value = info.taxInfo.netValue.toString();\r\n      var _temp = token1Value.split(\".\");\r\n      token1Value = _temp[0] + '.' + ( _temp[1]? _temp[1].substring(0, 3):'0');\r\n    }\r\n\r\n    const amount0Desired = parseAmount(token0Value, token0.metadata.decimals);\r\n    const amount1Desired = parseAmount(token1Value, token1.metadata.decimals);\r\n\r\n    const amount0Min = parseAmount(\r\n      Swap.getAmountMin({ amount: token0Value, slippage, decimals: token0.metadata.decimals }).toString(),\r\n      token0.metadata.decimals\r\n    );\r\n    const amount1Min = parseAmount(\r\n      Swap.getAmountMin({ amount: token1Value, slippage, decimals: token1.metadata.decimals }).toString(),\r\n      token1.metadata.decimals\r\n    );\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'addLiquidity',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata?.id), Principal.fromText(token1.metadata?.id),\r\n        amount0Desired, amount1Desired, amount0Min, amount1Min, BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [token0, token1, slippage]);\r\n};\r\n\r\n\r\nexport const useRemoveLiquidityTransactionMemo: CreateTransaction<RemoveLiquidity> = (\r\n  {\r\n    token0, token1, amount0Min, amount1Min, lpAmount, principalId,\r\n  }: RemoveLiquidity, onSuccess, onFail\r\n) =>\r\n  useMemo(() => {\r\n\r\n    if (!token0 || !token1) throw new Error('Token IDs are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'removeLiquidity',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        AppLog.error(\r\n          `Remove liquidity transaction failed: token0=${token0.metadata.id} token1=${token1.metadata.id} principal=${principalId}`,\r\n          res\r\n        );\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata.id),\r\n        Principal.fromText(token1.metadata.id),\r\n        BigInt(Math.round(lpAmount)),\r\n        parseAmount(String(amount0Min), token0.metadata.decimals),\r\n        parseAmount(String(amount1Min), token1.metadata.decimals),\r\n        Principal.fromText(principalId),\r\n        BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [token0, token1]);\r\n","import { ENV } from '@/config';\r\nimport { TokenIDL } from '@/did';\r\nimport { CreateTransaction, MintWICP } from '../../models';\r\n\r\nexport const getMintWICPTransaction: CreateTransaction<MintWICP> = (options = {},onSuccess,onFail) => {\r\n  const { blockHeight, subaccount = [] } = options;\r\n  var bh:bigint=BigInt(0);\r\n  if(typeof(blockHeight) == 'string' || typeof(blockHeight) =='number'){ bh = BigInt(blockHeight)  }\r\n\r\n  return {\r\n    canisterId: ENV.canistersPrincipalIDs.WICP,\r\n    idl: TokenIDL.DIP20.factory,\r\n    methodName: 'mint',\r\n    onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n      if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n      if (onSuccess) onSuccess(res);\r\n    },\r\n    onFail,\r\n    args:[subaccount , bh]\r\n  };\r\n};\r\n","import { ENV } from '@/config';\r\nimport { XTCIDL } from '@/did';\r\n\r\nimport { CreateTransaction, MintXTC } from '../../models';\r\n\r\nexport const getMintXTCTransaction: CreateTransaction<MintXTC> = ( options = {},onSuccess,onFail) => {\r\n  const { blockHeight, subaccount = [] } = options;\r\n  var bh:bigint=BigInt(0);\r\n  if(typeof(blockHeight) == 'string' || typeof(blockHeight) =='number'){ bh = BigInt(blockHeight)  }\r\n  return {\r\n    canisterId: ENV.canistersPrincipalIDs.XTC,\r\n    idl: XTCIDL.factory,\r\n    methodName: 'mint_by_icp',\r\n    onSuccess: async (res: XTCIDL.TxReceipt) => {\r\n      if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n      if (onSuccess) onSuccess(res);\r\n    },\r\n    onFail,\r\n    args: [ subaccount, BigInt(bh)]\r\n  };\r\n};\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { Swap } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\nimport { useBalances } from '@/hooks';\r\nimport { getSwapCapActor } from '@/utils'\r\nimport { CreateTransaction, SwapModel } from '../../models';\r\n\r\n\r\nexport type SwapTransaction = Transaction;\r\n\r\nexport interface SwapExtraArgs {\r\n  principal: Principal;\r\n}\r\n\r\ntype useTokenTaxCheckOptions = {\r\n  balances?: any;\r\n  tokenId?: string;\r\n\r\n  tokenDecimals?: number;\r\n  tokenValue?: string;\r\n  tokenSymbol?: string;\r\n};\r\n\r\nconst useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', }: useTokenTaxCheckOptions) => {\r\n  const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n  const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n  if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n    var id = tokenId ? tokenId : '';\r\n    tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n    tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n  } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n  if (tokenValue) {\r\n    let tokenVal: number = parseFloat(tokenValue)\r\n    if (tokenSymbol == 'YC') {\r\n      let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n      let sonicBalance = tokenInfo['sonic'] / decimals;\r\n\r\n      if ((sonicBalance > tokenVal)) {\r\n        tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n        tokenInfo.taxInfo.taxedValue = 0;\r\n      } else {\r\n        tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n        tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n      }\r\n      tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (88.9 / 100));\r\n    }\r\n  }\r\n  return tokenInfo\r\n};\r\n\r\nexport const useSwapExactTokensTransactionMemo: CreateTransaction<SwapModel> = (\r\n  { from, to, slippage, principalId, entryVal }: SwapModel, onSuccess, onFail) => {\r\n  var fromValue = from.value;\r\n  let balances = useBalances();\r\n  return useMemo(() => {\r\n    if (!from.metadata || !to.metadata) throw new Error('Tokens are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n\r\n    if (from.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: from.metadata ? from.metadata.id : '',\r\n        tokenSymbol: from.metadata ? from.metadata.symbol : '',\r\n        tokenDecimals: from.metadata ? from.metadata.decimals : 1,\r\n        tokenValue: from.value ? from.value : ''\r\n      });\r\n      fromValue = info.taxInfo.netValue.toFixed(3);\r\n    }\r\n\r\n    const amountIn = parseAmount(fromValue, from.metadata.decimals);\r\n    var outAmountMin = Swap.getAmountMin({ amount: to.value, slippage, decimals: to.metadata.decimals }).toNumber();\r\n\r\n    if (from.metadata?.symbol == 'YC' && parseFloat(entryVal || '') > 0) {\r\n      outAmountMin = outAmountMin - (outAmountMin * 0.11);\r\n    }\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    var amountOutMin = parseAmount(outAmountMin.toString(), to.metadata.decimals);\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'swapExactTokensForTokens',\r\n      onFail,\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [amountIn, amountOutMin, from.paths[to.metadata.id]?.path, Principal.fromText(principalId), BigInt(currentTime)],\r\n      amountOutMin: outAmountMin,\r\n      updateNextStep: async (trxResult: any, nextTrxItem: any) => {\r\n        if (nextTrxItem) {\r\n          const actor = await getSwapCapActor(true);\r\n          const data = await actor.get_user_transactions({ user: Principal.fromText(principalId), page: [], witness: false });\r\n          if (data) {\r\n            var trxInfo: any = data.data.filter(item => (item.operation === \"swap\"));\r\n            if (trxInfo.length > 1) {\r\n              trxInfo = trxInfo[trxInfo.length - 1];\r\n            }\r\n            if (trxInfo) {\r\n              const matchingDetail = trxInfo.details.find((detail: any) => detail[0] === \"amountOut\");\r\n              if (matchingDetail.length > 0) {\r\n                nextTrxItem.args[1] = matchingDetail[1]?.U64;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n    };\r\n  }, [from.metadata, from.value, from.paths, to.metadata, to.value, principalId, slippage, onFail, onSuccess]);\r\n};\r\n\r\n\r\n\r\nexport const useSwapForExactTokensTransactionMemo: CreateTransaction<SwapModel> =\r\n ({ from, to, slippage, principalId }: SwapModel, onSuccess, onFail) => {\r\n\r\n  var fromValue = from.value;\r\n  let balances = useBalances();\r\n\r\n  return useMemo(() => {\r\n    if (!from.metadata || !to.metadata) throw new Error('Tokens are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n    if (from.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: from.metadata ? from.metadata.id : '',\r\n        tokenSymbol: from.metadata ? from.metadata.symbol : '',\r\n        tokenDecimals: from.metadata ? from.metadata.decimals : 1,\r\n        tokenValue: from.value ? from.value : ''\r\n      });\r\n      fromValue = info.taxInfo.netValue.toFixed(3);\r\n    }\r\n\r\n    const amountOut = parseAmount(to.value, to.metadata.decimals);\r\n    const amountInMin = parseAmount(\r\n      Swap.getAmountMin({\r\n        amount: fromValue,\r\n        slippage,\r\n        decimals: from.metadata.decimals,\r\n      }).toString(),\r\n      to.metadata.decimals\r\n    );\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'swapTokensForExactTokens',\r\n      onFail,\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        onSuccess(res);\r\n      },\r\n      args: [\r\n        amountOut,\r\n        amountInMin,\r\n        [from.metadata.id, to.metadata.id],\r\n        Principal.fromText(principalId),\r\n        BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [\r\n    from.metadata,\r\n    from.value,\r\n    to.metadata,\r\n    to.value,\r\n    principalId,\r\n    slippage,\r\n    onFail,\r\n    onSuccess,\r\n  ]);\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { TokenIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\nimport { getAccountIdFromPrincipalId, fromHexString, getPrincipalFromText } from \"@/utils\"\r\n\r\nimport { CreateTransaction, Transfer } from '../../models';\r\n\r\nexport const useTransferTransactionMemo: CreateTransaction<Transfer> = ({ amount, token, address, addressType }, onSuccess, onFail) =>\r\n  useMemo(() => {\r\n    if (!token?.id || !address || !amount) { return; }\r\n    const tokenType = token.tokenType;\r\n    const parsedAmount = amount ? parseAmount(amount, token.decimals) : BigInt(0);\r\n    if (token?.symbol == 'ICP') {\r\n      var natAddress = addressType == 'accountId' ? fromHexString(address) : fromHexString(getAccountIdFromPrincipalId(address));\r\n      return {\r\n        canisterId: token.id,\r\n        idl: TokenIDL.ICRC1.factory,\r\n        methodName: 'transfer',\r\n        args: [{ to: natAddress, amount: { e8s: parsedAmount }, fee: { e8s: token.fee }, memo: 0, from_subaccount: [], created_at_time: [] }],\r\n        onSuccess: onSuccess,\r\n        onFail,\r\n      }\r\n    } else if (tokenType == 'DIP20') {\r\n      if (addressType != 'principalId') return false;\r\n      return {\r\n        canisterId: token.id,\r\n        idl: TokenIDL.DIP20.factory,\r\n        methodName: 'transfer',\r\n        args: [getPrincipalFromText(address), parsedAmount],\r\n        onSuccess: onSuccess,\r\n        onFail,\r\n      }\r\n    } else if (tokenType == 'YC') {\r\n      if (addressType != 'principalId') return false;\r\n      return {\r\n        canisterId: token.id,\r\n        idl: TokenIDL.DIP20.YCfactory,\r\n        methodName: 'transfer',\r\n        args: [getPrincipalFromText(address), parsedAmount],\r\n        onSuccess: onSuccess,\r\n        onFail,\r\n      }\r\n    }\r\n    else if (tokenType == 'ICRC1') {\r\n      return {\r\n        canisterId: token.id,\r\n        idl: TokenIDL.ICRC1.factory,\r\n        methodName: 'icrc1_transfer',\r\n        onSuccess: onSuccess,\r\n        onFail,\r\n        args: [{\r\n          to: { owner: getPrincipalFromText(address), subaccount: [] },\r\n          fee: [], memo: [], amount: parsedAmount, from_subaccount: [], created_at_time: []\r\n        }],\r\n      };\r\n    }\r\n    else return false;\r\n  }, [amount, token]);\r\n","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { TokenIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, WithdrawWICP } from '../../models';\r\n\r\nexport const useWithdrawWICPTransactionMemo: CreateTransaction<WithdrawWICP> = (\r\n  { amount, toAccountId },\r\n  onSuccess,\r\n  onFail\r\n) =>\r\n  useMemo(() => {\r\n    if (!amount) throw new Error('Amount is required');\r\n    if (!toAccountId) throw new Error('Account ID is required');\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.WICP,\r\n      idl: TokenIDL.DIP20.factory,\r\n      methodName: 'withdraw',\r\n      onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n        if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n      args: [parseAmount(amount, ICP_METADATA.decimals), toAccountId],\r\n    };\r\n  }, [amount, onFail, onSuccess, toAccountId]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Withdraw } from '../../models';\r\n\r\nexport const useWithdrawTransactionMemo: CreateTransaction<Withdraw> = ({ amount, token },onSuccess,onFail) =>\r\n  useMemo(() => {\r\n    if (!token?.id || !amount) {return {};}\r\n    return {\r\n      args: [Principal.fromText(token.id), parseAmount(amount, token.decimals)],\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'withdraw',\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n    };\r\n  }, [amount, token, onFail, onSuccess]);\r\n","import { useMemo, useState } from 'react';\r\n\r\nimport { plug } from '@/integrations/plug';\r\n\r\nimport { BatchTransactions } from '..';\r\nimport { Batch } from '../models';\r\n\r\nexport const useBatch = <Model>({\r\n  transactions, handleRetry\r\n}: Batch.HookProps<Model>): Batch.Hook<Model> => {\r\n\r\n  const [state, setState] = useState(Batch.DefaultHookState.Idle);\r\n  const [error, setError] = useState<unknown>();\r\n\r\n  const handleError = (error: unknown): void => {\r\n    setError(error);\r\n    setState(Batch.DefaultHookState.Error);\r\n  };\r\n\r\n  const states = useMemo(\r\n    () => Object.keys(transactions) as Batch.DefaultHookState[],\r\n    [transactions]\r\n  );\r\n\r\n  const batch = useMemo(() => {\r\n    const newBatch = new BatchTransactions(plug, handleRetry);\r\n    const transactionsList = Object.values(transactions);\r\n    Object.values(transactions).forEach((transaction, index) => {\r\n      const onSuccess = transaction.onSuccess;\r\n      transaction.onSuccess = async (res) => {\r\n        let txSuccessResponse;\r\n        if (onSuccess) { txSuccessResponse = await onSuccess(res); }\r\n        if (index !== transactionsList.length - 1) {\r\n          setState(states[index + 1]);\r\n        } else {\r\n          setState(Batch.DefaultHookState.Done);\r\n        }\r\n        return txSuccessResponse;\r\n      };\r\n      const onFail = transaction.onFail;\r\n      transaction.onFail = async (err, prevRes) => {\r\n        if (onFail) await onFail(err, prevRes);\r\n        handleError(err);\r\n      };\r\n      newBatch.push(transaction);\r\n    });\r\n    return newBatch;\r\n  }, [transactions, handleRetry]);\r\n\r\n  var execute = async (): Promise<unknown> => {\r\n    if (\r\n      state !== Batch.DefaultHookState.Idle &&\r\n      state !== Batch.DefaultHookState.Error\r\n    ) {\r\n      return Promise.reject('Batch is not idle');\r\n    }\r\n    setState(states[0]);\r\n      try {\r\n        return await batch.execute();\r\n      } catch (error: any) {\r\n        // TODO: Improve rejection flow to support other providers\r\n        if (error.message === 'The transactions was rejected.') {\r\n          setState(Batch.DefaultHookState.Error);\r\n        }\r\n        throw error;\r\n      }\r\n  };  \r\n  return { execute, state, error };\r\n};\r\n","import { useCallback } from 'react';\r\n\r\nimport {\r\n  MintTokenSymbol,\r\n  popNotification,\r\n  useAppDispatch,\r\n  usePlugStore,\r\n} from '@/store';\r\nimport {\r\n  getFromStorage,\r\n  LocalStorageKey,\r\n  MintUncompleteBlockHeights,\r\n  saveToStorage,\r\n} from '@/utils';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport type UseMintErrorHandlerOptions = {\r\n  notificationId: string;\r\n  errorMessage?: string;\r\n};\r\n\r\nexport const useMintErrorHandler = ({\r\n  notificationId,\r\n}: UseMintErrorHandlerOptions) => {\r\n  const { principalId } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleMintError = useCallback(\r\n    (errorMessage?: string, callback?: (errorText: string) => unknown) => {\r\n      if (!errorMessage) {\r\n        return;\r\n      }\r\n\r\n      AppLog.error('Minting Error', errorMessage);\r\n\r\n      const isBlockUsedError = errorMessage.includes('BlockUsed');\r\n      const isUnauthorizedError = errorMessage.includes('Unauthorized');\r\n      const isOtherError = errorMessage.includes('Other');\r\n      const isOperationStyleError = errorMessage.includes(\r\n        'ErrorOperationStyle'\r\n      );\r\n      const isErrorToError = errorMessage.includes('ErrorTo');\r\n      const isAmountToSmallError = errorMessage.includes('AmountToSmall');\r\n\r\n      const errorText = isUnauthorizedError\r\n        ? `Block Height entered does not match your address`\r\n        : isOtherError\r\n        ? `Wrap failed, check if the Block Height correct`\r\n        : isBlockUsedError\r\n        ? `Block Height entered is already used`\r\n        : isOperationStyleError\r\n        ? `Provided Block Height can't be used for this operation`\r\n        : isErrorToError\r\n        ? `Selected token symbol does not match the Block Height`\r\n        : isAmountToSmallError\r\n        ? `Amount to mint is too small`\r\n        : `Wrap failed, please try again later`;\r\n\r\n      if (isBlockUsedError && principalId) {\r\n        const removeLastProcessedTransaction = (\r\n          tokenSymbol: MintTokenSymbol\r\n        ) => {\r\n          const localStorageKey =\r\n            tokenSymbol === MintTokenSymbol.WICP\r\n              ? LocalStorageKey.MintWICPUncompleteBlockHeights\r\n              : LocalStorageKey.MintXTCUncompleteBlockHeights;\r\n\r\n          const prevMintBlockHeightData = getFromStorage(localStorageKey) as\r\n            | MintUncompleteBlockHeights\r\n            | undefined;\r\n\r\n          const newBlockHeightData = {\r\n            ...prevMintBlockHeightData,\r\n            [principalId]: [\r\n              ...(prevMintBlockHeightData?.[principalId]?.filter(\r\n                (_, index) => index !== 0\r\n              ) || []),\r\n            ],\r\n          };\r\n\r\n          saveToStorage(localStorageKey, newBlockHeightData);\r\n        };\r\n\r\n        removeLastProcessedTransaction(MintTokenSymbol.WICP);\r\n        removeLastProcessedTransaction(MintTokenSymbol.XTC);\r\n\r\n        dispatch(popNotification(notificationId));\r\n      }\r\n\r\n      if (callback) {\r\n        callback(errorText);\r\n      }\r\n    },\r\n    [dispatch, notificationId, principalId]\r\n  );\r\n\r\n  return handleMintError;\r\n};\r\n","export * from './batch-transactions';\r\nexport * from './hooks';\r\nexport * from './models';\r\n","import type {\r\n  Transaction,\r\n  TransactionPrevResponse,\r\n} from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\n\r\nimport { CreateTransaction } from '.';\r\n\r\nexport namespace Batch {\r\n  export enum State {\r\n    Idle = 'idle',\r\n    Running = 'running',\r\n  }\r\n\r\n  export type Execute = () => Promise<unknown>;\r\n\r\n  export type Push = (transaction: Transaction) => Controller;\r\n\r\n  export type GetTransactions = () => Transaction[];\r\n\r\n  export type GetState = () => State;\r\n\r\n  export interface Controller {\r\n    execute: Execute;\r\n    push: Push;\r\n    getTransactions: GetTransactions;\r\n    getState: GetState;\r\n  }\r\n\r\n  export enum DefaultHookState {\r\n    Idle = 'idle',\r\n    Done = 'done',\r\n    Error = 'error',\r\n  }\r\n\r\n  export type HookState = {\r\n    [key: number]: string;\r\n  };\r\n\r\n  export interface Hook<State> {\r\n    execute: Batch.Execute;\r\n    state: State | DefaultHookState;\r\n    error: unknown;\r\n  }\r\n\r\n  export interface HookProps<Model> {\r\n    transactions: {\r\n      [key: string]: ReturnType<CreateTransaction<Model, Transaction>>;\r\n    };\r\n    handleRetry?: (\r\n      error: unknown,\r\n      prevResponses?: TransactionPrevResponse[]\r\n    ) => Promise<boolean | { nextTxArgs: unknown }>;\r\n  }\r\n}\r\n","export * from './batch';\r\nexport * from './create-transaction';\r\nexport * from './transactions';\r\n","export * from './create-pair';\r\nexport * from './deposit';\r\nexport * from './ledger-transfer';\r\nexport * from './liquidity';\r\nexport * from './mint-wicp';\r\nexport * from './mint-xtc';\r\nexport * from './swap';\r\nexport * from './withdraw-wicp';\r\nexport * from './withdraw';\r\nexport * from './transfer'\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useAllPairs } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport { useAddLiquidityBatch } from '@/integrations/transactions';\r\nimport {\r\n  AddLiquidityModalDataStep, modalsSliceActions, NotificationType,\r\n  useAppDispatch, useLiquidityViewStore, useNotificationStore,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface AddLiquidityNotificationContentProps { id: string; }\r\n\r\nexport const AddLiquidityNotificationContent: React.FC<AddLiquidityNotificationContentProps> = ({ id }) => {\r\n\r\n  const dispatch = useAppDispatch();\r\n  const liquidityViewStore = useLiquidityViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n  const { getAllPairs } = useAllPairs();\r\n\r\n\r\n  const { token0, token1, slippage } = useMemo(() => {\r\n    const { token0, token1, slippage, pair } = liquidityViewStore;\r\n    if (pair) {\r\n      const token0Id = pair.id.split(':')[0];\r\n      if (token0Id !== token0.metadata?.id) {\r\n        return deserialize(serialize({ token0: token1, token1: token0, slippage }));\r\n      }\r\n    }\r\n    return deserialize(serialize({ token0, token1, slippage }));\r\n  }, []) ?? {};\r\n\r\n\r\n  const allowance0 = useTokenAllowance(token0.metadata?.id);\r\n  const allowance1 = useTokenAllowance(token1.metadata?.id);\r\n\r\n  const batchData = useAddLiquidityBatch({ token0, token1, slippage: Number(slippage) });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (Object.values(AddLiquidityModalDataStep).includes(batch.state as AddLiquidityModalDataStep)) {\r\n      dispatch(modalsSliceActions.setAddLiquidityModalData({ step: batch.state as AddLiquidityModalDataStep }));\r\n    }\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error('Add Liquidity Error', err);\r\n    dispatch(modalsSliceActions.clearAddLiquidityModalData());\r\n    dispatch(modalsSliceActions.clearDepositModalData());\r\n    dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n    addNotification({\r\n      title: `Add LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol} failed`,\r\n      type: NotificationType.Error, id: Date.now().toString()\r\n    });\r\n    popNotification(id)\r\n  }\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state) return;\r\n    if (typeof allowance0 === 'number' && typeof allowance1 === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange();\r\n      openBatchModal();\r\n    } else {\r\n      dispatch(\r\n        modalsSliceActions.setAllowanceVerifyModalData({\r\n          tokenSymbol: [token0.metadata?.symbol, token1.metadata?.symbol],\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance0 === 'undefined' || typeof allowance1 === 'undefined') return;\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.clearAddLiquidityModalData());\r\n          dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n          addNotification({\r\n            title: `Added LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol}`,\r\n            type: NotificationType.Success, id: Date.now().toString(), transactionLink: '/activity',\r\n          });\r\n          getBalances(); getAllPairs(); getUserPositiveLPBalances();\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, [batchFnUpdate]);\r\n\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useBalances } from '@/hooks/use-balances';\r\n\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport { useDepositBatch } from '@/integrations/transactions';\r\n\r\nimport {\r\n  DepositModalDataStep, modalsSliceActions, useAppDispatch, useDepositViewStore, NotificationType, useNotificationStore,\r\n} from '@/store';\r\n\r\nimport { tokenList, AppLog } from '@/utils';\r\n\r\nexport interface DepositNotificationContentProps { id: string }\r\n\r\nexport const DepositNotificationContent: React.FC<DepositNotificationContentProps> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { addNotification, popNotification } = useNotificationStore(), { getBalances } = useBalances();\r\n  const depositViewStore = useDepositViewStore();\r\n\r\n  const { value, tokenId } = useMemo(() => {\r\n    const { amount: value, tokenId } = depositViewStore;\r\n    return deserialize(serialize({ value, tokenId }));\r\n  }, []) ?? {};\r\n\r\n  const selectedToken = tokenList('obj', tokenId), allowance = useTokenAllowance(selectedToken?.id);\r\n\r\n  var batchData = useDepositBatch({ amount: value, token: selectedToken, allowance });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") batch.state = batchExecutalbe.activeStep;\r\n    else if (batch?.state == 'error') { handleError() }\r\n    \r\n    if (batch?.state) {\r\n      if (Object.values(DepositModalDataStep).includes(batch?.state as DepositModalDataStep)) {\r\n        dispatch(modalsSliceActions.setDepositModalData({ step: batch?.state as DepositModalDataStep }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state) return;\r\n    if (typeof allowance === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange(); openBatchModal();\r\n    } else {\r\n      dispatch(modalsSliceActions.setAllowanceVerifyModalData({ tokenSymbol: selectedToken?.symbol }));\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error(`Deposit Error`, err);\r\n    dispatch(modalsSliceActions.closeDepositProgressModal());\r\n    dispatch(modalsSliceActions.clearDepositModalData());\r\n    addNotification({ title: `Deposit ${value} ${selectedToken?.symbol} failed`, type: NotificationType.Error, id: Date.now().toString(), });\r\n    popNotification(id)\r\n  }\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance === 'undefined' || !batch?.state) return;\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.closeDepositProgressModal());\r\n          getBalances();\r\n          addNotification({\r\n            title: `Deposited ${value} ${selectedToken?.symbol}`, type: NotificationType.Success, id: Date.now().toString(), transactionLink: '/activity',\r\n          });\r\n          dispatch(modalsSliceActions.clearDepositModalData());\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, [allowance, batchExecutalbe]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","export * from './add-liquidity-notification-content';\r\nexport * from './deposit-notification-content';\r\nexport * from './mint-auto-notification-content';\r\nexport * from './mint-manual-notification-content';\r\nexport * from './mint-wicp-notification-content';\r\nexport * from './mint-xtc-notification-content';\r\nexport * from './remove-liquidity-notifcation-content';\r\nexport * from './swap-notification-content';\r\nexport * from './transaction-notification-content';\r\nexport * from './withdraw-notification-content';\r\nexport * from './withdraw-wicp-notification-content';\r\nexport * from './transfer-notification-content';\r\n","import { Button, Flex, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\nimport { StepStatus, useStepStatus } from '@/components/modals';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { Batch } from '@/integrations/transactions';\r\nimport { useMintMultipleBatch } from '@/integrations/transactions/hooks/batch/use-mint-multiple-batch';\r\nimport { useMintErrorHandler } from '@/integrations/transactions/hooks/use-mint-error-handler';\r\nimport {\r\n  addNotification,\r\n  NotificationState,\r\n  NotificationType,\r\n  setNotificationData,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\nimport { LocalStorageKey, removeFromStorage } from '@/utils';\r\n\r\nexport type MintAutoNotificationContentProps = {\r\n  id: string;\r\n  state?: NotificationState;\r\n};\r\n\r\nexport const MINT_AUTO_NOTIFICATION_TITLES = {\r\n  [NotificationState.Pending]: 'Minting in progress',\r\n  [NotificationState.Success]: 'Mint was successful',\r\n  [NotificationState.Error]:\r\n    'You have unfinished or failed mint(s), click retry mint below.',\r\n};\r\n\r\nexport const MintAutoNotificationContent: React.FC<\r\n  MintAutoNotificationContentProps\r\n> = ({ id, state }) => {\r\n  const [steps, setSteps] = useState<string[]>([]);\r\n  const [step, setStep] = useState<string | Batch.DefaultHookState>(\r\n    Batch.DefaultHookState.Idle\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { getBalances } = useBalances();\r\n\r\n  const handleMintError = useMintErrorHandler({ notificationId: id });\r\n\r\n  const { mintWICPUncompleteBlockHeights, mintXTCUncompleteBlockHeights } =\r\n    useModalsStore();\r\n\r\n  const getStepStatus = useStepStatus<string>({\r\n    activeStep: step,\r\n    steps,\r\n  });\r\n\r\n  const { batch, getTransactionNames } = useMintMultipleBatch({\r\n    blockHeights: {\r\n      WICP: mintWICPUncompleteBlockHeights,\r\n      XTC: mintXTCUncompleteBlockHeights,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    setStep(batch.state);\r\n  }, [batch.state, dispatch]);\r\n\r\n  const handleAutoMint = () => {\r\n    dispatch(\r\n      setNotificationData({\r\n        data: {\r\n          state: NotificationState.Pending,\r\n          title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Pending],\r\n        },\r\n        id,\r\n      })\r\n    );\r\n\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(\r\n          addNotification({\r\n            title: `Minting finished`,\r\n            type: NotificationType.Success,\r\n            id: Date.now().toString(),\r\n          })\r\n        );\r\n\r\n        removeFromStorage(LocalStorageKey.MintWICPUncompleteBlockHeights);\r\n        removeFromStorage(LocalStorageKey.MintXTCUncompleteBlockHeights);\r\n\r\n        getBalances();\r\n        dispatch(\r\n          setNotificationData({\r\n            data: {\r\n              state: NotificationState.Success,\r\n              title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Success],\r\n            },\r\n            id,\r\n          })\r\n        );\r\n      })\r\n      .catch((err) =>\r\n        handleMintError(err.message, (errorMessage) => {\r\n          dispatch(\r\n            setNotificationData({\r\n              data: {\r\n                state: NotificationState.Error,\r\n                title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Error],\r\n              },\r\n              id,\r\n            })\r\n          );\r\n          dispatch(\r\n            addNotification({\r\n              title: errorMessage,\r\n              type: NotificationType.Error,\r\n              id: Date.now().toString(),\r\n            })\r\n          );\r\n        })\r\n      );\r\n\r\n    const transactionNames = getTransactionNames();\r\n\r\n    setSteps(transactionNames);\r\n  };\r\n\r\n  const doneStepColor = useColorModeValue('green.600', 'green.400');\r\n  const activeStepColor = useColorModeValue('gray.600', 'gray.400');\r\n  const disabledStepColor = useColorModeValue('gray.400', 'gray.600');\r\n\r\n  const shouldShowRetryButton = useMemo(() => {\r\n    return (\r\n      step === Batch.DefaultHookState.Idle ||\r\n      step === Batch.DefaultHookState.Error ||\r\n      state === NotificationState.Error\r\n    );\r\n  }, [step, state]);\r\n\r\n  return shouldShowRetryButton ? (\r\n    <Button\r\n      colorScheme=\"dark-blue\"\r\n      variant=\"gradient\"\r\n      isFullWidth\r\n      onClick={handleAutoMint}\r\n      mt={3}\r\n    >\r\n      Retry Mint\r\n    </Button>\r\n  ) : (\r\n    <Stack w=\"full\" pt={4}>\r\n      {steps.map((_step) => {\r\n        const stepStatus = getStepStatus(_step);\r\n        const isDoneStep = stepStatus === StepStatus.Done;\r\n        const isActiveStep = stepStatus === StepStatus.Active;\r\n        const isDisabledStep = stepStatus === StepStatus.Disabled;\r\n\r\n        const stepColor = isDoneStep\r\n          ? doneStepColor\r\n          : isActiveStep\r\n          ? activeStepColor\r\n          : isDisabledStep\r\n          ? disabledStepColor\r\n          : disabledStepColor;\r\n\r\n        const stepLabel = isDisabledStep\r\n          ? 'Waiting'\r\n          : isActiveStep\r\n          ? 'Minting...'\r\n          : 'Done';\r\n\r\n        const blockHeight = _step.split('-')[1];\r\n\r\n        return (\r\n          <Flex\r\n            key={_step}\r\n            w=\"full\"\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Text>{blockHeight}</Text>\r\n            <Text color={stepColor}>{stepLabel}</Text>\r\n          </Flex>\r\n        );\r\n      })}\r\n    </Stack>\r\n  );\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintSingleBatch } from '@/integrations/transactions/hooks/batch/use-mint-single-batch';\r\nimport { useMintErrorHandler } from '@/integrations/transactions/hooks/use-mint-error-handler';\r\nimport {\r\n  modalsSliceActions, NotificationType, useAppDispatch, useModalsStore, useNotificationStore,\r\n} from '@/store';\r\n\r\nexport interface MintManualNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintManualNotificationContent: React.FC<\r\n  MintManualNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n  const { mintManualTokenSymbol, mintManualBlockHeight } = useModalsStore();\r\n  const handleMintError = useMintErrorHandler({ notificationId: id });\r\n\r\n  const batchData = useMintSingleBatch({ tokenSymbol: mintManualTokenSymbol, blockHeight: mintManualBlockHeight });\r\n\r\n  const batch = batchData?.batch\r\n  const batchExecutalbe = batch?.batchExecute;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n\r\n\r\n  useEffect(() => {\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if(data){\r\n          getBalances()\r\n          addNotification({ title: `Minting finished`, type: NotificationType.Success, id: Date.now().toString()});\r\n        }else{\r\n          addNotification({ title: `Minting Failed`, type: NotificationType.Error, id: Date.now().toString()});\r\n        }\r\n      }).catch((err:any)=>{\r\n          handleMintError(err.message, (errorMessage) => { dispatch( modalsSliceActions.setMintManualModalErrorMessage(errorMessage));\r\n          dispatch(modalsSliceActions.openMintManualModal());\r\n        })\r\n      }).finally(() => popNotification(id));;\r\n    } else {\r\n      \r\n    }\r\n  }, [batchFnUpdate])\r\n\r\n\r\n  // useEffect(() => {\r\n  //   batch\r\n  //     .execute()\r\n  //     .then(() => {\r\n  //       addNotification({\r\n  //         title: `Minting finished`,\r\n  //         type: NotificationType.Success,\r\n  //         id: Date.now().toString(),\r\n  //       });\r\n\r\n  //       dispatch(modalsSliceActions.setMintManualBlockHeight(''));\r\n  //       getBalances();\r\n  //     })\r\n  //     .catch((err) =>\r\n  //       handleMintError(err.message, (errorMessage) => {\r\n  //         dispatch(\r\n  //           modalsSliceActions.setMintManualModalErrorMessage(errorMessage)\r\n  //         );\r\n  //         dispatch(modalsSliceActions.openMintManualModal());\r\n  //       })\r\n  //     )\r\n  //     .finally(() => popNotification(id));\r\n  // }, []);\r\n\r\n  return null;\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintBatch } from '@/integrations/transactions';\r\nimport {\r\n  MintModalDataStep, MintTokenSymbol, modalsSliceActions, NotificationType,\r\n  useAppDispatch, useNotificationStore, useSwapViewStore,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface MintWICPNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintWICPNotificationContent: React.FC<\r\n  MintWICPNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from, to, keepInSonic } = useMemo(() => {\r\n    const { from, to, keepInSonic } = swapViewStore;\r\n    return deserialize(serialize({ from, to, keepInSonic }));\r\n  }, []) ?? {};\r\n\r\n  const batchData = useMintBatch({ amountIn: from.value, amountOut: to.value, tokenSymbol: MintTokenSymbol.WICP, keepInSonic });\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (batch?.state) {\r\n      if (Object.values(MintModalDataStep).includes(batch?.state as MintModalDataStep)) {\r\n        dispatch(modalsSliceActions.setMintWICPModalData({ step: batch?.state }));\r\n      }\r\n    }\r\n  };\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n    openBatchModal();\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error('Mint WICP Error', err);\r\n    dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n    addNotification({\r\n      title: `Wrap ${from.value} ${from.metadata.symbol} failed`, type: NotificationType.Error, id: Date.now().toString(),\r\n    });\r\n    popNotification(id);\r\n  };\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n          addNotification({ title: `Wrapped ${from.value} ${from.metadata.symbol}`, type: NotificationType.Success, id: Date.now().toString(), transactionLink: '/activity' });\r\n          getBalances();\r\n        } else handleError();\r\n       }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n    if(batchFnUpdate=='error') handleError();\r\n  }, [batchFnUpdate]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>View progress</Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintBatch } from '@/integrations/transactions/hooks/batch/use-mint-batch';\r\nimport {\r\n  MintModalDataStep, MintTokenSymbol,  modalsSliceActions, NotificationType,useAppDispatch,\r\n  useNotificationStore,useSwapViewStore,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface MintXTCNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintXTCNotificationContent: React.FC< MintXTCNotificationContentProps> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from, to, keepInSonic } = useMemo(() => {\r\n    const { from, to, keepInSonic } = swapViewStore;\r\n    return deserialize(serialize({ from, to, keepInSonic }));\r\n  }, []) ?? {};\r\n\r\n  const batchData = useMintBatch({ amountIn: from.value, amountOut: to.value, tokenSymbol: MintTokenSymbol.XTC, keepInSonic });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (batch?.state) {\r\n      if (Object.values(MintModalDataStep).includes(batch?.state as MintModalDataStep)) {\r\n        dispatch(modalsSliceActions.setMintXTCModalData({ step: batch?.state }));\r\n      }\r\n    }\r\n  };\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n    openBatchModal();\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error('Mint WICP Error', err);\r\n    dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n    addNotification({\r\n      title: `Wrap ${from.value} ${from.metadata.symbol} failed`, type: NotificationType.Error, id: Date.now().toString(),\r\n    });\r\n    popNotification(id);\r\n  }\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);  \r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n          addNotification({\r\n            title: `Minted ${to.value} ${to.metadata.symbol}`,type: NotificationType.Success, id: Date.now().toString(),transactionLink: '/activity',\r\n          });\r\n          getBalances();\r\n        } else handleError();\r\n       }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n    if(batchFnUpdate=='error') handleError();\r\n\r\n  }, [batchFnUpdate]);\r\n  \r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize, toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useRemoveLiquidityBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions, NotificationType, RemoveLiquidityModalDataStep, useAppDispatch,\r\n  useLiquidityViewStore, useNotificationStore, useWalletStore, useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface RemoveLiquidityNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const RemoveLiquidityNotificationContent: React.FC<\r\n  RemoveLiquidityNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const liquidityViewStore = useLiquidityViewStore();\r\n  const { userLPBalances } = useSwapCanisterStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { principalId } = useWalletStore();\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n\r\n  const { token0, token1, ...removeLiquidityBatchParams } =\r\n    useMemo(() => {\r\n      const { token0, token1, keepInSonic, removeAmountPercentage, pair } =\r\n        liquidityViewStore;\r\n\r\n      if (userLPBalances && token0.metadata && token1.metadata && pair) {\r\n        const tokensLPBalance =\r\n          userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n        const lpAmount = (removeAmountPercentage / 100) * tokensLPBalance;\r\n\r\n        const amount0Min = toBigNumber(lpAmount).multipliedBy(pair.reserve0.toString()).dividedBy(pair.totalSupply.toString()).applyDecimals(token0.metadata.decimals);\r\n        const amount1Min = toBigNumber(lpAmount).multipliedBy(pair.reserve1.toString()).dividedBy(pair.totalSupply.toString()).applyDecimals(token1.metadata.decimals);\r\n\r\n        return deserialize(serialize({ token0, token1, keepInSonic, lpAmount, amount0Min, amount1Min }));\r\n      }\r\n    }, []) ?? {};\r\n  // TODO: Improve safety\r\n\r\n  const batchData = useRemoveLiquidityBatch({ token0, token1, principalId, ...removeLiquidityBatchParams } as any);\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (Object.values(RemoveLiquidityModalDataStep).includes(batch.state as RemoveLiquidityModalDataStep)) {\r\n      dispatch(modalsSliceActions.setRemoveLiquidityModalData({ step: batch.state as RemoveLiquidityModalDataStep }));\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n    openBatchModal();\r\n  };\r\n\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error('Add Liquidity Error', err);\r\n    dispatch(modalsSliceActions.clearRemoveLiquidityModalData());\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n    dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n\r\n    addNotification({\r\n      title: `Remove LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol} failed`,\r\n      type: NotificationType.Error,\r\n      id: Date.now().toString(),\r\n    });\r\n    popNotification(id)\r\n  }\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.clearRemoveLiquidityModalData());\r\n          dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n          addNotification({\r\n            title: `Removed LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol}`,\r\n            type: NotificationType.Success,\r\n            id: Date.now().toString(),\r\n            transactionLink: '/activity',\r\n          });\r\n          getBalances(); getUserPositiveLPBalances();\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, [batchFnUpdate]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useTokenAllowance } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useSwapBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions, NotificationType, SwapModalDataStep, useAppDispatch,\r\n  useNotificationStore, useWalletStore, useSwapViewStore,\r\n} from '@/store';\r\n\r\nexport interface SwapNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const SwapNotificationContent: React.FC<SwapNotificationContentProps> = ({ id }) => {\r\n\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { principalId } = useWalletStore();\r\n  const { getBalances } = useBalances();\r\n  // const { getAllPairs } = useAllPairs();\r\n\r\n  const { from, to, slippage, keepInSonic } = useMemo(() => {\r\n    const { from, to, slippage, keepInSonic } = swapViewStore;\r\n    return deserialize(serialize({ from, to, slippage, keepInSonic }));\r\n  }, []) ?? {};\r\n\r\n  const allowance = useTokenAllowance(from.metadata?.id);\r\n  var batchData = useSwapBatch({ from, to, slippage: Number(slippage), keepInSonic, principalId, allowance });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n  const batchFnUpdate = batch.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") batch.state = batchExecutalbe.activeStep;\r\n    else if (batch?.state == 'error') { handleError() }\r\n    if (batch?.state) {\r\n      if (Object.values(SwapModalDataStep).includes(batch?.state as SwapModalDataStep)) {\r\n        dispatch(modalsSliceActions.setSwapModalData({ step: batch?.state as SwapModalDataStep }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state && from.metadata?.symbol || !openBatchModal) return;\r\n    if (typeof allowance === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange();\r\n      openBatchModal();\r\n    } else {\r\n      dispatch(modalsSliceActions.setAllowanceVerifyModalData({ tokenSymbol: from.metadata?.symbol }));\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err){\r\n      if (err.message === 'slippage: insufficient output amount') {\r\n        addNotification({\r\n          title: `Slippage is too low to swap ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol}`,\r\n          type: NotificationType.Error, id: Date.now().toString(),\r\n        });\r\n      } else {\r\n        addNotification({\r\n          title: `Swap ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol} failed`,\r\n          type: NotificationType.Error, id: Date.now().toString(),\r\n        });\r\n      }\r\n    }\r\n    dispatch(modalsSliceActions.clearSwapModalData());\r\n    dispatch(modalsSliceActions.closeSwapProgressModal());\r\n   \r\n    popNotification(id)\r\n  }\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance === 'undefined' || !batch?.state) return;\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.clearSwapModalData());\r\n          dispatch(modalsSliceActions.closeSwapProgressModal());\r\n          addNotification({\r\n            title: `Swapped ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol}`,\r\n            type: NotificationType.Success, id: Date.now().toString(), transactionLink: '/activity',\r\n          });\r\n          getBalances();\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, [batchFnUpdate]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport interface TransactionNotificationContentProps {\r\n  transactionLink?: string;\r\n}\r\n\r\nexport const TransactionNotificationContent: React.FC<\r\n  TransactionNotificationContentProps\r\n> = ({ transactionLink }) => {\r\n  if (!transactionLink) return null;\r\n\r\n  return (\r\n    <Link as={NavLink} to={transactionLink} rel=\"noreferrer\" color=\"dark-blue.500\">\r\n      View in activity tab\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useBalances } from '@/hooks/use-balances';\r\n\r\nimport { useTransferBatch } from '@/integrations/transactions';\r\n\r\nimport {\r\n  TransferModalDataStep, modalsSliceActions, useAppDispatch, useTransferViewStore, NotificationType, useNotificationStore,transferViewActions\r\n} from '@/store';\r\n\r\nimport { tokenList, AppLog } from '@/utils';\r\n\r\nexport interface TransferNotificationContentProps { id: string }\r\n\r\nexport const TransferNotificationContent: React.FC<TransferNotificationContentProps> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { addNotification, popNotification } = useNotificationStore(), { getBalances } = useBalances();\r\n  const transferViewStore = useTransferViewStore();\r\n  //getBalances()\r\n  const { value, tokenId } = useMemo(() => {\r\n    const { amount: value, tokenId  } = transferViewStore;\r\n    return deserialize(serialize({ value, tokenId }));\r\n  }, []) ?? {};\r\n\r\n  const selectedToken = tokenList('obj', tokenId);\r\n\r\n  const toAddress= transferViewStore.toAddress;\r\n\r\n  const addressType = transferViewStore.addressType;\r\n\r\n  var batchData = useTransferBatch({ amount: value, token: selectedToken, address:toAddress , addressType:addressType});\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (batch?.state) {\r\n      if (Object.values(TransferModalDataStep).includes(batch?.state as TransferModalDataStep)) {\r\n        dispatch(modalsSliceActions.setTransferModalData({ step: batch?.state as TransferModalDataStep }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state) return;\r\n    handleStateChange(); \r\n    openBatchModal();\r\n  };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error(`Transfer Error`, err);\r\n    dispatch(modalsSliceActions.closeTransferProgressModal());\r\n    dispatch(modalsSliceActions.clearTransferModalData() );\r\n    addNotification({ title: `Transfer ${value} ${selectedToken?.symbol} failed`, type: NotificationType.Error, id: Date.now().toString(), });\r\n    popNotification(id)\r\n  }\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof batchExecutalbe?.execute === 'undefined' || !batch?.state) return;\r\n\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(transferViewActions.setToAddress(''));\r\n          dispatch(modalsSliceActions.closeTransferProgressModal());\r\n          getBalances();\r\n          addNotification({\r\n            title: `Transfered ${value} ${selectedToken?.symbol}`, type: NotificationType.Success, id: Date.now().toString(), transactionLink: '',\r\n          });\r\n          dispatch(modalsSliceActions.clearTransferModalData());\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useWithdrawBatch } from '@/integrations/transactions/hooks/batch/use-withdraw-batch';\r\nimport {\r\n  modalsSliceActions, NotificationType, useAppDispatch, useNotificationStore,\r\n  useSwapCanisterStore, useWithdrawViewStore, WithdrawModalDataStep,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface WithdrawNotificationContentProps { id: string; }\r\n\r\nexport const WithdrawNotificationContent: React.FC<\r\n  WithdrawNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n  const { amount: value, tokenId } = useWithdrawViewStore();\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const selectedToken = useMemo(() => {\r\n    if (tokenId && supportedTokenList) {\r\n      return supportedTokenList.find(({ id }) => id === tokenId);\r\n    }\r\n    return undefined;\r\n  }, [supportedTokenList, tokenId]);\r\n\r\n  var batchData = useWithdrawBatch({ amount: value, token: selectedToken });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n\r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (batch?.state) {\r\n      if (Object.values(WithdrawModalDataStep).includes(batch?.state as WithdrawModalDataStep)) {\r\n        dispatch(modalsSliceActions.setWithdrawModalData({ step: batch?.state as WithdrawModalDataStep }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => { handleStateChange(); openBatchModal() };\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error(`Deposit Error`, err);\r\n\r\n    dispatch(modalsSliceActions.clearWithdrawModalData());\r\n    dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n\r\n    addNotification({\r\n      title: `Withdraw ${value} ${selectedToken?.symbol} failed`, type: NotificationType.Error, id: Date.now().toString(),\r\n    });\r\n    popNotification(id);\r\n  }\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n  \r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.clearWithdrawModalData());\r\n          dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n          addNotification({\r\n            title: `Withdrawn ${value} ${selectedToken?.symbol}`, type: NotificationType.Success,\r\n            id: Date.now().toString(), transactionLink: '/activity'\r\n          });\r\n          getBalances();\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, []);\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useWithdrawWICPBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions, NotificationType, useAppDispatch, useNotificationStore, useWalletStore,\r\n  useSwapViewStore, WithdrawWICPModalDataStep,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\nimport { getAccountId } from '@/utils/icp';\r\n\r\nexport interface WithdrawWICPNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const WithdrawWICPNotificationContent: React.FC<WithdrawWICPNotificationContentProps> = ({ id }) => {\r\n  const { principalId } = useWalletStore();\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from } = useMemo(() => {\r\n    const { from } = swapViewStore;\r\n    return deserialize(serialize({ from }));\r\n  }, []) ?? {};\r\n\r\n  const batchData = useWithdrawWICPBatch({\r\n    amount: from.value,\r\n    toAccountId: principalId ? getAccountId(Principal.fromText(principalId)) : undefined,\r\n  });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchExecutalbe = batch?.batchExecute;\r\n  \r\n  const handleStateChange = () => {\r\n    if (!batch?.state) return;\r\n    if (batch?.state && batchExecutalbe?.state == \"running\") {\r\n      batch.state = batchExecutalbe.activeStep;\r\n    } else if (batch?.state == 'error') {\r\n      handleError();\r\n    }\r\n    if (batch?.state) {\r\n      if (Object.values(WithdrawWICPModalDataStep).includes(batch?.state as WithdrawWICPModalDataStep)) {\r\n        dispatch(modalsSliceActions.setWithdrawWICPModalData({ step: batch?.state as WithdrawWICPModalDataStep }));\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const handleError = (err?: any) => {\r\n    if (err) AppLog.error(`Deposit Error`, err);\r\n    dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n    addNotification({\r\n      title: `Unwrap ${from.value} ${from.metadata.symbol} failed`,\r\n      type: NotificationType.Error,\r\n      id: Date.now().toString(),\r\n    });\r\n    popNotification(id);\r\n  }\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batchExecutalbe?.activeStep, batch.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (batchExecutalbe?.execute) {\r\n      batchExecutalbe.execute().then((data: any) => {\r\n        if (data) {\r\n          dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n          addNotification({\r\n            title: `Unwrapped ${from.value} ${from.metadata.symbol}`, type: NotificationType.Success,\r\n            id: Date.now().toString(),transactionLink: '/activity',\r\n          });\r\n          getBalances();\r\n        } else handleError();\r\n      }).catch((err: any) => handleError(err)).finally(() => popNotification(id));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","export * from './components';\r\nexport * from './notification-box';\r\nexport * from './notification-content';\r\nexport * from './notification-errors';\r\nexport * from './notification-header';\r\nexport * from './notification-manager';\r\nexport * from './notification-timer';\r\n","import { Box, Collapse, useColorModeValue } from '@chakra-ui/react';\r\nimport { useState } from 'react';\r\n\r\nimport { Notification } from '@/store';\r\n\r\nimport { NotificationContent } from './notification-content';\r\nimport { NotificationHeader } from './notification-header';\r\nimport { NotificationTimer } from './notification-timer';\r\n\r\nexport type NotificationBoxProps = Notification & {\r\n  children?: React.ReactNode;\r\n  onClose: () => any;\r\n};\r\n\r\nexport const NotificationBox = ({\r\n  children,\r\n  onClose,\r\n  ...notification\r\n}: NotificationBoxProps) => {\r\n  const [show, setShow] = useState(true);\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setTimeout(onClose, 300);\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const borderColor = useColorModeValue('gray.100', 'custom.4');\r\n\r\n  return (\r\n    <Collapse in={show} animateOpacity unmountOnExit>\r\n      <Box\r\n        width={80}\r\n        position=\"relative\"\r\n        borderRadius={5}\r\n        border=\"1px solid\"\r\n        borderColor={borderColor}\r\n        shadow=\"md\"\r\n        bg={bg}\r\n        mb={4}\r\n        mx={2}\r\n        pt={4}\r\n        pr={10}\r\n        pl={12}\r\n        pb={4}\r\n        overflow=\"hidden\"\r\n      >\r\n        <NotificationHeader {...notification} handleClose={handleClose} />\r\n        <NotificationContent {...notification}>{children}</NotificationContent>\r\n        <NotificationTimer {...notification} handleClose={handleClose} />\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n","import { Flex, Text, useColorModeValue } from '@chakra-ui/react';\r\n\r\nimport { Notification, NotificationType } from '@/store';\r\n\r\nimport {\r\n  AddLiquidityNotificationContent,\r\n  DepositNotificationContent,\r\n  MintAutoNotificationContent,\r\n  MintManualNotificationContent,\r\n  MintWICPNotificationContent,\r\n  MintXTCNotificationContent,\r\n  RemoveLiquidityNotificationContent,\r\n  SwapNotificationContent,\r\n  TransactionNotificationContent,\r\n  WithdrawNotificationContent,\r\n  WithdrawWICPNotificationContent,\r\n  TransferNotificationContent\r\n} from './components';\r\n\r\nexport type NotificationContentProps = Notification;\r\n\r\nexport const NotificationContent: React.FC<NotificationContentProps> = ({\r\n  children,\r\n  id,\r\n  type,\r\n  state,\r\n  title,\r\n  transactionLink,\r\n  errorMessage,\r\n}) => {\r\n  const messageColor = useColorModeValue('gray.400', 'gray.600');\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  const notificationContent = {\r\n    [NotificationType.Swap]: <SwapNotificationContent id={id} />,\r\n    [NotificationType.AddLiquidity]: (\r\n      <AddLiquidityNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.RemoveLiquidity]: (\r\n      <RemoveLiquidityNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.Withdraw]: <WithdrawNotificationContent id={id} />,\r\n    [NotificationType.Deposit]: <DepositNotificationContent id={id} />,\r\n    [NotificationType.WithdrawWICP]: (\r\n      <WithdrawWICPNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.MintWICP]: <MintWICPNotificationContent id={id} />,\r\n    [NotificationType.Deposit]: <DepositNotificationContent id={id} />,\r\n    [NotificationType.MintXTC]: <MintXTCNotificationContent id={id} />,\r\n    [NotificationType.Success]: transactionLink ? (\r\n      <TransactionNotificationContent transactionLink={transactionLink} />\r\n    ) : null,\r\n    [NotificationType.MintAuto]: (\r\n      <MintAutoNotificationContent id={id} state={state} />\r\n    ),\r\n    [NotificationType.MintManual]: <MintManualNotificationContent id={id} />,\r\n    [NotificationType.Transfer]: <TransferNotificationContent id={id} />,\r\n    [NotificationType.Error]: errorMessage && (\r\n      <Text fontSize=\"sm\" color={messageColor}>\r\n        {errorMessage}\r\n      </Text>\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <Flex direction=\"column\" alignItems=\"flex-start\">\r\n      <Text color={color} fontWeight={700} maxWidth={60}>\r\n        {title}\r\n      </Text>\r\n\r\n      {notificationContent[type]}\r\n\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","import { Link, Text, useColorModeValue } from '@chakra-ui/react';\r\n\r\nexport enum ErrorNotificationType {\r\n  Swap = 'SWAP',\r\n}\r\n\r\nconst SWAP_ERROR_LINK = '#';\r\n\r\nconst SwapError = () => {\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  return (\r\n    <Text color={color}>\r\n      Since the swap failed, your assets are now deposited in Sonic, you can\r\n      either retry the swap or{' '}\r\n      <Link\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n        href={SWAP_ERROR_LINK}\r\n        textDecoration=\"underline\"\r\n      >\r\n        withdraw the assets\r\n      </Link>\r\n      .\r\n    </Text>\r\n  );\r\n};\r\n\r\nexport const ERRORS = {\r\n  [ErrorNotificationType.Swap]: <SwapError />,\r\n};\r\n","import { Box, Spinner } from '@chakra-ui/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { closeSrc, redWarningSrc, transparentGreenCheckSrc } from '@/assets';\r\nimport {\r\n  Notification,\r\n  NotificationState,\r\n  NotificationType,\r\n  useNotificationStore,\r\n} from '@/store';\r\n\r\nconst NotificationIcon = ({ type, state }: Partial<Notification>) => {\r\n  const errorNode = (\r\n    <Box as=\"img\" src={redWarningSrc} position=\"absolute\" top={4} left={4} />\r\n  );\r\n  const pendingNode = <Spinner position=\"absolute\" top={4} left={4} />;\r\n  const successNode = (\r\n    <Box\r\n      as=\"img\"\r\n      src={transparentGreenCheckSrc}\r\n      position=\"absolute\"\r\n      top={4}\r\n      left={4}\r\n    />\r\n  );\r\n\r\n  switch (state) {\r\n    case NotificationState.Error:\r\n      return errorNode;\r\n    case NotificationState.Pending:\r\n      return pendingNode;\r\n    case NotificationState.Success:\r\n      return successNode;\r\n  }\r\n\r\n  switch (type) {\r\n    case NotificationType.Success:\r\n      return successNode;\r\n    case NotificationType.MintAuto:\r\n    case NotificationType.Error:\r\n      return errorNode;\r\n    case NotificationType.MintManual:\r\n    case NotificationType.MintWICP:\r\n    case NotificationType.WithdrawWICP:\r\n    case NotificationType.Swap:\r\n    case NotificationType.AddLiquidity:\r\n    case NotificationType.RemoveLiquidity:\r\n    case NotificationType.Deposit:\r\n    case NotificationType.MintXTC:\r\n    case NotificationType.Withdraw:\r\n      return pendingNode;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport type NotificationHeaderProps = Notification & {\r\n  handleClose: () => void;\r\n};\r\n\r\nexport const NotificationHeader: React.FC<NotificationHeaderProps> = ({\r\n  id,\r\n  type,\r\n  state,\r\n  handleClose,\r\n}) => {\r\n  const { notifications } = useNotificationStore();\r\n\r\n  const notification = useMemo(\r\n    () => notifications.find((n) => n.id === id),\r\n    [notifications, id]\r\n  );\r\n\r\n  const shouldShowCloseButton = useMemo(\r\n    () =>\r\n      type === NotificationType.Error ||\r\n      type === NotificationType.Success ||\r\n      notification?.state === NotificationState.Success,\r\n    [type, notification]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <NotificationIcon state={state} type={type} />\r\n      {shouldShowCloseButton && (\r\n        <Box\r\n          cursor=\"pointer\"\r\n          onClick={handleClose}\r\n          as=\"img\"\r\n          src={closeSrc}\r\n          position=\"absolute\"\r\n          top={4}\r\n          right={4}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { Flex } from '@chakra-ui/react';\r\n\r\nimport { useNotificationStore } from '@/store';\r\n\r\nimport { NotificationBox } from './notification-box';\r\nimport { ErrorNotificationType, ERRORS } from './notification-errors';\r\n\r\nexport const NotificationManager = () => {\r\n  const { notifications, popNotification } = useNotificationStore();\r\n\r\n  return (\r\n    <Flex position=\"fixed\" right={[0, 2, 8]} direction=\"column\" zIndex={2}>\r\n      {notifications.map((notification) => {\r\n        const { errorMessage } = notification;\r\n        const errorBody =\r\n          errorMessage && ERRORS.hasOwnProperty(errorMessage)\r\n            ? ERRORS[errorMessage as ErrorNotificationType]\r\n            : undefined;\r\n\r\n        return (\r\n          <NotificationBox\r\n            key={notification.id}\r\n            {...notification}\r\n            onClose={() => popNotification(notification.id)}\r\n          >\r\n            {errorBody}\r\n          </NotificationBox>\r\n        );\r\n      })}\r\n    </Flex>\r\n  );\r\n};\r\n","import { Box } from '@chakra-ui/react';\r\nimport { keyframes } from '@emotion/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { Notification, NotificationState, NotificationType } from '@/store';\r\n\r\nconst reduceWidth = keyframes`\r\n    from { width: 100%;}\r\n    to { width: 0px; };\r\n`;\r\n\r\nexport type NotificationTimerProps = Notification & {\r\n  handleClose: () => void;\r\n};\r\n\r\nexport const NotificationTimer: React.FC<NotificationTimerProps> = ({\r\n  type,\r\n  state,\r\n  timeout = '6s',\r\n  handleClose,\r\n}) => {\r\n  const color = useMemo(() => {\r\n    if (\r\n      type === NotificationType.Success ||\r\n      state === NotificationState.Success\r\n    ) {\r\n      return '#04CD95';\r\n    }\r\n    if (type === NotificationType.Error || state === NotificationState.Error) {\r\n      return '#FF646D';\r\n    }\r\n\r\n    return 'gray.500';\r\n  }, [type, state]);\r\n\r\n  if (\r\n    (type !== NotificationType.Success && type !== NotificationType.Error) ||\r\n    timeout === 'none'\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  const collapseAnimation = `${reduceWidth} ${timeout} forwards linear`;\r\n\r\n  return (\r\n    <Box\r\n      position=\"absolute\"\r\n      width=\"full\"\r\n      height={1}\r\n      bg={color}\r\n      bottom={0}\r\n      left={0}\r\n      right={0}\r\n      animation={collapseAnimation}\r\n      onAnimationEnd={handleClose}\r\n    />\r\n  );\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { MappedCapHistoryLog } from '@/integrations/cap';\r\nimport { LedgerTransaction } from '@/integrations/ledger';\r\nimport { AppTokenMetadataListObject } from '@/models';\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ntype ActivityEvent = MappedCapHistoryLog | LedgerTransaction;\r\n\r\ninterface ActivityViewState {\r\n  CAPstate: FeatureState;\r\n  LedgerState: FeatureState;\r\n  tokenList?: AppTokenMetadataListObject;\r\n  ledgerTransactions: LedgerTransaction[];\r\n  activityList: { [date: string]: ActivityEvent[] };\r\n  page?: number;\r\n  lastPage?: number;\r\n  fetchedPages: number[];\r\n}\r\n\r\nconst initialState: ActivityViewState = {\r\n  CAPstate: FeatureState?.Idle,\r\n  LedgerState: FeatureState?.Idle,\r\n  ledgerTransactions: [],\r\n  activityList: {},\r\n  page: undefined,\r\n  lastPage: undefined,\r\n  fetchedPages: [],\r\n};\r\n\r\nexport const activityViewSlice = createSlice({\r\n  name: 'activity',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setCAPState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.CAPstate = action.payload;\r\n    },\r\n    setLedgerState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.LedgerState = action.payload;\r\n    },\r\n    setTokenList: (\r\n      state,\r\n      action: PayloadAction<AppTokenMetadataListObject>\r\n    ) => {\r\n      state.tokenList = action.payload;\r\n    },\r\n    setPage: (state, action: PayloadAction<number>) => {\r\n      state.page = action.payload;\r\n    },\r\n    setLedgerTransactions: (\r\n      state,\r\n      action: PayloadAction<LedgerTransaction[]>\r\n    ) => {\r\n      state.ledgerTransactions = action.payload;\r\n    },\r\n    pushActivityList: (state, action: PayloadAction<MappedCapHistoryLog[]>) => {\r\n      const mergedTransactions = [\r\n        ...action.payload,\r\n        ...state.ledgerTransactions,\r\n      ] as ActivityEvent[];\r\n      const toFilterTransactions = mergedTransactions.reduce((acc, cur) => {\r\n        if ('timestamp' in cur) {\r\n          const dateString = cur['timestamp'].toDateString();\r\n          if (acc[dateString] || state.page === 0) {\r\n            acc[dateString] = [...(acc[dateString] || []), cur];\r\n          }\r\n        } else {\r\n          const dateString = new Date(cur['time']).toDateString();\r\n\r\n          acc[dateString] = [...(acc[dateString] || []), cur];\r\n        }\r\n\r\n        return acc;\r\n      }, state.activityList);\r\n\r\n      for (const key in toFilterTransactions) {\r\n        const alreadyAdded = new Set();\r\n        toFilterTransactions[key] = toFilterTransactions[key]\r\n          .filter((item) => {\r\n            const time =\r\n              'timestamp' in item ? item['timestamp'].getTime() : item['time'];\r\n            if (alreadyAdded.has(time)) {\r\n              return false;\r\n            }\r\n            alreadyAdded.add(time);\r\n            return true;\r\n          })\r\n          .sort((a, b) => {\r\n            const timeA =\r\n              'timestamp' in a ? a['timestamp'].getTime() : a['time'];\r\n            const timeB =\r\n              'timestamp' in b ? b['timestamp'].getTime() : b['time'];\r\n            return timeB - timeA;\r\n          });\r\n      }\r\n\r\n      state.activityList = toFilterTransactions;\r\n    },\r\n    setLastPage: (state, action: PayloadAction<number>) => {\r\n      state.lastPage = action.payload;\r\n      if (typeof state.page === 'undefined') {\r\n        state.page = action.payload;\r\n      }\r\n    },\r\n    pushFetchedPages: (state, action: PayloadAction<number>) => {\r\n      state.fetchedPages = Array.from(\r\n        new Set([...state.fetchedPages, action.payload])\r\n      );\r\n    },\r\n    clearActivityList: (state) => {\r\n      state.activityList = {};\r\n      state.ledgerTransactions = [];\r\n      state.page = undefined;\r\n      state.lastPage = undefined;\r\n      state.fetchedPages = [];\r\n    },\r\n  },\r\n});\r\n\r\nexport const activityViewActions = activityViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectActivityViewState = (state: RootState) => state.activityView;\r\n\r\nexport default activityViewSlice.reducer;\r\n","export * from './activity-view-slice';\r\nexport * from './use-activity-view-store';\r\nexport * from './use-activity-view';\r\n","import { selectActivityViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useActivityViewStore = () =>\r\n  useAppSelector(selectActivityViewState);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useCallback, useEffect } from 'react';\r\n\r\nimport { getUserTransactions } from '@/integrations/cap';\r\nimport { getUserLedgerTransactions } from '@/integrations/ledger';\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseTokenList } from '@/utils/canister';\r\nimport { getAccountId } from '@/utils/icp';\r\n\r\nimport { useWalletStore, useSwapCanisterStore } from '..';\r\nimport { activityViewActions, useActivityViewStore } from '.';\r\n\r\nexport const useActivityView = () => {\r\n  const { principalId } = useWalletStore();\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n  const { page, lastPage, fetchedPages } = useActivityViewStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    dispatch(\r\n      activityViewActions.setTokenList(\r\n        parseResponseTokenList(supportedTokenList)\r\n      )\r\n    );\r\n  }, [supportedTokenList, dispatch]);\r\n\r\n  const getUserTransactionsPage = useCallback(\r\n    (_principalId: string, _page?: number) => {\r\n      dispatch(activityViewActions.setCAPState(FeatureState.Loading));\r\n      getUserTransactions(_principalId, _page)\r\n        .then((res) => {\r\n          dispatch(activityViewActions.pushActivityList(res.data));\r\n          dispatch(activityViewActions.setCAPState(FeatureState.Idle));\r\n          dispatch(activityViewActions.pushFetchedPages(res.page));\r\n\r\n          if (typeof lastPage === 'undefined' || res.page > lastPage) {\r\n            dispatch(activityViewActions.setLastPage(res.page));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          AppLog.error(`Failed to get user transactions: page=${_page}`, err);\r\n          dispatch(activityViewActions.setCAPState(FeatureState.Error));\r\n        });\r\n    },\r\n    [dispatch, lastPage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      if (typeof page !== 'undefined' && !fetchedPages.includes(page)) {\r\n        getUserTransactionsPage(principalId, page);\r\n      }\r\n    }\r\n  }, [page, principalId, dispatch, getUserTransactionsPage, fetchedPages]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      getUserTransactionsPage(principalId);\r\n    } else {\r\n      dispatch(activityViewActions.clearActivityList());\r\n    }\r\n  }, [principalId]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      dispatch(activityViewActions.setLedgerState(FeatureState.Loading));\r\n      getUserLedgerTransactions(\r\n        getAccountId(Principal.fromText(principalId), 0)\r\n      )\r\n        .then((transactions) => {\r\n          dispatch(activityViewActions.setLedgerState(FeatureState.Idle));\r\n          dispatch(activityViewActions.setLedgerTransactions(transactions));\r\n          dispatch(activityViewActions.pushActivityList([]));\r\n        })\r\n        .catch((err) => {\r\n          AppLog.error(\r\n            `Failed to get user ledger transactions: principal=${principalId}`,\r\n            err\r\n          );\r\n          dispatch(activityViewActions.setLedgerState(FeatureState.Error));\r\n        });\r\n    }\r\n  }, [principalId, dispatch]);\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { useAppSelector } from '@/store/hooks';\r\nimport { RootState } from '@/store/store';\r\n\r\nimport { fetchAllowance } from './async-thunk';\r\n\r\ninterface TokenAllowance {\r\n  allowance: number;\r\n  expiration: number;\r\n}\r\n\r\ninterface AllowanceState {\r\n  tokensAllowance: { [tokenId: string]: TokenAllowance };\r\n}\r\n\r\nconst initialState: AllowanceState = {\r\n  tokensAllowance: {},\r\n};\r\n\r\nexport const allowanceSlice = createSlice({\r\n  name: 'allowance',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setAllowance: (state, action) => {\r\n      const { tokenId, allowance, expiration } = action.payload;\r\n      state.tokensAllowance[tokenId] = { allowance, expiration };\r\n    },\r\n    clearAllowance: (state, action) => {\r\n      const { tokenId } = action.payload;\r\n      const { [tokenId]: _, ...rest } = state.tokensAllowance;\r\n      state.tokensAllowance = rest;\r\n    },\r\n  },\r\n});\r\n\r\nexport const allowanceActions = { ...allowanceSlice.actions, fetchAllowance };\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectAllowanceState = (state: RootState) => state.allowance;\r\n\r\nexport const useAllowanceStore = (): AllowanceState =>\r\n  useAppSelector(selectAllowanceState);\r\n\r\nexport default allowanceSlice.reducer;\r\n","// import { Principal } from '@dfinity/principal';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\n// import { ENV } from '@/config';\r\n// import { createAnonTokenActor } from '@/integrations/actor';\r\nimport { RootState } from '@/store/store';\r\nimport { AppLog , getTokenAllowance} from '@/utils';\r\n\r\nimport { allowanceActions } from '../allowance-slice';\r\n\r\ntype FetchAllowance = { tokenId: string };\r\n\r\nexport const fetchAllowance = createAsyncThunk<void, FetchAllowance>(\r\n  'plug/disconnect',\r\n  async ({ tokenId }, { dispatch, getState }): Promise<void> => {\r\n    const { principalId } = (getState() as RootState).dfinityWallet;\r\n    try {\r\n      if (!principalId) throw new Error('Plug is not connected');\r\n      const allowance = await getTokenAllowance(tokenId);\r\n      dispatch( allowanceActions.setAllowance({ tokenId,allowance: Number(allowance),expiration: Date.now() + 30000}) );\r\n    } catch (error) {\r\n      AppLog.error( `Allowance fetch error: token=${tokenId} principal=${principalId}`, error );\r\n      dispatch(allowanceActions.clearAllowance({ tokenId }));\r\n    }\r\n  }\r\n);\r\n","export * from './fetch-allowance';\r\n","export * from './allowance-slice';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\nimport { getFromStorage, LocalStorageKey, saveToStorage } from '@/utils';\r\n\r\ninterface AssetsViewState {\r\n  isBannerOpened: boolean;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: AssetsViewState = {\r\n  isBannerOpened: !getFromStorage(LocalStorageKey.AssetsBannerDisabled),\r\n  state: FeatureState?.Idle,\r\n};\r\n\r\nexport const assetsViewSlice = createSlice({\r\n  name: 'assets',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setIsBannerOpened: (state, action: PayloadAction<boolean>) => {\r\n      saveToStorage(LocalStorageKey.AssetsBannerDisabled, !action.payload);\r\n      state.isBannerOpened = action.payload;\r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const assetsViewActions = assetsViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectAssetsViewState = (state: RootState) => state.assetsView;\r\n\r\nexport default assetsViewSlice.reducer;\r\n","export * from './assets-view-slice';\r\nexport * from './use-assets-view-store';\r\n","import { selectWithdrawViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useWithdrawViewStore = () =>\r\n  useAppSelector(selectWithdrawViewState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface CyclesMintingCanisterState {\r\n  ICPXDRconversionRate?: string;\r\n  ICPXDRconversionRateState: FeatureState;\r\n}\r\n\r\nconst initialState: CyclesMintingCanisterState = {\r\n  ICPXDRconversionRate: undefined,\r\n  ICPXDRconversionRateState: 'idle' as FeatureState,\r\n};\r\n\r\nexport const cyclesMintingCanisterSlice = createSlice({\r\n  name: 'cyclesCanister',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setICPXDRConversionRate: (state, action: PayloadAction<string>) => {\r\n      state.ICPXDRconversionRate = action.payload;\r\n    },\r\n    setICPXDRConversionRateState: (\r\n      state,\r\n      action: PayloadAction<FeatureState>\r\n    ) => {\r\n      state.ICPXDRconversionRateState = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cyclesMintingCanisterSliceActions =\r\n  cyclesMintingCanisterSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectCyclesMintingCanisterState = (state: RootState) =>\r\n  state.cyclesMinting;\r\n\r\nexport default cyclesMintingCanisterSlice.reducer;\r\n","export const DEFAULT_CYCLES_PER_XDR = 1_000_000_000_000;\r\nexport const TOKEN_SUBDIVIDABLE_BY = 100_000_000;\r\n","export * from './cycles-minting-canister-slice';\r\nexport * from './cycles-minting-canister.constants';\r\nexport * from './use-cycles-minting-canister-init';\r\nexport * from './use-cycles-minting-canister-store';\r\n","import { useCallback, useEffect } from 'react';\r\n\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { fetchICP2XDRConversionRate } from '@/utils/icp';\r\n\r\nimport { useKeepSync } from '../keep-sync';\r\nimport {\r\n  cyclesMintingCanisterSliceActions,\r\n  useCyclesMintingCanisterStore,\r\n} from '.';\r\n\r\nexport const useCyclesMintingCanisterInit = () => {\r\n  const { ICPXDRconversionRateState } = useCyclesMintingCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const getICPXDRConversionRate = useKeepSync(\r\n    'getICPXDRConversionRate',\r\n\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        if (ICPXDRconversionRateState !== FeatureState.Loading) {\r\n          try {\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                isRefreshing ? FeatureState.Updating : FeatureState.Loading\r\n              )\r\n            );\r\n\r\n            const response = await fetchICP2XDRConversionRate();\r\n\r\n            const conversionRate =\r\n              response.data.xdr_permyriad_per_icp.toString();\r\n\r\n            if (response) {\r\n              dispatch(\r\n                cyclesMintingCanisterSliceActions.setICPXDRConversionRate(\r\n                  conversionRate\r\n                )\r\n              );\r\n            } else {\r\n              throw new Error('No \"getICPXDRConversionRate\" response');\r\n            }\r\n\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                FeatureState.Idle\r\n              )\r\n            );\r\n\r\n            return response;\r\n          } catch (error) {\r\n            AppLog.error(`ICP XDR conversion rate fetch error`, error);\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                FeatureState.Error\r\n              )\r\n            );\r\n          }\r\n        }\r\n      },\r\n      [ICPXDRconversionRateState, dispatch]\r\n    )\r\n  );\r\n\r\n  useEffect(() => {\r\n    getICPXDRConversionRate();\r\n    // getICPXDRConversionRate cannot be added to the dependencies array\r\n    // because it is causing an infinite loop\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n};\r\n","import { selectCyclesMintingCanisterState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useCyclesMintingCanisterStore = () =>\r\n  useAppSelector(selectCyclesMintingCanisterState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ninterface DepositViewState {\r\n  state: FeatureState;\r\n  amount: string;\r\n  tokenId?: string;\r\n}\r\n\r\nconst initialState: DepositViewState = {\r\n  state: FeatureState?.Idle,\r\n  amount: '',\r\n  tokenId: undefined,\r\n};\r\n\r\nexport const depositViewSlice = createSlice({\r\n  name: 'deposit',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setAmount: (state, action: PayloadAction<string>) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setTokenId: (state, action: PayloadAction<string>) => {\r\n      state.tokenId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const depositViewActions = depositViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectDepositViewState = (state: RootState) => state.depositView;\r\n\r\nexport default depositViewSlice.reducer;\r\n","export * from './deposit-view-slice';\r\nexport * from './use-deposit-view-store';\r\n","import { selectDepositViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useDepositViewStore = () => { return  useAppSelector(selectDepositViewState); }\r\n","export * from './wallet-slice';","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { useAppSelector } from '@/store/hooks';\r\n\r\nexport enum walletState {\r\n  Idle,\r\n  OpenWalletList,\r\n  Disconnected,\r\n  Loading,\r\n  Connecting,\r\n  Connected,\r\n}\r\n\r\ninterface DfinityWalletStoreState {\r\n  state: walletState;\r\n  principalId?: string;\r\n  accountId?:string;\r\n  accounts?:string[];\r\n  isConnected: boolean;\r\n  walletConnected?:string;\r\n  walletSelected?:string;\r\n}\r\n\r\nconst initialState: DfinityWalletStoreState = {\r\n  principalId: undefined,\r\n  accountId:undefined,\r\n  state: walletState.Idle,\r\n  isConnected: false,\r\n  walletConnected:undefined\r\n};\r\n\r\nexport const walletSlice = createSlice({\r\n  name: 'difintywallet',\r\n  initialState,\r\n  reducers: {\r\n    resetWallet:(state, action:PayloadAction)=>{\r\n      state.principalId=undefined;\r\n      state.accountId=undefined\r\n      state.state= walletState.Idle,\r\n      state.isConnected=false\r\n      state.walletConnected=undefined;\r\n      state.walletSelected=undefined;\r\n    },\r\n    setWalletLoaded: (state, action: PayloadAction< { principleId: string, accountId: string , walletActive:string }>) => {\r\n      const { principleId, accountId , walletActive } = action.payload;\r\n      if(!principleId || !accountId ) return ;\r\n      state.principalId = principleId;\r\n      state.accountId = accountId;\r\n      state.isConnected = true;\r\n      state.walletConnected = walletActive;\r\n      state.state = walletState.Connected;\r\n    },\r\n    setState: ( state, action: PayloadAction<walletState.Disconnected | walletState.Loading | walletState.Idle>) => {\r\n      state.state = action.payload;\r\n      state.principalId = undefined;\r\n      state.isConnected = false;\r\n    },\r\n    setOnwalletList:(state , action:PayloadAction<walletState>)=>{\r\n      state.state = action.payload;\r\n    },\r\n    setWalletSelected:(state , action:PayloadAction<string>)=>{\r\n      state.walletSelected = action.payload;\r\n    }\r\n  },\r\n});\r\n\r\nexport const walletActions = { ...walletSlice.actions};\r\n\r\nconst selectWalletState = (state: RootState): DfinityWalletStoreState => state.dfinityWallet;\r\n\r\nexport const useWalletStore = (): DfinityWalletStoreState =>useAppSelector(selectWalletState);\r\n\r\nexport default walletSlice.reducer;\r\n","export * from './activity-view';\r\nexport * from './assets-view';\r\nexport * from './cycles-minting-canister';\r\nexport * from './deposit-view';\r\nexport * from './keep-sync';\r\nexport * from './liquidity-view';\r\nexport * from './modals';\r\nexport * from './notification';\r\nexport * from './plug';\r\nexport * from './price';\r\nexport * from './swap-canister';\r\nexport * from './swap-view';\r\nexport * from './withdraw-view';\r\nexport * from './allowance';\r\nexport * from './dfinitywallet';\r\nexport * from './transfer-view';","export * from './keep-sync-slice';\r\nexport * from './use-keep-sync';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { RootState, store } from '@/store';\r\n\r\nexport const KEEP_SYNC_DEFAULT_INTERVAL = 15 * 1000;\r\n\r\nexport type KeepSync = {\r\n  callback: (refresh?: boolean) => Promise<any>;\r\n  interval: number;\r\n};\r\n\r\ntype TriggerAction = {\r\n  key: string;\r\n  interval?: KeepSync['interval'];\r\n};\r\n\r\ntype SetCallbackAction = {\r\n  key: string;\r\n  callback: KeepSync['callback'];\r\n};\r\n\r\n// Define a type for the slice state\r\ninterface KeepSyncState {\r\n  timers: {\r\n    [key: string]: NodeJS.Timeout;\r\n  };\r\n  callbacks: {\r\n    [key: string]: KeepSync['callback'];\r\n  };\r\n}\r\n\r\n// Define the initial state using that type\r\nconst initialState: KeepSyncState = {\r\n  timers: {},\r\n  callbacks: {},\r\n};\r\n\r\nexport const keepSyncSlice = createSlice({\r\n  name: 'keepSync',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    trigger: (state, action: PayloadAction<TriggerAction>) => {\r\n      const { key, interval = KEEP_SYNC_DEFAULT_INTERVAL } = action.payload;\r\n\r\n      if (state.timers[key]) clearInterval(state.timers[key]);\r\n      state.timers[key] = setInterval(() => {\r\n        store.getState().keepSync.callbacks[key](true);\r\n      }, interval);\r\n    },\r\n    setCallback: (state, action: PayloadAction<SetCallbackAction>) => {\r\n      const { key, callback } = action.payload;\r\n      state.callbacks[key] = callback;\r\n    },\r\n  },\r\n});\r\n\r\nexport const keepSyncActions = keepSyncSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectKeepSyncState = (state: RootState) => state.keepSync;\r\n\r\nexport default keepSyncSlice.reducer;\r\n","import { useEffect } from 'react';\r\n\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { KeepSync, keepSyncActions } from './keep-sync-slice';\r\n\r\nexport type KeepSyncCallbackParams = {\r\n  interval?: number;\r\n  isRefreshing?: boolean;\r\n};\r\n\r\nexport type KeepSyncParams = {\r\n  interval?: number;\r\n};\r\n\r\nexport const useKeepSync = (\r\n  key: string,\r\n  runner: KeepSync['callback'],\r\n  { interval }: KeepSyncParams = {}\r\n) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(keepSyncActions.setCallback({ key, callback: runner }));\r\n  }, [runner]);\r\n\r\n  return ({\r\n    interval: _interval = interval,\r\n    isRefreshing = true,\r\n  }: KeepSyncCallbackParams = {}) => {\r\n    runner(isRefreshing);\r\n    dispatch(keepSyncActions.trigger({ key, interval: _interval }));\r\n  };\r\n};\r\n","export * from './liquidity-view-slice';\r\nexport * from './use-liquidity-view-init';\r\nexport * from './use-liquidity-view-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { AppTokenMetadata, BaseTokenData, Pair } from '@/models';\r\nimport { FeatureState, RootState } from '@/store';\r\nimport { getFromStorage, LocalStorageKey, saveToStorage } from '@/utils';\r\n\r\nexport type LiquidityTokenDataKey = 'token0' | 'token1';\r\n\r\ninterface LiquidityViewState {\r\n  isBannerOpened: boolean;\r\n  pairState: FeatureState;\r\n  state: FeatureState;\r\n  token0: BaseTokenData;\r\n  token1: BaseTokenData;\r\n  removeAmountPercentage: number;\r\n  pair?: Pair;\r\n  slippage: string;\r\n  keepInSonic: boolean;\r\n}\r\n\r\nexport const INITIAL_LIQUIDITY_SLIPPAGE = '0.50';\r\n\r\nconst initialState: LiquidityViewState = {\r\n  isBannerOpened: !getFromStorage(LocalStorageKey.LiquidityBannerDisabled),\r\n  pair: undefined,\r\n  pairState: 'not-started' as FeatureState,\r\n  state: 'not-started' as FeatureState,\r\n  removeAmountPercentage: 100,\r\n  token0: {\r\n    metadata: undefined,\r\n    value: '',\r\n  },\r\n  token1: {\r\n    metadata: undefined,\r\n    value: '',\r\n  },\r\n  slippage: INITIAL_LIQUIDITY_SLIPPAGE,\r\n  keepInSonic: false,\r\n};\r\n\r\nexport const liquidityViewSlice = createSlice({\r\n  name: 'liquidity',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setIsBannerOpened: (state, action: PayloadAction<boolean>) => {\r\n      saveToStorage(LocalStorageKey.LiquidityBannerDisabled, !action.payload);\r\n      state.isBannerOpened = action.payload;\r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setPairState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.pairState = action.payload;\r\n    },\r\n    setRemoveAmountPercentage: (state, action: PayloadAction<number>) => {\r\n      state.removeAmountPercentage = action.payload;\r\n    },\r\n    setKeepInSonic: (state, action: PayloadAction<boolean>) => {\r\n      state.keepInSonic = action.payload;\r\n    },\r\n    setValue: (\r\n      state,\r\n      action: PayloadAction<{ data: LiquidityTokenDataKey; value: string }>\r\n    ) => {\r\n      state[action.payload.data].value = action.payload.value;\r\n    },\r\n    setToken: (\r\n      state,\r\n      action: PayloadAction<{\r\n        data: LiquidityTokenDataKey;\r\n        token?: AppTokenMetadata;\r\n      }>\r\n    ) => {\r\n      state[action.payload.data].metadata = action.payload.token;\r\n    },\r\n    setPair: (state, action: PayloadAction<Pair | undefined>) => {\r\n      if (\r\n        action.payload &&\r\n        state.token0.metadata?.id === action.payload.token1\r\n      ) {\r\n        state.pair = {\r\n          ...action.payload,\r\n          token0: action.payload.token1,\r\n          token1: action.payload.token0,\r\n          reserve0: action.payload.reserve1,\r\n          reserve1: action.payload.reserve0,\r\n        };\r\n      } else {\r\n        state.pair = action.payload;\r\n      }\r\n    },\r\n    setSlippage: (state, action: PayloadAction<string>) => {\r\n      state.slippage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const liquidityViewActions = liquidityViewSlice.actions;\r\nexport const selectLiquidityViewState = (state: RootState) =>\r\n  state.liquidityView;\r\n\r\nexport default liquidityViewSlice.reducer;\r\n","import { useCallback, useEffect } from 'react';\r\n\r\n// import { ENV } from '@/config';\r\nimport { Pair } from '@/models';\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { useSwapCanisterStore } from '..';\r\nimport { liquidityViewActions, useLiquidityViewStore } from '.';\r\n\r\nexport const useLiquidityViewInit = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { token0, token1 } = useLiquidityViewStore();\r\n  const { supportedTokenList, allPairs } = useSwapCanisterStore();\r\n\r\n  const getPair = useCallback(async () => {\r\n    if (token0.metadata?.id && token1.metadata?.id) {\r\n      if (allPairs) {\r\n        const localPair = allPairs[token0.metadata.id]?.[token1.metadata.id] as unknown as Pair;\r\n        if (localPair) return dispatch(liquidityViewActions.setPair(localPair));\r\n      }\r\n    }\r\n    return dispatch(liquidityViewActions.setPair(undefined));\r\n  }, [dispatch, token0.metadata?.id, token1.metadata?.id, allPairs]);\r\n\r\n  useEffect(() => {\r\n    if (supportedTokenList && !token0.metadata?.id) {\r\n      const token = supportedTokenList[0];\r\n      dispatch(liquidityViewActions.setToken({ data: 'token0', token }));\r\n    }\r\n  }, [supportedTokenList, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (token0.metadata?.id && token1.metadata?.id) {\r\n      getPair();\r\n    }\r\n  }, [token0.metadata?.id, token1.metadata?.id, getPair]);\r\n};\r\n","import { selectLiquidityViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useLiquidityViewStore = () =>\r\n  useAppSelector(selectLiquidityViewState);\r\n","export * from './modals-slice';\r\nexport * from './use-modals-store';\r\nexport * from './use-token-modal-opener';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { Batch } from '@/integrations/transactions';\r\nimport type { RootState } from '@/store';\r\n\r\nexport type ModalsCallback = (...args: unknown[]) => any;\r\n\r\nexport enum MintTokenSymbol {\r\n  XTC = 'XTC',\r\n  WICP = 'WICP',\r\n}\r\n\r\nexport enum MintModalDataStep {\r\n  LedgerTransfer = 'ledgerTransfer',\r\n  Mint = 'mint',\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n}\r\n\r\nexport type MintModalData<\r\n  RetryCallback = ModalsCallback,\r\n  CancelCallback = ModalsCallback\r\n> = {\r\n  step?: MintModalDataStep | Batch.DefaultHookState;\r\n  steps?: (MintModalDataStep | Batch.DefaultHookState)[];\r\n  callbacks?: [RetryCallback, CancelCallback];\r\n};\r\n\r\nexport enum WithdrawWICPModalDataStep {\r\n  Withdraw = 'withdraw',\r\n  WithdrawWICP = 'withdrawWICP',\r\n}\r\nexport type WithdrawWICPModalData = {\r\n  step?: WithdrawWICPModalDataStep | Batch.DefaultHookState;\r\n  steps?: (WithdrawWICPModalDataStep | Batch.DefaultHookState)[];\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum SwapModalDataStep {\r\n  Getacnt= 'getacnt',\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n  Swap = 'swap',\r\n  Withdraw = 'withdraw',\r\n}\r\nexport type SwapModalData = {\r\n  step?: SwapModalDataStep | Batch.DefaultHookState;\r\n  steps?: (SwapModalDataStep | Batch.DefaultHookState)[];\r\n  fromTokenSymbol?: string;\r\n  toTokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum DepositModalDataStep {\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n  Getacnt = 'getacnt'\r\n\r\n}\r\n\r\nexport type DepositModalData = {\r\n  step?: DepositModalDataStep | Batch.DefaultHookState;\r\n  steps?: (DepositModalDataStep | Batch.DefaultHookState)[];\r\n  tokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum WithdrawModalDataStep {\r\n  Withdraw = 'withdraw',\r\n}\r\nexport type WithdrawModalData = {\r\n  step?: WithdrawModalDataStep | Batch.DefaultHookState;\r\n  steps?: (WithdrawModalDataStep | Batch.DefaultHookState)[];\r\n  tokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum TransferModalDataStep {\r\n  Transfer = 'transfer',\r\n}\r\n\r\nexport type TransferModalData = {\r\n  step?: TransferModalDataStep | Batch.DefaultHookState;\r\n  steps?: (TransferModalDataStep | Batch.DefaultHookState)[];\r\n  tokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\n\r\nexport enum AddLiquidityModalDataStep {\r\n  Getacnt = 'getacnt',\r\n  Approve0 = 'approve0',\r\n  Deposit0 = 'deposit0',\r\n  Approve1 = 'approve1',\r\n  Deposit1 = 'deposit1',\r\n  CreatePair = 'createPair',\r\n  AddLiquidity = 'addLiquidity',\r\n}\r\nexport type AddLiquidityModalData = {\r\n  step?: AddLiquidityModalDataStep | Batch.DefaultHookState;\r\n  steps?: (AddLiquidityModalDataStep | Batch.DefaultHookState)[];\r\n  token0Symbol?: string;\r\n  token1Symbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum RemoveLiquidityModalDataStep {\r\n  RemoveLiquidity = 'removeLiquidity',\r\n  Withdraw0 = 'withdraw0',\r\n  Withdraw1 = 'withdraw1',\r\n}\r\nexport type RemoveLiquidityModalData = {\r\n  step?: RemoveLiquidityModalDataStep | Batch.DefaultHookState;\r\n  steps?: (RemoveLiquidityModalDataStep | Batch.DefaultHookState)[];\r\n  token0Symbol?: string;\r\n  token1Symbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport type AllowanceVerifyModalData = {\r\n  tokenSymbol?: string | string[];\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport type TermsAndConditionsModalData = {\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\ntype TokenSelectData = {\r\n  tokens: string;\r\n  selectedTokenIds?: string[];\r\n  isLoading?: boolean;\r\n  allowAddToken?: boolean;\r\n  onSelect: (tokenId?: string) => void;\r\n};\r\n\r\n// Define a type for the slice state\r\ninterface ModalsState {\r\n  mintXTCUncompleteBlockHeights?: string[];\r\n  mintWICPUncompleteBlockHeights?: string[];\r\n\r\n  mintManualModalOpened: boolean;\r\n  mintManualModalErrorMessage: string;\r\n  mintManualBlockHeight: string;\r\n  mintManualTokenSymbol: MintTokenSymbol;\r\n\r\n  isMintXTCProgressModalOpened: boolean;\r\n  isMintXTCFailModalOpened: boolean;\r\n  mintXTCModalData: MintModalData;\r\n\r\n  isMintWICPProgressModalOpened: boolean;\r\n  isMintWICPFailModalOpened: boolean;\r\n  mintWICPModalData: MintModalData;\r\n\r\n  isWithdrawWICPProgressModalOpened: boolean;\r\n  isWithdrawWICPFailModalOpened: boolean;\r\n  withdrawWICPModalData: WithdrawWICPModalData;\r\n\r\n  isSwapProgressModalOpened: boolean;\r\n  isSwapFailModalOpened: boolean;\r\n  swapModalData: SwapModalData;\r\n\r\n  isDepositProgressModalOpened: boolean;\r\n  isDepositFailModalOpened: boolean;\r\n  depositModalData: DepositModalData;\r\n\r\n  transferModalData: TransferModalData;\r\n  isTransferProgressModalOpened: boolean;\r\n\r\n  isWithdrawProgressModalOpened: boolean;\r\n  isWithdrawFailModalOpened: boolean;\r\n  withdrawModalData: WithdrawModalData;\r\n\r\n  isAddLiquidityProgressModalOpened: boolean;\r\n  isAddLiquidityFailModalOpened: boolean;\r\n  addLiquidityModalData: AddLiquidityModalData;\r\n\r\n  isRemoveLiquidityProgressModalOpened: boolean;\r\n  isRemoveLiquidityFailModalOpened: boolean;\r\n  removeLiquidityModalData: RemoveLiquidityModalData;\r\n\r\n  isTokenSelectModalModalOpened: boolean;\r\n  tokenSelectModalData: TokenSelectData;\r\n\r\n  isRemoveLiquidityModalOpened: boolean;\r\n\r\n  isAllowanceVerifyModalOpened: boolean;\r\n  allowanceModalData: AllowanceVerifyModalData;\r\n\r\n  isTermsAndConditionsModalOpened: boolean;\r\n  termsAndConditionsModalData: TermsAndConditionsModalData;\r\n}\r\n\r\nconst initialMintXTCModalData: MintModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialMintWICPModalData: MintModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialWithdrawWICPModalData: WithdrawWICPModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialSwapModalData: SwapModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialDepositModalData: DepositModalData = {\r\n  step: undefined,\r\n};\r\n\r\n\r\nconst initialTransferModalData: TransferModalData= {\r\n  step: undefined,\r\n};\r\n\r\nconst initialWithdrawModalData: WithdrawModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialAddLiquidityModalData: AddLiquidityModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialRemoveLiquidityModalData: RemoveLiquidityModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialTokenSelectData: TokenSelectData = {\r\n  onSelect: () => null,\r\n  tokens: '[]',\r\n  selectedTokenIds: [],\r\n  isLoading: false,\r\n  allowAddToken: true,\r\n};\r\n\r\n// Define the initial state using that type\r\nconst initialState: ModalsState = {\r\n  mintManualModalOpened: false,\r\n  mintManualModalErrorMessage: '',\r\n  mintManualTokenSymbol: MintTokenSymbol.WICP,\r\n  mintManualBlockHeight: '',\r\n\r\n  isMintXTCProgressModalOpened: false,\r\n  isMintXTCFailModalOpened: false,\r\n  mintXTCModalData: initialMintXTCModalData,\r\n  mintXTCUncompleteBlockHeights: undefined,\r\n\r\n  isMintWICPProgressModalOpened: false,\r\n  isMintWICPFailModalOpened: false,\r\n  mintWICPModalData: initialMintWICPModalData,\r\n  mintWICPUncompleteBlockHeights: undefined,\r\n\r\n  isWithdrawWICPProgressModalOpened: false,\r\n  isWithdrawWICPFailModalOpened: false,\r\n  withdrawWICPModalData: initialWithdrawWICPModalData,\r\n\r\n  isSwapProgressModalOpened: false,\r\n  isSwapFailModalOpened: false,\r\n  swapModalData: initialSwapModalData,\r\n\r\n  isDepositProgressModalOpened: false,\r\n  isDepositFailModalOpened: false,\r\n  depositModalData: initialDepositModalData,\r\n\r\n  isTransferProgressModalOpened:false,\r\n  transferModalData: initialTransferModalData,\r\n  \r\n  isWithdrawProgressModalOpened: false,\r\n  isWithdrawFailModalOpened: false,\r\n  withdrawModalData: initialWithdrawModalData,\r\n\r\n  isAddLiquidityProgressModalOpened: false,\r\n  isAddLiquidityFailModalOpened: false,\r\n  addLiquidityModalData: initialAddLiquidityModalData,\r\n\r\n  isRemoveLiquidityProgressModalOpened: false,\r\n  isRemoveLiquidityFailModalOpened: false,\r\n  removeLiquidityModalData: initialRemoveLiquidityModalData,\r\n\r\n  isTokenSelectModalModalOpened: false,\r\n  tokenSelectModalData: initialTokenSelectData,\r\n\r\n  isRemoveLiquidityModalOpened: false,\r\n\r\n  isAllowanceVerifyModalOpened: false,\r\n  allowanceModalData: {},\r\n\r\n  isTermsAndConditionsModalOpened: false,\r\n  termsAndConditionsModalData: {},\r\n};\r\n\r\nexport const modalsSlice = createSlice({\r\n  name: 'modals',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setMintManualTokenSymbol: (\r\n      state,\r\n      action: PayloadAction<MintTokenSymbol>\r\n    ) => {\r\n      state.mintManualTokenSymbol = action.payload;\r\n    },\r\n    setMintManualBlockHeight: (state, action: PayloadAction<string>) => {\r\n      state.mintManualBlockHeight = action.payload;\r\n    },\r\n    setMintManualModalErrorMessage: (state, action: PayloadAction<string>) => {\r\n      state.mintManualModalErrorMessage = action.payload;\r\n    },\r\n    openMintManualModal: (state) => {\r\n      state.mintManualModalOpened = true;\r\n    },\r\n    closeMintManualModal: (state) => {\r\n      state.mintManualModalOpened = false;\r\n    },\r\n\r\n    openMintXTCProgressModal: (state) => {\r\n      state.isMintXTCProgressModalOpened = true;\r\n    },\r\n    closeMintXTCProgressModal: (state) => {\r\n      state.isMintXTCProgressModalOpened = false;\r\n    },\r\n    openMintXTCFailModal: (state) => {\r\n      state.isMintXTCFailModalOpened = true;\r\n    },\r\n    closeMintXTCFailModal: (state) => {\r\n      state.isMintXTCFailModalOpened = false;\r\n    },\r\n    clearMintXTCModalData: (state) => {\r\n      state.mintXTCModalData = initialMintXTCModalData;\r\n    },\r\n    setMintXTCModalData: (state, action: PayloadAction<MintModalData>) => {\r\n      state.mintXTCModalData = {\r\n        ...state.mintXTCModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setMintXTCUncompleteBlockHeights: (\r\n      state,\r\n      action: PayloadAction<string[]>\r\n    ) => {\r\n      state.mintXTCUncompleteBlockHeights = action.payload;\r\n    },\r\n    addMintXTCUncompleteBlockHeight: (state, action: PayloadAction<string>) => {\r\n      if (state.mintXTCUncompleteBlockHeights === undefined) {\r\n        state.mintXTCUncompleteBlockHeights = [];\r\n      }\r\n      state.mintXTCUncompleteBlockHeights.push(action.payload);\r\n    },\r\n\r\n    openMintWICPProgressModal: (state) => {\r\n      state.isMintWICPProgressModalOpened = true;\r\n    },\r\n    closeMintWICPProgressModal: (state) => {\r\n      state.isMintWICPProgressModalOpened = false;\r\n    },\r\n    openMintWICPFailModal: (state) => {\r\n      state.isMintWICPFailModalOpened = true;\r\n    },\r\n    closeMintWICPFailModal: (state) => {\r\n      state.isMintWICPFailModalOpened = false;\r\n    },\r\n    clearMintWICPModalData: (state) => {\r\n      state.mintWICPModalData = initialMintWICPModalData;\r\n    },\r\n    setMintWICPModalData: (state, action: PayloadAction<MintModalData>) => {\r\n      state.mintWICPModalData = {\r\n        ...state.mintWICPModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setMintWICPUncompleteBlockHeights: (\r\n      state,\r\n      action: PayloadAction<string[]>\r\n    ) => {\r\n      state.mintWICPUncompleteBlockHeights = action.payload;\r\n    },\r\n    addMintWICPUncompleteBlockHeight: (\r\n      state,\r\n      action: PayloadAction<string>\r\n    ) => {\r\n      if (state.mintWICPUncompleteBlockHeights === undefined) {\r\n        state.mintWICPUncompleteBlockHeights = [];\r\n      }\r\n      state.mintWICPUncompleteBlockHeights.push(action.payload);\r\n    },\r\n\r\n    openWithdrawWICPProgressModal: (state) => {\r\n      state.isWithdrawWICPProgressModalOpened = true;\r\n    },\r\n    closeWithdrawWICPProgressModal: (state) => {\r\n      state.isWithdrawWICPProgressModalOpened = false;\r\n    },\r\n    openWithdrawWICPFailModal: (state) => {\r\n      state.isWithdrawWICPFailModalOpened = true;\r\n    },\r\n    closeWithdrawWICPFailModal: (state) => {\r\n      state.isWithdrawWICPFailModalOpened = false;\r\n    },\r\n    clearWithdrawWICPModalData: (state) => {\r\n      state.withdrawWICPModalData = initialWithdrawWICPModalData;\r\n    },\r\n    setWithdrawWICPModalData: (\r\n      state,\r\n      action: PayloadAction<WithdrawWICPModalData>\r\n    ) => {\r\n      state.withdrawWICPModalData = {\r\n        ...state.withdrawWICPModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openSwapProgressModal: (state) => {\r\n      state.isSwapProgressModalOpened = true;\r\n    },\r\n    closeSwapProgressModal: (state) => {\r\n      state.isSwapProgressModalOpened = false;\r\n    },\r\n    openSwapFailModal: (state) => {\r\n      state.isSwapFailModalOpened = true;\r\n    },\r\n    closeSwapFailModal: (state) => {\r\n      state.isSwapFailModalOpened = false;\r\n    },\r\n    clearSwapModalData: (state) => {\r\n      state.swapModalData = initialSwapModalData;\r\n    },\r\n    setSwapModalData: (state, action: PayloadAction<SwapModalData>) => {\r\n      state.swapModalData = {\r\n        ...state.swapModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openDepositProgressModal: (state) => {\r\n      state.isDepositProgressModalOpened = true;\r\n    },\r\n    closeDepositProgressModal: (state) => {\r\n      state.isDepositProgressModalOpened = false;\r\n    },\r\n    openDepositFailModal: (state) => {\r\n      state.isDepositFailModalOpened = true;\r\n    },\r\n\r\n    closeDepositFailModal: (state) => {\r\n      state.isDepositFailModalOpened = false;\r\n    },\r\n    clearDepositModalData: (state) => {\r\n      state.depositModalData = initialDepositModalData;\r\n    },\r\n    setDepositModalData: (state, action: PayloadAction<DepositModalData>) => {\r\n      state.depositModalData = {\r\n        ...state.depositModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    setTransferModalData: (state, action: PayloadAction<TransferModalData>) => {\r\n      state.transferModalData = { ...state.transferModalData, ...action.payload};\r\n    },\r\n    openTransferProgressModal: (state) => {\r\n      state.isTransferProgressModalOpened = true;\r\n    },\r\n    closeTransferProgressModal: (state) => {\r\n      state.isTransferProgressModalOpened = false;\r\n    },\r\n    clearTransferModalData: (state) => {\r\n      state.transferModalData = initialTransferModalData;\r\n    },\r\n\r\n    openWithdrawProgressModal: (state) => {\r\n      state.isWithdrawProgressModalOpened = true;\r\n    },\r\n    closeWithdrawProgressModal: (state) => {\r\n      state.isWithdrawProgressModalOpened = false;\r\n    },\r\n    openWithdrawFailModal: (state) => {\r\n      state.isWithdrawFailModalOpened = true;\r\n    },\r\n    closeWithdrawFailModal: (state) => {\r\n      state.isWithdrawFailModalOpened = false;\r\n    },\r\n    clearWithdrawModalData: (state) => {\r\n      state.withdrawModalData = initialWithdrawModalData;\r\n    },\r\n    setWithdrawModalData: (state, action: PayloadAction<WithdrawModalData>) => {\r\n      state.withdrawModalData = {\r\n        ...state.withdrawModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openAddLiquidityProgressModal: (state) => {\r\n      state.isAddLiquidityProgressModalOpened = true;\r\n    },\r\n    closeAddLiquidityProgressModal: (state) => {\r\n      state.isAddLiquidityProgressModalOpened = false;\r\n    },\r\n    openAddLiquidityFailModal: (state) => {\r\n      state.isAddLiquidityFailModalOpened = true;\r\n    },\r\n    closeAddLiquidityFailModal: (state) => {\r\n      state.isAddLiquidityFailModalOpened = false;\r\n    },\r\n    clearAddLiquidityModalData: (state) => {\r\n      state.addLiquidityModalData = initialAddLiquidityModalData;\r\n    },\r\n    setAddLiquidityModalData: (\r\n      state,\r\n      action: PayloadAction<AddLiquidityModalData>\r\n    ) => {\r\n      state.addLiquidityModalData = {\r\n        ...state.addLiquidityModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openRemoveLiquidityProgressModal: (state) => {\r\n      state.isRemoveLiquidityProgressModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityProgressModal: (state) => {\r\n      state.isRemoveLiquidityProgressModalOpened = false;\r\n    },\r\n    openRemoveLiquidityFailModal: (state) => {\r\n      state.isRemoveLiquidityFailModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityFailModal: (state) => {\r\n      state.isRemoveLiquidityFailModalOpened = false;\r\n    },\r\n    clearRemoveLiquidityModalData: (state) => {\r\n      state.removeLiquidityModalData = initialRemoveLiquidityModalData;\r\n    },\r\n    setRemoveLiquidityModalData: (\r\n      state,\r\n      action: PayloadAction<RemoveLiquidityModalData>\r\n    ) => {\r\n      state.removeLiquidityModalData = {\r\n        ...state.removeLiquidityModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openTokenSelectModal: (state) => {\r\n      state.isTokenSelectModalModalOpened = true;\r\n    },\r\n    closeTokenSelectModal: (state) => {\r\n      state.isTokenSelectModalModalOpened = false;\r\n    },\r\n    clearTokenSelectModalData: (state) => {\r\n      state.tokenSelectModalData = initialTokenSelectData;\r\n    },\r\n    setTokenSelectModalData: (\r\n      state,\r\n      action: PayloadAction<TokenSelectData>\r\n    ) => {\r\n      state.tokenSelectModalData = action.payload;\r\n    },\r\n\r\n    openRemoveLiquidityModal: (state) => {\r\n      state.isRemoveLiquidityModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityModal: (state) => {\r\n      state.isRemoveLiquidityModalOpened = false;\r\n    },\r\n\r\n    openAllowanceVerifyModal: (state) => {\r\n      state.isAllowanceVerifyModalOpened = true;\r\n    },\r\n    closeAllowanceVerifyModal: (state) => {\r\n      state.isAllowanceVerifyModalOpened = false;\r\n    },\r\n    setAllowanceVerifyModalData: (\r\n      state,\r\n      action: PayloadAction<AllowanceVerifyModalData>\r\n    ) => {\r\n      state.allowanceModalData = action.payload;\r\n    },\r\n\r\n    openTermsAndConditionsModal: (state) => {\r\n      state.isTermsAndConditionsModalOpened = true;\r\n    },\r\n    closeTermsAndConditionsModal: (state) => {\r\n      state.isTermsAndConditionsModalOpened = false;\r\n    },\r\n    setTermsAndConditionsModalData: (\r\n      state,\r\n      action: PayloadAction<TermsAndConditionsModalData>\r\n    ) => {\r\n      state.termsAndConditionsModalData = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const modalsSliceActions = modalsSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectModalsState = (state: RootState) => state.modals;\r\n\r\nexport default modalsSlice.reducer;\r\n","import { selectModalsState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useModalsStore = () => useAppSelector(selectModalsState);\r\n","import { serialize } from '@memecake/sonic-js';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { modalsSliceActions } from '.';\r\n\r\ntype OpenSelectTokenModalOptions = {\r\n  metadata?: AppTokenMetadata[];\r\n  onSelect: (tokenId?: string) => void;\r\n  selectedTokenIds?: string[];\r\n};\r\n\r\nexport const useTokenModalOpener = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const openSelectTokenModal = ({\r\n    metadata,\r\n    onSelect,\r\n    selectedTokenIds,\r\n  }: OpenSelectTokenModalOptions) => {\r\n    dispatch(\r\n      modalsSliceActions.setTokenSelectModalData({\r\n        tokens: serialize(metadata),\r\n        onSelect,\r\n        selectedTokenIds,\r\n        // Add when we have a custom token selector\r\n        allowAddToken: false,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openTokenSelectModal());\r\n  };\r\n\r\n  return openSelectTokenModal;\r\n};\r\n","export * from './notification-slice';\r\nexport * from './use-notification-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport React from 'react';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\nexport enum NotificationType {\r\n  Success,\r\n  Error,\r\n  Deposit,\r\n  Withdraw,\r\n  Transfer,\r\n  Swap,\r\n  AddLiquidity,\r\n  RemoveLiquidity,\r\n  MintXTC,\r\n  MintWICP,\r\n  WithdrawWICP,\r\n  MintAuto,\r\n  MintManual,\r\n}\r\n\r\nexport enum NotificationState {\r\n  Idle,\r\n  Pending,\r\n  Success,\r\n  Error,\r\n}\r\n\r\nexport interface Notification {\r\n  id: string;\r\n  title: React.ReactNode;\r\n  errorMessage?: string;\r\n  type: NotificationType;\r\n  transactionLink?: string;\r\n  timeout?: string;\r\n  // TODO: Rewrite notifications to use this\r\n  state?: NotificationState;\r\n}\r\n\r\nexport interface NotificationsState {\r\n  notifications: Array<Notification>;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: NotificationsState = {\r\n  notifications: [],\r\n  state: FeatureState?.Idle,\r\n};\r\n\r\nexport const notificationSlice = createSlice({\r\n  name: 'notification',\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setNotificationData: (\r\n      state,\r\n      action: PayloadAction<{\r\n        data: Omit<Partial<Notification>, 'id'>;\r\n        id: string;\r\n      }>\r\n    ) => {\r\n      const notificationIndex = state.notifications.findIndex(\r\n        (notification) => notification.id === action.payload.id\r\n      );\r\n\r\n      if (typeof notificationIndex !== 'undefined') {\r\n        const newNotifications = state.notifications.map(\r\n          (notification, index) => {\r\n            if (index === notificationIndex) {\r\n              return {\r\n                ...notification,\r\n                ...action.payload.data,\r\n              };\r\n            }\r\n\r\n            return notification;\r\n          }\r\n        );\r\n\r\n        state.notifications = newNotifications;\r\n      }\r\n    },\r\n    addNotification: (state, action: PayloadAction<Notification>) => {\r\n      state.notifications.push(action.payload);\r\n    },\r\n    popNotification: (state, action: PayloadAction<string>) => {\r\n      const popId = action.payload;\r\n      const filteredNotifications = state.notifications.filter(\r\n        (obj) => obj.id !== popId\r\n      );\r\n\r\n      state.notifications = filteredNotifications;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setState: setNotificationSliceState,\r\n  addNotification,\r\n  popNotification,\r\n  setNotificationData,\r\n} = notificationSlice.actions;\r\n\r\nexport const selectNotificationState = (state: RootState) => state.notification;\r\n\r\nexport default notificationSlice.reducer;\r\n","import {\r\n  addNotification,\r\n  FeatureState,\r\n  Notification,\r\n  popNotification,\r\n  selectNotificationState,\r\n  setNotificationSliceState,\r\n} from '@/store';\r\nimport { useAppDispatch, useAppSelector } from '@/store';\r\n\r\nexport const useNotificationStore = () => {\r\n  const { notifications, state } = useAppSelector(selectNotificationState);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const _addNotification = (notification: Notification) => {\r\n    dispatch(addNotification(notification));\r\n  };\r\n\r\n  const _popNotification = (notificationId: string) => {\r\n    dispatch(popNotification(notificationId));\r\n  };\r\n\r\n  const _setNotificationState = (state: FeatureState) => {\r\n    dispatch(setNotificationSliceState(state));\r\n  };\r\n\r\n  return {\r\n    notifications,\r\n    state,\r\n    addNotification: _addNotification,\r\n    popNotification: _popNotification,\r\n    setNotificationState: _setNotificationState,\r\n  };\r\n};\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport { ENV } from '@/config';\r\nimport { plug } from '@/integrations/plug';\r\nimport { RootState } from '@/store/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { plugSlice, PlugState } from '../plug-slice';\r\nimport { disconnect } from './disconnect';\r\nimport { tokenList} from '@/utils'\r\n//import {artemis} from '@/utils';\r\n\r\nexport const connect = createAsyncThunk<void>(\r\n  'plug/connect',\r\n  async (_, { dispatch, getState }): Promise<void> => {\r\n    if ((getState() as RootState).plug.state === PlugState.Loading) return;\r\n    dispatch(plugSlice.actions.setState(PlugState.Loading));\r\n    var tknList= tokenList(\"obj\");\r\n    if (plug) {\r\n      try {\r\n        const accountChangeCallback = async (\r\n          newPrincipalId: string\r\n        ): Promise<void> => {\r\n          AppLog.warn(`Connected to Plug with principal ${newPrincipalId}`);\r\n          dispatch(plugSlice.actions.setPrincipalId(newPrincipalId));\r\n        };\r\n        await plug.requestConnect({\r\n          host: ENV.host,\r\n          whitelist: [...Object.values(ENV.canistersPrincipalIDs),...Object.keys(tknList)],\r\n          onConnectionUpdate: (data: any) => {\r\n            if (!data.sessionData) {\r\n              return dispatch(disconnect());\r\n            }\r\n            accountChangeCallback(data.sessionData.principalId);\r\n          },\r\n        });\r\n        \r\n       // artemis.connect('plug', { whitelist: Object.values(ENV.canistersPrincipalIDs)} );\r\n\r\n        const principal = await plug.getPrincipal();\r\n        await accountChangeCallback(\r\n          typeof principal === 'string' ? principal : principal.toText()\r\n        );\r\n      } catch (e) {\r\n        AppLog.error('Could not connect to Plug', e);\r\n        dispatch(plugSlice.actions.setState(PlugState.Disconnected));\r\n      }\r\n    } else {\r\n      dispatch(plugSlice.actions.setState(PlugState.NotInstalled));\r\n    }\r\n  }\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport { plug } from '@/integrations/plug';\r\n\r\nimport { plugSlice, PlugState } from '../plug-slice';\r\n\r\nexport const disconnect = createAsyncThunk<void>(\r\n  'plug/disconnect',\r\n  async (_, { dispatch }): Promise<void> => {\r\n    dispatch(plugSlice.actions.setState(PlugState.Loading));\r\n\r\n    if (plug) {\r\n      dispatch(plugSlice.actions.setState(PlugState.Disconnected));\r\n      plug.disconnect();\r\n    //  localStorage.clear();\r\n      location.reload()\r\n    } else {\r\n      dispatch(plugSlice.actions.setState(PlugState.NotInstalled));\r\n    }\r\n  }\r\n);\r\n","export * from './connect';\r\nexport * from './disconnect';\r\n","export * from './plug-slice';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { useAppSelector } from '@/store/hooks';\r\n\r\nimport { connect, disconnect } from './async-thunk';\r\n\r\nexport enum PlugState {\r\n  NotInstalled,\r\n  Disconnected,\r\n  Loading,\r\n  Connected,\r\n}\r\n\r\ninterface PlugStoreState {\r\n  state: PlugState;\r\n  principalId?: string;\r\n  isConnected: boolean;\r\n}\r\n\r\nconst initialState: PlugStoreState = {\r\n  principalId: undefined,\r\n  state: PlugState.Disconnected,\r\n  isConnected: false,\r\n};\r\n\r\nexport const plugSlice = createSlice({\r\n  name: 'plug',\r\n  initialState,\r\n  reducers: {\r\n    setPrincipalId: (state, action: PayloadAction<string>) => {\r\n      state.state = PlugState.Connected;\r\n      state.principalId = action.payload;\r\n      state.isConnected = true;\r\n    },\r\n    setState: (\r\n      state,\r\n      action: PayloadAction<\r\n        PlugState.Disconnected | PlugState.Loading | PlugState.NotInstalled\r\n      >\r\n    ) => {\r\n      state.state = action.payload;\r\n      state.principalId = undefined;\r\n      state.isConnected = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const plugActions = { ...plugSlice.actions, connect, disconnect };\r\n\r\nconst selectPlugState = (state: RootState): PlugStoreState => state.plug;\r\n\r\nexport const usePlugStore = (): PlugStoreState =>useAppSelector(selectPlugState);\r\n\r\nexport default plugSlice.reducer;\r\n","export * from './price-slice';\r\nexport * from './use-price-init';\r\nexport * from './use-price-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface PriceState {\r\n  icpPrice?: string;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: PriceState = {\r\n  icpPrice: undefined,\r\n  state: 'not-started' as FeatureState,\r\n};\r\n\r\nexport const priceSlice = createSlice({\r\n  name: 'price',\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setPrice: (state, action: PayloadAction<string>) => {\r\n      state.icpPrice = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const priceActions = priceSlice.actions;\r\n\r\nexport const selectPriceState = (state: RootState) => state.price;\r\n\r\nexport default priceSlice.reducer;\r\n","import { toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { fetchICPPrice } from '@/utils/icp';\r\n\r\nimport { swapCanisterActions, useSwapCanisterStore } from '..';\r\nimport { useKeepSync } from '../keep-sync';\r\nimport { priceActions, usePriceStore } from '.';\r\n\r\nBigNumber; toBigNumber;\r\n\r\nexport const usePriceInit = () => {\r\n  const { supportedTokenList, supportedTokenListState, allPairsState, allPairs } = useSwapCanisterStore();\r\n\r\n  const { state, icpPrice } = usePriceStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => { _getICPPrice({ isRefreshing: false }) }, []);\r\n\r\n  useEffect(() => {\r\n    if (icpPrice && supportedTokenList && allPairs && supportedTokenListState !== FeatureState.Loading && allPairsState !== FeatureState.Loading) {\r\n\r\n      const supportedTokenListWithPrices = supportedTokenList.map((token) => {\r\n        let tokenPrice;\r\n        if (token.id === ENV.canistersPrincipalIDs.WICP || token.id === ENV.canistersPrincipalIDs.ledger) {\r\n           tokenPrice = icpPrice; }\r\n        else {\r\n\r\n          var BaseTokenPair = allPairs?.[ENV.canistersPrincipalIDs.WICP]?.[token.id];\r\n          if(!BaseTokenPair) BaseTokenPair = allPairs?.[ENV.canistersPrincipalIDs.ledger]?.[token.id];\r\n\r\n          const tokenDecimals = supportedTokenList.find(({ id }) => id === token.id)?.decimals;\r\n          \r\n          const BaseTokenDecimals = supportedTokenList.find(({ id }) => id === ENV.canistersPrincipalIDs.ledger)?.decimals;\r\n\r\n          if (BaseTokenPair && tokenDecimals && BaseTokenDecimals) {\r\n            const baseReserve = BaseTokenPair.token0 === ENV.canistersPrincipalIDs.WICP || BaseTokenPair.token0 === ENV.canistersPrincipalIDs.ledger ?\r\n              BaseTokenPair.reserve0 : BaseTokenPair.reserve1;\r\n\r\n            const tokenReserve = BaseTokenPair.token0 === ENV.canistersPrincipalIDs.WICP || BaseTokenPair.token0 === ENV.canistersPrincipalIDs.ledger ?\r\n              BaseTokenPair.reserve1 : BaseTokenPair.reserve0;\r\n\r\n              if (baseReserve && tokenReserve) {\r\n                tokenPrice = new BigNumber(icpPrice).multipliedBy(toBigNumber(baseReserve).applyDecimals(BaseTokenDecimals))\r\n                 .div(toBigNumber(tokenReserve).applyDecimals(tokenDecimals)).toString();\r\n              }\r\n          }else {\r\n            tokenPrice = '0';\r\n        }\r\n        }\r\n        return {...token,price: tokenPrice};\r\n      });\r\n      dispatch(swapCanisterActions.setSupportedTokenList(supportedTokenListWithPrices));\r\n    }\r\n  }, [icpPrice, supportedTokenListState, allPairsState, dispatch, allPairs]);\r\n\r\n  const _getICPPrice = useKeepSync(\r\n    'getICPPrice',\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        if (state !== FeatureState.Loading) {\r\n          try {\r\n            dispatch(\r\n              priceActions.setState(\r\n                isRefreshing ? FeatureState.Updating : FeatureState.Loading\r\n              )\r\n            );\r\n\r\n            const price = await fetchICPPrice();\r\n\r\n            if (price) {\r\n              dispatch(priceActions.setPrice(price));\r\n            } else {\r\n              throw new Error('No \"getICPPrice\" response');\r\n            }\r\n\r\n            dispatch(priceActions.setState(FeatureState.Idle));\r\n\r\n            return price;\r\n          } catch (error) {\r\n            AppLog.error('ICP price fetch error', error);\r\n            dispatch(priceActions.setState(FeatureState.Error));\r\n          }\r\n        }\r\n      },\r\n      [dispatch, state]\r\n    )\r\n  );\r\n};\r\n","import { useAppSelector } from '@/store';\r\n\r\nimport { selectPriceState } from '.';\r\n\r\nexport const usePriceStore = () => useAppSelector(selectPriceState);\r\n","export * from './swap-canister-slice';\r\nexport * from './use-swap-canister-init';\r\nexport * from './use-swap-canister-store';\r\n","import { Pair } from '@memecake/sonic-js';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { AppTokenMetadata, Balances, PairBalances } from '@/models';\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface SwapCanisterState {\r\n  supportedTokenListState: FeatureState;\r\n  balancesState: FeatureState;\r\n  allPairsState: FeatureState;\r\n  userLPBalancesState: FeatureState;\r\n\r\n  supportedTokenList?: AppTokenMetadata[];\r\n  sonicBalances?: Balances;\r\n  tokenBalances?: Balances;\r\n  icpBalance?: number;\r\n  allPairs?: Pair.List;\r\n  userLPBalances?: PairBalances;\r\n}\r\n\r\nconst initialState: SwapCanisterState = {\r\n  supportedTokenListState: 'not-started' as FeatureState,\r\n  balancesState: 'not-started' as FeatureState,\r\n  allPairsState: 'not-started' as FeatureState,\r\n  userLPBalancesState: 'not-started' as FeatureState,\r\n\r\n  supportedTokenList: undefined,\r\n  sonicBalances: undefined,\r\n  tokenBalances: undefined,\r\n  icpBalance: undefined,\r\n  allPairs: undefined,\r\n  userLPBalances: undefined,\r\n};\r\n\r\nexport const swapCanisterSlice = createSlice({\r\n  name: 'swapCanister',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setICPBalance: (state, action: PayloadAction<bigint>) => {\r\n      state.icpBalance = Number(action.payload);\r\n    },\r\n    setSupportedTokensListState: (\r\n      state,\r\n      action: PayloadAction<FeatureState>\r\n    ) => {\r\n      state.supportedTokenListState = action.payload;\r\n    },\r\n    setBalancesState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.balancesState = action.payload;\r\n    },\r\n    setSupportedTokenList: (\r\n      state,\r\n      action: PayloadAction<AppTokenMetadata[]>\r\n    ) => {\r\n      state.supportedTokenList = action.payload;\r\n    },\r\n    setSonicBalances: (\r\n      state,\r\n      action: PayloadAction<[string, bigint][] | undefined>\r\n    ) => {\r\n      const parsedBalances = action.payload?.reduce((acc, current) => {\r\n        return {\r\n          ...acc,\r\n          [current[0]]: Number(current[1]),\r\n        };\r\n      }, {} as Balances);\r\n      state.sonicBalances = parsedBalances;\r\n    },\r\n    setTokenBalances: (\r\n      state,\r\n      action: PayloadAction<[string, bigint][] | undefined>\r\n    ) => {\r\n      const parsedBalances = action.payload?.reduce((acc, current) => {\r\n        return {\r\n          ...acc,\r\n          [current[0]]: Number(current[1]),\r\n        };\r\n      }, {} as Balances);\r\n      state.tokenBalances = parsedBalances;\r\n    },\r\n    setAllPairsState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.allPairsState = action.payload;\r\n    },\r\n    setAllPairs: (state, action: PayloadAction<Pair.List>) => {\r\n      state.allPairs = action.payload;\r\n    },\r\n    setUserLPBalancesState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.userLPBalancesState = action.payload;\r\n    },\r\n    setUserLPBalances: (state, action: PayloadAction<PairBalances>) => {\r\n      state.userLPBalances = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const swapCanisterActions = swapCanisterSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectSwapCanisterState = (state: RootState) => state.swap;\r\n\r\nexport default swapCanisterSlice.reducer;\r\n","import { useCallback, useEffect } from 'react';\r\n\r\nimport { useAllPairs } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { createAnonSwapActor } from '@/integrations/actor';\r\nimport { FeatureState, swapCanisterActions, useAppDispatch, useSwapCanisterStore , useWalletStore} from '@/store'; \r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseSupportedTokenList } from '@/utils/canister';\r\n\r\nimport { useKeepSync } from '../keep-sync';\r\n\r\nexport const useSwapCanisterInit = () => {\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n  const { principalId, isConnected, state: walletState } = useWalletStore();\r\n  const { supportedTokenListState } = useSwapCanisterStore();\r\n  const { getAllPairs } = useAllPairs();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isConnected) {\r\n      dispatch(swapCanisterActions.setBalancesState(FeatureState.Idle));\r\n    }\r\n  }, [isConnected, walletState]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      getBalances({ isRefreshing: false });\r\n      getUserPositiveLPBalances({ isRefreshing: false });\r\n    }\r\n  }, [principalId]);\r\n\r\n  useEffect(() => {\r\n    getSupportedTokenList({ isRefreshing: false });\r\n    getAllPairs({ isRefreshing: false });\r\n  }, []);\r\n\r\n  const getSupportedTokenList = useKeepSync( 'getSupportedTokenList',\r\n    useCallback(\r\n      async (isRefreshing?: boolean , loadAction?:string) => {\r\n        if (supportedTokenListState !== FeatureState.Loading) {\r\n          try {\r\n            dispatch( swapCanisterActions.setSupportedTokensListState( isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n            const swapActor = await createAnonSwapActor();\r\n            const response = await swapActor.getSupportedTokenList();\r\n            if (response) {\r\n              dispatch( swapCanisterActions.setSupportedTokenList( parseResponseSupportedTokenList(response)));\r\n            } else {\r\n              throw new Error('No \"getSupportedTokenList\" response');\r\n            }\r\n            dispatch( swapCanisterActions.setSupportedTokensListState(FeatureState.Idle));\r\n            return response;\r\n          } catch (error) {\r\n            AppLog.error('Failed to fetch supported token list', error);\r\n            dispatch( swapCanisterActions.setSupportedTokensListState( FeatureState.Error));\r\n          }\r\n        }\r\n      },\r\n      [supportedTokenListState]\r\n    )\r\n  );\r\n};\r\n","import { selectSwapCanisterState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useSwapCanisterStore = () =>{\r\n  return useAppSelector(selectSwapCanisterState);\r\n}\r\n  \r\n","export * from './swap-view-slice';\r\nexport * from './use-swap-view-init';\r\nexport * from './use-swap-view-store';\r\n","import { MaximalPaths, Pair, Swap } from '@memecake/sonic-js';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { AppTokenMetadata, AppTokenMetadataListObject, BaseTokenData } from '@/models';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\nimport { capitalize } from '@/utils/format';\r\nimport { getAmountOutFromPath } from '@/views';\r\n\r\n// import BigNumber from 'bignumber.js';\r\n\r\nexport type SwapTokenDataKey = 'from' | 'to';\r\n\r\nexport interface SwapTokenData<M = AppTokenMetadata> extends BaseTokenData<M> {\r\n  paths: MaximalPaths.PathList;\r\n}\r\n\r\ninterface SwapViewState {\r\n  state: FeatureState;\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n  tokenList?: AppTokenMetadataListObject;\r\n  allPairs?: Pair.List;\r\n  slippage: string;\r\n  keepInSonic: boolean;\r\n  baseFromTokenPaths: MaximalPaths.PathList;\r\n  baseToTokenPaths: MaximalPaths.PathList;\r\n  allowance?: number;\r\n}\r\n\r\nexport const INITIAL_SWAP_SLIPPAGE = '0.5';\r\nfunction toJson(data: any) {\r\n  if(data) return JSON.stringify(data, (_, v) => typeof v === 'bigint' ? `${v}n` : v).replace(/\"(-?\\d+)n\"/g, (_, a) => a);\r\n  return '{}';\r\n}\r\nconst initialState: SwapViewState = {\r\n  state: FeatureState?.Idle,\r\n  from: { paths: {}, metadata: undefined, value: '' },\r\n  to: { paths: {}, metadata: undefined, value: '' },\r\n  tokenList: undefined,\r\n  allPairs: undefined,\r\n  slippage: INITIAL_SWAP_SLIPPAGE,\r\n  keepInSonic: false,\r\n  baseFromTokenPaths: {},\r\n  baseToTokenPaths: {},\r\n  allowance: undefined,\r\n};\r\nexport const swapViewSlice = createSlice({\r\n  name: 'swap',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    reset: (state) => {\r\n      \r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setValue: (state, action: PayloadAction<{ data: SwapTokenDataKey; value: string }>) => {\r\n      const { allPairs, tokenList } = state;\r\n      const { data, value } = action.payload;\r\n\r\n      const metadata = data === 'from' ? state.from.metadata : state.to.metadata;\r\n      const oppositeMetadata = data === 'to' ? state.from.metadata : state.to.metadata;\r\n\r\n      const oppositeDataKey = data === 'from' ? 'to' : 'from';\r\n      state[data].value = value;\r\n      if (tokenList && metadata && oppositeMetadata && !(metadata.id === ICP_METADATA.id) && !(oppositeMetadata.id === ICP_METADATA.id)) {\r\n        const paths: any = getTokenPaths(allPairs as Pair.List, tokenList, metadata.id, state[data].value, data);\r\n\r\n        // Swap.getTokenPaths({\r\n        //   pairList: allPairs as Pair.List, tokenList, tokenId: metadata.id, amount: value, dataKey: data,\r\n        // });\r\n        state[data].paths = paths;\r\n\r\n        state[oppositeDataKey].value = getAmountOutFromPath(state[data] as SwapTokenData, state[oppositeDataKey] as SwapTokenData);\r\n\r\n        if (data === 'to' && paths[oppositeMetadata.id]) {\r\n          state.from.paths[metadata.id] = { amountOut: paths[oppositeMetadata.id].amountOut, path: [...paths[oppositeMetadata.id].path].reverse() };\r\n        }\r\n      }\r\n    },\r\n    setToken: (state, action: PayloadAction<{ data: SwapTokenDataKey; tokenId: string | undefined }>) => {\r\n      const { allPairs, tokenList } = state;\r\n      const { data, tokenId } = action.payload;\r\n\r\n      if (tokenId && tokenList && allPairs) {\r\n        const paths = getTokenPaths(allPairs as Pair.List, tokenList, tokenId, state[data].value, data);\r\n        // const paths = //Swap.getTokenPaths({ pairList: allPairs as Pair.List, tokenList, tokenId, amount: state[data].value, dataKey: data });  \r\n        state[data].metadata = { ...tokenList[tokenId] };\r\n        state[data].paths = paths;\r\n        const tokenPathsDataKey = `base${capitalize(data)}TokenPaths` as | 'baseToTokenPaths' | 'baseFromTokenPaths';\r\n        state[tokenPathsDataKey] = getTokenPaths(allPairs as Pair.List, tokenList, tokenId, state[data].value, data);\r\n        // Swap.getTokenPaths({ pairList: allPairs as Pair.List, tokenList, tokenId, dataKey: data });\r\n\r\n      } else { state[data].metadata = undefined; }\r\n      if (data === 'from') {\r\n        state.to.metadata = undefined;\r\n        state.to.value = '';\r\n      }\r\n    },\r\n    switchTokens: (state, action: PayloadAction<SwapTokenDataKey>) => {\r\n      const dataKey = action.payload;\r\n      const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n      const oppositeMetadata = state[oppositeDataKey].metadata;\r\n\r\n      if (state.from.metadata && state.to.metadata && oppositeMetadata && state.tokenList && state.allPairs) {\r\n        // FIXME: Handle WICP/ICP specific case better/in other place\r\n\r\n        const isICPToWICPPair = state.from.metadata.id === ICP_METADATA.id && state.to.metadata.id === ENV.canistersPrincipalIDs.WICP;\r\n\r\n        const isWICPToICPPair = state.to.metadata.id === ICP_METADATA.id && state.from.metadata.id === ENV.canistersPrincipalIDs.WICP;\r\n\r\n        const isWICPAndICPPair = isICPToWICPPair || isWICPToICPPair;\r\n\r\n        const value = state[dataKey].value;\r\n\r\n        // const oppositeTokenPaths = Swap.getTokenPaths({\r\n        //   pairList: state.allPairs as Pair.List,\r\n        //   tokenList: state.tokenList,\r\n        //   tokenId: state[dataKey].metadata!.id,\r\n        //   amount: value,\r\n        //   dataKey: oppositeDataKey,\r\n        // });\r\n\r\n        const oppositeTokenPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state[dataKey].metadata!.id, value, oppositeDataKey);\r\n\r\n        const oppositeValue = getAmountOutFromPath( { ...state[dataKey], paths: oppositeTokenPaths },state[oppositeDataKey] as SwapTokenData );\r\n\r\n        // const tokenPaths = Swap.getTokenPaths({\r\n        //   pairList: state.allPairs as Pair.List,\r\n        //   tokenList: state.tokenList,\r\n        //   tokenId: state[oppositeDataKey].metadata!.id,\r\n        //   amount: oppositeValue,\r\n        //   dataKey: dataKey,\r\n        // });\r\n\r\n        const tokenPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state[oppositeDataKey].metadata!.id, oppositeValue, dataKey);\r\n\r\n        const tempMetadata = { ...state.from.metadata };\r\n        state.from.metadata = { ...state.to.metadata };\r\n        state.to.metadata = tempMetadata;\r\n\r\n        // In case of WICP/ICP or ICP/WICP switch -- leave values as they are\r\n        if (!isWICPAndICPPair) {\r\n          state[oppositeDataKey].paths = oppositeTokenPaths;\r\n          state[dataKey].paths = tokenPaths;\r\n\r\n          state[oppositeDataKey].value = value;\r\n          state[dataKey].value = oppositeValue;\r\n\r\n          const baseFromPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state.from.metadata.id);\r\n\r\n          // Swap.getTokenPaths({ pairList: state.allPairs as Pair.List,   tokenList: state.tokenList, tokenId: state.from.metadata.id });\r\n          \r\n          const baseToPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state.to.metadata.id);\r\n          \r\n          //Swap.getTokenPaths({ pairList: state.allPairs as Pair.List, tokenList: state.tokenList,tokenId: state.to.metadata.id, });\r\n\r\n          state.baseFromTokenPaths = baseFromPaths;\r\n          state.baseToTokenPaths = baseToPaths;\r\n        }\r\n      }\r\n    },\r\n    setTokenList: ( state, action: PayloadAction<AppTokenMetadataListObject>) => {\r\n      state.tokenList = action.payload;\r\n      const tokens = Object.values(action.payload);\r\n      const { allPairs, tokenList } = state;\r\n      if (!state.from.metadata) {\r\n        state.from.metadata = { ...tokens[0] };\r\n        state.from.paths = {};\r\n        state.from.value = '';\r\n        state.to.value = '';\r\n        if(state.from.metadata.id){\r\n          state.from.paths =  getTokenPaths(allPairs as Pair.List, tokenList, state.from.metadata.id, 0, \"from\");\r\n        }\r\n      }\r\n      if(state.from.metadata && !state.from.paths){\r\n        state.from.paths =  getTokenPaths(allPairs as Pair.List, tokenList, state.from.metadata.id, 0, \"from\");\r\n      }\r\n    },\r\n    setAllPairs: (state, action: PayloadAction<Pair.List | undefined>) => {\r\n      state.allPairs = action.payload;\r\n    },\r\n    setSlippage: (state, action: PayloadAction<string>) => {\r\n      state.slippage = action.payload;\r\n    },\r\n    setKeepInSonic: (state, action: PayloadAction<boolean>) => {\r\n      state.keepInSonic = action.payload;\r\n    },\r\n    setAllowance: (state, action: PayloadAction<number | undefined>) => {\r\n      state.allowance = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const swapViewActions = swapViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\n\r\nexport const selectSwapViewState = (state: RootState) => state.swapView;\r\n\r\n\r\n//getTokenPaths to avoid cpu load in built fn\r\n\r\nconst getTokenPaths = function(allPairs?: any, tokenList?: any, tokenId?: string, amount?: any, dataKey?: any) {\r\n  var allPairs = JSON.parse(toJson(allPairs)), tokenList = JSON.parse(toJson(tokenList)),tokenPaths: any = {};\r\n  if (tokenId) {\r\n    if(!allPairs[tokenId] ) return tokenPaths;\r\n    Object.keys(allPairs[tokenId]).forEach((x: string) => {\r\n      let fromValue = amount ? amount : 0;\r\n      var p = Swap.getAmountOut({ \r\n        amountIn: fromValue.toString(),decimalsIn: tokenList[tokenId]?.decimals, decimalsOut: tokenList[x]?.decimals,\r\n        reserveIn: allPairs[tokenId][x].reserve0,reserveOut: allPairs[tokenId][x].reserve1,\r\n      })\r\n      tokenPaths[x] = { amountOut: p, path: [tokenId, x] ,  }\r\n    })\r\n  }\r\n  return tokenPaths;\r\n}\r\nexport const getTokenPath = getTokenPaths;\r\nexport default swapViewSlice.reducer;\r\n","import { useEffect, useState } from 'react';\r\nimport { getICPTokenMetadata } from '@/constants';\r\nimport { useAppDispatch } from '@/store'; //selectSwapViewState selectSwapViewState, useAppSelector\r\nimport { parseResponseTokenList } from '@/utils/canister';\r\n\r\nimport { usePriceStore, useSwapCanisterStore } from '..';\r\nimport { swapViewActions } from '.';\r\nimport { AppTokenMetadataListObject } from '@/models';\r\n\r\nexport const useSwapView = (method: string) => {\r\n  const dispatch = useAppDispatch();\r\n  const { icpPrice } = usePriceStore();\r\n  const { allPairs, supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const [isPairLoaded, setIsPairLoad] = useState<boolean>(false);\r\n  var tokenListTemp: AppTokenMetadataListObject = {};\r\n\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    tokenListTemp = parseResponseTokenList([getICPTokenMetadata(icpPrice), ...supportedTokenList]);\r\n    if (method == 'swap') {\r\n      delete tokenListTemp.ICP;\r\n    } else if (method == 'mint') {\r\n      tokenListTemp = {\r\n        ICP: tokenListTemp.ICP,\r\n        \"utozz-siaaa-aaaam-qaaxq-cai\": tokenListTemp[\"utozz-siaaa-aaaam-qaaxq-cai\"],\r\n        \"aanaa-xaaaa-aaaah-aaeiq-cai\": tokenListTemp[\"aanaa-xaaaa-aaaah-aaeiq-cai\"],\r\n      };\r\n    }\r\n    dispatch(swapViewActions.setTokenList(tokenListTemp));\r\n\r\n    const setInitToken = async () => {\r\n      await dispatch(swapViewActions.setAllPairs(allPairs));\r\n      setIsPairLoad(true);\r\n    }\r\n\r\n    if (allPairs && Object.keys(tokenListTemp)) {\r\n      setInitToken();\r\n    }\r\n\r\n  }, [allPairs, supportedTokenList, dispatch, icpPrice]);\r\n\r\n  useEffect(() => {\r\n    if (method == 'mint') {\r\n      dispatch(swapViewActions.setToken({ data: 'from', tokenId: 'ICP' }));\r\n      dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n      dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n    }\r\n    tokenListTemp = parseResponseTokenList([...supportedTokenList || []]);\r\n    if (!isPairLoaded || !tokenListTemp) return;\r\n    if (method == 'swap') {\r\n      const temp = Object.keys(tokenListTemp)[0];\r\n      dispatch(swapViewActions.setToken({ data: \"from\", tokenId: tokenListTemp[temp]?.id }));\r\n      dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n      dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n    }\r\n  }, [isPairLoaded, method])\r\n};","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useTokenSelectionChecker } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { selectSwapViewState, useAppSelector } from '@/store';\r\n\r\nimport { useSwapCanisterStore } from '..';\r\n\r\nexport const useSwapViewStore = () => {\r\n  const state = useAppSelector(selectSwapViewState);\r\n  const { from, tokenList } = state;\r\n  const { allPairs } = useSwapCanisterStore();\r\n\r\n  const { isTokenSelected: isICPSelected } = useTokenSelectionChecker({ id0: from.metadata?.id,});\r\n\r\n  const { isTokenSelected: isWICPSelected } = useTokenSelectionChecker({\r\n    id0: from.metadata?.id,\r\n    targetId: ENV.canistersPrincipalIDs.WICP,\r\n  });\r\n\r\n  const [fromTokenOptions, toTokenOptions] = useMemo(() => {\r\n    if (!from.metadata || !tokenList) return [[], []];\r\n    \r\n    const fromTokenOptions = Object.values(tokenList);\r\n\r\n    if (!allPairs) { return [fromTokenOptions, []];}\r\n\r\n    if (isICPSelected) {\r\n      const wicpTokenMetadata = tokenList[ENV.canistersPrincipalIDs.WICP];\r\n      const xtcTokenMetadata = tokenList[ENV.canistersPrincipalIDs.XTC];\r\n      const icpToTokenOptions: AppTokenMetadata[] = [\r\n        ...(wicpTokenMetadata ? [wicpTokenMetadata] : []),\r\n        ...(xtcTokenMetadata ? [xtcTokenMetadata] : []),\r\n      ];\r\n      return [fromTokenOptions, icpToTokenOptions];\r\n    }\r\n    const toTokenPathsIds = Object.keys(from.paths);\r\n    \r\n    const toTokenOptions = fromTokenOptions.filter((token:{ id:string}) =>\r\n      toTokenPathsIds.includes(token.id)\r\n    );\r\n    if (isWICPSelected) {\r\n      const icpToken = fromTokenOptions.find((token) => token.id === ICP_METADATA.id);\r\n      if (icpToken) { toTokenOptions.unshift({ ...icpToken });}\r\n    }\r\n    return [fromTokenOptions, toTokenOptions];\r\n  }, [, from.metadata, from.paths, tokenList, isICPSelected,isWICPSelected]);\r\n\r\n  return { ...state, fromTokenOptions, toTokenOptions};\r\n};\r\n","export * from './transfer-view-slice';\r\nexport * from './use-transfer-view-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\nimport {  checkAddressType } from '@/utils';\r\nenum AddressType {\r\n  AccountId = 'accountId',\r\n  PrincipalId = 'principalId',\r\n  None = 'none',\r\n}\r\ninterface TransferViewState {\r\n  state: FeatureState;\r\n  amount: string;\r\n  tokenId?: string;\r\n  toAddress?:string;\r\n  addressType?:AddressType\r\n}\r\n\r\nconst initialState: TransferViewState = {\r\n  state: FeatureState?.Idle,\r\n  amount: '',\r\n  tokenId: undefined,\r\n  toAddress: '',\r\n  addressType: AddressType.None,\r\n};\r\n\r\nexport const transferViewSlice = createSlice({\r\n  name: 'transfer',\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setAmount: (state, action: PayloadAction<string>) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setTokenId: (state, action: PayloadAction<string>) => {\r\n      state.tokenId = action.payload;\r\n    },\r\n    setToAddress: (state, action: PayloadAction<string>) => {\r\n      state.toAddress = action.payload;\r\n      const addressType = checkAddressType(action.payload);\r\n      if(addressType == 'accountId' ) \r\n        state.addressType = AddressType.AccountId;\r\n      else if(addressType == 'principalId' ) \r\n        state.addressType = AddressType.PrincipalId;\r\n      else   state.addressType = AddressType.None\r\n    },\r\n  },\r\n});\r\n\r\nexport const transferViewActions = transferViewSlice.actions;\r\nexport const selectTransferViewState = (state: RootState) => state.transferView;\r\nexport default transferViewSlice.reducer;\r\n","import { selectTransferViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useTransferViewStore = () => { return  useAppSelector(selectTransferViewState); }\r\n","export * from './withdraw-view-slice';\r\nexport * from './use-withdraw-view-store';\r\n","import { selectAssetsViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useAssetsViewStore = () => useAppSelector(selectAssetsViewState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ninterface WithdrawViewState {\r\n  state: FeatureState;\r\n  amount: string;\r\n  tokenId?: string;\r\n}\r\n\r\nconst initialState: WithdrawViewState = {\r\n  state: FeatureState?.Idle,\r\n  amount: '',\r\n  tokenId: undefined,\r\n};\r\n\r\nexport const withdrawViewSlice = createSlice({\r\n  name: 'withdraw',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setAmount: (state, action: PayloadAction<string>) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setTokenId: (state, action: PayloadAction<string>) => {\r\n      state.tokenId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const withdrawViewActions = withdrawViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectWithdrawViewState = (state: RootState) => state.withdrawView;\r\n\r\nexport default withdrawViewSlice.reducer;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\n\r\nimport type { AppDispatch, RootState } from './store';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","export * from './features';\r\nexport * from './hooks';\r\nexport * from './models';\r\nexport * from './store';\r\n","export enum FeatureState {\r\n  NotStarted = 'not-started',\r\n  Idle = 'idle',\r\n  Loading = 'loading',\r\n  Error = 'error',\r\n  Updating = 'updating',\r\n}\r\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport activityViewReducer from '@/store/features/activity-view/activity-view-slice';\r\nimport allowanceReducer from '@/store/features/allowance/allowance-slice';\r\nimport assetsViewReducer from '@/store/features/assets-view/assets-view-slice';\r\nimport cyclesMintingCanisterReducer from '@/store/features/cycles-minting-canister/cycles-minting-canister-slice';\r\nimport depositViewReducer from '@/store/features/deposit-view/deposit-view-slice';\r\nimport keepSyncReducer from '@/store/features/keep-sync/keep-sync-slice';\r\nimport liquidityViewReducer from '@/store/features/liquidity-view/liquidity-view-slice';\r\nimport modalsReducer from '@/store/features/modals/modals-slice';\r\nimport notificationReducer from '@/store/features/notification/notification-slice';\r\nimport plugReducer from '@/store/features/plug/plug-slice';\r\nimport priceReducer from '@/store/features/price/price-slice';\r\nimport swapReducer from '@/store/features/swap-canister/swap-canister-slice';\r\nimport swapViewReducer from '@/store/features/swap-view/swap-view-slice';\r\nimport withdrawViewReducer from '@/store/features/withdraw-view/withdraw-view-slice';\r\n\r\nimport trasferViewReducer from '@/store/features/transfer-view/transfer-view-slice';\r\nimport walletReducer from '@/store/features/dfinitywallet/wallet-slice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    cyclesMinting: cyclesMintingCanisterReducer,\r\n    plug: plugReducer,\r\n    modals: modalsReducer,\r\n    notification: notificationReducer,\r\n    swap: swapReducer,\r\n    price: priceReducer,\r\n    keepSync: keepSyncReducer,\r\n    activityView: activityViewReducer,\r\n    assetsView: assetsViewReducer,\r\n    depositView: depositViewReducer,\r\n    liquidityView: liquidityViewReducer,\r\n    swapView: swapViewReducer,\r\n    withdrawView: withdrawViewReducer,\r\n    allowance: allowanceReducer,\r\n    dfinityWallet:walletReducer,\r\n    transferView: trasferViewReducer\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({ serializableCheck: false}),\r\n});\r\n\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import type {\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode, transparentize } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyle: SystemStyleObject = {\r\n  lineHeight: '1.2',\r\n  borderRadius: 'xl',\r\n  fontWeight: 'semibold',\r\n  transitionProperty: 'common',\r\n  transitionDuration: 'normal',\r\n  _focus: {\r\n    boxShadow: 'outline',\r\n  },\r\n  _disabled: {\r\n    opacity: 0.4,\r\n    cursor: 'not-allowed',\r\n    boxShadow: 'none',\r\n  },\r\n  _hover: {\r\n    _disabled: {\r\n      bg: 'initial',\r\n    },\r\n  },\r\n};\r\n\r\nconst variantGhost: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n\r\n  if (c === 'gray') {\r\n    return {\r\n      color: mode(`inherit`, `whiteAlpha.900`)(props),\r\n      _hover: {\r\n        bg: mode(`gray.100`, `whiteAlpha.200`)(props),\r\n      },\r\n      _active: { bg: mode(`custom.200`, `whiteAlpha.300`)(props) },\r\n    };\r\n  }\r\n\r\n  const darkHoverBg = transparentize(`${c}.200`, 0.12)(theme);\r\n  const darkActiveBg = transparentize(`${c}.200`, 0.24)(theme);\r\n\r\n  return {\r\n    color: mode(`${c}.600`, `${c}.200`)(props),\r\n    bg: 'transparent',\r\n    _hover: {\r\n      bg: mode(`${c}.50`, darkHoverBg)(props),\r\n    },\r\n    _active: {\r\n      bg: mode(`${c}.100`, darkActiveBg)(props),\r\n    },\r\n  };\r\n};\r\n\r\nconst variantOutline: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n  const borderColor = mode(`gray.200`, `whiteAlpha.300`)(props);\r\n  return {\r\n    border: '1px solid',\r\n    borderColor: c === 'gray' ? borderColor : 'currentColor',\r\n    ...variantGhost(props),\r\n  };\r\n};\r\n\r\ntype AccessibleColor = {\r\n  bg?: string;\r\n  color?: string;\r\n  hoverBg?: string;\r\n  activeBg?: string;\r\n};\r\n\r\n/** Accessible color overrides for less accessible colors. */\r\nconst accessibleColorMap: { [key: string]: AccessibleColor } = {\r\n  yellow: {\r\n    bg: 'yellow.400',\r\n    color: 'black',\r\n    hoverBg: 'yellow.500',\r\n    activeBg: 'yellow.600',\r\n  },\r\n  cyan: {\r\n    bg: 'cyan.400',\r\n    color: 'black',\r\n    hoverBg: 'cyan.500',\r\n    activeBg: 'cyan.600',\r\n  },\r\n};\r\n\r\nconst variantSolid: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n\r\n  if (c === 'gray') {\r\n    const bg = mode(`gray.100`, `whiteAlpha.200`)(props);\r\n\r\n    return {\r\n      bg,\r\n      _hover: {\r\n        bg: mode(`gray.200`, `whiteAlpha.300`)(props),\r\n        _disabled: {\r\n          bg,\r\n        },\r\n      },\r\n      _active: { bg: mode(`gray.300`, `whiteAlpha.400`)(props) },\r\n    };\r\n  }\r\n\r\n  const {\r\n    bg = `${c}.500`,\r\n    color = 'white',\r\n    hoverBg = `${c}.600`,\r\n    activeBg = `${c}.700`,\r\n  } = accessibleColorMap[c] ?? {};\r\n\r\n  const background = mode(bg, `${c}.200`)(props);\r\n\r\n  return {\r\n    bg: background,\r\n    color: mode(color, `gray.800`)(props),\r\n    _hover: {\r\n      bg: mode(hoverBg, `${c}.300`)(props),\r\n      _disabled: {\r\n        bg: background,\r\n      },\r\n    },\r\n    _active: { bg: mode(activeBg, `${c}.400`)(props) },\r\n  };\r\n};\r\n\r\nconst variantLink: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    padding: 0,\r\n    height: 'auto',\r\n    lineHeight: 'normal',\r\n    verticalAlign: 'baseline',\r\n    color: mode(`${c}.500`, `${c}.200`)(props),\r\n    _hover: {\r\n      textDecoration: 'underline',\r\n      _disabled: {\r\n        textDecoration: 'none',\r\n      },\r\n    },\r\n    _active: {\r\n      color: mode(`${c}.700`, `${c}.500`)(props),\r\n    },\r\n  };\r\n};\r\n\r\nconst variantGradient: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n\r\n  const gradientColor0 = mode(\r\n    theme.colors[c][400],\r\n    theme.colors[c][500]\r\n  )(props);\r\n  const gradientColor1 = mode(\r\n    theme.colors[c][600],\r\n    theme.colors[c][700]\r\n  )(props);\r\n\r\n  const background = `linear-gradient(180deg, ${gradientColor0} 0%, ${gradientColor1} 100%)`;\r\n\r\n  return {\r\n    ...variantSolid(props),\r\n    color: mode(`white`, `gray.50`)(props),\r\n    bg: background,\r\n    _disabled: {\r\n      background: mode('gray.200', 'gray.700')(props),\r\n      color: mode(`gray.800`, `gray.50`)(props),\r\n    },\r\n    _hover: {\r\n      background,\r\n      _disabled: {\r\n        background: mode('gray.200', 'gray.700')(props),\r\n        color: mode(`gray.800`, `gray.50`)(props),\r\n      },\r\n    },\r\n    _active: {\r\n      background,\r\n    },\r\n  };\r\n};\r\n\r\nconst variantUnstyled: SystemStyleObject = {\r\n  bg: 'none',\r\n  color: 'inherit',\r\n  display: 'inline',\r\n  lineHeight: 'inherit',\r\n  m: 0,\r\n  p: 0,\r\n};\r\n\r\nconst variants = {\r\n  ghost: variantGhost,\r\n  outline: variantOutline,\r\n  solid: variantSolid,\r\n  link: variantLink,\r\n  gradient: variantGradient,\r\n  unstyled: variantUnstyled,\r\n};\r\n\r\nconst sizes: Record<string, SystemStyleObject> = {\r\n  lg: {\r\n    h: 12,\r\n    minW: 12,\r\n    fontSize: 'lg',\r\n    px: 6,\r\n  },\r\n  md: {\r\n    h: 10,\r\n    minW: 10,\r\n    fontSize: 'md',\r\n    px: 4,\r\n  },\r\n  sm: {\r\n    h: 8,\r\n    minW: 8,\r\n    fontSize: 'sm',\r\n    px: 3,\r\n  },\r\n  xs: {\r\n    h: 6,\r\n    minW: 6,\r\n    fontSize: 'xs',\r\n    px: 2,\r\n  },\r\n};\r\n\r\nconst defaultProps = {\r\n  variant: 'solid',\r\n  size: 'md',\r\n  colorScheme: 'gray',\r\n};\r\n\r\nexport default {\r\n  baseStyle,\r\n  variants,\r\n  sizes,\r\n  defaultProps,\r\n};\r\n","const variantRounded = {\r\n  borderWidth: '1px',\r\n  borderStyle: 'solid',\r\n  borderColor: 'gray.200',\r\n  borderRadius: 'full',\r\n};\r\n\r\nconst variants = {\r\n  rounded: variantRounded,\r\n};\r\n\r\nexport default {\r\n  variants,\r\n};\r\n","import { menuAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyleList: SystemStyleFunction = (props) => {\r\n  return {\r\n    bg: mode('#fff', 'gray.700')(props),\r\n    boxShadow: mode('sm', 'dark-lg')(props),\r\n    color: 'inherit',\r\n    minW: '3xs',\r\n    py: '2',\r\n    zIndex: 1,\r\n    borderRadius: 'md',\r\n    borderWidth: '1px',\r\n  };\r\n};\r\n\r\nconst baseStyleItem: SystemStyleFunction = (props) => {\r\n  return {\r\n    py: '0.4rem',\r\n    px: '0.8rem',\r\n    transitionProperty: 'background',\r\n    transitionDuration: 'ultra-fast',\r\n    transitionTimingFunction: 'ease-in',\r\n    _focus: {\r\n      bg: mode('gray.100', 'whiteAlpha.100')(props),\r\n    },\r\n    _active: {\r\n      bg: mode('gray.200', 'whiteAlpha.200')(props),\r\n    },\r\n    _expanded: {\r\n      bg: mode('gray.100', 'whiteAlpha.100')(props),\r\n    },\r\n    _disabled: {\r\n      opacity: 0.4,\r\n      cursor: 'not-allowed',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleGroupTitle: SystemStyleObject = {\r\n  mx: 4,\r\n  my: 2,\r\n  fontWeight: 'semibold',\r\n  fontSize: 'sm',\r\n};\r\n\r\nconst baseStyleCommand: SystemStyleObject = {\r\n  opacity: 0.6,\r\n};\r\n\r\nconst baseStyleDivider: SystemStyleObject = {\r\n  border: 0,\r\n  borderBottom: '1px solid',\r\n  borderColor: 'inherit',\r\n  my: '0.5rem',\r\n  opacity: 0.6,\r\n};\r\n\r\nconst baseStyleButton: SystemStyleObject = {\r\n  transitionProperty: 'common',\r\n  transitionDuration: 'normal',\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  button: baseStyleButton,\r\n  list: baseStyleList(props),\r\n  item: baseStyleItem(props),\r\n  groupTitle: baseStyleGroupTitle,\r\n  command: baseStyleCommand,\r\n  divider: baseStyleDivider,\r\n});\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n};\r\n","import { modalAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  PartsStyleObject,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyleOverlay: SystemStyleObject = {\r\n  bg: 'blackAlpha.600',\r\n  zIndex: 'modal',\r\n};\r\n\r\nconst baseStyleDialogContainer: SystemStyleFunction = (props) => {\r\n  const { isCentered, scrollBehavior } = props;\r\n\r\n  return {\r\n    display: 'flex',\r\n    zIndex: 'modal',\r\n    justifyContent: 'center',\r\n    alignItems: isCentered ? 'center' : 'flex-start',\r\n    overflow: scrollBehavior === 'inside' ? 'hidden' : 'auto',\r\n  };\r\n};\r\n\r\nconst baseStyleDialog: SystemStyleFunction = (props) => {\r\n  const { scrollBehavior } = props;\r\n\r\n  return {\r\n    borderRadius: 'xl',\r\n    bg: mode('white', 'custom.2')(props),\r\n    color: 'inherit',\r\n    my: '3.75rem',\r\n    mx: '1rem',\r\n    zIndex: 'modal',\r\n    maxH: scrollBehavior === 'inside' ? 'calc(100% - 7.5rem)' : undefined,\r\n    boxShadow: mode('lg', 'dark-lg')(props),\r\n  };\r\n};\r\n\r\nconst baseStyleHeader: SystemStyleObject = {\r\n  px: 6,\r\n  py: 4,\r\n  borderStyle: 'solid',\r\n  borderBottomWidth: '1px',\r\n  fontSize: 'xl',\r\n  fontWeight: 'semibold',\r\n  textAlign: 'center',\r\n};\r\n\r\nconst baseStyleCloseButton: SystemStyleObject = {\r\n  borderRadius: 'full',\r\n  position: 'absolute',\r\n  top: 2,\r\n  insetEnd: 3,\r\n};\r\n\r\nconst baseStyleBody: SystemStyleFunction = (props) => {\r\n  const { scrollBehavior } = props;\r\n  return {\r\n    px: 6,\r\n    py: 2,\r\n    flex: 1,\r\n    overflow: scrollBehavior === 'inside' ? 'auto' : undefined,\r\n  };\r\n};\r\n\r\nconst baseStyleFooter: SystemStyleObject = {\r\n  px: 6,\r\n  py: 4,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  overlay: baseStyleOverlay,\r\n  dialogContainer: baseStyleDialogContainer(props),\r\n  dialog: baseStyleDialog(props),\r\n  header: baseStyleHeader,\r\n  closeButton: baseStyleCloseButton,\r\n  body: baseStyleBody(props),\r\n  footer: baseStyleFooter,\r\n});\r\n\r\n/**\r\n * Since the `maxWidth` prop references theme.sizes internally,\r\n * we can leverage that to size our modals.\r\n */\r\nfunction getSize(value: string): PartsStyleObject<typeof parts> {\r\n  if (value === 'full') {\r\n    return {\r\n      dialog: { maxW: '100vw', minH: '100vh', my: 0 },\r\n    };\r\n  }\r\n  return {\r\n    dialog: { maxW: value },\r\n  };\r\n}\r\n\r\nconst sizes = {\r\n  xs: getSize('xs'),\r\n  sm: getSize('sm'),\r\n  md: getSize('md'),\r\n  lg: getSize('lg'),\r\n  xl: getSize('xl'),\r\n  '2xl': getSize('2xl'),\r\n  '3xl': getSize('3xl'),\r\n  '4xl': getSize('4xl'),\r\n  '5xl': getSize('5xl'),\r\n  '6xl': getSize('6xl'),\r\n  full: getSize('full'),\r\n};\r\n\r\nconst defaultProps = {\r\n  size: 'md',\r\n};\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n  sizes,\r\n  defaultProps,\r\n};\r\n","import { popoverAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { cssVar, mode } from '@chakra-ui/theme-tools';\r\n\r\nconst $popperBg = cssVar('popper-bg');\r\n\r\nconst $arrowBg = cssVar('popper-arrow-bg');\r\nconst $arrowShadowColor = cssVar('popper-arrow-shadow-color');\r\n\r\nconst baseStylePopper: SystemStyleObject = {\r\n  zIndex: 10,\r\n};\r\n\r\nconst baseStyleContent: SystemStyleFunction = (props) => {\r\n  const bg = mode('white', 'gray.800')(props);\r\n  const borderColor = mode('gray.100', 'custom.4')(props);\r\n\r\n  return {\r\n    [$popperBg.variable]: `colors.${bg}`,\r\n    bg: $popperBg.reference,\r\n    [$arrowBg.variable]: $popperBg.reference,\r\n    [$arrowShadowColor.variable]: 'transparent',\r\n    width: 'xs',\r\n    borderRadius: 'xl',\r\n    shadow: 'md',\r\n    border: '1px solid',\r\n    borderColor,\r\n    zIndex: 'inherit',\r\n    _focus: {\r\n      outline: 0,\r\n      boxShadow: 'outline',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleHeader: SystemStyleObject = {\r\n  mx: 4,\r\n  py: 4,\r\n  px: 1,\r\n  borderBottomWidth: '1px',\r\n  fontWeight: 'bold',\r\n};\r\n\r\nconst baseStyleBody: SystemStyleObject = {\r\n  mx: 4,\r\n  px: 1,\r\n  py: 4,\r\n};\r\n\r\nconst baseStyleFooter: SystemStyleObject = {\r\n  px: 3,\r\n  py: 2,\r\n  borderTopWidth: '1px',\r\n};\r\n\r\nconst baseStyleCloseButton: SystemStyleObject = {\r\n  position: 'absolute',\r\n  borderRadius: 'md',\r\n  top: 1,\r\n  insetEnd: 2,\r\n  padding: 2,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  popper: baseStylePopper,\r\n  content: baseStyleContent(props),\r\n  header: baseStyleHeader,\r\n  body: baseStyleBody,\r\n  footer: baseStyleFooter,\r\n  closeButton: baseStyleCloseButton,\r\n});\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n};\r\n","import { tabsAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  PartsStyleInterpolation,\r\n  PartsStyleObject,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { getColor, mode } from '@chakra-ui/theme-tools';\r\n\r\nimport { theme } from '..';\r\n\r\nconst baseStyleRoot: SystemStyleFunction = (props) => {\r\n  const { orientation } = props;\r\n  return {\r\n    display: orientation === 'vertical' ? 'flex' : 'block',\r\n  };\r\n};\r\n\r\nconst baseStyleTab: SystemStyleFunction = (props) => {\r\n  const { isFitted } = props;\r\n\r\n  return {\r\n    flex: isFitted ? 1 : undefined,\r\n    transitionProperty: 'common',\r\n    transitionDuration: 'normal',\r\n    _focus: {\r\n      zIndex: 1,\r\n      boxShadow: 'outline',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleTablist: SystemStyleFunction = (props) => {\r\n  const { align = 'start', orientation } = props;\r\n\r\n  const alignments = {\r\n    end: 'flex-end',\r\n    center: 'center',\r\n    start: 'flex-start',\r\n  };\r\n\r\n  return {\r\n    justifyContent: alignments[align as keyof typeof alignments],\r\n    flexDirection: orientation === 'vertical' ? 'column' : 'row',\r\n  };\r\n};\r\n\r\nconst baseStyleTabpanel: SystemStyleObject = {\r\n  p: 4,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  root: baseStyleRoot(props),\r\n  tab: baseStyleTab(props),\r\n  tablist: baseStyleTablist(props),\r\n  tabpanel: baseStyleTabpanel,\r\n});\r\n\r\nconst sizes: Record<string, PartsStyleObject<typeof parts>> = {\r\n  sm: {\r\n    tab: {\r\n      py: 1,\r\n      px: 4,\r\n      fontSize: 'sm',\r\n    },\r\n  },\r\n  md: {\r\n    tab: {\r\n      fontSize: 'md',\r\n      py: 2,\r\n      px: 4,\r\n    },\r\n  },\r\n  lg: {\r\n    tab: {\r\n      fontSize: 'lg',\r\n      py: 3,\r\n      px: 4,\r\n    },\r\n  },\r\n};\r\n\r\nconst variantLine: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c, orientation } = props;\r\n  const isVertical = orientation === 'vertical';\r\n  const borderProp =\r\n    orientation === 'vertical' ? 'borderStart' : 'borderBottom';\r\n  const marginProp = isVertical ? 'marginStart' : 'marginBottom';\r\n\r\n  return {\r\n    tablist: {\r\n      [borderProp]: '2px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n    tab: {\r\n      [borderProp]: '2px solid',\r\n      borderColor: 'transparent',\r\n      [marginProp]: '-2px',\r\n      _selected: {\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'currentColor',\r\n      },\r\n      _active: {\r\n        bg: mode('gray.200', 'whiteAlpha.300')(props),\r\n      },\r\n      _disabled: {\r\n        opacity: 0.4,\r\n        cursor: 'not-allowed',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nconst variantEnclosed: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    tab: {\r\n      borderTopRadius: 'md',\r\n      border: '1px solid',\r\n      borderColor: 'transparent',\r\n      mb: '-1px',\r\n      _selected: {\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'inherit',\r\n        borderBottomColor: mode(`white`, `gray.800`)(props),\r\n      },\r\n    },\r\n    tablist: {\r\n      mb: '-1px',\r\n      borderBottom: '1px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n  };\r\n};\r\n\r\nconst variantEnclosedColored: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    tab: {\r\n      border: '1px solid',\r\n      borderColor: 'inherit',\r\n      bg: mode(`gray.50`, `whiteAlpha.50`)(props),\r\n      mb: '-1px',\r\n      _notLast: {\r\n        marginEnd: '-1px',\r\n      },\r\n      _selected: {\r\n        bg: mode('white', 'gray.800')(props),\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'inherit',\r\n        borderTopColor: 'currentColor',\r\n        borderBottomColor: 'transparent',\r\n      },\r\n    },\r\n    tablist: {\r\n      mb: '-1px',\r\n      borderBottom: '1px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n  };\r\n};\r\n\r\nconst variantSoftRounded: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n  return {\r\n    tab: {\r\n      borderRadius: 'full',\r\n      fontWeight: 'semibold',\r\n      color: 'gray.600',\r\n      _selected: {\r\n        color: getColor(theme, `${c}.700`),\r\n        bg: getColor(theme, `${c}.100`),\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nconst variantSolidRounded: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n\r\n  return {\r\n    tab: {\r\n      borderRadius: 'full',\r\n      fontWeight: 'semibold',\r\n      color: mode('gray.600', 'inherit')(props),\r\n      _selected: {\r\n        color: mode(`#fff`, 'gray.100')(props),\r\n        bg: mode(\r\n          `${c}.600`,\r\n          `linear-gradient(to right, ${theme.colors[c][500]}, ${theme.colors[c][600]})`\r\n        )(props),\r\n      },\r\n    },\r\n    tablist: {\r\n      shadow: mode('base', 'none')(props),\r\n      backgroundColor: mode(`gray.50`, `gray.800`)(props),\r\n      borderRadius: 'full',\r\n      p: '1.5',\r\n    },\r\n  };\r\n};\r\nconst variantUnstyled: PartsStyleObject<typeof parts> = {};\r\nconst variants: Record<string, PartsStyleInterpolation<typeof parts>> = {\r\n  line: variantLine,\r\n  enclosed: variantEnclosed,\r\n  'enclosed-colored': variantEnclosedColored,\r\n  'soft-rounded': variantSoftRounded,\r\n  'solid-rounded': variantSolidRounded,\r\n  unstyled: variantUnstyled,\r\n};\r\nconst defaultProps = {\r\n  size: 'md',\r\n  variant: 'line',\r\n  colorScheme: 'blue',\r\n};\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n  sizes,\r\n  variants,\r\n  defaultProps,\r\n};\r\n","export const colors = {\r\n  gray: {\r\n    50: '#F0F2F4',\r\n    100: '#D6D8DA',\r\n    200: '#BBBEC2',\r\n    300: '#9EA5AC',\r\n    400: '#818B95',\r\n    500: '#68727D',\r\n    600: '#515860',\r\n    700: '#3B3F44',\r\n    800: '#323350',\r\n    900: '#0B0D0F',\r\n  },\r\n  black: '#151515',\r\n  darkBlue:\"#0C0D30\",\r\n  custom: {\r\n    1: '#888E8F',\r\n    2: \"#1c1f43\", // \"#1c1f43\",// '#1E1E1E',\r\n    3: \"#323350\", //'#282828',\r\n    4: '#373737',\r\n    5: '#FFFFFF',\r\n  },\r\n  ['dark-blue']: {\r\n    50: '#eceefe',\r\n    100: '#d8dcfd',\r\n    200: '#b1bafb',\r\n    300: '#8b97f8',\r\n    400: '#6475f6',\r\n    500: '#3d52f4',\r\n    600: '#3142c3',\r\n    700: '#253192',\r\n    800: '#182162',\r\n    900: '#0c1031',\r\n  },\r\n  app: {\r\n    background: {\r\n    body: {\r\n      dark: '#0C0D30',\r\n      light: '#FFFFFF',\r\n    }\r\n  }}\r\n};\r\n","export * from './colors';\r\n","import { extendTheme } from '@chakra-ui/react';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nimport Button from './components/button';\r\nimport CloseButton from './components/close-button';\r\nimport Menu from './components/menu';\r\nimport Modal from './components/modal';\r\nimport Popover from './components/popover';\r\nimport Tabs from './components/tabs';\r\nimport { colors } from './foundations';\r\n\r\nconst appTheme = {\r\n  styles: {\r\n    global: (props: any) => ({\r\n      html: {\r\n        fontSize: ['12px', '14px', '16px'],\r\n      },\r\n      body: {\r\n        // bg: mode('custom.5', 'black')(props),\r\n        bg: mode('app.background.body.light', 'app.background.body.dark')(props),\r\n      },\r\n    }),\r\n  },\r\n  fonts: {\r\n    heading: 'Nunito Sans',\r\n    body: 'Nunito Sans',\r\n  },\r\n  config: {\r\n    initialColorMode: 'dark',\r\n    useSystemColorMode: false,\r\n  },\r\n  sizes: {\r\n    modalHeight: '345px',\r\n  },\r\n  colors,\r\n  components: {\r\n    Button,\r\n    Tabs,\r\n    CloseButton,\r\n    Modal,\r\n    Popover,\r\n    Menu,\r\n  },\r\n};\r\n\r\nexport const theme = extendTheme(appTheme);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Pair } from '@memecake/sonic-js';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppTokenMetadata, AppTokenMetadataListObject, PairBalances } from '@/models';\r\n\r\nvar prorityOrder = ENV.prorityOrder;\r\n\r\nexport const desensitizationPrincipalId = (principalId?: string, firstLength = 5, lastLength = 3) => {\r\n  if (principalId) {\r\n    const firstPart = principalId.slice(0, firstLength);\r\n    const secondPart = principalId.slice(principalId.length - lastLength, principalId.length);\r\n    return `${firstPart}...${secondPart}`;\r\n  }\r\n};\r\n\r\nexport const parseResponseSupportedTokenList = (response: SwapIDL.TokenInfoExt[], price?: string): AppTokenMetadata[] => {\r\n  var a1: any = [], a2: any = [];\r\n  response.forEach((token) => {\r\n    const logo = \"https://cdn.sonic.ooo/icons/\"+token.id || questionMarkSrc ; // getFromStorage(`${token.id}-logo`) || questionMarkSrc;\r\n    var tempTkn = { ...token, ...(price ? { price } : {}), logo }\r\n    var order = prorityOrder.findIndex(x => x == token.symbol);\r\n    var isBlocked = ENV.hiddenTokens.includes(token.id);\r\n    if (!isBlocked) {\r\n      if (order != -1) { a1[order] = tempTkn }\r\n      else { a2.push(tempTkn) }\r\n    }\r\n  })\r\n  var resetArr = [...a1, ...a2].filter(x => x ? true : false);\r\n  return resetArr;\r\n};\r\n\r\nexport const parseResponseTokenList = (response: AppTokenMetadata[]): AppTokenMetadataListObject => {\r\n  return response.reduce((list, token) => {\r\n    if (!list) return {};\r\n    if (ENV.hiddenTokens.includes(token.id))\r\n      return list;\r\n    list[token.id] = token;\r\n    return list;\r\n  }, {} as AppTokenMetadataListObject);\r\n};\r\n\r\nexport const parseResponsePair = (\r\n  pair: [] | [SwapIDL.PairInfoExt]\r\n): SwapIDL.PairInfoExt | undefined => {\r\n  if (pair.length === 0) { return undefined; }\r\n  const resultPair = pair[0];\r\n  for (const token of [resultPair.token0, resultPair.token1]) {\r\n    if (ENV.hiddenTokens.includes(token)) return undefined;\r\n  }\r\n  return pair[0];\r\n};\r\n\r\nexport const parseResponseAllPairs = (\r\n  response: SwapIDL.PairInfoExt[]\r\n): Pair.List => {\r\n  return response.reduce((list, pair) => {\r\n    const { token0, token1, reserve0, reserve1 } = pair;\r\n    for (const token of [token0, token1]) {\r\n      if (ENV.hiddenTokens.includes(token)) return list;\r\n    }\r\n    return {\r\n      ...list,\r\n      [token0]: { ...list[token0], [token1]: pair },\r\n      [token1]: { ...list[token1], [token0]: { ...pair, token0: token1, token1: token0, reserve0: reserve1, reserve1: reserve0 } },\r\n    } as Pair.List;\r\n  }, {} as Pair.List);\r\n};\r\n\r\nexport const parseResponseUserLPBalances = ( response: [tokenId: string, amount: bigint][]): PairBalances => {\r\n  return response.reduce((balances, [tokenId, amount]) => {\r\n    const tokenIds = tokenId.split(':');\r\n    for (const token of tokenIds) {\r\n      if (ENV.hiddenTokens.includes(token)) return balances;\r\n    }\r\n    const [token0Id, token1Id] = tokenIds;\r\n    return {...balances,[token0Id]: { ...balances[token0Id], [token1Id]: Number(amount) },\r\n      [token1Id]: { ...balances[token1Id], [token0Id]: Number(amount) },\r\n    };\r\n  }, {} as PairBalances);\r\n};\r\n\r\nexport const validPrincipalId = (principalId: string) => {\r\n  try {\r\n    return Boolean(Principal.fromText(principalId));\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n","import { TokenIDL, SwapIDL, capCanIDL } from '@/did';\r\nimport { useSwapCanisterStore } from '@/store';\r\n\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { ENV } from '@/config';\r\n\r\nimport crc32 from 'buffer-crc32';\r\nimport { Buffer } from 'buffer';\r\nimport crypto from \"crypto-js\";\r\n\r\nvar supportedTokenList: any = [];\r\nvar tokenListObj: any = {};\r\n\r\nfunction waitWithTimeout(ms:number) {\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => reject(new Error('Timeout')), ms);\r\n  });\r\n}\r\n\r\n\r\nexport const loadsupportedTokenList = async () => {\r\n  supportedTokenList = useSwapCanisterStore()?.supportedTokenList;\r\n  if (!supportedTokenList || Object.keys(tokenListObj).length > 0) return false;\r\n  supportedTokenList.forEach((el: { id: string }) => { tokenListObj[el.id] = el });\r\n\r\n  // if (isConnected) { \r\n  //   [...Object.values(ENV.canistersPrincipalIDs),...Object.keys(supportedTokenList)]\r\n  //   artemis.connect('plug',); }\r\n}\r\n\r\nexport const tokenList = (returnType: 'array' | 'obj', tokenId?: string): AppTokenMetadata[] | any => {\r\n  return (returnType == 'array' && !tokenId) ? supportedTokenList :\r\n    (!tokenId) ? tokenListObj : tokenListObj[tokenId];\r\n};\r\n\r\nexport const getTokenActor = async (canisterId: string, isAnnon: boolean): Promise<any> => {\r\n\r\n  var token = tokenListObj?.[canisterId];\r\n  if (!token) return false;\r\n  var actor = false;\r\n  var idl: any = token.tokenType == 'DIP20' ? TokenIDL.DIP20.factory :\r\n    token.tokenType == 'YC' ? TokenIDL.DIP20.YCfactory :\r\n      token.tokenType == 'ICRC1' ? TokenIDL.ICRC1.factory : TokenIDL.DIP20.factory;\r\n  if (isAnnon == false && !artemis.provider) { await artemis.autoConnect(); }\r\n  actor = await artemis.getCanisterActor(token.id, idl, isAnnon);\r\n  return actor;\r\n}\r\n\r\nexport const getswapActor = async (isAnnon: boolean): Promise<SwapIDL.Factory> => {\r\n  if (!isAnnon && !artemis.provider) {\r\n    await artemis.autoConnect();\r\n  }\r\n  var actor = await artemis.getCanisterActor(ENV.canistersPrincipalIDs.swap, SwapIDL.factory, isAnnon);\r\n  return actor;\r\n}\r\n\r\nexport const getSwapCapActor = async (isAnnon: boolean): Promise<capCanIDL.Factory> => {\r\n  if (!isAnnon && !artemis.provider) {\r\n    await artemis.autoConnect();\r\n  }\r\n  var actor = await artemis.getCanisterActor(ENV.canistersPrincipalIDs.swapCapRoot, capCanIDL.factory, isAnnon);\r\n  return actor;\r\n}\r\n\r\n\r\nexport const getTokenLogo = async (canisterId: string): Promise<string> => {\r\n  var token = tokenListObj?.[canisterId];\r\n  if (!token) return '';\r\n  var tokenLogo = '';\r\n  var tokenActor = await getTokenActor(token.id, true);\r\n  try {\r\n    if (!token?.tokenType || token?.tokenType == 'DIP20' || token?.tokenType == 'YC') {\r\n      tokenLogo = await tokenActor.logo();\r\n    } else if (token?.tokenType == 'ICRC1') {\r\n      tokenLogo = \"https://d15bmhsw4m27if.cloudfront.net/sonic/\" + token.id\r\n    }\r\n  } catch (error) {\r\n    tokenLogo = ''\r\n  }\r\n\r\n  return tokenLogo;\r\n}\r\n\r\nexport const getTokenBalance = async (canisterId: string, principalId?: string): Promise<bigint> => {\r\n  var tokenInfo = tokenListObj?.[canisterId];\r\n  var tokenBalance: bigint = BigInt(0);\r\n  if (!tokenInfo) { return tokenBalance; }\r\n  var prin = artemis.principalId ? artemis.principalId : principalId;\r\n\r\n  if (!prin) return tokenBalance;\r\n  \r\n  try {\r\n    var tokenActor = await getTokenActor(tokenInfo.id, true);\r\n    if (tokenInfo?.tokenType == 'DIP20' || tokenInfo?.tokenType == 'YC') {\r\n      tokenBalance =  await Promise.race([\r\n        tokenActor.balanceOf(Principal.fromText(prin)), \r\n        waitWithTimeout(10000) \r\n      ]);\r\n    } else if (tokenInfo?.tokenType == 'ICRC1') {\r\n      tokenBalance =  await Promise.race([\r\n        tokenActor.icrc1_balance_of({ owner: Principal.fromText(prin), subaccount: [] }),\r\n        waitWithTimeout(10000) \r\n      ]);\r\n    }\r\n  } catch (error) {\r\n    tokenBalance = BigInt(0);\r\n    console.log(tokenInfo.name+' ('+ tokenInfo.id +') failed to load !!!' );\r\n  }\r\n   return tokenBalance;\r\n}\r\n\r\nexport const getTokenAllowance = async (canisterId: string): Promise<bigint> => {\r\n\r\n  var allowance = BigInt(0);\r\n  var tokenInfo = tokenListObj?.[canisterId];\r\n  if (!tokenInfo || !artemis.principalId) return allowance;\r\n\r\n  try {\r\n    var tokenActor = await getTokenActor(canisterId, true);\r\n    if (tokenInfo?.tokenType == 'DIP20' || tokenInfo?.tokenType == 'YC') {\r\n      allowance = await tokenActor.allowance(Principal.fromText(artemis.principalId), Principal.fromText(ENV.canistersPrincipalIDs.swap));\r\n    } else allowance = BigInt(0);\r\n  } catch (error) {\r\n    allowance = BigInt(0);\r\n  }\r\n  return allowance;\r\n}\r\n\r\nexport const toHexString = (byteArray: []) => {\r\n  return Array.from(byteArray, function (byte) {\r\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r\n  }).join('')\r\n}\r\nexport const fromHexString = (hex: string): number[] => {\r\n  if (!hex) return [];\r\n  if (hex.substr(0, 2) === \"0x\") hex = hex.substr(2);\r\n  for (var bytes: number[] = [], c = 0; c < hex.length; c += 2)\r\n    bytes.push(parseInt(hex.substr(c, 2), 16));\r\n  return bytes;\r\n}\r\nexport const checkAddressType = (address: string): string => {\r\n  if (address.length < 23) return 'invalid';\r\n  if (isValidAccountId(address)) return 'accountId';\r\n  else if (isPrincipalId(address)) return 'principalId';\r\n  else return 'invalid'\r\n\r\n  function isPrincipalId(id: string) {\r\n    try {\r\n      Principal.fromText(id); return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n  function isValidAccountId(accountId: string) {\r\n    const accountIdRegex = /^[A-Fa-f0-9]{64}$/;\r\n    return accountIdRegex.test(accountId);\r\n  }\r\n}\r\nconst ACCOUNT_DOMAIN_SEPERATOR = '\\x0Aaccount-id';\r\nconst SUB_ACCOUNT_ZERO = Buffer.alloc(32);\r\n\r\nconst byteArrayToWordArray = (byteArray: any) => {\r\n  const wordArray: any = [];\r\n  let i;\r\n  for (i = 0; i < byteArray.length; i += 1) {\r\n    wordArray[(i / 4) | 0] |= byteArray[i] << (24 - 8 * i);\r\n  }\r\n  // eslint-disable-next-line\r\n  const result = crypto.lib.WordArray.create(wordArray, byteArray.length);\r\n  return result;\r\n};\r\nconst wordToByteArray = (word: any, length: number) => {\r\n  const byteArray = [];\r\n  const xFF = 0xff;\r\n  if (length > 0) byteArray.push(word >>> 24);\r\n  if (length > 1) byteArray.push((word >>> 16) & xFF);\r\n  if (length > 2) byteArray.push((word >>> 8) & xFF);\r\n  if (length > 3) byteArray.push(word & xFF);\r\n\r\n  return byteArray;\r\n};\r\nconst wordArrayToByteArray = (wordArray: any, length: number) => {\r\n  if (\r\n    wordArray.hasOwnProperty('sigBytes') &&\r\n    wordArray.hasOwnProperty('words')\r\n  ) {\r\n    length = wordArray.sigBytes;\r\n    wordArray = wordArray.words;\r\n  }\r\n\r\n  let result: any = [];\r\n  let bytes;\r\n  let i = 0;\r\n  while (length > 0) {\r\n    bytes = wordToByteArray(wordArray[i], Math.min(4, length));\r\n    length -= bytes.length;\r\n    result = [...result, bytes];\r\n    i++;\r\n  }\r\n  return [].concat.apply([], result);\r\n};\r\nconst generateChecksum = (hash: any) => {\r\n  const crc = crc32.unsigned(Buffer.from(hash));\r\n  const hex = intToHex(crc);\r\n  return hex.padStart(8, '0');\r\n};\r\n\r\nconst intToHex = (val: any) =>\r\n  val < 0 ? (Number(val) >>> 0).toString(16) : Number(val).toString(16);\r\n\r\nexport const getAccountIdFromPrincipalId = (principalId: string) => {\r\n\r\n  try {\r\n    var principal = Principal.from(principalId);\r\n    const sha = crypto.algo.SHA224.create();\r\n    sha.update(ACCOUNT_DOMAIN_SEPERATOR); // Internally parsed with UTF-8, like go does\r\n    sha.update(byteArrayToWordArray(principal.toUint8Array()));\r\n    const subBuffer = Buffer.from(SUB_ACCOUNT_ZERO);\r\n\r\n    sha.update(byteArrayToWordArray(subBuffer));\r\n    const hash = sha.finalize();\r\n    const byteArray = wordArrayToByteArray(hash, 28);\r\n    const checksum = generateChecksum(byteArray);\r\n    const val = checksum + hash.toString();\r\n    return val;\r\n  } catch (error) { return '' }\r\n}\r\n\r\nexport const getPrincipalFromText = (prin: string) => {\r\n  try {\r\n    return Principal.fromText(prin)\r\n  } catch (error) { return false }\r\n}","import { ENV } from '@/config';\r\n\r\nexport abstract class ExternalLink {\r\n  static readonly discord = ENV.URLs.discord;\r\n\r\n  static readonly twitter = ENV.URLs.twitter;\r\n\r\n  static readonly medium = ENV.URLs.medium;\r\n\r\n  static readonly github = ENV.URLs.github;\r\n\r\n  static readonly sonicDocs = ENV.URLs.sonicDocs;\r\n\r\n  static readonly swapApiDocs = `${ENV.URLs.sonicDocs}/dev/swaps-api`;\r\n\r\n  static readonly failedMintDocs = `${ENV.URLs.sonicDocs}/product/swap/failed-swaps#failed-mints`;\r\n\r\n  static readonly termsAndConditions = ENV.URLs.termsAndConditions;\r\n\r\n  static readonly tokenRequestForm = ENV.URLs.tokenRequestForm;\r\n\r\n  static readonly analyticsApp = ENV.URLs.analyticsApp;\r\n\r\n  static readonly icpPrice = \"https://datapool.memecake.io/ticker/icpusdt\" \r\n\r\n  static ledgerTransaction(transaction: string): ExternalLink.URL {\r\n    return `${ENV.URLs.ledgerTransactions}/${transaction}`;\r\n  }\r\n\r\n  static capTransaction(transaction: string): ExternalLink.URL {\r\n    return `https://explorer.cap.ooo/app-transactions/${ENV.canistersPrincipalIDs.swap}/${transaction}`;\r\n  }\r\n}\r\n\r\nexport namespace ExternalLink {\r\n  export type URL = string;\r\n}\r\n","import { Bytes } from '@ethersproject/bytes';\r\nimport { Pair, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { ethers } from 'ethers';\r\nimport { formatUnits, parseUnits } from 'ethers/lib/utils';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport type BigNumberish = BigNumber | Bytes | bigint | string | number;\r\n\r\n//BigNumber.config({ EXPONENTIAL_AT: 99 });\r\nBigNumber.config({ EXPONENTIAL_AT: 99 });\r\n\r\nexport const parseAmount = (val: string, decimals: string | number): bigint => {\r\n  try {\r\n    const fixedVal = new BigNumber(val).toFixed(Number(decimals)); // Fix for scientific notation string\r\n    const str = parseUnits(fixedVal, decimals).toString();\r\n    return BigInt(str);\r\n  } catch (err) {\r\n    return BigInt(0);\r\n  }\r\n};\r\nexport const roundBigInt = ( val:BigInt ,actualDecimals:string | number, roundOfdecimals:number ): bigint =>{\r\n  try {\r\n    var ad:number = parseInt(actualDecimals.toString());\r\n    var roundedNumber =  (Math.floor( (Number(val) / 10 ** ad) *(10**roundOfdecimals))/(10**roundOfdecimals)).toString();\r\n    var tmp:number = parseFloat(roundedNumber)*(10**ad);\r\n    tmp=Number(tmp.toFixed(0))\r\n    return BigInt(tmp);\r\n  }catch (err) {\r\n    return BigInt(0);\r\n  }\r\n}\r\n\r\n\r\nexport const formatValue = (\r\n  val: BigInt | number | string,\r\n  decimals: number\r\n): string => {\r\n  try {\r\n    return formatUnits(ethers.BigNumber.from(val.toString()), decimals);\r\n  } catch (err) {\r\n    return '0';\r\n  }\r\n};\r\n\r\nexport type GetValueWithoutFeesOptions = {\r\n  value: string;\r\n  fee: bigint;\r\n  decimals: number;\r\n  numberOfFees?: number;\r\n};\r\n\r\nexport const getValueWithoutFees = ({\r\n  value,\r\n  fee,\r\n  decimals,\r\n  numberOfFees = 1,\r\n}: GetValueWithoutFeesOptions) => {\r\n  const _value = new BigNumber(value);\r\n  const _feesAmount = toBigNumber(numberOfFees * Number(fee)).applyDecimals(\r\n    decimals\r\n  );\r\n\r\n  return _value.minus(_feesAmount);\r\n};\r\n\r\nexport const getMaxValue = ( token?: AppTokenMetadata, balance?: number | bigint, isTransfer:boolean=false ): BigNumber => {\r\n  if (!token || !balance) return new BigNumber(0);\r\n  var times = 1;\r\n  if(token.tokenType =='ICRC1' || token.tokenType =='DIP20'){\r\n    times = 2;\r\n  }\r\n  if(isTransfer){ times = 1;}\r\n  \r\n  const value = toBigNumber(Number(balance)).minus(Number(token.fee) * times);\r\n\r\n  if (value.isNegative() || value.isZero()) {\r\n    return new BigNumber(0);\r\n  }\r\n\r\n  return value.applyDecimals(token.decimals);\r\n};\r\n\r\nexport const capitalize = (str: string) => {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n};\r\n\r\nexport const getPairIdsFromPairList = (pairList: Pair.List ): string[] => {\r\n  const idsSet = new Set<string>();\r\n  Object.values(pairList).forEach((paired) => {\r\n    Object.values(paired).forEach((pair) => {\r\n      idsSet.add(pair.id);\r\n    });\r\n  });\r\n  return Array.from(idsSet);\r\n};\r\n\r\nexport const getUserPailListFromPairList =  (pairList: Pair.List, principalId?:any ): string[] => {\r\n  const idsSet = new Set<string>();\r\n  Object.values(pairList).forEach( paired=>{\r\n    Object.values(paired).forEach(pair=>{\r\n      if(pair?.creator.toString() == principalId) idsSet.add(pair.id);\r\n    })\r\n})\r\n  return Array.from(idsSet);\r\n}\r\n\r\n","let timer: NodeJS.Timer | null = null;\r\n\r\nexport const debounce = (\r\n  fn: (...args: unknown[]) => unknown,\r\n  awaitTime = 500\r\n) => {\r\n  if (timer) clearTimeout(timer);\r\n  timer = setTimeout(() => {\r\n    fn();\r\n  }, awaitTime || 0);\r\n};\r\n","import { Principal } from '@dfinity/principal';\r\nimport { ActorAdapter } from '@memecake/sonic-js';\r\nimport axios from 'axios';\r\nimport BigNumber from 'bignumber.js';\r\nimport crc32 from 'buffer-crc32';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nimport { CyclesMintingIDL } from '@/did/sonic/cycles-minting.did';\r\nimport { createAnonLedgerActor } from '@/integrations/actor';\r\n\r\nimport { ExternalLink } from './external-link';\r\nimport { roundBigInt } from '@/utils/format';\r\nexport const ACCOUNT_DOMAIN_SEPERATOR = '\\x0Aaccount-id';\r\n\r\nexport const fetchICPBalance = async (principalId: string) => {\r\n  const ledgerActor = await createAnonLedgerActor();\r\n  const accountId = getAccountId(Principal.fromText(principalId || ''), 0);\r\n  if (accountId) {\r\n    const balance = ( await ledgerActor.account_balance_dfx({ account: accountId })).e8s;\r\n    var temp =  roundBigInt(balance, 8, 5);\r\n    const icpBalanceNoDecimals = new BigNumber(temp.toString()).div(new BigNumber('100000000')).toString();\r\n    return icpBalanceNoDecimals;\r\n  } else {\r\n    throw new Error('Account ID is required');\r\n  }\r\n};\r\n\r\nexport const fetchICP2XDRConversionRate = async () => {\r\n  const cmActor =\r\n    await ActorAdapter.createAnonymousActor<CyclesMintingIDL.Factory>(\r\n      'rkp4c-7iaaa-aaaaa-aaaca-cai', CyclesMintingIDL.factory,'https://ic0.app/'\r\n    );\r\n  return cmActor.get_icp_xdr_conversion_rate();\r\n};\r\n\r\nexport const fetchICPPrice = async () => {\r\n  try {\r\n    const response = await axios.get(ExternalLink.icpPrice);\r\n    if (response.status === 200) {\r\n      return response.data.price // ['internet-computer']['usd'];\r\n    } else {\r\n      throw new Error(response.statusText);\r\n    }\r\n  } catch (error) {\r\n    throw new Error((error as any).message);\r\n  }\r\n};\r\n\r\n/*\r\n    Used dfinity/keysmith/account/account.go as a base for the ID generation\r\n*/\r\nexport const getAccountId = ( principal: Principal, subAccount?: number): string => {\r\n  \r\n  const sha = CryptoJS.algo.SHA224.create();\r\n  sha.update(ACCOUNT_DOMAIN_SEPERATOR); // Internally parsed with UTF-8, like go does\r\n  sha.update(byteArrayToWordArray(principal.toUint8Array()));\r\n\r\n  const SUB_ACCOUNT_ZERO = Buffer.alloc(32);\r\n\r\n  const subBuffer = Buffer.from(SUB_ACCOUNT_ZERO);\r\n  if (subAccount) {\r\n    subBuffer.writeUInt32BE(subAccount);\r\n  }\r\n  sha.update(byteArrayToWordArray(subBuffer));\r\n  const hash = sha.finalize();\r\n\r\n  /// While this is backed by an array of length 28, it's canonical representation\r\n  /// is a hex string of length 64. The first 8 characters are the CRC-32 encoded\r\n  /// hash of the following 56 characters of hex. Both, upper and lower case\r\n  /// characters are valid in the input string and can even be mixed.\r\n  /// [ic/rs/rosetta-api/ledger_canister/src/account_identifier.rs]\r\n  const byteArray = wordArrayToByteArray(hash, 28);\r\n  const checksum = generateChecksum(byteArray);\r\n  const val = checksum + hash.toString();\r\n\r\n  return val;\r\n};\r\n\r\nconst byteArrayToWordArray = (byteArray: Uint8Array) => {\r\n  const wordArray = [] as any;\r\n  let i;\r\n  for (i = 0; i < byteArray.length; i += 1) {\r\n    wordArray[(i / 4) | 0] |= byteArray[i] << (24 - 8 * i);\r\n  }\r\n  // eslint-disable-next-line\r\n  const result = CryptoJS.lib.WordArray.create(wordArray, byteArray.length);\r\n  return result;\r\n};\r\n\r\nconst wordToByteArray = (word: number, length: number): number[] => {\r\n  const byteArray: number[] = [];\r\n  const xFF = 0xff;\r\n  if (length > 0) byteArray.push(word >>> 24);\r\n  if (length > 1) byteArray.push((word >>> 16) & xFF);\r\n  if (length > 2) byteArray.push((word >>> 8) & xFF);\r\n  if (length > 3) byteArray.push(word & xFF);\r\n\r\n  return byteArray;\r\n};\r\n\r\nconst wordArrayToByteArray = (wordArray: any, length: number) => {\r\n  if (\r\n    wordArray.hasOwnProperty('sigBytes') &&\r\n    wordArray.hasOwnProperty('words')\r\n  ) {\r\n    length = wordArray.sigBytes;\r\n    wordArray = wordArray.words;\r\n  }\r\n\r\n  let result: any = [];\r\n  let bytes;\r\n  let i = 0;\r\n  while (length > 0) {\r\n    bytes = wordToByteArray(wordArray[i], Math.min(4, length));\r\n    length -= bytes.length;\r\n    result = [...result, bytes];\r\n    i++;\r\n  }\r\n  return [].concat(...result) as unknown as Uint8Array;\r\n};\r\n\r\nexport const intToHex = (val: number) =>\r\n  val < 0 ? (Number(val) >>> 0).toString(16) : Number(val).toString(16);\r\n\r\n// We generate a CRC32 checksum, and trnasform it into a hexString\r\nexport const generateChecksum = (hash: Uint8Array) => {\r\n  const crc = crc32.unsigned(Buffer.from(hash));\r\n  const hex = intToHex(crc);\r\n  return hex.padStart(8, '0');\r\n};\r\n","export * from './external-link';\r\nexport * from './log';\r\nexport * from './canister';\r\nexport * from './navigator';\r\nexport * from './local-storage';\r\nexport * from './canisterDriver';\r\n","import { serialize } from '@memecake/sonic-js';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport enum LocalStorageKey {\r\n  Logos = 'logos',\r\n  LiquidityBannerDisabled = 'liquidityBannerDisabled',\r\n  AssetsBannerDisabled = 'assetsBannerDisabled',\r\n  TermsAndConditionsAccepted = 'termsAndConditionsAccepted',\r\n\r\n  MintWICPUncompleteBlockHeights = 'mintWICPUncompleteBlockHeights',\r\n  MintXTCUncompleteBlockHeights = 'mintXTCUncompleteBlockHeights',\r\n}\r\n\r\nexport type MintUncompleteBlockHeights = {\r\n  [principalId: string]: string[];\r\n};\r\n\r\nexport function getFromStorage(key: LocalStorageKey | string): any | undefined {\r\n  try {\r\n    const serializedValue = localStorage.getItem(key);\r\n    return serializedValue ? JSON.parse(serializedValue) : undefined;\r\n  } catch (error) {\r\n    AppLog.warn(`Failed to get from storage: key=${key}`, error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport function saveToStorage(key: LocalStorageKey | string, value: any): void {\r\n  try {\r\n    const serializedValue = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedValue);\r\n  } catch (error) {\r\n    AppLog.warn(\r\n      `Failed to save to storage: key=${key} value=${serialize(value)}`,\r\n      error\r\n    );\r\n  }\r\n}\r\n\r\nexport function removeFromStorage(key: LocalStorageKey | string): void {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    AppLog.warn(`Failed to remove from storage: key=${key}`, error);\r\n  }\r\n}\r\n","export abstract class AppLog {\r\n  static readonly IDENTIFIER = '[Sonic]';\r\n\r\n  static error(label: string, ...args: unknown[]): void {\r\n    // eslint-disable-next-line no-console\r\n    console.error(this.IDENTIFIER, this.createLabel(label), ...args);\r\n  }\r\n\r\n  static warn(label: string, ...args: unknown[]): void {\r\n    // eslint-disable-next-line no-console\r\n    console.warn(this.IDENTIFIER, this.createLabel(label), ...args);\r\n  }\r\n\r\n  private static createLabel(label: string): string {\r\n    return `[${label}]`;\r\n  }\r\n}\r\n","import { addNotification, NotificationType, store } from '@/store';\r\n\r\nexport const copyToClipboard = (\r\n  text: string,\r\n  message = 'Copied to clipboard'\r\n): void => {\r\n  navigator.clipboard.writeText(text);\r\n  store.dispatch(\r\n    addNotification({\r\n      id: String(new Date().getTime()),\r\n      title: message,\r\n      type: NotificationType.Success,\r\n    })\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type AddLiquidityActivityProps = {\r\n  amount0: number;\r\n  amount1: number;\r\n  lpAmount: number;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  token0: string;\r\n  token1: string;\r\n  time: number;\r\n};\r\n\r\nexport const AddLiquidityActivity: React.FC<AddLiquidityActivityProps> = ({\r\n  token0: _token0,\r\n  token1: _token1,\r\n  amount0,\r\n  amount1,\r\n  time,\r\n}) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token0 = tokenList[_token0];\r\n  const token1 = tokenList[_token1];\r\n\r\n  if (!token0 || !token1) return null;\r\n\r\n  return (\r\n    <Asset type=\"lp\" imageSources={[token0.logo, token1.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title=\"Add Liquidity\"\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount0}\r\n            decimals={token0.decimals}\r\n            suffix={' ' + token0.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaPlus />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amount1}\r\n            decimals={token1.decimals}\r\n            suffix={' ' + token1.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type DepositActivityProps = {\r\n  amount: number;\r\n  balance: number;\r\n  fee: number;\r\n  from: Principal;\r\n  to: Principal;\r\n  tokenId: string;\r\n  totalSupply: number;\r\n  time: number;\r\n};\r\n\r\nexport const DepositActivity = ({\r\n  amount,\r\n  tokenId,\r\n  time,\r\n}: DepositActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token = tokenList[tokenId];\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Deposit ${token.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount}\r\n            decimals={token.decimals}\r\n            suffix={' ' + token.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","export * from './add-liquidity-activity';\r\nexport * from './deposit-activity';\r\nexport * from './loading-activity';\r\nexport * from './remove-liquidity-activity';\r\nexport * from './swap-activity';\r\nexport * from './withdraw-activity';\r\nexport * from './ledger-transaction-activity';\r\n","import { Flex, Heading, HStack, Link, Box } from '@chakra-ui/react';\r\nimport { FaCube } from '@react-icons/all-files/fa/FaCube';\r\nimport { useMemo } from 'react';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { LedgerTransaction } from '@/integrations/ledger';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { useSwapCanisterStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nimport { copyToClipboard } from '@/utils';\r\n\r\nimport { FiCopy } from '@react-icons/all-files/fi/FiCopy';\r\nexport type LedgerTransactionActivityProps = LedgerTransaction;\r\n\r\nconst getTokenByAddress = (\r\n  address: string,\r\n  tokenList?: AppTokenMetadata[]\r\n): AppTokenMetadata | undefined => {\r\n  if (!tokenList) return;\r\n\r\n  const findToken = (tokenPrincipal: string) =>\r\n    tokenList.find((token) => token.id === tokenPrincipal);\r\n\r\n  switch (address) {\r\n    case ENV.accountIDs.WICP:\r\n      return findToken(ENV.canistersPrincipalIDs.WICP);\r\n    case ENV.accountIDs.XTC:\r\n      return findToken(ENV.canistersPrincipalIDs.XTC);\r\n  }\r\n};\r\n\r\nexport const LedgerTransactionActivity = ({\r\n  amount,\r\n  account1Address,\r\n  account2Address,\r\n  timestamp,\r\n  blockIndex,\r\n  hash,\r\n}: LedgerTransactionActivityProps) => {\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const [action, token] = useMemo(() => {\r\n    const from = getTokenByAddress(account1Address, supportedTokenList);\r\n    if (from) return ['from', from];\r\n\r\n    const to = getTokenByAddress(account2Address, supportedTokenList);\r\n    if (to) return ['to mint', to];\r\n\r\n    return ['unknown', undefined];\r\n  }, [account1Address, account2Address, supportedTokenList]);\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`ICP transfer ${action} ${token.symbol}`}\r\n          subtitle={timestamp.toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Flex textAlign=\"end\" direction=\"column\">\r\n        <Heading\r\n          as=\"h6\"\r\n          size=\"sm\"\r\n          display=\"flex\"\r\n          alignItems=\"flex-end\"\r\n          justifyContent=\"flex-end\"\r\n          mt=\"1\"\r\n          mb=\"0.5\"\r\n        >\r\n          <DisplayValue value={amount.toString()} decimals={token.decimals} suffix={' ICP'} shouldDivideByDecimals />\r\n        </Heading>\r\n        <Box>\r\n          <Flex>\r\n            <Flex> <FiCopy cursor={'pointer'} onClick={() => copyToClipboard(blockIndex.toString(), 'Block index ( ' + blockIndex + ' ) copied')} /> &nbsp; {blockIndex}&nbsp; </Flex>\r\n            <Link display=\"flex\" justifyContent=\"center\" alignItems=\"center\" fontSize=\"sm\"\r\n              href={ExternalLink.ledgerTransaction(hash)} target=\"_blank\" color=\"gray.400\"\r\n            >\r\n              <FaCube />\r\n            </Link>\r\n          </Flex>\r\n\r\n\r\n        </Box>\r\n\r\n      </Flex>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Skeleton, Stack } from '@chakra-ui/react';\r\n\r\nimport { Asset, AssetImageBlock, AssetTitleBlock } from '@/components';\r\n\r\nexport const LoadingActivity = () => {\r\n  return (\r\n    <Asset type=\"token\" isLoading mb={2}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock title={`Loading Title`} subtitle={'Loading'} />\r\n      </HStack>\r\n      <Stack textAlign=\"end\" alignSelf=\"flex-start\">\r\n        <Skeleton>\r\n          <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\" mb={2}>\r\n            Loading\r\n          </Heading>\r\n        </Skeleton>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type RemoveLiquidityActivityProps = {\r\n  amount0: number;\r\n  amount1: number;\r\n  lpAmount: number;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  token0: string;\r\n  token1: string;\r\n  time: number;\r\n};\r\n\r\nexport const RemoveLiquidityActivity: React.FC<\r\n  RemoveLiquidityActivityProps\r\n> = ({ token0: _token0, token1: _token1, amount0, amount1, time }) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token0 = tokenList[_token0];\r\n  const token1 = tokenList[_token1];\r\n\r\n  if (!token0 || !token1) return null;\r\n\r\n  return (\r\n    <Asset type=\"lp\" imageSources={[token0.logo, token1.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title=\"Remove Liquidity\"\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount0}\r\n            decimals={token0.decimals}\r\n            suffix={' ' + token0.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaPlus />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amount1}\r\n            decimals={token1.decimals}\r\n            suffix={' ' + token1.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\n\r\nimport { Asset, AssetImageBlock, AssetTitleBlock, DisplayValue } from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type SwapActivityProps = {\r\n  amountIn: number;\r\n  amountOut: number;\r\n  fee: number;\r\n  from: string;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  to: string;\r\n  time: number;\r\n};\r\n\r\nexport const SwapActivity = ({\r\n  from,\r\n  to,\r\n  time,\r\n  amountIn,\r\n  amountOut,\r\n}: SwapActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const fromToken = tokenList[from];\r\n  const toToken = tokenList[to];\r\n\r\n  if (!fromToken || !toToken) return null;\r\n\r\n  return (\r\n    <Asset type=\"swap\" imageSources={[fromToken.logo, toToken.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Swap ${fromToken.symbol} to ${toToken.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amountIn}\r\n            decimals={fromToken.decimals}\r\n            suffix={' ' + fromToken.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaArrowRight />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amountOut}\r\n            decimals={toToken.decimals}\r\n            suffix={' ' + toToken.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type WithdrawActivityProps = {\r\n  amount: number;\r\n  balance: number;\r\n  fee: number;\r\n  from: Principal;\r\n  to: Principal;\r\n  tokenId: string;\r\n  totalSupply: number;\r\n  time: number;\r\n};\r\n\r\nexport const WithdrawActivity = ({\r\n  amount,\r\n  tokenId,\r\n  time,\r\n}: WithdrawActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token = tokenList[tokenId];\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Withdraw ${token.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount}\r\n            decimals={token.decimals}\r\n            suffix={' ' + token.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","export * from './list';\r\n","import { Skeleton, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport React, { Fragment, useEffect, useMemo } from 'react';\r\n\r\nimport { Header, WalletNotConnected } from '@/components';\r\nimport {\r\n  activityViewActions,\r\n  FeatureState,\r\n  useActivityView,\r\n  useActivityViewStore,\r\n  useAppDispatch,\r\n  useWalletStore,\r\n} from '@/store';\r\n\r\nimport {\r\n  AddLiquidityActivity,\r\n  DepositActivity,\r\n  LedgerTransactionActivity,\r\n  LoadingActivity,\r\n  RemoveLiquidityActivity,\r\n  SwapActivity,\r\n  WithdrawActivity,\r\n} from './components';\r\n\r\nexport const ActivityListView = () => {\r\n  useActivityView();\r\n  const { isConnected } = useWalletStore();\r\n  const { activityList, CAPstate, LedgerState, page, lastPage } = useActivityViewStore();\r\n  \r\n  const dispatch = useAppDispatch();\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  useEffect(() => {\r\n    const scrollHandler = (): void => {\r\n      if (lastPage === 0 || page === 0 || CAPstate === FeatureState.Loading)\r\n        return;\r\n      const isBottom =\r\n        window.scrollY + window.innerHeight >= document.body.offsetHeight;\r\n      if (isBottom && page) {\r\n        dispatch(activityViewActions.setPage(page - 1));\r\n      }\r\n    };\r\n\r\n    scrollHandler();\r\n    window.addEventListener('scroll', scrollHandler);\r\n    return () => window.removeEventListener('scroll', scrollHandler);\r\n  }, [page, lastPage, CAPstate, dispatch]);\r\n\r\n  const isUpdating = useMemo(() => {\r\n    return (\r\n      CAPstate === FeatureState.Loading || LedgerState === FeatureState.Loading\r\n    );\r\n  }, [CAPstate, LedgerState]);\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <>\r\n        <Header title=\"Your Activity\" />\r\n        <WalletNotConnected message=\"Your transaction activity will appear here.\" />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (isUpdating && Object.keys(activityList).length === 0) {\r\n    return (\r\n      <>\r\n        <Header title=\"Your Activity\" />\r\n        <Skeleton mb={2} h={4} w={40} />\r\n        <LoadingActivity />\r\n        <LoadingActivity />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (Object.keys(activityList).length === 0) {\r\n    return (\r\n      <>\r\n        <Header\r\n          title=\"Your Activity\"\r\n          isUpdating={CAPstate === FeatureState.Loading}\r\n        />\r\n        <Text textAlign=\"center\" color={color}>\r\n          You have no activity\r\n        </Text>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header title=\"Your Activity\" isUpdating={isUpdating} />\r\n      <Stack mt={-5} mb={-5} spacing={4} overflowX=\"hidden\" position=\"relative\">\r\n        <Stack\r\n          overflowX=\"auto\"\r\n          pb={20}\r\n          pt={5}\r\n          css={{\r\n            '&::-webkit-scrollbar': {\r\n              display: 'none',\r\n            },\r\n            '&::-webkit-scrollbar-track': {\r\n              display: 'none',\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n              display: 'none',\r\n            },\r\n          }}\r\n        >\r\n          {Object.entries(activityList)\r\n            .sort(\r\n              ([dateA], [dateB]) =>\r\n                new Date(dateB).getTime() - new Date(dateA).getTime()\r\n            )\r\n            .map(([date, transactions], index) => (\r\n              <Fragment key={index}>\r\n                <Text>{new Date(date).toDateString()}</Text>\r\n                {transactions.map((transaction, index) => {\r\n                  if ('timestamp' in transaction) {\r\n                    return (\r\n                      <LedgerTransactionActivity key={index} {...transaction} />\r\n                    );\r\n                  }\r\n\r\n                  const renderActivity = (\r\n                    Activity: React.FC<any>\r\n                  ): JSX.Element => (\r\n                    <Activity\r\n                      key={index}\r\n                      {...transaction.details}\r\n                      time={transaction.time}\r\n                    />\r\n                  );\r\n                  switch (transaction.operation) {\r\n                    case 'swap':\r\n                      return renderActivity(SwapActivity);\r\n                    case 'addLiquidity':\r\n                      return renderActivity(AddLiquidityActivity);\r\n                    case 'removeLiquidity':\r\n                      return renderActivity(RemoveLiquidityActivity);\r\n                    case 'withdraw':\r\n                      return renderActivity(WithdrawActivity);\r\n                    case 'deposit':\r\n                      return renderActivity(DepositActivity);\r\n                    default:\r\n                      return null;\r\n                  }\r\n                })}\r\n              </Fragment>\r\n            ))}\r\n        </Stack>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n","import { Box, Button } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { \r\n  Token, TokenContent, TokenData, TokenDataBalances,TokenDataPrice,TokenDetailsButton,\r\n  TokenDetailsLogo,TokenDetailsSymbol,TokenDataMetaInfo,TokenInput,ViewHeader,\r\n} from '@/components';\r\n\r\nimport { FeeBox } from '@/components/core/fee-box';\r\n\r\nimport { useQuery } from '@/hooks/use-query';\r\n\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport {\r\n  depositViewActions, FeatureState, NotificationType, useAppDispatch, useDepositViewStore,\r\n  useNotificationStore, useSwapCanisterStore, useTokenModalOpener, useWalletStore\r\n} from '@/store';\r\n\r\nimport { getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport {tokenList } from '@/utils';\r\n\r\nimport {artemis} from '@/integrations/artemis';\r\n\r\n\r\nexport const AssetsDepositView = () => {\r\n  const query = useQuery();\r\n  const { supportedTokenList, tokenBalances, balancesState, supportedTokenListState } = useSwapCanisterStore();\r\n\r\n  const {isConnected} = useWalletStore()\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const { amount, tokenId } = useDepositViewStore();\r\n\r\n  const { addNotification } = useNotificationStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const selectedTokenMetadata =  tokenList('obj')[tokenId?tokenId:''];\r\n\r\n  const allowance = useTokenAllowance(selectedTokenMetadata?.id)\r\n  \r\n  const handleSelectTokenId = (tokenId?: string) => {\r\n    if (tokenId) {\r\n      dispatch(depositViewActions.setTokenId(tokenId));\r\n    }\r\n  };\r\n\r\n  const handleOpenSelectTokenModal = () => {\r\n    openSelectTokenModal({ metadata: supportedTokenList, onSelect: (tokenId) => handleSelectTokenId(tokenId), selectedTokenIds: []});\r\n  };\r\n\r\n  const handleDeposit = () => {\r\n    addNotification({\r\n      title: `Deposit ${amount} ${selectedTokenMetadata?.symbol}`,\r\n      type: NotificationType.Deposit,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(() => dispatch(depositViewActions.setAmount('')), 300);\r\n  };\r\n\r\n  const handleMaxClick = () => {\r\n    if (tokenBalance && selectedTokenMetadata)\r\n      dispatch(\r\n        depositViewActions.setAmount(\r\n          getMaxValue(selectedTokenMetadata, tokenBalance).toString()\r\n        )\r\n      );\r\n  };\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if(!isConnected) return [true, 'Connect wallet'];\r\n    if (!selectedTokenMetadata?.id) return [true, 'Select a Token'];\r\n\r\n    if (typeof allowance !== 'number') return [true, 'Getting allowance...'];\r\n\r\n    const parsedFromValue = (amount && parseFloat(amount)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${selectedTokenMetadata?.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <= \r\n      toBigNumber(selectedTokenMetadata.fee).applyDecimals(selectedTokenMetadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `Amount must be greater than fee`];\r\n    }\r\n\r\n    if (tokenBalances && selectedTokenMetadata) {\r\n      if (\r\n        parsedFromValue >\r\n        getMaxValue( selectedTokenMetadata,tokenBalances[selectedTokenMetadata.id]).toNumber()\r\n      ) {\r\n        return [true, `Insufficient ${selectedTokenMetadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    return [false, 'Deposit'];\r\n  }, [amount, tokenBalances, selectedTokenMetadata, allowance]);\r\n\r\n  const tokenBalance = useMemo(() => {\r\n    if (tokenBalances && tokenId) {\r\n      return tokenBalances[tokenId];\r\n    }\r\n\r\n    return 0;\r\n  }, [tokenBalances, tokenId]);\r\n\r\n  const isLoading = useMemo(() =>\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      balancesState === FeatureState.Loading,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const tokenId = query.get('tokenId');\r\n    const fromQueryValue = query.get('amount');\r\n\r\n    if (fromQueryValue) {\r\n      dispatch(depositViewActions.setAmount(fromQueryValue));\r\n    }\r\n\r\n    if (tokenId) {\r\n      handleSelectTokenId(tokenId);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(depositViewActions.setAmount(''));\r\n    };\r\n  }, []);\r\n\r\n  var connectedWalletInfo = artemis.connectedWalletInfo;\r\n  \r\n  return (\r\n    <>\r\n      <ViewHeader title={ \"Deposit \"+ selectedTokenMetadata?.symbol + '' } onArrowBack={() => navigate('/assets')}/>\r\n      <Box my={5}>\r\n        <Token\r\n          isLoading={isLoading}\r\n          value={amount}\r\n          setValue={(value) => dispatch(depositViewActions.setAmount(value))}\r\n          sources={[\r\n            {\r\n              name: connectedWalletInfo?.name,\r\n              src: connectedWalletInfo?.icon,\r\n              balance: tokenBalance,\r\n            },\r\n          ]}\r\n          tokenListMetadata={supportedTokenList}\r\n          tokenMetadata={selectedTokenMetadata}\r\n        >\r\n          <TokenContent>\r\n            <TokenDetailsButton onClick={handleOpenSelectTokenModal}>\r\n              <TokenDetailsLogo />\r\n              <TokenDetailsSymbol />\r\n            </TokenDetailsButton>\r\n            <TokenInput autoFocus />\r\n          </TokenContent>\r\n          <TokenData>\r\n            <TokenDataBalances onMaxClick={handleMaxClick} />\r\n            <TokenDataPrice />\r\n          </TokenData>\r\n          <TokenDataMetaInfo \r\n                tokenSymbol={selectedTokenMetadata?selectedTokenMetadata.symbol:''}\r\n                pageInfo=\"deposit\"\r\n                tokenValue={amount}></TokenDataMetaInfo>\r\n        </Token>\r\n      </Box>\r\n      <FeeBox token={selectedTokenMetadata} isDeposit />\r\n      \r\n      <Button  isFullWidth  size=\"lg\"  variant=\"gradient\" colorScheme=\"dark-blue\" \r\n      isDisabled={buttonDisabled} onClick={handleDeposit} isLoading={isLoading}>\r\n        {buttonMessage}\r\n      </Button>\r\n    </>\r\n  )\r\n};\r\n","export * from './deposit';\r\nexport * from './list';\r\nexport * from './withdraw';\r\nexport * from './transfer';\r\n","import { Flex, HStack, Icon, Stack, Text, useColorModeValue, ButtonGroup, Button } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { FaMinus } from '@react-icons/all-files/fa/FaMinus';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\nimport { useCallback, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport {\r\n  Asset, AssetIconButton, AssetImageBlock, AssetTitleBlock, DisplayValue, Header,\r\n  InformationBox, WalletNotConnected, TokenBalancesPopover,\r\n} from '@/components';\r\n\r\nimport { getAppAssetsSources } from '@/config/utils';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nimport {\r\n  assetsViewActions, FeatureState, useAppDispatch, useAssetsViewStore,\r\n  usePriceStore, useSwapCanisterStore, useWalletStore\r\n} from '@/store';\r\n\r\n\r\nimport { DepostAddressModal, RetryFailedTrxModal } from '@/components/modals';\r\n\r\nRetryFailedTrxModal;\r\n\r\nconst getAssetPriceByBalance = (price?: string, balance?: number, decimals?: number) => {\r\n  if (price && balance && decimals) {\r\n    return (\r\n      Number(price) * Number(toBigNumber(balance).applyDecimals(decimals).toString())\r\n    );\r\n  }\r\n  return price;\r\n};\r\n\r\nexport const AssetsListView = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isBannerOpened } = useAssetsViewStore();\r\n  const { totalBalances, sonicBalances, tokenBalances } = useBalances();\r\n  const { supportedTokenListState, balancesState, supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const { icpPrice } = usePriceStore();\r\n  const { isConnected } = useWalletStore();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const navigateToDeposit = (tokenId?: string) => {\r\n    if (tokenId) { navigate(`/assets/deposit?tokenId=${tokenId}`); }\r\n  };\r\n\r\n  const navigateToWithdraw = (tokenId?: string) => {\r\n    if (tokenId) { navigate(`/assets/withdraw?tokenId=${tokenId}`); }\r\n  };\r\n  const navigateToTransfer = (tokenId?: string) => {\r\n    if (tokenId) { navigate(`/assets/transfer?tokenId=${tokenId}`); }\r\n  };\r\n\r\n  const handleBannerClose = () => {\r\n    dispatch(assetsViewActions.setIsBannerOpened(false));\r\n  };\r\n\r\n\r\n  const notEmptyTokenList = useMemo(() => {\r\n    const supportedTokenListWithICP: AppTokenMetadata[] = [\r\n      ...(supportedTokenList || []),\r\n    ];\r\n    if (totalBalances) {\r\n      return supportedTokenListWithICP.filter(\r\n        (token) => totalBalances[token.id] !== 0\r\n      );\r\n    }\r\n    return [];\r\n  }, [supportedTokenList, totalBalances, icpPrice]);\r\n\r\n  const isTokenListPresent = useMemo(() => notEmptyTokenList && notEmptyTokenList.length > 0, [notEmptyTokenList]);\r\n\r\n  const isLoading = useMemo(() =>\r\n    supportedTokenListState === FeatureState.Loading ||\r\n    balancesState === FeatureState.Loading,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  const isUpdating = useMemo(() =>\r\n    supportedTokenListState === FeatureState.Updating ||\r\n    balancesState === FeatureState.Updating,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  const assetsDetailsTextColor = useColorModeValue('gray.800', 'custom.1');\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const getCanWithdraw = useCallback(\r\n    (tokenId: string) => {\r\n      return (tokenId !== ICP_METADATA.id && sonicBalances && sonicBalances[tokenId] > 0);\r\n    },\r\n    [sonicBalances]\r\n  );\r\n  const [isModelOpen, setisModelOpen] = useState(false);\r\n  const [tokenSelected, settokenSelected] = useState('');\r\n\r\n  const [isFailedTrxOpen, setIsFailedTrxOpen] = useState(0);\r\n  const retryFailedTrx = () => { var r = Math.random() * 100; setIsFailedTrxOpen(r); };\r\n\r\n  const showDepositModal = function (tokenId: string) {\r\n    setisModelOpen(true);\r\n    settokenSelected(tokenId);\r\n  }\r\n\r\n  const getCanDeposit = useCallback(\r\n    (tokenId: string) => {\r\n      return (tokenId !== ICP_METADATA.id && tokenBalances && tokenBalances[tokenId] > 0);\r\n    },\r\n    [tokenBalances]\r\n  );\r\n  retryFailedTrx;\r\n  return (\r\n    <>\r\n      <RetryFailedTrxModal  isRetryOpen={isFailedTrxOpen}/>\r\n      <DepostAddressModal isNotiOpen={isModelOpen} tokenId={tokenSelected} onclose={() => { setisModelOpen(false); }} />\r\n      <Header title=\"Your Assets\" isUpdating={isUpdating}>\r\n        {isBannerOpened && (\r\n          <InformationBox title=\"Assets Details\" mb={9} onClose={handleBannerClose}>\r\n            <Text color={assetsDetailsTextColor}>\r\n            It is the representation of the fees earned from swaps in consecutive tokens.\r\n             Please note that the accrued fees will be automatically added to your Liquidity pool.\r\n            </Text>\r\n          </InformationBox>\r\n        )}\r\n        <Flex alignItems={'self-end'} w=\"100%\" flexDirection=\"column\">\r\n          <Flex>\r\n            <Button size=\"sm\" variant=\"gradient\" colorScheme=\"dark-blue\" isLoading={isLoading}  onClick={retryFailedTrx}>\r\n              Retry Failed Deposit\r\n            </Button>\r\n          </Flex>\r\n        </Flex>\r\n      </Header>\r\n\r\n      {!isConnected ? (\r\n        <WalletNotConnected message=\"Your assets will appear here.\" />\r\n      ) : (\r\n\r\n        <Stack spacing={4} pb={8} flex={1}>\r\n          {isLoading ? (\r\n            <>\r\n              <Asset isLoading>\r\n                <AssetImageBlock />\r\n                <HStack>\r\n                  <AssetIconButton aria-label=\"Deposit\" icon={<FaPlus />} />\r\n                  <AssetIconButton aria-label=\"Withdraw\" icon={<FaMinus />} />\r\n                  <AssetIconButton aria-label=\"Deposit\" icon={<FaPlus />} />\r\n                </HStack>\r\n              </Asset>\r\n              <Asset isLoading>\r\n                <AssetImageBlock />\r\n                <HStack>\r\n                  <AssetIconButton aria-label=\"Deposit\" icon={<FaPlus />} />\r\n                  <AssetIconButton aria-label=\"Withdraw\" icon={<FaMinus />} />\r\n                </HStack>\r\n              </Asset>\r\n            </>\r\n          ) : isTokenListPresent ? (\r\n            notEmptyTokenList.map(\r\n              ({ id, name, symbol, decimals, price, logo }) => (\r\n                <Asset key={id} imageSources={[logo]}>\r\n                  <HStack spacing={4} flex={2} minW={['100%', '200px', '200px']} overflow=\"hidden\" mr={4}>\r\n                    <AssetImageBlock />\r\n                    <AssetTitleBlock title={symbol} subtitle={name} maxW={['100%', '140px', '140px']} />\r\n                  </HStack>\r\n                  <TokenBalancesPopover\r\n                    sources={getAppAssetsSources({\r\n                      balances: {\r\n                        wallet: id === ICP_METADATA.id ? totalBalances?.[id] : tokenBalances?.[id],\r\n                        sonic: sonicBalances?.[id],\r\n                      },\r\n                    })}\r\n                    decimals={decimals} symbol={symbol}\r\n                  >\r\n                    <Flex flex={1} direction=\"column\">\r\n                      <Text fontWeight=\"bold\" color={headerColor} display=\"flex\" alignItems=\"center\">\r\n                        Balance\r\n                        <Icon as={FaInfoCircle} w={4} h={4} ml={1.5} opacity={0.45} />\r\n                      </Text>\r\n                      <DisplayValue isUpdating={isUpdating} value={totalBalances?.[id]}\r\n                        decimals={decimals} fontWeight=\"bold\" disableTooltip shouldDivideByDecimals\r\n                      />\r\n                    </Flex>\r\n                  </TokenBalancesPopover>\r\n                  <Flex flex={1} direction=\"column\">\r\n                    <Text fontWeight=\"bold\" color={headerColor}>\r\n                      Price\r\n                    </Text>\r\n                    <DisplayValue isUpdating={isUpdating} fontWeight=\"bold\" prefix=\"~$\"\r\n                      value={\r\n                        (id == 'ryjl3-tyaaa-aaaaa-aaaba-cai') ?\r\n                          ((totalBalances?.[id]) ? (totalBalances?.[id] / 10 ** decimals) : 0) * (parseFloat(icpPrice || '1')) :\r\n                          getAssetPriceByBalance(price, totalBalances?.[id], decimals) ?? 0\r\n                      }\r\n                    />\r\n                  </Flex>\r\n                  <HStack>\r\n                    <AssetIconButton aria-label={`Withdraw ${symbol} From Sonic`} icon={<FaMinus />}\r\n                      onClick={() => navigateToWithdraw(id)} isDisabled={!getCanWithdraw(id)}\r\n                    />\r\n                    <AssetIconButton colorScheme=\"dark-blue\" aria-label={`Deposit ${symbol} to Sonic`} icon={<FaPlus />}\r\n                      onClick={() => navigateToDeposit(id)} isDisabled={!getCanDeposit(id)}\r\n                    />\r\n                  </HStack>\r\n                  <Flex flex={1} direction=\"column\" alignItems='end' gap='2' minW={['100%']}>\r\n                    <ButtonGroup gap='2'>\r\n                      <Button fontSize={14} px={6} onClick={() => showDepositModal(id)} >Deposit</Button>\r\n                      <Button fontSize={14} px={6} onClick={() => navigateToTransfer(id)} >Send</Button>\r\n                    </ButtonGroup>\r\n                  </Flex>\r\n                </Asset>\r\n              )\r\n            )\r\n          ) : (\r\n            <Text textAlign=\"center\" color={headerColor}>\r\n              No assets available\r\n            </Text>\r\n          )}\r\n        </Stack>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { Box, Button, Skeleton, Input, Text } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { FeeBox } from '@/components/core/fee-box';\r\nimport { useQuery } from '@/hooks/use-query';\r\nimport {\r\n  Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice, TokenDetailsButton,\r\n  TokenDetailsLogo, TokenDetailsSymbol, TokenDataMetaInfo, TokenInput, ViewHeader,\r\n} from '@/components';\r\n\r\n\r\nimport {\r\n  transferViewActions, FeatureState, NotificationType, useAppDispatch, useTransferViewStore,\r\n  useNotificationStore, useSwapCanisterStore, useTokenModalOpener, useWalletStore\r\n} from '@/store';\r\n\r\nimport { getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\nimport { tokenList } from '@/utils';\r\n\r\nimport { artemis } from '@/integrations/artemis';\r\n\r\nexport const AssetsTransferView = () => {\r\n  const query = useQuery();\r\n  const { supportedTokenList, tokenBalances, balancesState, supportedTokenListState } = useSwapCanisterStore();\r\n\r\n  const { isConnected } = useWalletStore()\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const ICPTOKENID='ryjl3-tyaaa-aaaaa-aaaba-cai';\r\n  const { amount, tokenId , toAddress ,addressType} = useTransferViewStore(); \r\n   \r\n  const { addNotification } = useNotificationStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const selectedTokenMetadata = tokenId ? tokenList('obj')[tokenId] : tokenList('obj')[ICPTOKENID];\r\n\r\n  const supportingAddrsType: string = useMemo(() => {\r\n    if (selectedTokenMetadata?.id == ICPTOKENID) {\r\n      return 'both';\r\n    } else return 'principalId';\r\n  }, [selectedTokenMetadata])\r\n\r\n  const handleSelectTokenId = (tokenId?: string) => {\r\n    if (tokenId) { dispatch(transferViewActions.setTokenId(tokenId)); }\r\n\r\n  };\r\n\r\n  const handleOpenSelectTokenModal = () => {\r\n    openSelectTokenModal({ metadata: supportedTokenList, onSelect: (tokenId) => handleSelectTokenId(tokenId), selectedTokenIds: [] });\r\n  };\r\n\r\n  const handleTransfer = () => {\r\n    addNotification({ title: `Transfer ${amount} ${selectedTokenMetadata?.symbol}`, type: NotificationType.Transfer, id: String(new Date().getTime()), });\r\n    debounce(() => dispatch(transferViewActions.setAmount('')), 300);\r\n  };\r\n\r\n  const handleMaxClick = () => {\r\n    if (tokenBalance && selectedTokenMetadata)\r\n      dispatch(transferViewActions.setAmount(getMaxValue(selectedTokenMetadata, tokenBalance, true).toString()));\r\n  };\r\n  //const [toAddress, setToAddress] = useState('');\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if (!isConnected) return [true, 'Connect wallet'];\r\n    if (!selectedTokenMetadata?.id) return [true, 'Select a Token'];\r\n    const parsedFromValue = (amount && parseFloat(amount)) || 0;\r\n    if (parsedFromValue <= 0) return [true, `Enter ${selectedTokenMetadata?.symbol} Amount`];\r\n    if (parsedFromValue <= toBigNumber(selectedTokenMetadata.fee).applyDecimals(selectedTokenMetadata.decimals).toNumber()) {\r\n      return [true, `Amount must be greater than fee`];\r\n    }\r\n\r\n    if (tokenBalances && selectedTokenMetadata) {\r\n      if (parsedFromValue > getMaxValue(selectedTokenMetadata, tokenBalances[selectedTokenMetadata.id], true).toNumber()) {\r\n        return [true, `Insufficient ${selectedTokenMetadata.symbol} Balance`];\r\n      }\r\n    }\r\n   // const addressType = checkAddressType(toAddress);\r\n    if (supportingAddrsType == 'both') {\r\n      if (addressType == 'none') {\r\n        return [true, 'Invalid Address'];\r\n      }\r\n    } else {\r\n      if (supportingAddrsType != addressType) {\r\n        return [true, 'Invalid Address'];\r\n      }\r\n    }\r\n    return [false, `Send ${amount} ${selectedTokenMetadata.symbol} `];\r\n  }, [amount, toAddress, tokenBalances, selectedTokenMetadata,addressType]);\r\n\r\n  const tokenBalance = useMemo(() => {\r\n    if (tokenBalances && tokenId) return tokenBalances[tokenId];\r\n    return 0;\r\n  }, [tokenBalances, tokenId ]);\r\n\r\n  const isLoading = useMemo(() =>\r\n    supportedTokenListState === FeatureState.Loading ||\r\n    balancesState === FeatureState.Loading,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const tokenId = query.get('tokenId');\r\n    if (tokenId) handleSelectTokenId(tokenId);\r\n    return () => { dispatch(transferViewActions.setAmount('')); };\r\n  }, []);\r\n\r\n  const connectedWalletInfo = artemis.connectedWalletInfo;\r\n\r\n  const handleToAddressChange = (event: any) => {\r\n    dispatch(transferViewActions.setToAddress(event?.target?.value))\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ViewHeader title={\"Transfer \" + selectedTokenMetadata?.symbol + ''} onArrowBack={() => navigate('/assets')} />\r\n      <Box my={5}>\r\n        <Token isLoading={isLoading} value={amount}\r\n          setValue={(value) => dispatch(transferViewActions.setAmount(value))}\r\n          sources={[{ name: connectedWalletInfo?.name, src: connectedWalletInfo?.icon, balance: tokenBalance }]}\r\n          tokenListMetadata={supportedTokenList} tokenMetadata={selectedTokenMetadata}\r\n        >\r\n          <TokenContent>\r\n            <TokenDetailsButton onClick={handleOpenSelectTokenModal}>\r\n              <TokenDetailsLogo />\r\n              <TokenDetailsSymbol />\r\n            </TokenDetailsButton>\r\n            <TokenInput autoFocus />\r\n          </TokenContent>\r\n          <TokenData>\r\n            <TokenDataBalances onMaxClick={handleMaxClick} />\r\n            <TokenDataPrice />\r\n          </TokenData>\r\n          <TokenDataMetaInfo\r\n            tokenSymbol={selectedTokenMetadata ? selectedTokenMetadata.symbol : ''}\r\n            pageInfo=\"deposit\"\r\n            tokenValue={amount}></TokenDataMetaInfo>\r\n          <Skeleton isLoaded={!isLoading} borderRadius=\"6\" mt={'3'}>\r\n            <Text mb=\"4\" fontWeight={600}> To :</Text>\r\n            <Input type=\"text\" value={toAddress} onChange={handleToAddressChange} fontSize={'large'}\r\n              placeholder={`Enter ${supportingAddrsType === 'both' ? 'Principal ID or Account ID' : supportingAddrsType === 'accountId' ? 'Account ID' : supportingAddrsType === 'principalId' ? 'Principal ID' : ''}`}\r\n              size=\"md\" />\r\n          </Skeleton>\r\n        </Token>\r\n      </Box>\r\n      <FeeBox isTransfer token={selectedTokenMetadata} />\r\n\r\n      <Button isFullWidth size=\"lg\" variant=\"gradient\" colorScheme=\"dark-blue\"\r\n        isDisabled={buttonDisabled} onClick={handleTransfer} isLoading={isLoading}>\r\n        {buttonMessage}\r\n      </Button>\r\n    </>\r\n  )\r\n};\r\n","import { Box, Button } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { sonicCircleSrc } from '@/assets';\r\nimport {\r\n  Token,\r\n  TokenContent,\r\n  TokenData,\r\n  TokenDataBalances,\r\n  TokenDataPrice,\r\n  TokenDetailsButton,\r\n  TokenDetailsLogo,\r\n  TokenDetailsSymbol,\r\n  TokenInput,\r\n  ViewHeader,\r\n} from '@/components';\r\nimport { FeeBox } from '@/components/core/fee-box';\r\nimport { useQuery } from '@/hooks/use-query';\r\nimport {\r\n  FeatureState,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  useSwapCanisterStore,\r\n  useTokenModalOpener,\r\n  useWithdrawViewStore,\r\n  withdrawViewActions,\r\n} from '@/store';\r\nimport { formatValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nexport const AssetsWithdrawView = () => {\r\n  const query = useQuery();\r\n  const { amount, tokenId } = useWithdrawViewStore();\r\n  const {\r\n    supportedTokenList,\r\n    sonicBalances,\r\n    balancesState,\r\n    supportedTokenListState,\r\n  } = useSwapCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { addNotification } = useNotificationStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const selectedTokenMetadata = useMemo(() => {\r\n    if (tokenId && supportedTokenList) {\r\n      return supportedTokenList.find(({id}) => id === tokenId);\r\n    }\r\n    return undefined;\r\n  }, [supportedTokenList, tokenId]);\r\n\r\n  const handleSelectTokenId = (tokenId?: string) => {\r\n    if (tokenId) {\r\n      dispatch(withdrawViewActions.setTokenId(tokenId));\r\n    }\r\n  };\r\n\r\n  const handleOpenSelectTokenModal = () => {\r\n    openSelectTokenModal({\r\n      metadata: supportedTokenList,\r\n      onSelect: (tokenId) => handleSelectTokenId(tokenId),\r\n      selectedTokenIds: [],\r\n    });\r\n  };\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if (!selectedTokenMetadata?.id) return [true, 'Select a Token'];\r\n\r\n    const parsedFromValue = (amount && parseFloat(amount)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${selectedTokenMetadata?.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <=\r\n      toBigNumber(selectedTokenMetadata.fee)\r\n        .applyDecimals(selectedTokenMetadata.decimals)\r\n        .toNumber()\r\n    ) {\r\n      return [true, `Amount must be greater than fee`];\r\n    }\r\n\r\n    if (sonicBalances && selectedTokenMetadata) {\r\n      const parsedBalance = parseFloat(\r\n        formatValue(\r\n          sonicBalances[selectedTokenMetadata.id],\r\n          selectedTokenMetadata.decimals\r\n        )\r\n      );\r\n\r\n      if (parsedFromValue > parsedBalance) {\r\n        return [true, `Insufficient ${selectedTokenMetadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    return [false, 'Withdraw'];\r\n  }, [amount, sonicBalances, selectedTokenMetadata]);\r\n\r\n  const tokenBalance = useMemo(() => {\r\n    if (sonicBalances && tokenId) {\r\n      return sonicBalances[tokenId];\r\n    }\r\n\r\n    return 0;\r\n  }, [sonicBalances, tokenId]);\r\n\r\n  useEffect(() => {\r\n    const tokenId = query.get('tokenId');\r\n    const amount = query.get('amount');\r\n\r\n    if (amount) {\r\n      dispatch(withdrawViewActions.setAmount(amount));\r\n    }\r\n\r\n    if (tokenId) {\r\n      handleSelectTokenId(tokenId);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(withdrawViewActions.setAmount(''));\r\n    };\r\n  }, []);\r\n\r\n  const handleWithdraw = () => {\r\n    addNotification({\r\n      title: `Withdraw ${amount} ${selectedTokenMetadata?.symbol}`,\r\n      type: NotificationType.Withdraw,\r\n      id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(() => dispatch(withdrawViewActions.setAmount('')), 300);\r\n  };\r\n\r\n  const handleMaxClick = () => {\r\n    dispatch(\r\n      withdrawViewActions.setAmount(\r\n        toBigNumber(tokenBalance)\r\n          .applyDecimals(selectedTokenMetadata?.decimals ?? 0)\r\n          .toString()\r\n      )\r\n    );\r\n  };\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      balancesState === FeatureState.Loading,\r\n    [balancesState, supportedTokenListState]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ViewHeader\r\n        title={\"Withdraw \"+ selectedTokenMetadata?.symbol + ''}\r\n        onArrowBack={() => navigate('/assets')}\r\n      />\r\n      <Box my={5}>\r\n        <Token\r\n          value={amount}\r\n          setValue={(value) => dispatch(withdrawViewActions.setAmount(value))}\r\n          tokenListMetadata={supportedTokenList}\r\n          tokenMetadata={selectedTokenMetadata}\r\n          isLoading={isLoading}\r\n          sources={[\r\n            {\r\n              name: 'Sonic',\r\n              src: sonicCircleSrc,\r\n              balance: tokenBalance,\r\n            },\r\n          ]}\r\n        >\r\n          <TokenContent>\r\n            <TokenDetailsButton onClick={handleOpenSelectTokenModal}>\r\n              <TokenDetailsLogo />\r\n              <TokenDetailsSymbol />\r\n            </TokenDetailsButton>\r\n\r\n            <TokenInput autoFocus />\r\n          </TokenContent>\r\n          <TokenData>\r\n            <TokenDataBalances onMaxClick={handleMaxClick} />\r\n            <TokenDataPrice />\r\n          </TokenData>\r\n        </Token>\r\n      </Box>\r\n      <FeeBox token={selectedTokenMetadata} />\r\n      <Button\r\n        isFullWidth\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        size=\"lg\"\r\n        onClick={handleWithdraw}\r\n        isLoading={isLoading}\r\n        isDisabled={buttonDisabled}\r\n      >\r\n        {buttonMessage}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","export * from './activity';\r\nexport * from './assets';\r\nexport * from './liquidity';\r\nexport * from './swap';\r\nexport * from './test';\r\n","import {\r\n  Box, Button, Center, Flex, HStack, Icon, IconButton, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverHeader, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { Liquidity } from '@memecake/sonic-js';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaEquals } from '@react-icons/all-files/fa/FaEquals';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport {\r\n  DisplayValue, LPImageBlock, SlippageSettings, StackLine, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenDataMetaInfo, TokenInput, ViewHeader,\r\n  WalletNotConnected\r\n} from '@/components';\r\n\r\nimport { useTokenAllowance, useTokenBalanceMemo } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useQuery } from '@/hooks/use-query';\r\n\r\nimport {\r\n  FeatureState, INITIAL_LIQUIDITY_SLIPPAGE, LiquidityTokenDataKey, liquidityViewActions, NotificationType, useAppDispatch,\r\n  useLiquidityViewStore, useNotificationStore, useWalletStore, usePriceStore, useSwapCanisterStore, useTokenModalOpener,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\nimport { getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { useAddLiquidityMemo, useTokenSourceMemo } from './liquidity.utils';\r\n\r\nexport const LiquidityAddView = () => {\r\n  const query = useQuery();\r\n  const { isConnected } = useWalletStore();\r\n\r\n  const { addNotification } = useNotificationStore();\r\n  const { token0, token1, slippage, pair, pairState } = useLiquidityViewStore();\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const balances = useBalances();\r\n  const { tokenBalances, sonicBalances, totalBalances } = balances;\r\n  var { supportedTokenList, supportedTokenListState, balancesState } =\r\n    useSwapCanisterStore();\r\n  const { state: priceState } = usePriceStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const [isReviewing, setIsReviewing] = useState(false);\r\n  const [autoSlippage, setAutoSlippage] = useState(true);\r\n\r\n  const handlePreviousStep = () => {\r\n    if (isReviewing) setIsReviewing(false);\r\n    else navigate('/liquidity');\r\n  };\r\n  const handleAddLiquidity = () => {\r\n    if (!isReviewing) { \r\n      setIsReviewing(true);return;\r\n    }\r\n\r\n    addNotification({\r\n      title: `Add LP of ${token0.value} ${token0.metadata?.symbol} + ${token1.value} ${token1.metadata?.symbol}`,\r\n      type: NotificationType.AddLiquidity,\r\n      id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(() => {\r\n      dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n      dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n      setIsReviewing(false);\r\n      navigate('/liquidity');\r\n    }, 300);\r\n  };\r\n\r\n  const handleTokenMaxClick = (dataKey: LiquidityTokenDataKey) => {\r\n    const token = dataKey === 'token0' ? token0 : token1;\r\n    const tokenBalance = dataKey === 'token0' ? token0Balance : token1Balance;\r\n    if (!token || !tokenBalance) return;\r\n    const maxValue = getMaxValue(token.metadata, tokenBalance).toString();\r\n    setInAndOutTokenValues(dataKey, maxValue);\r\n  };\r\n\r\n  const lockedPairsList = [['ryjl3-tyaaa-aaaaa-aaaba-cai', 'utozz-siaaa-aaaam-qaaxq-cai']];\r\n\r\n\r\n  const handleSelectToken = (dataKey: LiquidityTokenDataKey) => {\r\n    if (!isReviewing) {\r\n\r\n      const excludeToken = (() => {\r\n        const foundPair = lockedPairsList.find(pair => {\r\n          if (dataKey === 'token0') {\r\n            return pair[0] === token1.metadata?.id || pair[1] === token1.metadata?.id;\r\n          } else if (dataKey === 'token1') {\r\n            return pair[0] === token0.metadata?.id || pair[1] === token0.metadata?.id;\r\n          }\r\n          return false;\r\n        });\r\n        return foundPair ? foundPair.find(x => x !== (token0.metadata?.id || token1.metadata?.id)) : '';\r\n      })();\r\n\r\n      const customTokenList = supportedTokenList ? supportedTokenList.filter(x => {\r\n        if (dataKey === 'token0') {\r\n          return x.id !== token1.metadata?.id && x.id !== excludeToken;\r\n        } else if (dataKey === 'token1') {\r\n          return x.id !== token0.metadata?.id && x.id !== excludeToken;\r\n        }\r\n      }) : [];\r\n\r\n      openSelectTokenModal({\r\n        metadata: customTokenList,\r\n        onSelect: (tokenId) => {\r\n          if (tokenId && supportedTokenList) {\r\n            if (token0.metadata?.id === tokenId || token1.metadata?.id === tokenId) {\r\n              return;\r\n            }\r\n            const foundToken = supportedTokenList.find(({ id }) => id === tokenId);\r\n            dispatch(liquidityViewActions.setToken({ data: dataKey, token: foundToken }));\r\n            dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n            dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n          }\r\n        },\r\n        selectedTokenIds,\r\n      });\r\n    }\r\n  };\r\n\r\n  type useTokenTaxCheckOptions = {\r\n    balances?: any;\r\n    tokenId?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?: string;\r\n    tokenSymbol?: string;\r\n    needAsNetValue?: boolean;\r\n  };\r\n\r\n  const useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', needAsNetValue = false }: useTokenTaxCheckOptions) => {\r\n    const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n    const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n    if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n      var id = tokenId ? tokenId : '';\r\n      tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n      tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n    } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n    if (tokenValue) {\r\n      let tokenVal: number = parseFloat(tokenValue)\r\n      if (tokenSymbol == 'YC') {\r\n        let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n        let sonicBalance = tokenInfo['sonic'] / decimals;\r\n\r\n        if ((sonicBalance > tokenVal)) {\r\n          tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n          tokenInfo.taxInfo.taxedValue = 0;\r\n        } else {\r\n          tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n          tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n        }\r\n        if (needAsNetValue) {\r\n          if (tokenInfo.taxInfo.taxedValue > 0) {\r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + ((tokenVal - tokenInfo.taxInfo.nonTaxedValue) / 0.89);\r\n          } else {\r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue;\r\n          }\r\n        } else {\r\n          tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89 / 100));\r\n        }\r\n      }\r\n    }\r\n    return tokenInfo\r\n  };\r\n  const setInAndOutTokenValues = useCallback(\r\n    (dataKey: LiquidityTokenDataKey, value?: string) => {\r\n      const [amountIn, reserveIn, reserveOut, decimalsIn, decimalsOut] =\r\n        dataKey === 'token0'\r\n          ? [value ?? token0.value, String(pair?.reserve0), String(pair?.reserve1),\r\n          Number(token0.metadata?.decimals), Number(token1.metadata?.decimals)]\r\n          : [value ?? token1.value, String(pair?.reserve1), String(pair?.reserve0),\r\n          Number(token1.metadata?.decimals), Number(token0.metadata?.decimals)];\r\n\r\n      try {\r\n        var token = (dataKey == 'token0') ? token0 : token1;\r\n        var convertToken = (dataKey == 'token0') ? token1 : token0;\r\n        var fromAmount = amountIn;\r\n        \r\n        if (token.metadata?.symbol == \"YC\") {\r\n          var info = useTokenTaxCheck({\r\n            balances: balances, tokenId: token.metadata.id, tokenSymbol: token.metadata.symbol, tokenDecimals: token.metadata.decimals, tokenValue: amountIn\r\n          });\r\n          fromAmount = info.taxInfo.netValue.toFixed(3);\r\n        }\r\n\r\n        const lpValue = Liquidity.getOppositeAmount({ amountIn: fromAmount ? fromAmount : '0', reserveIn, reserveOut, decimalsIn, decimalsOut });\r\n\r\n        var parsedLPValue = lpValue.toString();\r\n        if (convertToken.metadata?.symbol == \"YC\") {\r\n          var info = useTokenTaxCheck({\r\n            balances: balances, tokenId: convertToken.metadata.id, tokenSymbol: convertToken.metadata.symbol, tokenDecimals: convertToken.metadata.decimals,\r\n            tokenValue: parsedLPValue, needAsNetValue: true\r\n          });\r\n          parsedLPValue = info.taxInfo.netValue.toFixed(3);\r\n        }\r\n\r\n        dispatch(liquidityViewActions.setValue({ data: dataKey, value: amountIn }));\r\n\r\n        const reversedDataKey = dataKey === 'token0' ? 'token1' : 'token0';\r\n\r\n        if (lpValue.gt(0)) {\r\n          dispatch(liquidityViewActions.setValue({ data: reversedDataKey, value: parsedLPValue }));\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof Error && e.message.startsWith('Minimal amountIn')) {\r\n          const minimalAmount = e.message.split(': ')[1];\r\n          setInAndOutTokenValues(dataKey, minimalAmount);\r\n        } else {\r\n          AppLog.warn('Failed to set token amount', e);\r\n        }\r\n      }\r\n    },\r\n    [dispatch, pair?.reserve0, pair?.reserve1, token0.metadata, token0.value, token1.metadata, token1.value]\r\n  );\r\n  // Memorized values\r\n  const token0Balance = useTokenBalanceMemo(token0.metadata?.id);\r\n  const token1Balance = useTokenBalanceMemo(token1.metadata?.id);\r\n  const token0Allowance = useTokenAllowance(token0.metadata?.id);\r\n  const token1Allowance = useTokenAllowance(token1.metadata?.id);\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      supportedTokenListState === FeatureState.Loading || pairState === FeatureState.Loading,\r\n    [supportedTokenListState, pairState]\r\n  );\r\n\r\n  const isBalancesUpdating = useMemo(() => balancesState === FeatureState.Updating, [balancesState]);\r\n  const isPriceUpdating = useMemo( () => priceState === FeatureState.Updating, [priceState]);\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if (isLoading) return [true, 'Loading'];\r\n    if (!token0.metadata || !token1.metadata) return [true, 'Select Tokens'];\r\n\r\n    const parsedToken0Value = (token0.value && parseFloat(token0.value)) || 0;\r\n    const parsedToken1Value = (token1.value && parseFloat(token1.value)) || 0;\r\n\r\n    if ( typeof token0Allowance !== 'number' || typeof token1Allowance !== 'number') {\r\n      return [true, 'Getting allowance'];\r\n    }\r\n\r\n    if (parsedToken0Value <= 0)\r\n      return [true, `Enter ${token0.metadata.symbol} Amount`];\r\n\r\n    if (parsedToken1Value <= 0)\r\n      return [true, `Enter ${token1.metadata.symbol} Amount`];\r\n\r\n    if ( totalBalances && typeof token0Balance === 'number' && typeof token1Balance === 'number') {\r\n      if ( parsedToken0Value > getMaxValue(token0.metadata, token0Balance).toNumber()) {\r\n        return [true, `Insufficient ${token0.metadata.symbol} Balance`];\r\n      }\r\n\r\n      if ( parsedToken1Value > getMaxValue(token1.metadata, token1Balance).toNumber()) {\r\n        return [true, `Insufficient ${token1.metadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    if (isReviewing) return [false, 'Confirm Supply'];\r\n    return [false, 'Review Supply'];\r\n  }, [isLoading, token0, token1, totalBalances, token0Balance, token1Balance, isReviewing, token0Allowance, token1Allowance]);\r\n\r\n  const selectedTokenIds = useMemo(() => {\r\n    const selectedIds = [];\r\n    if (token0?.metadata?.id) selectedIds.push(token0.metadata.id);\r\n    if (token1?.metadata?.id) selectedIds.push(token1.metadata.id);\r\n\r\n    return selectedIds;\r\n  }, [token0?.metadata?.id, token1?.metadata?.id]);\r\n\r\n  const { fee0, fee1, price0, price1, shareOfPool, liquidityAmount } = useAddLiquidityMemo({ pair, token0, token1 });\r\n\r\n  const token0Sources = useTokenSourceMemo({ token: token0, tokenBalances, sonicBalances });\r\n  const token1Sources = useTokenSourceMemo({ token: token1, tokenBalances, sonicBalances });\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && supportedTokenList) {\r\n      const token1Id = query.get('token1');\r\n      const token0Id = query.get('token0');\r\n\r\n      if (token0Id) {\r\n        const token0 = supportedTokenList.find(({ id }) => id === token0Id);\r\n        dispatch(liquidityViewActions.setToken({ data: 'token0', token: token0 }));\r\n        dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n      }\r\n\r\n      if (token1Id) {\r\n        const token1 = supportedTokenList.find(({ id }) => id === token1Id);\r\n        dispatch(liquidityViewActions.setToken({ data: 'token1', token: token1 }));\r\n        dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLoading]);\r\n\r\n  const handleSetIsAutoSlippage = (isAutoSlippage: boolean) => {\r\n    setAutoSlippage(isAutoSlippage);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    if (autoSlippage) {\r\n      dispatch(liquidityViewActions.setSlippage(INITIAL_LIQUIDITY_SLIPPAGE));\r\n    }\r\n  };\r\n\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  const bg = useColorModeValue('gray.100', 'gray.800');\r\n  const iconBorderColor = useColorModeValue('gray.200', 'custom.4');\r\n  const textColor = useColorModeValue('gray.700', 'gray.300');\r\n\r\n  return (\r\n    <Stack spacing={4}>\r\n      <ViewHeader onArrowBack={handlePreviousStep} title=\"Add Liquidity\">\r\n        <Menu onClose={handleMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\" icon={<FaCog />} ml=\"auto\" />\r\n          </Tooltip>\r\n          <MenuList shadow={menuListShadow} bg={menuListBg} border=\"none\" borderRadius={20} py={0}>\r\n            <SlippageSettings slippage={slippage}\r\n              setSlippage={(value) =>dispatch(liquidityViewActions.setSlippage(value))}\r\n              isAutoSlippage={autoSlippage} setIsAutoSlippage={handleSetIsAutoSlippage}\r\n            />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"100%\">\r\n          <Token value={token0.value} setValue={(value) => setInAndOutTokenValues('token0', value)} tokenListMetadata={supportedTokenList}\r\n            tokenMetadata={token0.metadata} isDisabled={isReviewing} sources={token0Sources} isLoading={isLoading}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => handleSelectToken('token0')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances isUpdating={isBalancesUpdating} onMaxClick={() => handleTokenMaxClick('token0')} />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo tokenId={token0.metadata ? token0.metadata.id : ''}\r\n              tokenSymbol={token0.metadata ? token0.metadata.symbol : ''} tokenDecimals={token0.metadata ? token0.metadata.decimals : 0}\r\n              pageInfo=\"liquidity\" tokenValue={token0.value}></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Center borderRadius={12} width={10} height={10} border=\"1px solid\" borderColor={iconBorderColor}\r\n          bg={menuListBg} mt={-2} mb={-2} zIndex=\"docked\">\r\n          <Icon as={FaPlus} />\r\n        </Center>\r\n\r\n        <Box width=\"100%\">\r\n          <Token value={token1.value} setValue={(value) => setInAndOutTokenValues('token1', value)} tokenListMetadata={supportedTokenList}\r\n            tokenMetadata={token1.metadata} isDisabled={isReviewing} sources={token1Sources} isLoading={isLoading}\r\n          >\r\n            <TokenContent>\r\n              {token1.metadata ? (\r\n                <TokenDetailsButton onClick={() => handleSelectToken('token1')}>\r\n                  <TokenDetailsLogo />\r\n                  <TokenDetailsSymbol />\r\n                </TokenDetailsButton>\r\n              ) : (\r\n                <TokenDetailsButton onClick={() => handleSelectToken('token1')} variant={isLoading ? 'solid' : 'gradient'}\r\n                  colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                >\r\n                  <Skeleton isLoaded={!isLoading}>Select a Token</Skeleton>\r\n                </TokenDetailsButton>\r\n              )}\r\n\r\n              <TokenInput />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances isUpdating={isBalancesUpdating} onMaxClick={() => handleTokenMaxClick('token1')} />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo tokenId={token1.metadata ? token1.metadata.id : ''} tokenSymbol={token1.metadata ? token1.metadata.symbol : ''}\r\n              tokenDecimals={token1.metadata ? token1.metadata.decimals : 0} pageInfo=\"liquidity\" tokenValue={token1.value}>\r\n            </TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n        {token0.metadata && token1.metadata && (\r\n          <>\r\n            {isReviewing && (\r\n              <>\r\n                <Center borderRadius={12} width={10} height={10} border=\"1px solid\" borderColor={iconBorderColor}\r\n                  bg={menuListBg} mt={-2} mb={-2} justifyContent=\"center\" alignItems=\"center\" zIndex=\"docked\"\r\n                >\r\n                  <Icon as={FaEquals} />\r\n                </Center>\r\n\r\n                <Token value={liquidityAmount} isDisabled shouldGlow>\r\n                  <TokenContent>\r\n                    <Flex borderRadius=\"full\" mr={5} minWidth=\"fit-content\" background={bg}\r\n                      height={10} px={4} justifyContent=\"center\" alignItems=\"center\" fontWeight=\"bold\"\r\n                    >\r\n                      <LPImageBlock imageSources={[token0.metadata?.logo, token1.metadata?.logo]} size=\"sm\" />\r\n                      <Text ml={2.5}>\r\n                        {`${token0.metadata?.symbol}-${token1.metadata?.symbol}`}\r\n                      </Text>\r\n\r\n                      <Popover trigger=\"hover\">\r\n                        <PopoverTrigger>\r\n                          <Flex>\r\n                            <Icon as={FaInfoCircle} ml={2.5} width={4} />\r\n                          </Flex>\r\n                        </PopoverTrigger>\r\n                        <PopoverContent>\r\n                          <PopoverArrow />\r\n                          <PopoverBody>\r\n                            This is your share of the liquidity pool represented\r\n                            as tokens\r\n                          </PopoverBody>\r\n                        </PopoverContent>\r\n                      </Popover>\r\n                    </Flex>\r\n\r\n                    <TokenInput />\r\n                  </TokenContent>\r\n                  <TokenData color={color}>\r\n                    Share of Pool:\r\n                    <Text flex={1} textAlign=\"right\">\r\n                      {shareOfPool}\r\n                    </Text>\r\n                  </TokenData>\r\n                </Token>\r\n              </>\r\n            )}\r\n\r\n            {liquidityAmount && (\r\n              <Flex alignItems=\"center\" justifyContent=\"space-between\" width=\"full\" mt={5} px={5}>\r\n                <Text color={textColor}>\r\n                  {`1 ${token0.metadata?.symbol} = `}{' '}\r\n                  <DisplayValue as=\"span\" value={price1} />{' '}\r\n                  {` ${token1.metadata?.symbol}`}\r\n                </Text>\r\n                <HStack>\r\n                  <Text color={textColor}>\r\n                    {`1 ${token1.metadata?.symbol} = `}{' '}\r\n                    <DisplayValue as=\"span\" value={price0} />{' '}\r\n                    {`${token0.metadata?.symbol}`}\r\n                  </Text>\r\n                  <Popover trigger=\"hover\">\r\n                    <PopoverTrigger>\r\n                      <Flex>\r\n                        <Icon as={FaInfoCircle} width={5} transition=\"opacity 200ms\" opacity={0.6} />\r\n                      </Flex>\r\n                    </PopoverTrigger>\r\n                    <PopoverContent minWidth=\"25rem\">\r\n                      <PopoverHeader>Transaction Details</PopoverHeader>\r\n                      <PopoverArrow />\r\n                      <PopoverBody display=\"inline-block\">\r\n                        <Stack>\r\n                          <StackLine title={`${token0.metadata.name} Deposit Fee`} value={`${fee0} ${token0.metadata.symbol}`}/>\r\n                          <StackLine\r\n                            title={`${token1.metadata.name} Deposit Fee`}\r\n                            value={`${fee1} ${token1.metadata.symbol}`}\r\n                          />\r\n                        </Stack>\r\n                      </PopoverBody>\r\n                    </PopoverContent>\r\n                  </Popover>\r\n                </HStack>\r\n              </Flex>\r\n            )}\r\n          </>\r\n        )}\r\n      </Flex>\r\n      {!isConnected ? ( <WalletNotConnected />) : (\r\n        <Button isFullWidth size=\"lg\" variant=\"gradient\" colorScheme=\"dark-blue\" onClick={handleAddLiquidity}\r\n          isDisabled={buttonDisabled || typeof token0Allowance !== 'number' || typeof token1Allowance !== 'number'}\r\n          isLoading={isLoading || typeof token0Allowance !== 'number' || typeof token1Allowance !== 'number'}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","export * from './paired-user-lp-token';\r\nexport * from './remove-liquidity-modal';\r\nexport * from './remove-liquidity-modal-asset';\r\n","import {\r\n  Box, Button, Divider, Flex, Popover, PopoverArrow, PopoverBody, PopoverContent, PopoverTrigger, Text, useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Liquidity, Pair } from '@memecake/sonic-js';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { DisplayValue, TokenImageBlock } from '@/components';\r\nimport { LPBreakdownPopover } from '@/components/core/lp-breakdown-popover';\r\nimport { UserLPMetrics, getuserLprewards } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport interface PairedUserLPTokenProps {\r\n  pairId: string;\r\n  token0: AppTokenMetadata;\r\n  token1: AppTokenMetadata;\r\n  balance0: string;\r\n  balance1: string;\r\n  userShares: string;\r\n  totalShares?: string;\r\n  allPairs?: Pair.List;\r\n  pairMetrics?: UserLPMetrics[keyof UserLPMetrics];\r\n  handleRemove: (token0: AppTokenMetadata, token1: AppTokenMetadata) => void;\r\n  handleAdd: (token0?: string, token1?: string) => void;\r\n  isMetricsLoading?: boolean;\r\n  isLPBalanceLoading?: boolean;\r\n}\r\n\r\nexport const PairedUserLPToken: React.FC<PairedUserLPTokenProps> = ({\r\n  token0,\r\n  token1,\r\n  totalShares,\r\n  userShares,\r\n  allPairs,\r\n  balance0,\r\n  balance1,\r\n  pairMetrics,\r\n  handleAdd,\r\n  handleRemove,\r\n  isMetricsLoading,\r\n  isLPBalanceLoading,\r\n}) => {\r\n  const successColor = useColorModeValue('green.500', 'green.400');\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const userLPValue = useMemo(() => {\r\n    const pair = allPairs?.[token0.id]?.[token1.id];\r\n\r\n    console.log()\r\n\r\n    if (pair && token0.price && token1.price && totalShares && userShares) {\r\n      return Liquidity.getUserPositionValue({\r\n        price0: token0.price,\r\n        price1: token1.price,\r\n        reserve0: pair.reserve0,\r\n        reserve1: pair.reserve1,\r\n        decimals0: token0.decimals,\r\n        decimals1: token1.decimals,\r\n        totalShares,\r\n        userShares,\r\n      }).toString();\r\n    }\r\n    return '0';\r\n  }, [allPairs, token0, token1, totalShares, userShares]);\r\n\r\n  //getuserLprewards\r\n  const rewardData = getuserLprewards(token0.id, token1.id);\r\n  rewardData;\r\n\r\n  return (\r\n    <Flex direction=\"column\" borderRadius=\"xl\" bg={bg} shadow={shadow}>\r\n      <Flex\r\n        position=\"relative\"\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        px={5}\r\n        py={4}\r\n        gridGap={1.5}\r\n      >\r\n        <TokenImageBlock src={token0.logo} size={7} />\r\n        <TokenImageBlock src={token1.logo} size={7} />\r\n        <Text flex={1} fontWeight=\"bold\" fontSize=\"1.125rem\">\r\n          {token0.symbol}/{token1.symbol}\r\n        </Text>\r\n        <Button\r\n          variant=\"outline\"\r\n          borderColor=\"dark-blue.500\"\r\n          onClick={() => handleAdd(token0.id, token1.id)}\r\n          fontWeight=\"normal\"\r\n          width=\"4.5rem\"\r\n        >\r\n          Add\r\n        </Button>\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => handleRemove(token0, token1)}\r\n          fontWeight=\"normal\"\r\n        >\r\n          Remove\r\n        </Button>\r\n      </Flex>\r\n\r\n      <Divider />\r\n\r\n      <Flex direction=\"row\" px={6} py={4}>\r\n        <Box flex={1}>\r\n          <Text color={headerColor}>LP Tokens</Text>\r\n          <LPBreakdownPopover\r\n            sources={[\r\n              {\r\n                src: token0.logo,\r\n                symbol: token0.symbol,\r\n                decimals: token0.decimals,\r\n                balance: balance0,\r\n              },\r\n              {\r\n                src: token1.logo,\r\n                symbol: token1.symbol,\r\n                decimals: token1.decimals,\r\n                balance: balance1,\r\n              },\r\n            ]}\r\n          >\r\n            <DisplayValue\r\n              value={userShares}\r\n              isUpdating={isLPBalanceLoading}\r\n              fontWeight=\"bold\"\r\n              disableTooltip\r\n              width=\"fit-content\"\r\n            />\r\n          </LPBreakdownPopover>\r\n        </Box>\r\n\r\n        <Box flex={1}>\r\n          <Text color={headerColor}>USD Value</Text>\r\n          <DisplayValue\r\n            isUpdating={isLPBalanceLoading}\r\n            prefix=\"$\"\r\n            value={userLPValue}\r\n            fontWeight=\"bold\"\r\n            decimals={8}\r\n            width=\"fit-content\"\r\n          />\r\n        </Box>\r\n\r\n        <Box\r\n          flex={1}\r\n          backgroundColor=\"#8888882f\"\r\n          mx={-3}\r\n          my={-1}\r\n          px={3}\r\n          py={1}\r\n          borderRadius=\"xl\"\r\n        >\r\n\r\n          <Popover trigger=\"hover\">\r\n            <PopoverTrigger>\r\n              <Flex>\r\n                <Text color={headerColor} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">Fees Earned &nbsp; </Text>\r\n                <Flex marginTop={1}><FaInfoCircle /></Flex>\r\n              </Flex>\r\n            </PopoverTrigger>\r\n\r\n            <PopoverContent color={useColorModeValue('black', 'white')}>\r\n              <PopoverArrow />\r\n              <PopoverBody>\r\n              It is the representation of the fees earned from swaps in consecutive tokens. Please note that the accrued fees will be automatically added to your LP pool.\r\n              </PopoverBody>\r\n            </PopoverContent>\r\n          </Popover>\r\n          {/* {!rewardData && ( */}\r\n          <DisplayValue\r\n            color={successColor}\r\n            isUpdating={isMetricsLoading}\r\n            prefix=\"$\"\r\n            value={pairMetrics?.fees ?? 0}\r\n            fontWeight=\"bold\"\r\n            decimals={8}\r\n            width=\"fit-content\"\r\n          />\r\n          {/* )} */}\r\n          {/* {rewardData && (\r\n            <>\r\n              <Flex>\r\n                <Flex>\r\n                  <DisplayValue color={successColor} value={Number(rewardData.token0) / 10 ** token0.decimals} fontWeight=\"bold\" width=\"fit-content\" />\r\n                  &nbsp; <Text>{token0.symbol}</Text>\r\n                </Flex>\r\n              </Flex>\r\n              <Flex marginTop={2}>\r\n                <Flex>\r\n                  <DisplayValue color={successColor} value={Number(rewardData.token1) / 10 ** token1.decimals} fontWeight=\"bold\" width=\"fit-content\" />\r\n                  &nbsp; <Text >{token1.symbol}</Text>\r\n                </Flex>\r\n              </Flex>\r\n            </>\r\n          )} */}\r\n        </Box>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Image } from '@chakra-ui/image';\r\nimport { Box, Flex, HStack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { Price } from '@memecake/sonic-js';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { DisplayValue } from '@/components';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\ntype RemoveLiquidityModalAssetProps = Partial<AppTokenMetadata> & {\r\n  balance: string;\r\n  isUpdating?: boolean;\r\n};\r\n\r\nexport const RemoveLiquidityModalAsset: FC<RemoveLiquidityModalAssetProps> = ({\r\n  symbol,\r\n  decimals,\r\n  logo = questionMarkSrc,\r\n  balance = 0,\r\n  price = 0,\r\n  isUpdating,\r\n}) => {\r\n  const balancePrice = useMemo(\r\n    () => Price.getByAmount({ amount: String(balance), price }).toString(),\r\n    [balance, price]\r\n  );\r\n\r\n  const bg = useColorModeValue('gray.100', 'gray.700');\r\n\r\n  return (\r\n    <Flex justifyContent=\"space-between\">\r\n      <HStack pl={2} py={2} pr={4} bg={bg} borderRadius=\"full\" alignSelf=\"center\">\r\n        <Image src={logo} alt={symbol} boxSize={6} borderRadius=\"full\" />\r\n        <Text fontWeight=\"bold\">{symbol}</Text>\r\n      </HStack>\r\n      <Box textAlign=\"end\">\r\n        <Box fontSize=\"xl\" fontWeight=\"bold\">\r\n          <DisplayValue value={balance} isUpdating={isUpdating} decimals={decimals}/>\r\n        </Box>\r\n        <Box fontSize=\"xs\">\r\n          <DisplayValue value={balancePrice} prefix=\"~$\" isUpdating={isUpdating}/>\r\n        </Box>\r\n      </Box>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n} from '@chakra-ui/modal';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Center,\r\n  Checkbox,\r\n  Divider,\r\n  Flex,\r\n  FormControl,\r\n  Heading,\r\n  Input,\r\n  SimpleGrid,\r\n  Slider,\r\n  SliderFilledTrack,\r\n  SliderThumb,\r\n  SliderTrack,\r\n  Stack,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Liquidity } from '@memecake/sonic-js';\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport {\r\n  FeatureState,\r\n  liquidityViewActions,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useLiquidityViewStore,\r\n  useModalsStore,\r\n  useNotificationStore,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { RemoveLiquidityModalAsset } from './remove-liquidity-modal-asset';\r\n\r\nconst PERCENTAGE_PRESETS = [25, 50, 75, 100];\r\n\r\nexport const RemoveLiquidityModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isRemoveLiquidityModalOpened } = useModalsStore();\r\n  const { addNotification } = useNotificationStore();\r\n  const { token0, token1, removeAmountPercentage, keepInSonic } =\r\n    useLiquidityViewStore();\r\n  const { allPairs, userLPBalances, userLPBalancesState } =\r\n    useSwapCanisterStore();\r\n\r\n  const handleModalClose = () => {\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityModal());\r\n  };\r\n\r\n  const handleRemoveLiquidity = () => {\r\n    addNotification({\r\n      title: `Removing LP of ${token0.metadata?.symbol} + ${token1.metadata?.symbol}`,\r\n      type: NotificationType.RemoveLiquidity,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(() => {\r\n      dispatch(liquidityViewActions.setRemoveAmountPercentage(0));\r\n    }, 300);\r\n    handleModalClose();\r\n  };\r\n\r\n  const handleSliderChange = (value: number) => {\r\n    dispatch(liquidityViewActions.setRemoveAmountPercentage(value));\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target;\r\n    if (value === '')\r\n      return dispatch(liquidityViewActions.setRemoveAmountPercentage(NaN));\r\n    const newValue = Math.max(1, Math.min(100, Number(value)));\r\n    dispatch(liquidityViewActions.setRemoveAmountPercentage(newValue));\r\n  };\r\n\r\n  const isBalancesUpdating = useMemo(\r\n    () => userLPBalancesState === FeatureState.Updating,\r\n    [userLPBalancesState]\r\n  );\r\n\r\n  const { balance0, balance1 } = useMemo(() => {\r\n    if (userLPBalances && allPairs && token0.metadata && token1.metadata) {\r\n      const lpBalance =\r\n        userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n      const pair = allPairs[token0.metadata.id]?.[token1.metadata.id];\r\n\r\n      const { balance0, balance1 } = Liquidity.getTokenBalances({\r\n        decimals0: token0.metadata.decimals,\r\n        decimals1: token1.metadata.decimals,\r\n        reserve0: pair?.reserve0 ?? 0,\r\n        reserve1: pair?.reserve1 ?? 0,\r\n        totalSupply: pair?.totalSupply ?? 0,\r\n        lpBalance,\r\n      });\r\n\r\n      return {\r\n        balance0: balance0\r\n          .multipliedBy(removeAmountPercentage / 100)\r\n          .toString(),\r\n        balance1: balance1\r\n          .multipliedBy(removeAmountPercentage / 100)\r\n          .toString(),\r\n      };\r\n    }\r\n\r\n    return {\r\n      balance0: '0',\r\n      balance1: '0',\r\n    };\r\n  }, [\r\n    userLPBalances,\r\n    allPairs,\r\n    token0.metadata,\r\n    token1.metadata,\r\n    removeAmountPercentage,\r\n  ]);\r\n\r\n  const { buttonMessage, isAmountIsLow } = useMemo(() => {\r\n    const AMOUNT_TOO_LOW_LABEL = 'Amount is too low';\r\n\r\n    if (userLPBalances && token0.metadata && token1.metadata) {\r\n      const tokensLPBalance =\r\n        userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n      const lpAmount = (removeAmountPercentage / 100) * tokensLPBalance;\r\n\r\n      const isAmountIsLow =\r\n        lpAmount <= ENV.swapCanisterFee || !removeAmountPercentage;\r\n\r\n      return {\r\n        buttonMessage: isAmountIsLow ? AMOUNT_TOO_LOW_LABEL : 'Remove',\r\n        isAmountIsLow,\r\n      };\r\n    }\r\n\r\n    return {\r\n      buttonMessage: AMOUNT_TOO_LOW_LABEL,\r\n      isAmountIsLow: true,\r\n    };\r\n  }, [\r\n    removeAmountPercentage,\r\n    token0.metadata,\r\n    token1.metadata,\r\n    userLPBalances,\r\n  ]);\r\n\r\n  const borderColor = useColorModeValue('gray.300', 'gray.700');\r\n\r\n  const checkboxColorKeepInSonic = useColorModeValue('black', 'white');\r\n  const checkboxColorNotKeepInSonic = useColorModeValue('gray.600', 'custom.1');\r\n  const checkboxColor = keepInSonic\r\n    ? checkboxColorKeepInSonic\r\n    : checkboxColorNotKeepInSonic;\r\n\r\n  return (\r\n    <Modal\r\n      isCentered\r\n      isOpen={isRemoveLiquidityModalOpened}\r\n      onClose={handleModalClose}\r\n    >\r\n      <ModalOverlay />\r\n\r\n      <ModalContent>\r\n        <ModalCloseButton />\r\n        <ModalHeader>\r\n          <Heading as=\"h3\" size=\"sm\">\r\n            Remove Liquidity\r\n          </Heading>\r\n        </ModalHeader>\r\n        <ModalBody textAlign=\"center\">\r\n          <Heading as=\"h4\" size=\"xs\" color=\"gray.500\" mt={2}>\r\n            Amount\r\n          </Heading>\r\n          <Heading\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            as=\"h6\"\r\n            size=\"xl\"\r\n            fontWeight=\"bold\"\r\n            mt={2}\r\n            mb={4}\r\n          >\r\n            <Input\r\n              w={`${String(removeAmountPercentage || 1).length * 23 + 5}px`}\r\n              variant=\"unstyled\"\r\n              value={String(removeAmountPercentage || '')}\r\n              onChange={handleInputChange}\r\n              size=\"xl\"\r\n              fontWeight=\"bold\"\r\n              textAlign=\"right\"\r\n              type=\"number\"\r\n              step={1}\r\n            />\r\n            %\r\n          </Heading>\r\n          <Box px={6}>\r\n            <Slider\r\n              value={removeAmountPercentage || 1}\r\n              onChange={handleSliderChange}\r\n              colorScheme=\"dark-blue\"\r\n              focusThumbOnChange={false}\r\n              min={1}\r\n              max={100}\r\n            >\r\n              <SliderTrack>\r\n                <SliderFilledTrack />\r\n              </SliderTrack>\r\n              <SliderThumb />\r\n            </Slider>\r\n          </Box>\r\n\r\n          <SimpleGrid columns={4} spacing={4} py={6}>\r\n            {PERCENTAGE_PRESETS.map((preset) => (\r\n              <Tooltip\r\n                key={preset}\r\n                label={`${preset}% of your liquidity position`}\r\n              >\r\n                <Button\r\n                  lineHeight=\"1\"\r\n                  colorScheme=\"dark-blue\"\r\n                  variant=\"outline\"\r\n                  disabled={removeAmountPercentage === preset}\r\n                  onClick={() => handleSliderChange(preset)}\r\n                >\r\n                  {preset}%\r\n                </Button>\r\n              </Tooltip>\r\n            ))}\r\n          </SimpleGrid>\r\n\r\n          <Flex alignItems=\"center\" mx={-6}>\r\n            <Divider />\r\n            <Center\r\n              p={2.5}\r\n              borderWidth=\"1px\"\r\n              borderStyle=\"solid\"\r\n              borderColor={borderColor}\r\n              borderRadius=\"md\"\r\n            >\r\n              <FaArrowDown />\r\n            </Center>\r\n\r\n            <Divider />\r\n          </Flex>\r\n\r\n          <Stack mt={6} mb={4}>\r\n            <RemoveLiquidityModalAsset\r\n              {...token0.metadata}\r\n              balance={balance0}\r\n              isUpdating={isBalancesUpdating}\r\n            />\r\n            <RemoveLiquidityModalAsset\r\n              {...token1.metadata}\r\n              balance={balance1}\r\n              isUpdating={isBalancesUpdating}\r\n            />\r\n          </Stack>\r\n\r\n          <Flex direction=\"row\" alignItems=\"center\" borderRadius={5} pt={4}>\r\n            <FormControl dir=\"row\" alignItems=\"center\">\r\n              <Checkbox\r\n                isChecked={keepInSonic}\r\n                onChange={(e) =>\r\n                  dispatch(\r\n                    liquidityViewActions.setKeepInSonic(e.target.checked)\r\n                  )\r\n                }\r\n                colorScheme=\"dark-blue\"\r\n                size=\"md\"\r\n                color={checkboxColor}\r\n                fontWeight={600}\r\n              >\r\n                Keep tokens in Sonic after removing liquidity\r\n              </Checkbox>\r\n            </FormControl>\r\n          </Flex>\r\n        </ModalBody>\r\n\r\n        <ModalFooter>\r\n          <Button\r\n            variant=\"gradient\"\r\n            colorScheme=\"dark-blue\"\r\n            mb={3}\r\n            size=\"lg\"\r\n            isFullWidth\r\n            isDisabled={isAmountIsLow}\r\n            onClick={handleRemoveLiquidity}\r\n          >\r\n            {buttonMessage}\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","export * from './add';\r\nexport * from './liquidity.utils';\r\nexport * from './list';\r\nexport * from './components';\r\n","import { Liquidity, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { AppAssetSource, getAppAssetsSources } from '@/config/utils';\r\nimport { SwapIDL } from '@/did';\r\nimport { Balances, BaseTokenData } from '@/models';\r\n\r\nexport const getShareOfPoolString = (\r\n  params: Liquidity.GetShareOfPoolParams\r\n) => {\r\n  const percentage = Liquidity.getShareOfPool(params).multipliedBy(100);\r\n\r\n  if (percentage.isEqualTo(0)) return '0%';\r\n\r\n  if (percentage.isLessThanOrEqualTo(0.01)) {\r\n    return '<0.01%';\r\n  }\r\n\r\n  return `${percentage.toFixed(2)}%`;\r\n};\r\n\r\nexport interface AddLiquidityMemoParams {\r\n  token0: BaseTokenData;\r\n  token1: BaseTokenData;\r\n  pair?: SwapIDL.PairInfoExt;\r\n}\r\n\r\nexport interface AddLiquidityMemo {\r\n  fee0: string;\r\n  fee1: string;\r\n  price0: string;\r\n  price1: string;\r\n  liquidityAmount?: string;\r\n  shareOfPool?: string;\r\n}\r\n\r\nexport const useAddLiquidityMemo = ({\r\n  token0,\r\n  token1,\r\n  pair,\r\n}: AddLiquidityMemoParams) =>\r\n  useMemo<AddLiquidityMemo>(() => {\r\n    try {\r\n      if (token0.metadata && token1.metadata && token0.value && token1.value) {\r\n        const fee0 = toBigNumber(token0.metadata.fee)\r\n          .multipliedBy(2)\r\n          .applyDecimals(token0.metadata.decimals)\r\n          .toString();\r\n\r\n        const fee1 = toBigNumber(token1.metadata.fee)\r\n          .multipliedBy(2)\r\n          .applyDecimals(token1.metadata.decimals)\r\n          .toString();\r\n\r\n        if (pair && Number(pair.reserve0) && Number(pair.reserve1)) {\r\n          // If pair exists and have reserves\r\n          const price0 = Liquidity.getOppositeAmount({\r\n            amountIn: '1',\r\n            reserveIn: pair.reserve1,\r\n            reserveOut: pair.reserve0,\r\n            decimalsIn: token1.metadata.decimals,\r\n            decimalsOut: token0.metadata.decimals,\r\n          }).toString();\r\n\r\n          const price1 = Liquidity.getOppositeAmount({\r\n            amountIn: '1',\r\n            reserveIn: pair.reserve0,\r\n            reserveOut: pair.reserve1,\r\n            decimalsIn: token0.metadata.decimals,\r\n            decimalsOut: token1.metadata.decimals,\r\n          }).toString();\r\n\r\n          const options = {\r\n            amount0: token0.value,\r\n            amount1: token1.value,\r\n            decimals0: token0.metadata?.decimals,\r\n            decimals1: token1.metadata?.decimals,\r\n            reserve0: pair.reserve0,\r\n            reserve1: pair.reserve1,\r\n            totalSupply: pair.totalSupply,\r\n          };\r\n\r\n          const liquidityAmount = Liquidity.getPosition(options)\r\n            .applyDecimals(Liquidity.PAIR_DECIMALS)\r\n            .toString();\r\n\r\n          const shareOfPool = getShareOfPoolString(options);\r\n\r\n          return {\r\n            fee0,\r\n            fee1,\r\n            price0,\r\n            price1,\r\n            liquidityAmount,\r\n            shareOfPool,\r\n          };\r\n        } else {\r\n          // If pair doesn't exist or doesn't have reserves\r\n          const price0 = toBigNumber(token0.value)\r\n            .div(token1.value)\r\n            .dp(token0.metadata.decimals)\r\n            .toString();\r\n\r\n          const price1 = toBigNumber(token1.value)\r\n            .div(token0.value)\r\n            .dp(token1.metadata.decimals)\r\n            .toString();\r\n\r\n          const liquidityAmount = Liquidity.getPosition({\r\n            amount0: token0.value,\r\n            amount1: token1.value,\r\n            decimals0: token0.metadata.decimals,\r\n            decimals1: token1.metadata.decimals,\r\n            reserve0: 0,\r\n            reserve1: 0,\r\n            totalSupply: 0,\r\n          })\r\n            .applyDecimals(Liquidity.PAIR_DECIMALS)\r\n            .toString();\r\n\r\n          return {\r\n            fee0,\r\n            fee1,\r\n            price0,\r\n            price1,\r\n            shareOfPool: '100%',\r\n            liquidityAmount,\r\n          };\r\n        }\r\n      }\r\n\r\n      throw new Error('Empty token data');\r\n    } catch {\r\n      // If token data is empty or invalid values\r\n      return {\r\n        fee0: '0',\r\n        fee1: '0',\r\n        price0: '0',\r\n        price1: '0',\r\n      };\r\n    }\r\n  }, [token0, token1, pair]);\r\n\r\nexport interface TokenSourceMemoParams {\r\n  token: BaseTokenData;\r\n  tokenBalances?: Balances;\r\n  sonicBalances?: Balances;\r\n}\r\n\r\nexport const useTokenSourceMemo = ({\r\n  token,\r\n  tokenBalances,\r\n  sonicBalances,\r\n}: TokenSourceMemoParams) =>\r\n  useMemo<AppAssetSource[] | undefined>(() => {\r\n    if (token.metadata) {\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          wallet: tokenBalances ? tokenBalances[token.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[token.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [token.metadata, tokenBalances, sonicBalances]);\r\n","import { Box, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { Liquidity, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { Asset, Header, InformationBox, WalletNotConnected, TokenImageBlock } from '@/components';\r\nimport { useUserMetrics } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nimport {\r\n  FeatureState, liquidityViewActions, modalsSliceActions, useAppDispatch, useLiquidityViewStore,\r\n  useWalletStore , useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { PairedUserLPToken, PairedUserLPTokenProps, RemoveLiquidityModal } from './components';\r\n\r\nconst INFORMATION_TITLE = 'Liquidity Provider Rewards';\r\nconst INFORMATION_DESCRIPTION = `Liquidity providers earn a 0.3% fee on all trades proportional to their share of the pool. Fees are added to the pool, \r\n  accrue in real time and can be claimed by withdrawing your liquidity. If you want to learn `;\r\n\r\nconst INFORMATION_LINK = 'https://docs.sonic.ooo/product/adding-liquidity/claiming-your-rewards';\r\n\r\nconst InformationDescription = () => {\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Text color={color}>\r\n      {INFORMATION_DESCRIPTION}\r\n      <Box as=\"a\" color={color} href={INFORMATION_LINK} textDecoration=\"underline\" _visited={{ color: color }}>\r\n        review our documentation\r\n      </Box>\r\n      .\r\n    </Text>\r\n  );\r\n};\r\n\r\nexport const LiquidityListView = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { isConnected } = useWalletStore();\r\n\r\n  const { allPairs, allPairsState, userLPBalances, userLPBalancesState, supportedTokenList, supportedTokenListState } = useSwapCanisterStore();\r\n  const { isBannerOpened } = useLiquidityViewStore();\r\n  const { isLoading: isMetricsLoading, userPairMetrics } = useUserMetrics();\r\n\r\n  const moveToAddLiquidityView = (token0?: string, token1?: string) => {\r\n    const query = token0 || token1\r\n        ? `?${token0 ? `token0=${token0}` : ''}${token1 ? `&token1=${token1}` : ''\r\n        }`\r\n        : '';\r\n    navigate(`/liquidity/add${query}`);\r\n  };\r\n\r\n  const handleInformationClose = () => { dispatch(liquidityViewActions.setIsBannerOpened(false));};\r\n\r\n  const handleOpenRemoveLiquidityModal = ( token0: AppTokenMetadata, token1: AppTokenMetadata) => {\r\n    dispatch(liquidityViewActions.setToken({ data: 'token0', token: token0 }));\r\n    dispatch(liquidityViewActions.setToken({ data: 'token1', token: token1 }));\r\n    dispatch(modalsSliceActions.openRemoveLiquidityModal());\r\n  };\r\n\r\n  const isLoading = useMemo(() => {\r\n    return (\r\n      allPairsState === FeatureState.Loading ||\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      userLPBalancesState === FeatureState.Loading\r\n    );\r\n  }, [allPairsState, supportedTokenListState, userLPBalancesState]);\r\n\r\n  const isUserLPBalancesUpdating = useMemo(() => {\r\n    return userLPBalancesState === FeatureState.Updating;\r\n  }, [userLPBalancesState]);\r\n\r\n  const isUpdating = useMemo(() => {\r\n    return (\r\n      allPairsState === FeatureState.Updating ||\r\n      supportedTokenListState === FeatureState.Updating ||\r\n      isUserLPBalancesUpdating\r\n    );\r\n  }, [allPairsState, supportedTokenListState, isUserLPBalancesUpdating]);\r\n\r\n  const pairedUserLPTokens = useMemo(() => {\r\n    if (userLPBalances && supportedTokenList && allPairs) {\r\n      const lpBalancesPairIDs = Object.keys(userLPBalances);\r\n      const existentPairs = new Set();\r\n\r\n      return lpBalancesPairIDs.reduce((acc, tokenId0) => {\r\n        const pairedList: PairedUserLPTokenProps[] = [];\r\n\r\n        for (const tokenId1 in userLPBalances[tokenId0]) {\r\n          if (existentPairs.has(`${tokenId1}:${tokenId0}`)) continue;\r\n          existentPairs.add(`${tokenId0}:${tokenId1}`);\r\n\r\n          const token0 = supportedTokenList.find((token) => token.id === tokenId0);\r\n          const token1 = supportedTokenList.find((token) => token.id === tokenId1);\r\n\r\n          let balance0, balance1;\r\n\r\n          if (userLPBalances && allPairs && token0 && token1) {\r\n            const lpBalance = userLPBalances[token0.id]?.[token1.id];\r\n            const pair = allPairs[token0.id]?.[token1.id];\r\n\r\n            const balances = Liquidity.getTokenBalances({\r\n              decimals0: token0.decimals,\r\n              decimals1: token1.decimals,\r\n              reserve0: pair?.reserve0 ?? 0,\r\n              reserve1: pair?.reserve1 ?? 0,\r\n              totalSupply: pair?.totalSupply ?? 0,\r\n              lpBalance,\r\n            });\r\n\r\n            balance0 = balances.balance0.toString();\r\n            balance1 = balances.balance1.toString();\r\n          }\r\n\r\n          const userShares = toBigNumber(userLPBalances[tokenId0][tokenId1]).applyDecimals(Liquidity.PAIR_DECIMALS).toString();\r\n\r\n          const totalShares = toBigNumber(\r\n            allPairs?.[tokenId0]?.[tokenId1]?.totalSupply\r\n          ).applyDecimals(Liquidity.PAIR_DECIMALS).toString();\r\n\r\n          pairedList.push({\r\n            pairId: allPairs?.[tokenId0]?.[tokenId1]?.id,\r\n            token0,\r\n            token1,\r\n            balance0,\r\n            balance1,\r\n            userShares,\r\n            totalShares,\r\n            allPairs,\r\n          } as PairedUserLPTokenProps);\r\n        }\r\n\r\n        return [...acc, ...pairedList];\r\n      }, [] as PairedUserLPTokenProps[]);\r\n    }\r\n  }, [userLPBalances, supportedTokenList, allPairs]);\r\n\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        title=\"Your Liquidity Positions\"\r\n        buttonText=\"Create Position\"\r\n        onButtonClick={() => moveToAddLiquidityView()}\r\n        isUpdating={isUpdating}\r\n      >\r\n        {isBannerOpened && (\r\n          <InformationBox\r\n            onClose={handleInformationClose}\r\n            title={INFORMATION_TITLE}\r\n            mb={9}\r\n          >\r\n            <InformationDescription />\r\n          </InformationBox>\r\n        )}\r\n      </Header>\r\n\r\n      <RemoveLiquidityModal />\r\n\r\n      {!isConnected ? (\r\n        <WalletNotConnected message=\"Your liquidity positions will appear here.\" />\r\n      ) : isLoading ? (\r\n        <Stack spacing={4}>\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n        </Stack>\r\n      ) : !pairedUserLPTokens?.length ? (\r\n        <Text textAlign=\"center\" color={headerColor}>\r\n          You have no liquidity positions\r\n        </Text>\r\n      ) : (\r\n        <Stack\r\n          css={{ msOverflowStyle: 'none', scrollbarWidth: 'none','&::-webkit-scrollbar': { display: 'none'}}}\r\n          spacing={4} pb={40} overflow=\"auto\">\r\n          {pairedUserLPTokens.map((userLPToken) => {\r\n\r\n            return (\r\n              <PairedUserLPToken {...userLPToken} key={userLPToken.pairId} handleRemove={handleOpenRemoveLiquidityModal}\r\n                handleAdd={moveToAddLiquidityView} pairMetrics={userPairMetrics?.[userLPToken.pairId]}\r\n                isMetricsLoading={isMetricsLoading} isLPBalanceLoading={isUserLPBalancesUpdating}\r\n              />\r\n            );\r\n          })}\r\n        </Stack>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Image,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport { FaLink } from '@react-icons/all-files/fa/FaLink';\r\nimport { useMemo } from 'react';\r\n\r\nimport { SwapTokenData, useSwapViewStore } from '@/store';\r\n\r\nexport interface ChainPopoverProps {\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n}\r\n\r\nexport const ChainPopover: React.FC<ChainPopoverProps> = ({ from, to }) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const [path, isChained] = useMemo(() => {\r\n    if (to.metadata) {\r\n      const path = from.paths[to.metadata.id];\r\n      return [path, path?.path?.length > 2];\r\n    }\r\n    return [];\r\n  }, [from, to]);\r\n\r\n  const bg = useColorModeValue('gray.200', 'gray.700');\r\n\r\n  if (!path || !tokenList || !isChained)\r\n    return (\r\n      <Flex justifyContent=\"center\" alignItems=\"center\">\r\n        {from.metadata?.symbol}\r\n        &nbsp;\r\n        <FaArrowRight />\r\n        &nbsp;\r\n        {to.metadata?.symbol}\r\n      </Flex>\r\n    );\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>\r\n        <Flex justifyContent=\"center\" alignItems=\"center\">\r\n          {from.metadata?.symbol}\r\n          &nbsp;\r\n          <FaLink />\r\n          &nbsp;\r\n          {to.metadata?.symbol}\r\n        </Flex>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent width=\"320px\" minWidth=\"fit-content\">\r\n        <PopoverArrow />\r\n        <PopoverBody>\r\n          <Flex width=\"full\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            {path.path.map((item, index) => (\r\n              <div key={index}>\r\n                <Flex\r\n                  px={2}\r\n                  py={1}\r\n                  borderRadius={4}\r\n                  backgroundColor={bg}\r\n                  fontSize=\"0.75rem\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Image src={tokenList[item].logo} width={3} mr={1} />\r\n                  {tokenList[item].symbol}\r\n                </Flex>\r\n\r\n                {index !== path.path.length - 1 && (\r\n                  <FaArrowRight size={12} style={{ margin: '0 5px' }} />\r\n                )}\r\n              </div>\r\n            ))}\r\n          </Flex>\r\n        </PopoverBody>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Icon,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverHeader,\r\n  PopoverTrigger,\r\n  Portal,\r\n  Stack,\r\n  Text,\r\n} from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport BigNumber from 'bignumber.js';\r\nimport React, { useMemo } from 'react';\r\n\r\nimport { DisplayValue, StackLine } from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances, useTokenSelectionChecker } from '@/hooks';\r\nimport { useCyclesMintingCanisterStore, useSwapViewStore } from '@/store';\r\nimport { formatValue } from '@/utils/format';\r\n\r\nimport { getSwapAmountOutMin } from '..';\r\nimport { getAmountOutRatio, getXTCValueByXDRRate } from '../swap.utils';\r\nimport { ChainPopover } from './chain-popover';\r\n\r\nexport type ExchangeBoxProps = {\r\n  priceImpact?: string;\r\n};\r\n\r\nexport const ExchangeBox: React.FC<ExchangeBoxProps> = ({ priceImpact }) => {\r\n  const { from, to, slippage, keepInSonic, allPairs } = useSwapViewStore();\r\n\r\n  const { sonicBalances } = useBalances();\r\n\r\n  const { ICPXDRconversionRate } = useCyclesMintingCanisterStore();\r\n\r\n  const { isFirstIsSelected: isFromTokenIsICP,\r\n    isSecondIsSelected: isToTokenIsICP } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id });\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsWICP,\r\n    isSecondIsSelected: isToTokenIsWICP,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.WICP });\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsXTC,\r\n    isSecondIsSelected: isToTokenIsXTC,\r\n  } = useTokenSelectionChecker({\r\n    id0: from.metadata?.id,\r\n    id1: to.metadata?.id,\r\n    targetId: ENV.canistersPrincipalIDs.XTC,\r\n  });\r\n\r\n  const { depositFee, withdrawFee } = useMemo(() => {\r\n    if (from.metadata?.id && to.metadata?.id && sonicBalances) {\r\n      const hasDeposit = sonicBalances[from.metadata.id] < Number(from.value);\r\n      const depositFee =\r\n        hasDeposit && Number(from.metadata.fee) > 0\r\n          ? toBigNumber(BigInt(2) * from.metadata.fee)\r\n            .applyDecimals(from.metadata.decimals)\r\n            .toString()\r\n          : undefined;\r\n\r\n      const withdrawFee =\r\n        !keepInSonic && Number(to.metadata.fee) > 0\r\n          ? toBigNumber(to.metadata.fee)\r\n            .applyDecimals(to.metadata.decimals)\r\n            .toString()\r\n          : undefined;\r\n\r\n      return { depositFee, withdrawFee };\r\n    }\r\n\r\n    return {};\r\n  }, [from, to, sonicBalances, keepInSonic]);\r\n\r\n  const { icpMetadata, operation, fee, feeSymbol } = useMemo(() => {\r\n\r\n    const icpMetadata = isFromTokenIsICP ? from.metadata: isToTokenIsICP? to.metadata: undefined;\r\n    const xtcMetadata = isToTokenIsXTC && to.metadata;\r\n\r\n    const operation = isFromTokenIsWICP? 'Unwrap': isToTokenIsWICP ? 'Wrap' : isFromTokenIsXTC ? 'Swap' : isToTokenIsXTC ? 'Mint XTC': undefined;\r\n\r\n    const icpFeeInXTC = xtcMetadata && ICPXDRconversionRate?\r\n      getXTCValueByXDRRate({\r\n         amount: formatValue(ICP_METADATA.fee, ICP_METADATA.decimals), conversionRate: ICPXDRconversionRate,\r\n        }).minus(formatValue(xtcMetadata.fee, xtcMetadata.decimals)): new BigNumber(0);\r\n\r\n    const xtcFees = icpMetadata? \r\n    toBigNumber( (to.metadata?.fee ?? BigInt(0)) * (keepInSonic ? BigInt(3) : BigInt(1)))\r\n        .applyDecimals(to.metadata?.decimals ?? 0).plus(icpFeeInXTC.multipliedBy(2)).toString()\r\n      : '0';\r\n\r\n    const wicpFee = icpMetadata? toBigNumber(icpMetadata.fee).applyDecimals(icpMetadata.decimals).toString(): '0';\r\n\r\n    const fee = isToTokenIsXTC ? xtcFees : wicpFee;\r\n    const feeSymbol = isToTokenIsXTC ? 'XTC' : 'ICP';\r\n    return { icpMetadata, operation, fee, feeSymbol };\r\n    \r\n  }, [ isFromTokenIsICP, from.metadata, isToTokenIsICP, to.metadata, isToTokenIsXTC,isFromTokenIsWICP,\r\n    isToTokenIsWICP,isFromTokenIsXTC, ICPXDRconversionRate,keepInSonic,\r\n  ]);\r\n\r\n  const pathAmountOut = useMemo( () => getAmountOutRatio(from, to, allPairs), [from, to, allPairs]);\r\n\r\n  const amountOutMin = useMemo( () =>\r\n      getSwapAmountOutMin({ from, to, slippage, allPairs, hasDeposit: Boolean(depositFee), hasWithdraw: keepInSonic}),\r\n    [allPairs, depositFee, from, keepInSonic, slippage, to]\r\n  );\r\n\r\n  if (!from.metadata || !to.metadata) return null;\r\n\r\n  if (icpMetadata) {\r\n    return (\r\n      <Flex opacity={0.4} alignItems=\"center\" px={4} fontWeight={400}>\r\n        <Text display=\"flex\" alignItems=\"center\">\r\n          {from.metadata.symbol}&nbsp;\r\n          <FaArrowRight />\r\n          &nbsp;{to.metadata.symbol}\r\n        </Text>\r\n        <Text flex={1} textAlign=\"right\">\r\n          {operation} Fee = <DisplayValue as=\"span\" value={fee} /> {feeSymbol}\r\n        </Text>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Flex alignItems=\"center\" px={4} fontWeight={400}>\r\n      <ChainPopover from={from} to={to} />\r\n      <Text flex={1} textAlign=\"right\" mx={2}>\r\n        1&nbsp;{from.metadata.symbol}&nbsp;=&nbsp;\r\n        {pathAmountOut}\r\n        &nbsp;\r\n        {to.metadata.symbol}\r\n      </Text>\r\n      <Popover trigger=\"hover\">\r\n        <PopoverTrigger>\r\n          <Flex>\r\n            <Icon as={FaInfoCircle} width={5} transition=\"opacity 200ms\" />\r\n          </Flex>\r\n        </PopoverTrigger>\r\n        <Portal>\r\n          <PopoverContent minWidth=\"25rem\">\r\n            <PopoverHeader>Transaction Details</PopoverHeader>\r\n            <PopoverArrow />\r\n            <PopoverBody display=\"inline-block\">\r\n              <Stack>\r\n                <StackLine\r\n                  title=\"Minimum Received\"\r\n                  value={`${amountOutMin} ${to.metadata.symbol}`}\r\n                />\r\n                <StackLine\r\n                  title=\"Price Impact\"\r\n                  value={\r\n                    <DisplayValue as=\"span\" value={priceImpact} suffix=\"%\" />\r\n                  }\r\n                />\r\n                <StackLine title=\"Allowed Slippage\" value={`${slippage}%`} />\r\n                {depositFee && (\r\n                  <StackLine\r\n                    title=\"Deposit Fee\"\r\n                    value={`${depositFee} ${from.metadata.symbol}`}\r\n                  />\r\n                )}\r\n                {withdrawFee && (\r\n                  <StackLine\r\n                    title=\"Withdraw Fee\"\r\n                    value={`${withdrawFee} ${to.metadata.symbol}`}\r\n                  />\r\n                )}\r\n              </Stack>\r\n            </PopoverBody>\r\n          </PopoverContent>\r\n        </Portal>\r\n      </Popover>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './exchange-box';\r\nexport * from './keep-in-sonic-box';\r\nexport * from './topmenu';\r\n","import {\r\n  Checkbox,\r\n  Flex,\r\n  FormControl,\r\n  Icon,\r\n  Link,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n  Portal,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch, useSwapViewStore } from '@/store';\r\n\r\nexport enum OperationType {\r\n  Swap = 'swap',\r\n  Wrap = 'wrap',\r\n  Mint = 'mint',\r\n}\r\n\r\ntype KeepInSonicBoxProps = {\r\n  symbol?: string;\r\n  operation?: OperationType;\r\n  canHeldInSonic?: boolean;\r\n};\r\n\r\nconst KEEP_IN_SONIC_LINK =\r\n  'https://docs.sonic.ooo/product/assets#keeping-assets-in-sonic-after-a-swap';\r\n\r\nexport const KeepInSonicBox: React.FC<KeepInSonicBoxProps> = ({\r\n  symbol,\r\n  operation = 'swap',\r\n  canHeldInSonic = true,\r\n}) => {\r\n  const { keepInSonic } = useSwapViewStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const linkColor = useColorModeValue('dark-blue.300', 'dark-blue.500');\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  const checkboxColorKeepInSonic = useColorModeValue('black', 'white');\r\n  const checkboxColorNotKeepInSonic = useColorModeValue('gray.600', 'custom.1');\r\n  const checkboxColor = keepInSonic ? checkboxColorKeepInSonic : checkboxColorNotKeepInSonic;\r\n\r\n  const { label, popoverLabel } = useMemo(() => {\r\n    switch (operation) {\r\n      case 'swap':\r\n        return {\r\n          label: `Keep ${symbol ? symbol : 'tokens'\r\n            } in Sonic after ${operation}`,\r\n          popoverLabel: (\r\n            <>\r\n              Keeping tokens in Sonic (instead of withdrawing to Plug) is good\r\n              for high frequency trading where a few extra seconds matter a lot.\r\n              By doing this, you can skip the deposit step on your next trades\r\n              and save 2-3 seconds each time.&nbsp;\r\n              <Link href={KEEP_IN_SONIC_LINK} color={linkColor}>\r\n                Learn More\r\n              </Link>\r\n              .\r\n            </>\r\n          ),\r\n        };\r\n      case 'mint':\r\n      case 'wrap':\r\n        return {\r\n          label: `Deposit ${symbol ? symbol : 'tokens'\r\n            } to Sonic after ${operation}`,\r\n          popoverLabel: (\r\n            <>\r\n              If you keep your tokens deposited in Sonic (instead of withdrawing\r\n              to Plug) you can start swaps or add liquidity faster on your next\r\n              operation. &nbsp;\r\n              <Link href={KEEP_IN_SONIC_LINK} color={linkColor}>\r\n                Learn More\r\n              </Link>\r\n              .\r\n            </>\r\n          ),\r\n        };\r\n      default:\r\n        return {\r\n          label: 'Keep in Sonic',\r\n          popoverLabel: 'Keep in Sonic',\r\n        };\r\n    }\r\n  }, [operation, symbol]);\r\n\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      justifyContent=\"space-between\"\r\n      alignItems=\"center\"\r\n      borderRadius=\"xl\"\r\n      bg={bg}\r\n      shadow={shadow}\r\n      px={5}\r\n      py={4}\r\n      mb={5}\r\n    >\r\n      {canHeldInSonic ? (\r\n        <>\r\n          <FormControl dir=\"row\" alignItems=\"center\">\r\n            <Checkbox\r\n              isChecked={keepInSonic}\r\n              onChange={(e) =>\r\n                dispatch(swapViewActions.setKeepInSonic(e.target.checked))\r\n              }\r\n              colorScheme=\"dark-blue\"\r\n              color={checkboxColor}\r\n              fontWeight={600}\r\n            >\r\n              {label}\r\n            </Checkbox>\r\n          </FormControl>\r\n          <Popover trigger=\"hover\">\r\n            <PopoverTrigger>\r\n              <Flex>\r\n                <Icon\r\n                  as={FaInfoCircle}\r\n                  width={5}\r\n                  transition=\"opacity 200ms\"\r\n                  opacity={keepInSonic ? 1 : 0.5}\r\n                />\r\n              </Flex>\r\n            </PopoverTrigger>\r\n            <Portal>\r\n              <PopoverContent>\r\n                <PopoverArrow />\r\n                <PopoverBody display=\"inline-block\">{popoverLabel}</PopoverBody>\r\n              </PopoverContent>\r\n            </Portal>\r\n          </Popover>\r\n        </>\r\n      ) : (\r\n        <Text fontWeight=\"bold\" color=\"gray.400\">\r\n          {symbol} can’t be held in the Sonic canister\r\n        </Text>\r\n      )}\r\n    </Flex>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { Flex, Button } from '@chakra-ui/react';\r\nimport { Link } from 'react-router-dom';\r\ntype options = {\r\n    tabname?: string;\r\n};\r\n\r\nexport const SwapSubTab: React.FC<options> = ({ tabname }) => {\r\n    var url = location.pathname;\r\n    return (\r\n        <Flex gap={4} direction='row' align='center' alignItems='center' style={ {justifyContent: 'center'}}>\r\n            <Button style={\r\n                { backgroundColor: (url == '/swap')?'#3F51B5' :'transparent' , border:\"1\" , color:'white' , borderColor:'#3F51B5' }} \r\n                as={Link} colorScheme='blue'  to={'/swap'} variant='outline' px={6}>\r\n              Swap\r\n            </Button>\r\n            <Button  style={\r\n                { backgroundColor: (url == '/swap/mint')?'#3F51B5' :'transparent' , border:\"1\" , color:'white' , borderColor:'#3F51B5' }} \r\n                as={Link} colorScheme='blue'  to={'/swap/mint'} variant='outline'  px={6}>\r\n            Mint\r\n            </Button>\r\n        </Flex>\r\n    );\r\n}","export * from './use-swap-view-data';\r\n","import { Link } from '@chakra-ui/react';\r\nimport { Pair, Swap, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { batch } from 'react-redux';\r\n\r\nimport { PLUG_WALLET_WEBSITE_URL } from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { getAppAssetsSources } from '@/config/utils';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances, useQuery, useTokenAllowance, useTokenBalanceMemo, useTokenSelectionChecker } from '@/hooks';\r\n\r\nimport { checkIfPlugProviderVersionCompatible } from '@/integrations/plug';\r\nimport {\r\n  FeatureState, INITIAL_SWAP_SLIPPAGE, NotificationType, SwapTokenDataKey, swapViewActions, useAppDispatch, useCyclesMintingCanisterStore,\r\n  useNotificationStore, useWalletStore, usePriceStore, useSwapCanisterStore, useSwapViewStore, useTokenModalOpener, getTokenPath\r\n} from '@/store';\r\n\r\nimport { formatValue, getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { OperationType } from '../components';\r\nimport {\r\n  getAmountOutFromPath, getICPValueByXDRRate, getXTCValueByXDRRate,\r\n} from '../swap.utils';\r\n\r\nexport enum SwapStep { Home, Review }\r\n\r\nexport const useSwapViewData = (action:string) => {\r\n  const dispatch = useAppDispatch();\r\n  const [lastChangedInputDataKey, setLastChangedInputDataKey] = useState<SwapTokenDataKey>('from');\r\n\r\n  const [step, setStep] = useState(SwapStep.Home);\r\n  const [isAutoSlippage, setIsAutoSlippage] = useState(true);\r\n\r\n  const query = useQuery();\r\n  const { addNotification } = useNotificationStore();\r\n  const { fromTokenOptions, toTokenOptions, from, to, tokenList, keepInSonic } = useSwapViewStore();\r\n  \r\n  const {\r\n    sonicBalances, tokenBalances, icpBalance, balancesState, supportedTokenListState,\r\n    supportedTokenList, allPairsState, allPairs,\r\n  } = useSwapCanisterStore();\r\n\r\n  const { totalBalances } = useBalances();\r\n\r\n  const { ICPXDRconversionRate } = useCyclesMintingCanisterStore();\r\n  const { state: priceState } = usePriceStore();\r\n  const { isConnected } = useWalletStore();\r\n\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsICP,\r\n    isSecondIsSelected: isToTokenIsICP,\r\n    isTokenSelected: isICPSelected,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id });\r\n\r\n  const {\r\n    isTokenSelected: isWICPSelected,\r\n    isFirstIsSelected: isFromTokenIsWICP,\r\n    isSecondIsSelected: isToTokenIsWICP,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.WICP });\r\n\r\n  const {\r\n    isSecondIsSelected: isToTokenIsXTC, isTokenSelected: isXTCSelected } =\r\n    useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.XTC });\r\n\r\n  const fromBalance = useTokenBalanceMemo(from.metadata?.id);\r\n  const toBalance = useTokenBalanceMemo(to.metadata?.id);\r\n\r\n  function handleICPToWICPChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n\r\n    const _newValue = new BigNumber(newValue);\r\n    const icpFee = formatValue(ICP_METADATA.fee, ICP_METADATA.decimals);\r\n\r\n    const value =\r\n      dataKey === 'from' ? _newValue.minus(icpFee) : _newValue.plus(icpFee);\r\n\r\n    dispatch(\r\n      swapViewActions.setValue({\r\n        data: oppositeDataKey,\r\n        value: value.toNumber() > 0 ? value.dp(ICP_METADATA.decimals).toString() : '',\r\n      })\r\n    );\r\n  }\r\n\r\n  function handleICPToXTCChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n\r\n    const xtcMetadata = tokenList?.[ENV.canistersPrincipalIDs.XTC];\r\n\r\n    if (ICPXDRconversionRate && xtcMetadata) {\r\n      const handler =\r\n        dataKey === 'from' ? getXTCValueByXDRRate : getICPValueByXDRRate;\r\n\r\n      const xtcFee = new BigNumber(\r\n        formatValue(xtcMetadata.fee, xtcMetadata.decimals)\r\n      );\r\n\r\n      const icpFeesConvertedToXTC = getXTCValueByXDRRate({\r\n        amount: formatValue(ICP_METADATA.fee, ICP_METADATA.decimals),\r\n        conversionRate: ICPXDRconversionRate,\r\n      }).minus(xtcFee).multipliedBy(2);\r\n\r\n      const xtcFees = xtcFee.multipliedBy(keepInSonic ? 4 : 2);\r\n\r\n      const amount =\r\n        dataKey === 'from'\r\n          ? newValue\r\n          : new BigNumber(newValue).plus(xtcFees).plus(icpFeesConvertedToXTC).toString();\r\n\r\n      const rateBasedAmount = handler({ amount, conversionRate: ICPXDRconversionRate});\r\n\r\n      const resultAmount =\r\n        dataKey === 'from'\r\n          ? rateBasedAmount.minus(icpFeesConvertedToXTC).minus(xtcFees)\r\n          : rateBasedAmount.dp(ICP_METADATA.decimals);\r\n\r\n      dispatch(\r\n        swapViewActions.setValue({\r\n          data: oppositeDataKey,\r\n          value: resultAmount.toNumber() > 0 ? resultAmount.toString() : '',\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleICPToTokenChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n    const data = dataKey === 'from' ? from : to;\r\n    const oppositeData = dataKey === 'from' ? to : from;\r\n\r\n    const wrappedICPMetadata = supportedTokenList?.find((token) => token.id === ENV.canistersPrincipalIDs.WICP);\r\n\r\n    if (wrappedICPMetadata && tokenList && allPairs) {\r\n      const paths = getTokenPath({\r\n        pairList: allPairs as unknown as Pair.List, tokenList,\r\n        tokenId: wrappedICPMetadata.id, amount: newValue,\r\n      });\r\n      const dataWICP = { ...data, metadata: wrappedICPMetadata, paths };\r\n      dispatch(swapViewActions.setValue({ data: oppositeDataKey, value: getAmountOutFromPath(dataWICP, oppositeData) }));\r\n    }\r\n  }\r\n\r\n  const handleSetValue = (value: string, dataKey: SwapTokenDataKey) => {\r\n    dispatch(swapViewActions.setValue({ data: dataKey, value }));\r\n  };\r\n\r\n  const resetViewState = useCallback(() => {\r\n    setStep(SwapStep.Home);\r\n    dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n    dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n  }, [dispatch]);\r\n\r\n  const resetStepToHome = useCallback(() => {\r\n    if (step === SwapStep.Review) {\r\n      setStep(SwapStep.Home);\r\n    }\r\n  }, [step]);\r\n\r\n  const handleChangeValue = (value: string, dataKey: SwapTokenDataKey) => {\r\n    if (!from.metadata || !allPairs) return;\r\n    resetStepToHome();\r\n    handleSetValue(value, dataKey);\r\n\r\n    if (isICPSelected && isWICPSelected) {\r\n      handleICPToWICPChange(value, dataKey);\r\n      return;\r\n    }\r\n\r\n    if (isICPSelected && isXTCSelected) {\r\n      handleICPToXTCChange(value, dataKey);\r\n      return;\r\n    }\r\n\r\n    if (isICPSelected) {\r\n      handleICPToTokenChange(value, dataKey);\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleSwitchTokens = () => {\r\n    resetStepToHome();\r\n\r\n    if (!to.metadata || (isFromTokenIsICP && isToTokenIsXTC)) {\r\n      dispatch(swapViewActions.switchTokens(lastChangedInputDataKey));\r\n      dispatch(swapViewActions.setToken({ data: 'to', tokenId: '' }));\r\n    } else {\r\n      dispatch(swapViewActions.switchTokens(lastChangedInputDataKey));\r\n      setLastChangedInputDataKey(\r\n        lastChangedInputDataKey === 'from' ? 'to' : 'from'\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleMaxClick = (dataKey: SwapTokenDataKey) => {\r\n    const balance = dataKey === 'from' ? fromBalance : toBalance;\r\n    const metadata = dataKey === 'from' ? from.metadata : to.metadata;\r\n\r\n    if (!balance) { return }\r\n\r\n    const maxValue = getMaxValue(metadata, balance).toString();\r\n    handleChangeValue(maxValue, dataKey);\r\n  };\r\n\r\n  const handleSelectToken = (dataKey: SwapTokenDataKey) => {\r\n    resetStepToHome();\r\n\r\n    const options = dataKey === 'from' ? fromTokenOptions : toTokenOptions;\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n    const oppositeTokenId = dataKey === 'from' ? to.metadata?.id : from.metadata?.id;\r\n\r\n    openSelectTokenModal({\r\n      metadata: options,\r\n      onSelect: (tokenId) => {\r\n        batch(() => {\r\n          if (\r\n            (dataKey === 'from' && from?.metadata?.id === tokenId) ||\r\n            (dataKey === 'to' && to?.metadata?.id === tokenId)\r\n          ) {\r\n            return;\r\n          }\r\n          if (oppositeTokenId === tokenId) {\r\n            dispatch(swapViewActions.setToken({ data: oppositeDataKey, tokenId: undefined }));\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n          } else if (tokenId === ENV.canistersPrincipalIDs.XTC && to.metadata?.id === ICP_METADATA.id) {\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n            dispatch(swapViewActions.setToken({ data: oppositeDataKey, tokenId: '' }));\r\n          } else {\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n          }\r\n        });\r\n      },\r\n      selectedTokenIds,\r\n    });\r\n  };\r\n\r\n  const checkIsPlugProviderVersionCompatible = useCallback(() => {\r\n    if (checkIfPlugProviderVersionCompatible()) {\r\n      return true;\r\n    }\r\n\r\n    addNotification({\r\n      title: (\r\n        <div>\r\n          You're using an outdated version of Plug, please update to the latest\r\n          one{' '}\r\n          <Link color=\"blue.400\" href={PLUG_WALLET_WEBSITE_URL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            here\r\n          </Link>\r\n          .\r\n        </div>\r\n      ),\r\n      type: NotificationType.Error, id: String(new Date().getTime()),\r\n    });\r\n    return false;\r\n  }, [addNotification]);\r\n\r\n  const handleMintXTC = useCallback(() => {\r\n    if (checkIsPlugProviderVersionCompatible()) {\r\n      addNotification({\r\n        title: `Minting ${to.value} ${to.metadata?.symbol}`,\r\n        type: NotificationType.MintXTC,\r\n        id: String(new Date().getTime()),\r\n      });\r\n      debounce(resetViewState, 300);\r\n    }\r\n  }, [\r\n    addNotification,\r\n    checkIsPlugProviderVersionCompatible,\r\n    resetViewState,\r\n    to.metadata?.symbol,\r\n    to.value,\r\n  ]);\r\n\r\n  const handleMintWICP = useCallback(() => {\r\n    if (checkIsPlugProviderVersionCompatible()) {\r\n      addNotification({\r\n        title: `Wrapping ${from.value} ${from.metadata?.symbol}`,\r\n        type: NotificationType.MintWICP,\r\n        id: String(new Date().getTime()),\r\n      });\r\n      debounce(resetViewState, 300);\r\n    }\r\n  }, [addNotification, checkIsPlugProviderVersionCompatible, from.metadata?.symbol, from.value, resetViewState]);\r\n\r\n  const handleWithdrawWICP = useCallback(() => {\r\n    addNotification({\r\n      title: `Unwrapping ${from.value} ${from.metadata?.symbol}`,\r\n      type: NotificationType.WithdrawWICP,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(resetViewState, 300);\r\n  }, [addNotification, from.metadata?.symbol, from.value, resetViewState]);\r\n\r\n  useEffect(() => { handleChangeValue(from.value, 'from'); }, [to.metadata]);\r\n\r\n  const handleApproveSwap = useCallback(() => {\r\n    addNotification({\r\n      title: `Swap ${from.value} ${from.metadata?.symbol} for ${to.value} ${to.metadata?.symbol}`,\r\n      type: NotificationType.Swap, id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(resetViewState, 300);\r\n  }, [addNotification, from.metadata?.symbol, from.value, resetViewState, to.metadata?.symbol, to.value]);\r\n\r\n  const allowance = useTokenAllowance(from.metadata?.id);\r\n\r\n  const handleSetIsAutoSlippage = (isAutoSlippage: boolean) => {\r\n    setIsAutoSlippage(isAutoSlippage);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    if (isAutoSlippage) {\r\n      dispatch(swapViewActions.setSlippage(INITIAL_SWAP_SLIPPAGE));\r\n    }\r\n  };\r\n\r\n  const handleSetSlippage = (slippage: string) => {\r\n    dispatch(swapViewActions.setSlippage(slippage));\r\n  };\r\n\r\n  const isFetchingNotStarted = useMemo(\r\n    () =>\r\n      allPairsState === FeatureState.NotStarted ||\r\n      supportedTokenListState === FeatureState.NotStarted,\r\n    [supportedTokenListState, allPairsState]\r\n  );\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      balancesState === FeatureState.Loading ||\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      allPairsState === FeatureState.Loading,\r\n    [balancesState, supportedTokenListState, allPairsState]\r\n  );\r\n\r\n  const isBalancesUpdating = useMemo(\r\n    () => balancesState === FeatureState.Updating,\r\n    [balancesState]\r\n  );\r\n  const isPriceUpdating = useMemo(\r\n    () => priceState === FeatureState.Updating,\r\n    [priceState]\r\n  );\r\n\r\n  const [isButtonDisabled, buttonMessage, handleButtonClick] = useMemo<\r\n    [boolean, string, (() => void)?]\r\n  >(() => {\r\n    if (isLoading) return [true, 'Loading'];\r\n    if (isFetchingNotStarted || !from.metadata) return [true, 'Fetching'];\r\n    if (!to.metadata) return [true, 'Select a Token'];\r\n\r\n    if (toTokenOptions && toTokenOptions.length <= 0)\r\n      return [true, 'No pairs available'];\r\n\r\n    const parsedFromValue = (from.value && parseFloat(from.value)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${from.metadata.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <= toBigNumber(from.metadata.fee).applyDecimals(from.metadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `${from.metadata.symbol} amount must be greater than fee`];\r\n    }\r\n\r\n    const parsedToValue = (to.value && parseFloat(to.value)) || 0;\r\n\r\n    if (\r\n      parsedToValue <= toBigNumber(to.metadata.fee).applyDecimals(to.metadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `${to.metadata.symbol} amount must be greater than fee`];\r\n    }\r\n\r\n    if (totalBalances && typeof fromBalance === 'number') {\r\n      if (parsedFromValue > Number(getMaxValue(from.metadata, fromBalance))) {\r\n        return [true, `Insufficient ${from.metadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsWICP) {\r\n      return [false, 'Wrap', handleMintWICP];\r\n    }\r\n\r\n    if (isFromTokenIsWICP && isToTokenIsICP) {\r\n      return [false, 'Unwrap', handleWithdrawWICP];\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsXTC) {\r\n      return [false, 'Mint XTC', handleMintXTC];\r\n    }\r\n\r\n    const handleButtonClick = () => {\r\n      if (step !== SwapStep.Review) {\r\n        setStep(SwapStep.Review);\r\n      }\r\n\r\n      if (step === SwapStep.Review) {\r\n        handleApproveSwap();\r\n      }\r\n    };\r\n    const buttonText = step === SwapStep.Review ? 'Swap' : 'Review Swap';\r\n    const waitingForAllowance = step === SwapStep.Review && typeof allowance === 'undefined';\r\n\r\n    return [waitingForAllowance, buttonText, handleButtonClick];\r\n  }, [\r\n    isLoading, isFetchingNotStarted, from.metadata, from.value, to.metadata, to.value, toTokenOptions, totalBalances,\r\n    fromBalance, isFromTokenIsICP, isToTokenIsWICP, isFromTokenIsWICP, isToTokenIsICP, isToTokenIsXTC, step, allowance,\r\n    handleMintWICP, handleWithdrawWICP, handleMintXTC, handleApproveSwap,\r\n  ]);\r\n\r\n  const headerTitle = useMemo(() => {\r\n    if (isFromTokenIsICP && isToTokenIsXTC) {\r\n      return 'Mint XTC';\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsWICP) {\r\n      return 'Wrap';\r\n    }\r\n\r\n    if (isFromTokenIsWICP && isToTokenIsICP) {\r\n      return 'Unwrap';\r\n    }\r\n\r\n    return action=='swap'? 'Swap':action=='mint'? 'Mint':'';\r\n  }, [\r\n    isFromTokenIsICP,\r\n    isToTokenIsXTC,\r\n    isToTokenIsWICP,\r\n    isFromTokenIsWICP,\r\n    isToTokenIsICP,\r\n  ]);\r\n\r\n  const priceImpact = useMemo(\r\n    () => {\r\n      return Swap.getPriceImpact({\r\n        amountIn: parseFloat(from.value) > 0 ? from.value : '0',\r\n        amountOut: to.value,\r\n        priceIn: from.metadata?.price ?? '0',\r\n        priceOut: to.metadata?.price ?? '0',\r\n      }).toString();\r\n    },\r\n    [from, to]\r\n  );\r\n\r\n  const selectedTokenIds = useMemo(() => {\r\n    const selectedIds = [];\r\n    if (from?.metadata?.id) {\r\n      selectedIds.push(from.metadata.id);\r\n    }\r\n\r\n    return selectedIds;\r\n  }, [from?.metadata?.id]);\r\n\r\n  const [isSelectTokenButtonDisabled, selectTokenButtonText] = useMemo(() => {\r\n    if (toTokenOptions && toTokenOptions.length <= 0)\r\n      return [true, 'No pairs available'];\r\n    return [false, 'Select a Token'];\r\n  }, [toTokenOptions]);\r\n\r\n  const fromSources = useMemo(() => {\r\n    if (from.metadata) {\r\n      if (from.metadata.id === ICP_METADATA.id) {\r\n        return getAppAssetsSources({\r\n          balances: {\r\n            wallet: icpBalance ?? 0,\r\n          },\r\n        });\r\n      }\r\n\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          wallet: tokenBalances ? tokenBalances[from.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[from.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [from.metadata, tokenBalances, sonicBalances, icpBalance]);\r\n\r\n  const toSources = useMemo(() => {\r\n    if (to.metadata) {\r\n      if (to.metadata.id === ICP_METADATA.id) {\r\n        return getAppAssetsSources({\r\n          balances: {\r\n            wallet: icpBalance ?? 0,\r\n          },\r\n        });\r\n      }\r\n\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          wallet: tokenBalances ? tokenBalances[to.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[to.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [to.metadata, tokenBalances, sonicBalances, icpBalance]);\r\n\r\n  const isExplanationTooltipVisible = useMemo(() => {\r\n    return isToTokenIsXTC && isFromTokenIsICP;\r\n  }, [isFromTokenIsICP, isToTokenIsXTC]);\r\n\r\n  const currentOperation = useMemo(\r\n    () =>\r\n      isFromTokenIsICP && isToTokenIsWICP\r\n        ? OperationType.Wrap\r\n        : isFromTokenIsICP && isToTokenIsXTC\r\n          ? OperationType.Mint\r\n          : OperationType.Swap,\r\n    [isFromTokenIsICP, isToTokenIsWICP, isToTokenIsXTC]\r\n  );\r\n\r\n  const canHeldInSonic = useMemo(() => !isToTokenIsICP, [isToTokenIsICP]);\r\n\r\n  useEffect(() => {\r\n    // Get tokens from query params after loading\r\n    if (!isLoading && fromTokenOptions && toTokenOptions) {\r\n      const tokenFromId = query.get('from');\r\n      const tokenToId = query.get('to');\r\n\r\n      if (tokenFromId) {\r\n        const from = fromTokenOptions.find(({ id }) => id === tokenFromId);\r\n        if (from?.id) {\r\n          dispatch(swapViewActions.setToken({ data: 'from', tokenId: from.id }));\r\n          dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n        }\r\n      }\r\n\r\n      if (tokenToId) {\r\n        const to = toTokenOptions.find(({ id }) => id === tokenToId);\r\n        if (to?.id) {\r\n          dispatch(swapViewActions.setToken({ data: 'to', tokenId: to.id }));\r\n          dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLoading]);\r\n\r\n  return {\r\n    step, allowance, isButtonDisabled, buttonMessage, canHeldInSonic, isAutoSlippage, headerTitle, isConnected, isLoading, isBalancesUpdating,\r\n    isPriceUpdating, priceImpact, fromSources, toSources, currentOperation, isICPSelected, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, setStep, setLastChangedInputDataKey,onButtonClick: handleButtonClick,\r\n    onMenuClose: handleMenuClose, onSetSlippage: handleSetSlippage,onSetIsAutoSlippage: handleSetIsAutoSlippage, onChangeValue: handleChangeValue,\r\n    onSelectToken: handleSelectToken,onMaxClick: handleMaxClick, onSwitchTokens: handleSwitchTokens,\r\n  };\r\n};\r\n","export * from './components';\r\nexport * from './hooks';\r\nexport * from './swap';\r\nexport * from './mint';\r\nexport * from './swap.utils';\r\n","import {\r\n  Box, Button, Flex, Icon, IconButton, Link, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\n\r\nimport {\r\n  WalletNotConnected, SlippageSettings, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDataMetaInfo, TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenInput, ViewHeader,\r\n} from '@/components';\r\n\r\nimport { useSwapView, useSwapViewStore } from '@/store';\r\n\r\nimport { SwapStep } from './';\r\nimport { ExchangeBox, KeepInSonicBox, SwapSubTab } from './components';\r\nimport { useSwapViewData } from './hooks';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch } from '@/store';\r\n\r\nexport const MintView = () => {\r\n  useSwapView('mint');\r\n  const dispatch = useAppDispatch();\r\n\r\n  const swapPlacementButtonBg = useColorModeValue('gray.50', 'custom.3');\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n  useEffect(() => { dispatch(swapViewActions.setKeepInSonic(false)) }, []);\r\n\r\n  \r\n  const {\r\n    allowance, step, headerTitle, isAutoSlippage, isICPSelected, isLoading, isBalancesUpdating, isPriceUpdating, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, currentOperation, priceImpact, fromSources, toSources, canHeldInSonic,\r\n    isConnected, isButtonDisabled, buttonMessage, setStep, setLastChangedInputDataKey, onButtonClick, onChangeValue,\r\n    onSetIsAutoSlippage, onSetSlippage, onMenuClose, onMaxClick, onSelectToken, onSwitchTokens,\r\n  } = useSwapViewData('mint');\r\n\r\n  const { fromTokenOptions, toTokenOptions, from, to, slippage } = useSwapViewStore();\r\n\r\n  return (\r\n    <Stack spacing={4}>\r\n      <SwapSubTab tabname={'mint'} />\r\n      <ViewHeader title={headerTitle}\r\n        onArrowBack={step === SwapStep.Review ? () => setStep(SwapStep.Home) : undefined}\r\n      >\r\n        <Menu onClose={onMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\"\r\n              icon={<FaCog />} ml=\"auto\" isDisabled={isICPSelected}\r\n            />\r\n          </Tooltip>\r\n          <MenuList bg={menuListBg} shadow={menuListShadow} borderRadius={20} ml={-20} py={0}>\r\n            <SlippageSettings slippage={slippage} isAutoSlippage={isAutoSlippage} setSlippage={onSetSlippage} setIsAutoSlippage={onSetIsAutoSlippage} />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"full\">\r\n          <Token value={from.value} setValue={(value) => onChangeValue(value, 'from')}\r\n            tokenListMetadata={fromTokenOptions} tokenMetadata={from.metadata}\r\n            isLoading={isLoading} sources={fromSources}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => onSelectToken('from')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus onChange={() => setLastChangedInputDataKey('from')} />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances\r\n                isUpdating={isBalancesUpdating}\r\n                onMaxClick={() => onMaxClick('from')}\r\n              />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo\r\n              tokenSymbol={from.metadata ? from.metadata.symbol : ''} tokenValue={from.value}\r\n              tokenId={from.metadata ? from.metadata.id : ''} tokenDecimals={from.metadata ? from.metadata.decimals : 0}\r\n              pageInfo=\"swap\"\r\n            ></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Flex direction=\"column-reverse\" w=\"full\">\r\n\r\n          <Box width=\"full\">\r\n            <Token value={to.value} setValue={(value) => onChangeValue(value, 'to')} tokenListMetadata={toTokenOptions}\r\n              tokenMetadata={to.metadata} isLoading={isLoading} sources={toSources}\r\n              shouldGlow={step === SwapStep.Review}\r\n            >\r\n              <TokenContent>\r\n                {to.metadata ? (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}>\r\n                    <TokenDetailsLogo />\r\n                    <TokenDetailsSymbol />\r\n                  </TokenDetailsButton>\r\n                ) : (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}\r\n                    isDisabled={isSelectTokenButtonDisabled} variant={isLoading ? 'solid' : 'gradient'}\r\n                    colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                  >\r\n                    <Skeleton isLoaded={!isLoading}>\r\n                      {selectTokenButtonText}\r\n                    </Skeleton>\r\n                  </TokenDetailsButton>\r\n                )}\r\n                <TokenInput onChange={() => setLastChangedInputDataKey('to')} />\r\n              </TokenContent>\r\n              <TokenData>\r\n                <TokenDataBalances isUpdating={isBalancesUpdating} />\r\n                <TokenDataPrice isUpdating={isPriceUpdating} priceImpact={priceImpact}>\r\n                  {isExplanationTooltipVisible && (\r\n                    <Popover trigger=\"hover\">\r\n                      <PopoverTrigger>\r\n                        <Box tabIndex={0}>\r\n                          <FaInfoCircle />\r\n                        </Box>\r\n                      </PopoverTrigger>\r\n                      <PopoverContent>\r\n                        <PopoverArrow />\r\n                        <PopoverBody>\r\n                          <Text>\r\n                            This price & percentage shows the current difference\r\n                            between minting and swapping to XTC from ICP. If\r\n                            negative, it's better to swap; if positive, it's\r\n                            better to mint.{' '}\r\n                            <Link\r\n                              color={linkColor}\r\n                              rel=\"noopener noreferrer\"\r\n                              target=\"_blank\"\r\n                              href=\"https://sonic-ooo.medium.com/xtc-in-sonic-minting-vs-swapping-and-price-differences-67965228e52e\"\r\n                            >\r\n                              Learn More.\r\n                            </Link>\r\n                          </Text>\r\n                        </PopoverBody>\r\n                      </PopoverContent>\r\n                    </Popover>\r\n                  )}\r\n                </TokenDataPrice>\r\n              </TokenData>\r\n            </Token>\r\n          </Box>\r\n          <Tooltip label=\"Switch placement\">\r\n            <IconButton aria-label=\"Switch placement\"\r\n              icon={<Icon as={FaArrowDown} transition=\"transform 250ms\" />}\r\n              variant=\"outline\" mt={-2} mb={-2} w=\"fit-content\" mx=\"auto\"\r\n              bg={swapPlacementButtonBg} onClick={onSwitchTokens}\r\n              pointerEvents={!to.metadata ? 'none' : 'all'}\r\n              _hover={{\r\n                '& > svg': {\r\n                  transform: 'rotate(180deg)',\r\n                },\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Flex>\r\n      </Flex>\r\n\r\n      <ExchangeBox priceImpact={priceImpact} />\r\n\r\n      <KeepInSonicBox canHeldInSonic={canHeldInSonic} symbol={to.metadata?.symbol} operation={currentOperation} />\r\n\r\n      {isConnected ? (\r\n        <Button isFullWidth variant=\"gradient\" colorScheme=\"dark-blue\" size=\"lg\" onClick={onButtonClick}\r\n          isLoading={\r\n            isLoading ||\r\n            (step === SwapStep.Review && typeof allowance !== 'number')\r\n          }\r\n          isDisabled={isButtonDisabled}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      ) : (\r\n        <WalletNotConnected />\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import {\r\n  Box, Button, Flex, Icon, IconButton, Link, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\n\r\nimport {\r\n  SlippageSettings, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDataMetaInfo, TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenInput, ViewHeader,\r\n  WalletNotConnected\r\n} from '@/components';\r\n\r\nimport { useSwapView, useSwapViewStore } from '@/store';\r\n\r\nimport { SwapStep } from './';\r\nimport { ExchangeBox, KeepInSonicBox, SwapSubTab } from './components';\r\nimport { useSwapViewData } from './hooks';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch } from '@/store';\r\n\r\nexport const SwapView = () => {\r\n  useSwapView('swap');\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    allowance, step, headerTitle, isAutoSlippage, isICPSelected, isLoading, isBalancesUpdating, isPriceUpdating, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, currentOperation, priceImpact, fromSources, toSources, canHeldInSonic,\r\n    isConnected, isButtonDisabled, buttonMessage, setStep, setLastChangedInputDataKey, onButtonClick, onChangeValue,\r\n    onSetIsAutoSlippage, onSetSlippage, onMenuClose, onMaxClick, onSelectToken, onSwitchTokens,\r\n  } = useSwapViewData('swap');\r\n\r\n  const swapPlacementButtonBg = useColorModeValue('gray.50', 'custom.3');\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n\r\n\r\n  useEffect; swapViewActions;dispatch;\r\n  \r\n  // useEffect(() => { dispatch(swapViewActions.setKeepInSonic(true)); }, []);\r\n\r\n  const { fromTokenOptions, toTokenOptions, from, to, slippage } = useSwapViewStore();\r\n  return (\r\n    <Stack spacing={4}>\r\n      <SwapSubTab tabname={'swap'} />\r\n      <ViewHeader title={headerTitle}\r\n        onArrowBack={step === SwapStep.Review ? () => setStep(SwapStep.Home) : undefined}\r\n      >\r\n        <Menu onClose={onMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\"\r\n              icon={<FaCog />} ml=\"auto\" isDisabled={isICPSelected}\r\n            />\r\n          </Tooltip>\r\n          <MenuList bg={menuListBg} shadow={menuListShadow} borderRadius={20} ml={-20} py={0}>\r\n            <SlippageSettings slippage={slippage} isAutoSlippage={isAutoSlippage} setSlippage={onSetSlippage} setIsAutoSlippage={onSetIsAutoSlippage} />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"full\">\r\n          <Token value={from.value} setValue={(value) => onChangeValue(value, 'from')}\r\n            tokenListMetadata={fromTokenOptions} tokenMetadata={from.metadata}\r\n            isLoading={isLoading} sources={fromSources}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => onSelectToken('from')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus onChange={() => setLastChangedInputDataKey('from')} />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances\r\n                isUpdating={isBalancesUpdating}\r\n                onMaxClick={() => onMaxClick('from')}\r\n              />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo\r\n              tokenSymbol={from.metadata ? from.metadata.symbol : ''} tokenValue={from.value}\r\n              tokenId={from.metadata ? from.metadata.id : ''} tokenDecimals={from.metadata ? from.metadata.decimals : 0}\r\n              pageInfo=\"swap\"\r\n            ></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Flex direction=\"column-reverse\" w=\"full\">\r\n\r\n          <Box width=\"full\">\r\n            <Token value={to.value} setValue={(value) => onChangeValue(value, 'to')} tokenListMetadata={toTokenOptions}\r\n              tokenMetadata={to.metadata} isLoading={isLoading} sources={toSources}\r\n              shouldGlow={step === SwapStep.Review}\r\n            >\r\n              <TokenContent>\r\n                {to.metadata ? (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}>\r\n                    <TokenDetailsLogo />\r\n                    <TokenDetailsSymbol />\r\n                  </TokenDetailsButton>\r\n                ) : (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}\r\n                    isDisabled={isSelectTokenButtonDisabled} variant={isLoading ? 'solid' : 'gradient'}\r\n                    colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                  >\r\n                    <Skeleton isLoaded={!isLoading}>\r\n                      {selectTokenButtonText}\r\n                    </Skeleton>\r\n                  </TokenDetailsButton>\r\n                )}\r\n                <TokenInput onChange={() => setLastChangedInputDataKey('to')} />\r\n              </TokenContent>\r\n              <TokenData>\r\n                <TokenDataBalances isUpdating={isBalancesUpdating} />\r\n                <TokenDataPrice isUpdating={isPriceUpdating} priceImpact={priceImpact}>\r\n                  {isExplanationTooltipVisible && (\r\n                    <Popover trigger=\"hover\">\r\n                      <PopoverTrigger>\r\n                        <Box tabIndex={0}>\r\n                          <FaInfoCircle />\r\n                        </Box>\r\n                      </PopoverTrigger>\r\n                      <PopoverContent>\r\n                        <PopoverArrow />\r\n                        <PopoverBody>\r\n                          <Text>\r\n                            This price & percentage shows the current difference\r\n                            between minting and swapping to XTC from ICP. If\r\n                            negative, it's better to swap; if positive, it's\r\n                            better to mint.{' '}\r\n                            <Link\r\n                              color={linkColor}\r\n                              rel=\"noopener noreferrer\"\r\n                              target=\"_blank\"\r\n                              href=\"https://sonic-ooo.medium.com/xtc-in-sonic-minting-vs-swapping-and-price-differences-67965228e52e\"\r\n                            >\r\n                              Learn More.\r\n                            </Link>\r\n                          </Text>\r\n                        </PopoverBody>\r\n                      </PopoverContent>\r\n                    </Popover>\r\n                  )}\r\n                </TokenDataPrice>\r\n              </TokenData>\r\n            </Token>\r\n          </Box>\r\n          <Tooltip label=\"Switch placement\">\r\n            <IconButton aria-label=\"Switch placement\"\r\n              icon={<Icon as={FaArrowDown} transition=\"transform 250ms\" />}\r\n              variant=\"outline\" mt={-2} mb={-2} w=\"fit-content\" mx=\"auto\"\r\n              bg={swapPlacementButtonBg} onClick={onSwitchTokens}\r\n              pointerEvents={!to.metadata ? 'none' : 'all'}\r\n              _hover={{\r\n                '& > svg': {\r\n                  transform: 'rotate(180deg)',\r\n                },\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Flex>\r\n      </Flex>\r\n\r\n      <ExchangeBox priceImpact={priceImpact} />\r\n\r\n      <KeepInSonicBox canHeldInSonic={canHeldInSonic} symbol={to.metadata?.symbol} operation={currentOperation} />\r\n\r\n      {isConnected ? (\r\n        <Button isFullWidth variant=\"gradient\" colorScheme=\"dark-blue\" size=\"lg\" onClick={onButtonClick}\r\n          isLoading={\r\n            isLoading ||\r\n            (step === SwapStep.Review && typeof allowance !== 'number')\r\n          }\r\n          isDisabled={isButtonDisabled}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      ) : (\r\n        <WalletNotConnected />\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import { Pair, Swap, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport {\r\n  DEFAULT_CYCLES_PER_XDR,\r\n  SwapTokenData,\r\n  TOKEN_SUBDIVIDABLE_BY,\r\n} from '@/store';\r\nimport { getValueWithoutFees } from '@/utils/format';\r\n\r\nexport type GetXTCValueByXDRRateOptions = {\r\n  amount: string;\r\n  conversionRate: string;\r\n};\r\n\r\nexport type GetICPValueByXDRRateOptions = {\r\n  amount: string;\r\n  conversionRate: string;\r\n};\r\n\r\nexport function getXTCValueByXDRRate({\r\n  amount,\r\n  conversionRate,\r\n}: GetXTCValueByXDRRateOptions) {\r\n  const _amount = new BigNumber(amount);\r\n  const _conversionRate = new BigNumber(conversionRate);\r\n  const _defaultCyclesPerXDR = new BigNumber(DEFAULT_CYCLES_PER_XDR);\r\n  const _subdividableBy = new BigNumber(TOKEN_SUBDIVIDABLE_BY * 100_000_000);\r\n\r\n  // XTCValueByXDRRate = amount * conversionRate * defaultCyclesPerXDR / subdividableBy\r\n  const result = _amount\r\n    .multipliedBy(_conversionRate)\r\n    .multipliedBy(_defaultCyclesPerXDR)\r\n    .dividedBy(_subdividableBy);\r\n\r\n  return result;\r\n}\r\n\r\nexport function getICPValueByXDRRate({\r\n  amount,\r\n  conversionRate,\r\n}: GetXTCValueByXDRRateOptions) {\r\n  const _amount = new BigNumber(amount);\r\n  const _defaultCyclesPerXDR = new BigNumber(DEFAULT_CYCLES_PER_XDR);\r\n  const _subdividableBy = new BigNumber(TOKEN_SUBDIVIDABLE_BY * 100_000_000);\r\n\r\n  const _conversionRate = new BigNumber(conversionRate);\r\n\r\n  // ICPValueByXDRRate = amount / conversionRate / defaultCyclesPerXDR * subdividableBy\r\n  const result = _amount\r\n    .multipliedBy(_subdividableBy)\r\n    .dividedBy(_defaultCyclesPerXDR)\r\n    .dividedBy(_conversionRate);\r\n\r\n  return result;\r\n}\r\n\r\nexport const getAmountOutFromPath = (\r\n  tokenIn: SwapTokenData,\r\n  tokenOut: SwapTokenData\r\n): string => {\r\n  if (!tokenIn.metadata || !tokenOut.metadata || !tokenIn.value) return '';\r\n\r\n  const path = tokenIn.paths[tokenOut.metadata.id];\r\n\r\n  if (path) {\r\n    return new BigNumber(path.amountOut)\r\n      .dp(tokenOut.metadata.decimals)\r\n      .toString();\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\nexport type GetSwapAmountOutMinOptions = {\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n  slippage: string;\r\n  allPairs?: Pair.List;\r\n  hasDeposit?: boolean;\r\n  hasWithdraw?: boolean;\r\n};\r\n\r\nexport const getSwapAmountOutMin = ({\r\n  from,\r\n  to,\r\n  slippage,\r\n  allPairs,\r\n  hasDeposit,\r\n  hasWithdraw,\r\n}: GetSwapAmountOutMinOptions) => {\r\n  if (\r\n    !from.metadata ||\r\n    new BigNumber(from.value).isZero() ||\r\n    new BigNumber(from.value).isNaN() ||\r\n    !to.metadata ||\r\n    new BigNumber(to.value).isZero() ||\r\n    new BigNumber(to.value).isNaN() ||\r\n    !allPairs\r\n  )\r\n    return '0';\r\n\r\n  const pair = allPairs[from.metadata.id]?.[to.metadata.id];\r\n  if (!pair) return '0';\r\n\r\n  let fromValue = new BigNumber(from.value);\r\n\r\n  if (hasDeposit) {\r\n    fromValue = getValueWithoutFees({\r\n      value: from.value,\r\n      fee: from.metadata.fee,\r\n      decimals: from.metadata.decimals,\r\n      numberOfFees: 2,\r\n    });\r\n  }\r\n\r\n  const toValue = Swap.getAmountOut({\r\n    amountIn: fromValue.toString(),\r\n    decimalsIn: from.metadata.decimals,\r\n    decimalsOut: to.metadata.decimals,\r\n    reserveIn: Number(pair.reserve0),\r\n    reserveOut: Number(pair.reserve1),\r\n  }).toString();\r\n\r\n  let result = Swap.getAmountMin({\r\n    amount: Math.max(Number(toValue), 0).toString(),\r\n    slippage,\r\n    decimals: to.metadata.decimals,\r\n  });\r\n\r\n  if (hasWithdraw) {\r\n    result = getValueWithoutFees({\r\n      value: result.toString(),\r\n      fee: to.metadata.fee,\r\n      decimals: to.metadata.decimals,\r\n      numberOfFees: 2,\r\n    });\r\n  }\r\n\r\n  return result.dp(Number(to.metadata.decimals)).toString();\r\n};\r\n\r\nexport const getAmountOutRatio = (\r\n  from: SwapTokenData,\r\n  to: SwapTokenData,\r\n  allPairs?: Pair.List\r\n): string => {\r\n  if (!from.metadata || !to.metadata) return '0';\r\n\r\n  if (from.value && to.value) {\r\n    const ratio = toBigNumber(to.value)\r\n      .div(from.value)\r\n      .dp(to.metadata.decimals);\r\n    if (ratio.isZero())\r\n      return `less than ${toBigNumber(1)\r\n        .applyDecimals(to.metadata.decimals)\r\n        .toString()}`;\r\n    return ratio.toString();\r\n  }\r\n\r\n  if (!allPairs) return '0';\r\n\r\n  const pair = allPairs[from.metadata.id]?.[to.metadata.id];\r\n\r\n  if (!pair) return '0';\r\n\r\n  return Swap.getAmountOut({\r\n    amountIn: '1',\r\n    decimalsIn: from.metadata.decimals,\r\n    decimalsOut: to.metadata.decimals,\r\n    reserveIn: Number(pair.reserve0),\r\n    reserveOut: Number(pair.reserve1),\r\n  }).toString();\r\n};\r\n","export * from './test';\r\nexport * from './todos';\r\nexport * from './test2'","import { useState , useEffect , createContext, useContext , useRef , useReducer , useCallback ,useMemo  } from \"react\";\r\nconst UserContext = createContext({});\r\n\r\nimport Todos2 from './todos';\r\nimport useFetch from './useFetch';\r\n\r\n\r\n\r\nconst initialTodos = [\r\n    {\r\n      id: 1,\r\n      title: \"Todo 1\",\r\n      complete: false,\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Todo 2\",\r\n      complete: false,\r\n    },\r\n  ];\r\n\r\n  const reducer = (state:any, action:any) => {\r\n    switch (action.type) {\r\n      case \"COMPLETE\":\r\n        return state.map((todo:any) => {\r\n          if (todo.id === action.id) {\r\n           var p= { ...todo, complete: !todo.complete }\r\n            return p;\r\n          } else {\r\n            return todo;\r\n          }\r\n        });\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  function Todos() {\r\n\r\n    const [todos, dispatch] = useReducer(reducer, initialTodos);\r\n\r\n    const handleComplete = (todo:any) => {\r\n      dispatch({ type: \"COMPLETE\", id: todo.id });\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        {todos.map((todo:any) => (\r\n          <div key={todo.id}>\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={todo.complete}\r\n                onChange={() => handleComplete(todo)}\r\n              />\r\n              {todo.title}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\nfunction App() {\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const previousInputValue = useRef(\"\");\r\n  \r\n    useEffect(() => {\r\n      previousInputValue.current = inputValue;\r\n    }, [inputValue]);\r\n  \r\n    return (\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={(e) => setInputValue(e.target.value)}\r\n        />\r\n        <h2>Current Value: {inputValue}</h2>\r\n        <h2>Previous Value: {previousInputValue.current}</h2>\r\n      </>\r\n    );\r\n  }\r\n  \r\n\r\nfunction Component1() {\r\n  \r\n\r\n    const [user, setUser] = useState(\"Jesse Hall\");\r\n    setUser;\r\n    return (\r\n        <UserContext.Provider value={{user:user , number:1222}}>\r\n      <div>\r\n        <h1>{`Hello ${user}!`}</h1>\r\n        <Component2 />\r\n      </div>\r\n        \r\n      </UserContext.Provider>\r\n    //  \r\n    );\r\n  }\r\n  \r\n  function Component2() {\r\n    return (\r\n      <>\r\n        <h1>Component 2  </h1>\r\n        <Component3 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component3() {\r\n    const value:any = useContext(UserContext);\r\n    return (\r\n      <>\r\n        <h1>Component 3 user {value.user}</h1>\r\n        <Component4 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component4() {\r\n    return (\r\n      <>\r\n        <h1>Component 4</h1>\r\n        <Component5 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component5() {\r\n    const value:any = useContext(UserContext);\r\n  \r\n    return (\r\n      <>\r\n        <h1>Component 5</h1>\r\n        <h2>{`Hello ${value.user} again!`}</h2>\r\n      </>\r\n    );\r\n  }\r\n\r\nfunction Timer() {\r\n    const [count, setCount] = useState(0);\r\n    // setInterval(() => {\r\n    //     setCount((count) => count + 2);\r\n    // }, 3000);\r\n    setCount;\r\n    useEffect(() => {\r\n    //     setCount((count) => count + 2);\r\n    //   console.log('count updated' ,count)\r\n    },[count]);\r\n  \r\n    return <h1>I've rendered {count} times!</h1>;\r\n  }\r\n // Timer;\r\n\r\n\r\nconst App2 = () => {\r\n  const [count, setCount] = useState(0);\r\n  const [todos, setTodos] = useState([\"todo 1\", \"todo 2\"]);\r\n\r\n  const increment = () => {\r\n    setCount(count+1)\r\n    setTodos(() => [...todos, \"new Task\"+count]);\r\n  };\r\n\r\n\r\n\r\n  const addTodo = useCallback(() => {\r\n    setCount(count+1) \r\n    setTodos((t) => [...t, \"New Todo \"+ count]);}, [todos]);\r\n\r\n    const expensiveCalculation = (num:number) => {\r\n\r\n      console.log(\"Calculating...\");\r\n      for (let i = 0; i < 1000000000; i++) {\r\n        num += 1;\r\n      }\r\n      return num;\r\n    };\r\n\r\n   // const calculation = expensiveCalculation(count);\r\n   const calculation =  useMemo(() => expensiveCalculation(count), [count]);\r\n\r\n  return (\r\n    <div>\r\n      <Todos2 todos={todos} addTodo={addTodo}  />\r\n      <hr />\r\n      <div>\r\n        Count: {count}\r\n        <button onClick={increment}>+</button>\r\n      </div>\r\n      <br/>\r\n      <br/>\r\n      <hr />\r\n\r\n      <div>\r\n        Count: {count}\r\n        <button onClick={increment}>+</button>\r\n        <h2>Expensive Calculation</h2>\r\n        {calculation}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst Home = () => {\r\n //const [data, setData] = useState<[{id?:string , title?:string}]>([{}]);\r\n\r\n  type  d= [{id?:string , title?:string}];\r\n const data:d= useFetch(\"https://jsonplaceholder.typicode.com/todos\");\r\n\r\n//  useMemo(():any => {\r\n\r\n//   setTimeout(() => {\r\n//     fetch(\"https://jsonplaceholder.typicode.com/todos\").then(\r\n//       (res) => res.json()\r\n//   ).then((data) => setData(data) );\r\n//   }, 10*1000);\r\n//  },[]);\r\n\r\n\r\n  return data.length>1 ?(\r\n    <>\r\n      <h1>HOME</h1>\r\n      {data.length>1 &&\r\n        data.map((item ) => {\r\n          return <p key={item.id} >{item.title}</p>;\r\n        })}\r\n    </>\r\n  ): (<></>);\r\n};\r\n\r\nexport const TestView = () => {\r\n    const [count, setCount] = useState(0);\r\n    const [color, setColor] = useState(\"\");\r\n  \r\n\r\n    useEffect(() => {\r\n       \r\n      console.log( 'count' , count , color)\r\n    },[count , color]);\r\n\r\n   \r\n\r\n    \r\n\r\n    return (<div>\r\n        <h1>My favorite color is {color}!</h1>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"blue\")}\r\n      >Blue</button> , \r\n\r\n<button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"red\")}\r\n      >Red</button> ,\r\n       <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"pink\")}\r\n      >Pink</button> , \r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"green\")}\r\n      >Green</button>\r\n    <br/>\r\n    ----------------------------------------------------------------------------------\r\n\r\n    <h1>I've rendered {count} times! </h1>\r\n    <button\r\n        type=\"button\"\r\n        onClick={() => setCount(count+1)}\r\n      >count</button>\r\n\r\n      <Timer></Timer>\r\n      <br/>\r\n      ----------------------------------------------------------------------------------\r\n\r\n      <Component1 />\r\n      ----------------------------------------------------------------------------------\r\n      <br/>\r\n      <App/>\r\n      ----------------------------------------------------------------------------------\r\n      <br/>\r\n\r\n      <Todos />\r\n\r\n      <App2/>\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n\r\n      <Home/>\r\n    </div>\r\n    \r\n    )\r\n}\r\n","import { useState, useEffect , useMemo } from \"react\";\r\n\r\n\r\nexport const TestViewt1 = () => {\r\n\r\n    const [count, setCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n      let timer = setTimeout(() => {\r\n      setCount((count) => count + 1);\r\n    }, 5000);\r\n  \r\n    return () => clearTimeout(timer)\r\n    }, [count]);\r\n  \r\n    return <h1>I've rendered {count} times!</h1>;\r\n}\r\n\r\nexport const TestViewt2 = () => {\r\n    const [count, setCount] = useState(0);\r\n    const [todos, setTodos] =  useState<string[]>(['']);\r\n    const calculation = useMemo(() => expensiveCalculation(count), [count]);\r\n  \r\n    const increment = () => {\r\n      setCount((c) => c + 1);\r\n    };\r\n    const addTodo = () => {\r\n      setTodos((t) => {\r\n        var s:string[] = [...t, \"New Todo\"]\r\n        return s;\r\n      }  );\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <div>\r\n          <h2>My Todos</h2>\r\n          {todos.map((todo, index) => {\r\n            return <p key={index}>{todo}</p>;\r\n          })}\r\n          <button onClick={addTodo}>Add Todo</button>\r\n        </div>\r\n        <hr />\r\n        <div>\r\n          Count: {count}\r\n          <button onClick={increment}>+</button>\r\n          <h2>Expensive Calculation</h2>\r\n          {calculation}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  const expensiveCalculation = (num:number) => {\r\n    console.log(\"Calculating...\");\r\n    for (let i = 0; i < 1000000000; i++) {\r\n      num += 1;\r\n    }\r\n    return num;\r\n}\r\n","import React, { memo  } from 'react';\r\n\r\ntype TodosProps={\r\n    todos:string[],\r\n    addTodo:() => any;\r\n}\r\nconst Todos2: React.FC<TodosProps>  = ( {todos, addTodo} ) => {\r\n    console.log(\"child render\");\r\n    return (\r\n      <div>\r\n        ---------------------------------------\r\n        <br/>\r\n        <h2>My Todos</h2>\r\n        {todos.map((todo, index) => {\r\n          return <p key={index}>{todo}</p>;\r\n        })}\r\n         <button onClick={addTodo}>Add Todo</button>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default memo(Todos2);\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url: string): any => {\r\n    const [data, setData] = useState([]);\r\n    useEffect(() => {\r\n        fetch(url).then(\r\n            (res) => res.json()\r\n        ).then((data) => setData(data));\r\n    }, [url]);\r\n    return data;\r\n};\r\n\r\nexport default useFetch;"],"names":["ActorAdapter","DEFAULT_HOST","ENV","host","Default","IC_HOST","loadsupportedTokenList","App","useCyclesMintingCanisterInit","useWalletInit","usePriceInit","useSwapCanisterInit","useLiquidityViewInit","useBlockHeightsInit","useNetworkErrorNotifications","BrowserRouter","basename","Layout","WalletListModal","NotificationManager","TermsAndConditionsModal","TokenSelectModal","AllowanceVerifyModal","MintManualModal","SwapProgressModal","SwapFailModal","WithdrawProgressModal","DepositProgressModal","TransferProgressModal","AddLiquidityProgressModal","AddLiquidityFailModal","RemoveLiquidityProgressModal","RemoveLiquidityFailModal","WithdrawWICPProgressModal","WithdrawWICPFailModal","MintXTCProgressModal","MintXTCFailModal","MintWICPProgressModal","MintWICPFailModal","Routes","Route","path","element","SwapView","MintView","AssetsListView","AssetsWithdrawView","AssetsDepositView","AssetsTransferView","LiquidityListView","LiquidityAddView","ActivityListView","TestView","TestViewt1","TestViewt2","Navigate","to","AnalyticsApi","constructor","this","axios","create","baseURL","analyticsHost","method","transformRequest","data","serialize","transformResponse","deserialize","headers","async","request","principalId","pairId","response","operationName","query","variables","user","positionMetrics","JSONbig","strict","RosettaErrorType","Object","freeze","NotFound","Timeout","NetworkError","RosettaError","Error","message","status","super","errorType","Transaction","rosettaTransaction","blockIndex","hash","transaction_identifier","timestampMs","metadata","timestamp","div","toNumber","Date","operations","length","type","account1Address","account","address","amount","value","isZero","negated","account2Address","fee","memo","RosettaApi","process","env","REACT_APP_ROSETTA_BASE_URL","stringify","parse","networkIdentifier","networksList","then","res","network_identifiers","find","blockchain","accountAddress","accountBalanceByAddress","balances","error","isAxiosError","networkStatus","current_block_identifier","index","transactionHash","responseTransactions","transactionsByHash","transactions","transaction","block_identifier","undefined","limit","maxBlockIndex","offset","Math","max","transactionCount","min","i","push","getTransactionByBlock","transactionsByAccount","Promise","all","map","blockTransaction","reverse","blockByIndex","block","url","network_identifier","account_identifier","default","AssetProvider","useAssetContext","createContext","name","errorMessage","Asset","imageSources","questionMarkSrc","isLoading","props","bg","useColorModeValue","shadow","Flex","position","direction","borderRadius","alignItems","justifyContent","px","py","flexWrap","gap","AssetIconButton","ariaLabel","tooltipProps","SkeletonCircle","h","w","minW","isLoaded","Tooltip","label","IconButton","isRound","variant","AssetTitleBlock","title","subtitle","color","subtitleColor","Box","ml","Skeleton","mb","width","Heading","as","fontSize","fontWeight","openDelay","Text","textOverflow","whiteSpace","overflow","maxW","AssetImageBlock","swap","SwapImageBlock","lp","LPImageBlock","token","TokenImageBlock","src","Checkbox","checked","onClick","borderColor","cursor","height","border","Fade","in","Image","checkPlainSrc","DisplayValue","forwardRef","decimals","isUpdating","prefix","suffix","disableTooltip","shouldDivideByDecimals","textProps","ref","blinker","keyframes","formattedValue","tooltipAmount","isDisabled","useMemo","toBigNumber","applyDecimals","toString","dp","formatAmount","String","animation","Emoji","children","chakra","span","role","mt","transform","FeeBox","isDeposit","isTransfer","connectedWalletInfo","artemis","BigInt","opacity","display","FaArrowRight","flex","textAlign","mx","symbol","GradientBox","size","background","pt","sm","md","lg","Header","buttonText","onButtonClick","top","setTop","useState","paddingToLine","marginTop","backgroundColor","useHeaderResizeEffect","clientHeight","transition","zIndex","flexDirection","pb","Spinner","Button","colorScheme","Divider","boxSize","skeletonSize","alt","left","bottom","right","InformationBox","onClose","collapse","setCollapse","titleColor","Collapse","unmountOnExit","CloseButton","setTimeout","LogoBox","stackBg","Link","href","style","textDecoration","boxShadow","Stack","align","userSelect","Logo","viewBox","fill","xmlns","fillRule","clipRule","d","id","x1","y1","x2","y2","gradientUnits","stopColor","LPBreakdownPopoverItem","balance","justify","_last","HStack","minWidth","LPBreakdownPopover","sources","filteredSources","filter","source","Number","Popover","trigger","PopoverTrigger","PopoverContent","PopoverArrow","PopoverHeader","PopoverBody","NumberInput","placeholder","onChange","setValue","Input","outline","_placeholder","event","target","isNaN","SearchBar","search","setSearch","boxSizing","searchSrc","mr","inputValue","SlippageSettings","slippage","setSlippage","isAutoSlippage","setIsAutoSlippage","inputBorderColorDisabled","inputBorderColor","inputColorDisabled","inputColorEnabled","inputColor","yellowColor","redColor","messageColor","warningMessage","InputGroup","borderStyle","borderWidth","num","replace","onBlur","e","pr","pl","InputRightElement","spacing","Icon","FaExclamationTriangle","StackLine","StackItem","TokenBalancesPopoverItem","_balance","TokenBalancesPopover","TokenProvider","useTokenContext","Token","shouldGlow","htmlProps","tokenProps","borderGlow","borderNotGlow","backgroundGlow","backgroundNotGlow","TokenGlow","TokenContent","TokenDetailsButton","FaChevronDown","TokenDetailsLogo","tokenMetadata","logoSrc","logo","minH","TokenDetailsSymbol","TokenData","TokenDataPrice","priceImpact","isActive","parseFloat","price","Price","getByAmount","defaultColorActive","defaultColorInactive","defaultColor","priceImpactNumber","isPrice","TokenDataBalances","onMaxClick","totalTokenBalance","reduce","acc","current","shouldRenderMaxButton","getMaxValue","TokenInput","handleChange","useCallback","_value","nat","split","newValue","parseInt","includes","slice","activeColor","inactiveColor","TokenDataMetaInfo","tokenSymbol","tokenValue","tokenDecimals","tokenId","pageInfo","info","useTokenTaxCheck","calcPrice","taxInfo","netValue","toFixed","className","ViewHeader","onArrowBack","titleRightAdjustment","titleLeftAdjustment","borderTopRadius","borderBottomRadius","icon","FaArrowLeft","spin","CircleIcon","iconSrc","spinAnimation","bgDark","StepStatus","Disabled","bgLight","checkOpacity","Done","borderTop","greenCheckSrc","PlusIcon","NAVBAR_HEIGHT","FOOTER_HEIGHT","NAVIGATION_TABS","isConnected","useWalletStore","dispatch","useAppDispatch","location","useLocation","headerHeight","setHeaderHeight","currentTabIndex","findIndex","pathname","backgroundColorValue","useToken","colorMode","toggleColorMode","useColorMode","menuBg","menuShadow","Container","maxWidth","margin","p","nav","Tabs","TabList","Tab","FiArrowUpRight","ExternalLink","analyticsApp","WalletMenu","placement","WalletConnectBtn","Menu","MenuButton","FaEllipsisH","MenuList","isDarkModeEnabled","MenuItem","FaSun","FaMoon","modalsSliceActions","openMintManualModal","FaRedo","MenuDivider","twitter","rel","FaTwitter","discord","FaDiscord","medium","FaMedium","sonicDocs","FaBook","swapApiDocs","FaNetworkWired","footer","pointerEvents","version","Maintenance","m","verticalAlign","isAddLiquidityFailModalOpened","isAddLiquidityFailOpened","addLiquidityModalData","addLiquidityData","useModalsStore","callbacks","addLiquidityCallback","closeCallback","handleClose","closeAddLiquidityFailModal","TransactionFailedModal","isOpen","isCentered","isFullWidth","isAddLiquidityProgressModalOpened","steps","token1Symbol","token0Symbol","step","activeStep","getStepStatus","useStepStatus","TransactionProgressModal","closeAddLiquidityProgressModal","AddLiquidityModalDataStep","Getacnt","TransactionStep","chevron","CreatePair","plusSrc","Approve0","Deposit0","depositSrc","Approve1","Deposit1","AddLiquidity","dropSrc","isAllowanceVerifyModalOpened","allowanceModalData","_tokenSymbol","closeAllowanceVerifyModal","Active","appVer","localStorage","getItem","AppUpdatedModal","isNotiOpen","isModelOpen","setisModelOpen","useEffect","Modal","setItem","ModalOverlay","ModalContent","ModalCloseButton","ImportTokenImage","ImportToken","handleImport","understandRisk","setUnderstandRisk","redTriangleWarningSrc","isChecked","alignSelf","disabled","modalProps","ModalHeader","ModalBody","ModalFooter","rowGap","colorDisabled","colorEnabled","weight","FaChevronRight","my","TransactionType","DepositFailModal","isDepositFailModalOpened","depositModalData","retryCallback","closeDepositFailModal","DepostAddressModal","onclose","accountId","shortPrincipalId","desensitizationPrincipalId","shortAccntId","handleCopy","copyToClipboard","tokenData","tokenList","marginRight","FiCopy","isDepositProgressModalOpened","closeDepositProgressModal","DepositModalDataStep","Approve","Deposit","TOKEN_OPTIONS","useConst","MintTokenSymbol","WICP","XTC","mintManualModalOpened","mintManualBlockHeight","mintManualTokenSymbol","mintManualModalErrorMessage","addNotification","useNotificationStore","blockHeightErrorMessage","setBlockHeightErrorMessage","tokenErrorMessage","setTokenErrorMessage","handleMint","NotificationType","MintManual","getTime","resetModalData","setMintManualModalErrorMessage","closeMintManualModal","linkColor","activityTabURL","learnMoreURL","failedMintDocs","onSubmit","preventDefault","noValidate","borderBottom","FormControl","isRequired","isInvalid","Boolean","FormLabel","Select","setMintManualTokenSymbol","option","FormErrorMessage","onKeyDown","key","setMintManualBlockHeight","FormHelperText","leftIcon","FaRedoAlt","isMintWICPFailModalOpened","mintWICPModalData","closeMintWICPFailModal","isMintWICPProgressModalOpened","closeMintWICPProgressModal","MintModalDataStep","LedgerTransfer","withdrawSrc","Mint","swapSrc","isMintXTCFailModalOpened","isRemoveLiquidityFailOpened","mintXTCModalData","closeMintXTCFailModal","isMintXTCProgressModalOpened","closeMintXTCProgressModal","isRemoveLiquidityFailModalOpened","removeLiquidityModalData","closeRemoveLiquidityFailModal","isRemoveLiquidityProgressModalOpened","closeRemoveLiquidityProgressModal","RemoveLiquidityModalDataStep","RemoveLiquidity","Withdraw0","Withdraw1","RetryFailedTrxModal","isRetryOpen","setIsOpen","setRokenError","tokenSelected","settokenSelected","setbuttonText","supportedTokenList","useSwapCanisterStore","isTokenTrx","setisTokenTrx","BatchTransact","closeOnOverlayClick","retry","canisterId","canistersPrincipalIDs","idl","SwapIDL","factory","methodName","onSuccess","onFail","args","Principal","fromText","execute","Success","catch","err","isSwapFailModalOpened","swapModalData","withdrawCallback","closeSwapFailModal","isSwapProgressModalOpened","fromTokenSymbol","toTokenSymbol","closeSwapProgressModal","SwapModalDataStep","Swap","Withdraw","isTermsAndConditionsModalOpened","isOpened","termsAndConditionsModalData","successCallback","closeTermsAndConditionsModal","termsAndConditions","tokenSelectModalData","tokenSelectData","isTokenSelectModalModalOpened","isTokenSelectOpened","tokens","onSelect","selectedTokenIds","allowAddToken","addToken","setAddToken","importTokenData","setImportTokenData","parsedTokens","filteredList","setFilteredList","totalBalances","useBalances","filteredItems","lowerSearch","toLowerCase","handleTokenSelectClose","closeTokenSelectModal","emptyColor","scrollBehavior","_hover","arrowBackSrc","Array","TokenSelectItemSkeleton","TokenSelectItem","isSelected","FaHdd","balancesState","isBalancesUpdating","FeatureState","Updating","nameColor","isTransferProgressModalOpened","transferModalData","closeTransferProgressModal","TransferModalDataStep","Transfer","selectedStepIndex","indexOf","activeStepIndex","state","walletSelected","walletState","OpenWalletList","Connecting","walletActions","setOnwalletList","Idle","wallets","item","handleSelectWallet","tknList","connectObj","whitelist","values","keys","setWalletSelected","connect","provider","setWalletLoaded","principleId","walletActive","adapter","readyState","textTransform","thickness","speed","isWithdrawProgressModalOpened","withdrawModalData","closeWithdrawProgressModal","WithdrawModalDataStep","isWithdrawWICPFailModalOpened","withdrawWICPModalData","closeWithdrawWICPFailModal","isWithdrawWICPProgressModalOpened","closeWithdrawWICPProgressModal","WithdrawWICPModalDataStep","WithdrawWICP","PLUG_WALLET_WEBSITE_URL","PlugButton","usePlugStore","isPlugPAPIExists","window","ic","plug","PlugState","Loading","colorDark","bgHoverDark","colorLight","bgHoverLight","bgHover","before","PlugLogo","content","Disconnected","plugActions","NotInstalled","open","Connected","_disabled","_active","_before","socketColor","clipPath","stopOpacity","PlugMenu","disconnect","BiExit","PlugNotConnected","FaInbox","navigate","useNavigate","iconUrl","shortaccountId","FaExchangeAlt","resetWallet","reload","WalletNotConnected","PATHS","All","Home","ROUTES","ERRORS","swapCanisterFee","SWAP_CANISTER_FEE","ledger","cyclesMinting","swapCapRoot","accountIDs","URLs","DISCORD_URL","TWITTER_URL","MEDIUM_URL","github","GITHUB_URL","TERMS_AND_CONDITIONS_URL","tokenRequestForm","TOKEN_REQUEST_FORM_URL","ledgerTransactions","LEDGER_TRANSACTIONS_URL","hiddenTokens","maintenanceMode","prorityOrder","getAppAssetsSources","wallet","sonicCircleSrc","sonic","ICP_METADATA","totalSupply","icpSrc","tokenType","getICPTokenMetadata","LedgerIDL","IDL","AccountIdentifier","ICPTs","Record","e8s","Nat64","AccountBalanceArgs","SubAccount","Vec","Nat8","BlockHeight","NotifyCanisterArgs","to_subaccount","Opt","from_subaccount","to_canister","max_fee","block_height","Memo","TimeStamp","timestamp_nanos","SendArgs","created_at_time","Service","account_balance_dfx","Func","notify_dfx","send_dfx","capCanIDL","DetailValue","Rec","WithIdArg","Bool","Witness","GetBucketResponse","WithWitnessArg","GetNextCanistersResponse","Variant","Int64","Null","Float64","Event","Tuple","GetTransactionResponse","GetTransactionsArg","Nat32","GetTransactionsResponseBorrowed","GetUserTransactionsArg","IndefiniteEvent","CyclesMintingIDL","IcpXdrConversionRate","xdr_permyriad_per_icp","timestamp_seconds","IcpXdrConversionRateCertifiedResponse","certificate","hash_tree","SetAuthorizedSubnetworkListArgs","who","subnets","TransactionNotification","from","CyclesResponse","Refunded","CanisterCreated","ToppedUp","Result","Ok","Err","get_average_icp_xdr_conversion_rate","get_icp_xdr_conversion_rate","set_authorized_subnetwork_list","transaction_notification","SwapStorageIDL","Operation__1","lpTransfer","lpApprove","withdraw","tokenTransfer","addLiquidity","createPair","deposit","removeLiquidity","lpTransferFrom","tokenTransferFrom","tokenApprove","Time","Int","Operation","TxRecord","op","Nat","amount0","amount1","caller","Status","memSize","storageId","cycles","start","Bucket","addRecords","getStatus","getTransaction","getTransactions","BucketInfoExt","bucketId","Status__1","recordsPerBucket","owner","txAmount","flushing","bufferSize","chunkSize","dswap","buckets","TxRecord__1","addRecord","flush","getBucket","getUserTransactionAmount","getUserTransactions","historySize","newBucket","setDSwapCanisterId","TxReceipt","ok","TokenInfoExt","PairInfoExt","price0CumulativeLast","creator","reserve0","reserve1","lptoken","token0","token1","price1CumulativeLast","kLast","blockTimestampLast","TokenInfoWithType","SwapInfo","pairs","UserInfo","lpBalances","UserInfoPage","addAuth","addTokenTypes","addTokenWithType","allowance","approve","balanceOf","burn","depositTo","exportBalances","exportLPTokens","exportPairs","exportTokenTypes","exportTokens","getAllPairs","getHolders","getLPTokenId","getNumPairs","getPair","getPairs","getSupportedTokenList","getSupportedTokenListByName","getSupportedTokenListSome","getSwapInfo","getUserBalances","getUserInfo","getUserInfoAbove","getUserInfoByNamePageAbove","getUserLPBalances","getUserLPBalancesAbove","initateTransfer","initiateICRC1Transfer","logMessageClear","logMessageGet","removeAuth","setFeeForToken","setFeeOn","setFeeTo","setGlobalTokenFee","setMaxTokens","setOwner","setPairSupply","setPermissionless","swapExactTokensForTokens","swapTokensForExactTokens","transfer","transferFrom","updateAllTokenMetadata","updateTokenFees","updateTokenMetadata","withdrawTo","getUserReward","retryDeposit","TokenIDL","DIP20","ICRC1","TxError","InsufficientAllowance","InsufficientBalance","ErrorOperationStyle","Unauthorized","LedgerTrap","ErrorTo","Other","BlockUsed","AmountTooSmall","Metadata","TokenInfo","holderNumber","deployTime","feeTo","getAllowanceSize","getBlockUsed","getMetadata","getTokenInfo","getUserApprovals","isBlockUsed","mint","setFee","setGenesis","setLogo","setName","YCfactory","GetTransactionsRequest","Account","subaccount","Burn","kind","ArchivedTransactionRange","callback","GetTransactionsResponse","first_index","log_length","archived_transactions","HttpRequest","body","HttpResponse","status_code","Nat16","Value","Blob","StandardRecord","TransferArg","TransferError","GenericError","error_code","TemporarilyUnavailable","BadBurn","min_burn_amount","Duplicate","duplicate_of","BadFee","expected_fee","CreatedInFuture","ledger_time","TooOld","InsufficientFunds","Tokens","TransferError_1","TxTooOld","TxDuplicate","TxCreatedInFuture","Result_1","TransferArgs","get_transactions","http_request","icrc1_balance_of","icrc1_decimals","icrc1_fee","icrc1_metadata","icrc1_minting_account","icrc1_name","icrc1_supported_standards","icrc1_symbol","icrc1_total_supply","icrc1_transfer","XTCIDL","NotifyDfxFailed","UnexpectedCyclesResponse","InsufficientXTCFee","FetchRateFailed","TransactionId","BurnError","InvalidTokenContract","NotSufficientLiquidity","BurnResult","TransactionStatus","FAILED","SUCCEEDED","EventDetail","canister","CanisterCalled","method_name","TransferFrom","EventsConnection","next_offset","next_canister_id","canisterCalled","canisterCreated","MintError","MintResult","Stats","transfers_count","mints_count","transfers_from_count","canisters_created_count","supply","burns_count","approvals_count","proxy_calls_count","history_events","TxReceiptLegacy","ResultCall","return","CreateResult","canister_id","ResultSend","events","get_map_block_used","get_transaction","halt","mint_by_icp","nameErc20","stats","transferErc20","wallet_balance","wallet_call","wallet_create_canister","controller","wallet_create_wallet","wallet_send","useAllPairs","useDispatch","allPairsState","allPairs","useKeepSync","isRefreshing","swapCanisterActions","setAllPairsState","swapActor","getswapActor","setAllPairs","parseResponseAllPairs","AppLog","interval","directGetAllPairs","sonicBalances","icpBalance","tokenBalances","userLPBalancesState","getUserPositiveLPBalances","setUserLPBalancesState","setUserLPBalances","parseResponseUserLPBalances","getBalances","tokenInfo","setBalancesState","tokenCanisterId","tokenFeeLen","roundBigInt","tokenBalance","getTokenBalance","fetchICPBalance","setICPBalance","parseAmount","setSonicBalances","setTokenBalances","sumBalances","entries","forEach","notificationId","popNotification","totalBlockHeightsWICP","getFromStorage","LocalStorageKey","MintWICPUncompleteBlockHeights","totalBlockHeightsXTC","MintXTCUncompleteBlockHeights","blockHeightsXTC","blockHeightsWICP","totalLength","setMintWICPUncompleteBlockHeights","setMintXTCUncompleteBlockHeights","MINT_AUTO_NOTIFICATION_TITLES","NotificationState","MintAuto","resizeObserver","ResizeObserver","header","document","getElementById","observe","useNotificationEffect","notifications","timeout","supportedTokenListState","balanceState","useAppSelector","priceState","useQuery","get","URLSearchParams","delete","history","replaceState","useTokenAllowance","tokensAllowance","useAllowanceStore","validPrincipalId","now","expiration","allowanceActions","fetchAllowance","useTokenBalanceMemo","input","taxedValue","nonTaxedValue","tokenVal","sonicBalance","useTokenLogosFetcherInit","storageKey","tokenLogo","saveToStorage","useTokenSelectionChecker","id0","id1","targetId","isFirstIsSelected","isSecondIsSelected","isTokenSelected","useUserMetrics","setIsLoading","userLPMetrics","setUserLPMetrics","getUserLPMetrics","pairIds","x","analyticsApi","promises","queryUserLPMetrics","_userPairMetrics","userPairMetrics","getUserMetrics","getuserLprewards","setData","getUserRwds","Render","render","ColorModeScript","initialColorMode","theme","config","ChakraProvider","resetCSS","store","createAnonLedgerActor","createAnonymousActor","createSwapActor","createActor","createAnonSwapActor","createTokenActor","createAnonTokenActor","Artemis","walletId","autoConnect","initAdapter","getCapRootInstance","CapRoot","init","page","capRoot","result","get_user_transactions","parseCapHistoryLog","time","details","aux","ADDRESS_TO_FILTER","getUserLedgerTransactions","rosetta","getTransactionsByAccount","isArray","t","ua","navigator","userAgent","isAndroid","isiOs","isMobile","exposeProviderWithWalletConnect","debug","requestConnect","checkIsConnected","getPrincipal","requestBalance","checkIfPlugProviderVersionCompatible","versions","parseVersion","v","providerVersion","requiredVersion","usePlugInit","setState","resolve","reject","principal","toText","clearTimeout","setPrincipalId","BatchTransactions","handleRetry","Batch","State","handleTransactionSuccess","prevResponses","handleTransactionFail","Running","batchTransactionResolver","batchTransactionRejector","getState","responses","pop","finishPromise","retryResponse","nextTxArgs","resolved","firstTransaction","otherTransactions","txData","batchTransactions","getAmountDependsOnBalance","fromValue","getDepositTransactions","approveTx","depositTx","txNames","requiredAllowance","getTransactionName","blockHeight","removeBlockHeightFromStorage","localStorageKey","totalBlockHeights","userBlockHeights","newBlockHeights","_blockHeight","saveBlockHeightToStorage","prevMintWICPBlockHeight","updateFailedBlockHeight","failedBlockHeight","useAddLiquidityBatch","addLiquidityParams","batchLoad","pair","useLiquidityViewStore","batch","openBatchModal","deposit0Params","allowance0","deposit1Params","allowance1","createPairParams","approve0","deposit0","approve1","deposit1","getICRCAcnt","tx0complete","tx1complete","DepositBatch","token0Type","token1Type","token0Amt","token1Amt","intitICRCTokenDepositIn","useApproveTransactionMemo","useDepositTransactionMemo","useICRCTransferMemo","tokenAcnt","useCreatePairTransactionMemo","useAddLiquidityTransactionMemo","LiquidityBatchTx","_transactions","setAddLiquidityModalData","openAddLiquidityFailModal","openAddLiquidityProgressModal","batchExecute","batchFnUpdate","useDepositBatch","DepositBatchTx","setDepositModalData","openDepositProgressModal","getAcnt","intitICRCTokenDeposit","getacnt","useMintBatch","amountIn","amountOut","keepInSonic","useSwapViewStore","ledgerTransfer","useLedgerTransferTransactionMemo","toAccountId","canisterPrincipalId","_trx","getMintWICPTransaction","getMintXTCTransaction","depositParams","batchTrx","stepsList","setMintWICPModalData","openMintWICPProgressModal","setMintXTCModalData","openMintXTCProgressModal","useMintMultipleBatch","blockHeights","setTransactions","updateTransactions","handler","transactionName","useBatch","getTransactionNames","useMintSingleBatch","MintBatchTx","batchTx","trx","useRemoveLiquidityBatch","removeLiquidityParams","RemoveLiquidityBatch","withdraw0Params","amount0Min","withdraw1Params","amount1Min","useRemoveLiquidityTransactionMemo","withdraw0","useWithdrawTransactionMemo","withdraw1","setRemoveLiquidityModalData","openRemoveLiquidityFailModal","openRemoveLiquidityProgressModal","useSwapBatch","swapParams","entryVal","withdrawParams","SwapBatch","trxList","useSwapExactTokensTransactionMemo","SwapBatchTrx","setSwapModalData","openSwapProgressModal","useTransferBatch","TransferBatch","transferTrx","useTransferTransactionMemo","TransferBatchTx","setTransferModalData","openTransferProgressModal","useWithdrawBatch","withdrawMemo","WithdrawBatchTx","setWithdrawModalData","openWithdrawProgressModal","useWithdrawWICPBatch","withdrawWICP","useWithdrawWICPTransactionMemo","WithdrawBatch","setWithdrawWICPModalData","openWithdrawWICPProgressModal","parsedAmount","toApproveAmount","JSON","actor","updateNextStep","trxResult","nextTrxItem","canId","subacc","useICRCDepositMemo","tokenTrx","settokenTrxData","getTokenActor","fromHexString","resp","token0Value","token1Value","_temp","substring","amount0Desired","amount1Desired","getAmountMin","currentTime","lpAmount","round","options","bh","outAmountMin","amountOutMin","paths","getSwapCapActor","witness","trxInfo","operation","matchingDetail","detail","U64","useSwapForExactTokensTransactionMemo","amountInMin","addressType","natAddress","getAccountIdFromPrincipalId","getPrincipalFromText","DefaultHookState","setError","states","newBatch","transactionsList","txSuccessResponse","prevRes","handleError","useMintErrorHandler","isBlockUsedError","isUnauthorizedError","isOtherError","isOperationStyleError","isErrorToError","isAmountToSmallError","errorText","removeLastProcessedTransaction","prevMintBlockHeightData","newBlockHeightData","_","AddLiquidityNotificationContent","liquidityViewStore","batchData","batchExecutalbe","handleStateChange","clearAddLiquidityModalData","clearDepositModalData","handleOpenModal","setAllowanceVerifyModalData","openAllowanceVerifyModal","transactionLink","finally","DepositNotificationContent","depositViewStore","useDepositViewStore","selectedToken","Pending","MintAutoNotificationContent","setSteps","setStep","handleMintError","mintWICPUncompleteBlockHeights","mintXTCUncompleteBlockHeights","doneStepColor","activeStepColor","disabledStepColor","setNotificationData","removeFromStorage","transactionNames","_step","stepStatus","isDoneStep","isActiveStep","isDisabledStep","stepColor","stepLabel","MintManualNotificationContent","MintWICPNotificationContent","swapViewStore","MintXTCNotificationContent","RemoveLiquidityNotificationContent","userLPBalances","removeLiquidityBatchParams","removeAmountPercentage","multipliedBy","dividedBy","clearRemoveLiquidityModalData","SwapNotificationContent","clearSwapModalData","TransactionNotificationContent","NavLink","TransferNotificationContent","transferViewStore","useTransferViewStore","toAddress","clearTransferModalData","transferViewActions","setToAddress","WithdrawNotificationContent","useWithdrawViewStore","clearWithdrawModalData","WithdrawWICPNotificationContent","getAccountId","NotificationBox","notification","show","setShow","animateOpacity","NotificationHeader","NotificationContent","NotificationTimer","notificationContent","MintWICP","MintXTC","ErrorNotificationType","NotificationIcon","errorNode","redWarningSrc","pendingNode","successNode","transparentGreenCheckSrc","n","shouldShowCloseButton","closeSrc","errorBody","hasOwnProperty","reduceWidth","collapseAnimation","onAnimationEnd","initialState","CAPstate","LedgerState","activityList","lastPage","fetchedPages","activityViewSlice","createSlice","reducers","setCAPState","action","payload","setLedgerState","setTokenList","setPage","setLedgerTransactions","pushActivityList","toFilterTransactions","cur","dateString","toDateString","alreadyAdded","Set","has","add","sort","a","b","timeA","setLastPage","pushFetchedPages","clearActivityList","activityViewActions","actions","selectActivityViewState","activityView","reducer","useActivityViewStore","useActivityView","parseResponseTokenList","getUserTransactionsPage","_principalId","_page","allowanceSlice","setAllowance","clearAllowance","rest","selectAllowanceState","createAsyncThunk","dfinityWallet","getTokenAllowance","isBannerOpened","AssetsBannerDisabled","assetsViewSlice","setIsBannerOpened","assetsViewActions","selectAssetsViewState","assetsView","selectWithdrawViewState","ICPXDRconversionRate","ICPXDRconversionRateState","cyclesMintingCanisterSlice","setICPXDRConversionRate","setICPXDRConversionRateState","cyclesMintingCanisterSliceActions","selectCyclesMintingCanisterState","DEFAULT_CYCLES_PER_XDR","TOKEN_SUBDIVIDABLE_BY","useCyclesMintingCanisterStore","getICPXDRConversionRate","fetchICP2XDRConversionRate","conversionRate","depositViewSlice","setAmount","setTokenId","depositViewActions","selectDepositViewState","depositView","walletConnected","walletSlice","selectWalletState","KEEP_SYNC_DEFAULT_INTERVAL","keepSyncSlice","timers","clearInterval","setInterval","keepSync","setCallback","keepSyncActions","selectKeepSyncState","runner","_interval","INITIAL_LIQUIDITY_SLIPPAGE","LiquidityBannerDisabled","pairState","liquidityViewSlice","setPairState","setRemoveAmountPercentage","setKeepInSonic","setToken","setPair","liquidityViewActions","selectLiquidityViewState","liquidityView","localPair","initialMintXTCModalData","initialMintWICPModalData","initialWithdrawWICPModalData","initialSwapModalData","initialDepositModalData","initialTransferModalData","initialWithdrawModalData","initialAddLiquidityModalData","initialRemoveLiquidityModalData","initialTokenSelectData","isWithdrawFailModalOpened","isRemoveLiquidityModalOpened","modalsSlice","openMintXTCFailModal","clearMintXTCModalData","addMintXTCUncompleteBlockHeight","openMintWICPFailModal","clearMintWICPModalData","addMintWICPUncompleteBlockHeight","openWithdrawWICPFailModal","clearWithdrawWICPModalData","openSwapFailModal","openDepositFailModal","openWithdrawFailModal","closeWithdrawFailModal","openTokenSelectModal","clearTokenSelectModalData","setTokenSelectModalData","openRemoveLiquidityModal","closeRemoveLiquidityModal","openTermsAndConditionsModal","setTermsAndConditionsModalData","selectModalsState","modals","useTokenModalOpener","notificationSlice","notificationIndex","newNotifications","popId","filteredNotifications","obj","setNotificationSliceState","selectNotificationState","setNotificationState","plugSlice","accountChangeCallback","newPrincipalId","warn","onConnectionUpdate","sessionData","selectPlugState","icpPrice","priceSlice","setPrice","priceActions","selectPriceState","usePriceStore","_getICPPrice","supportedTokenListWithPrices","tokenPrice","BaseTokenPair","BaseTokenDecimals","baseReserve","tokenReserve","setSupportedTokenList","fetchICPPrice","swapCanisterSlice","setSupportedTokensListState","parsedBalances","selectSwapCanisterState","loadAction","parseResponseSupportedTokenList","toJson","INITIAL_SWAP_SLIPPAGE","baseFromTokenPaths","baseToTokenPaths","swapViewSlice","reset","oppositeMetadata","oppositeDataKey","getTokenPaths","getAmountOutFromPath","capitalize","switchTokens","dataKey","isICPToWICPPair","isWICPToICPPair","isWICPAndICPPair","oppositeTokenPaths","oppositeValue","tokenPaths","tempMetadata","baseFromPaths","baseToPaths","swapViewActions","selectSwapViewState","swapView","getAmountOut","decimalsIn","decimalsOut","reserveIn","reserveOut","getTokenPath","useSwapView","isPairLoaded","setIsPairLoad","tokenListTemp","ICP","setInitToken","temp","isICPSelected","isWICPSelected","fromTokenOptions","toTokenOptions","wicpTokenMetadata","xtcTokenMetadata","toTokenPathsIds","icpToken","unshift","AddressType","None","transferViewSlice","checkAddressType","AccountId","PrincipalId","selectTransferViewState","transferView","useAssetsViewStore","withdrawViewSlice","withdrawViewActions","withdrawView","useSelector","configureStore","middleware","getDefaultMiddleware","serializableCheck","variantGhost","c","mode","darkHoverBg","transparentize","darkActiveBg","accessibleColorMap","yellow","hoverBg","activeBg","cyan","variantSolid","variants","ghost","solid","link","padding","lineHeight","gradient","colors","unstyled","baseStyle","transitionProperty","transitionDuration","_focus","sizes","xs","defaultProps","rounded","baseStyleList","baseStyleItem","transitionTimingFunction","_expanded","baseStyleGroupTitle","baseStyleCommand","baseStyleDivider","baseStyleButton","parts","button","list","groupTitle","command","divider","baseStyleOverlay","baseStyleDialogContainer","baseStyleDialog","maxH","baseStyleHeader","borderBottomWidth","baseStyleCloseButton","insetEnd","baseStyleBody","baseStyleFooter","getSize","dialog","xl","full","overlay","dialogContainer","closeButton","$popperBg","cssVar","$arrowBg","$arrowShadowColor","baseStylePopper","baseStyleContent","variable","reference","borderTopWidth","popper","baseStyleRoot","orientation","baseStyleTab","isFitted","baseStyleTablist","end","center","baseStyleTabpanel","line","borderProp","tablist","tab","_selected","enclosed","borderBottomColor","_notLast","marginEnd","borderTopColor","getColor","root","tabpanel","gray","black","darkBlue","custom","app","dark","light","appTheme","styles","global","html","fonts","heading","useSystemColorMode","modalHeight","components","extendTheme","firstLength","lastLength","a1","a2","tempTkn","order","parseResponsePair","resultPair","tokenIds","token0Id","token1Id","tokenListObj","waitWithTimeout","ms","el","returnType","isAnnon","getCanisterActor","getTokenLogo","tokenActor","prin","race","console","log","toHexString","byteArray","byte","join","hex","substr","bytes","isValidAccountId","test","isPrincipalId","SUB_ACCOUNT_ZERO","Buffer","alloc","byteArrayToWordArray","wordArray","lib","WordArray","wordToByteArray","word","intToHex","val","sha","algo","SHA224","update","toUint8Array","subBuffer","finalize","checksum","crc","unsigned","padStart","generateChecksum","sigBytes","words","concat","apply","wordArrayToByteArray","static","EXPONENTIAL_AT","fixedVal","str","parseUnits","actualDecimals","roundOfdecimals","ad","roundedNumber","floor","tmp","formatValue","formatUnits","ethers","BigNumber","getValueWithoutFees","numberOfFees","_feesAmount","minus","times","isNegative","charAt","toUpperCase","getPairIdsFromPairList","pairList","idsSet","paired","getUserPailListFromPairList","timer","debounce","fn","awaitTime","ACCOUNT_DOMAIN_SEPERATOR","ledgerActor","statusText","subAccount","writeUInt32BE","serializedValue","removeItem","IDENTIFIER","createLabel","text","clipboard","writeText","AddLiquidityActivity","_token0","_token1","toLocaleTimeString","FaPlus","DepositActivity","getTokenByAddress","findToken","tokenPrincipal","LedgerTransactionActivity","ledgerTransaction","FaCube","LoadingActivity","RemoveLiquidityActivity","SwapActivity","fromToken","toToken","WithdrawActivity","scrollHandler","scrollY","innerHeight","offsetHeight","addEventListener","removeEventListener","overflowX","css","dateA","dateB","date","Fragment","renderActivity","Activity","openSelectTokenModal","selectedTokenMetadata","handleSelectTokenId","buttonDisabled","buttonMessage","parsedFromValue","fromQueryValue","tokenListMetadata","autoFocus","getAssetPriceByBalance","notEmptyTokenList","supportedTokenListWithICP","isTokenListPresent","assetsDetailsTextColor","headerColor","getCanWithdraw","isFailedTrxOpen","setIsFailedTrxOpen","retryFailedTrx","r","random","getCanDeposit","FaMinus","FaInfoCircle","ButtonGroup","showDepositModal","ICPTOKENID","supportingAddrsType","isReviewing","setIsReviewing","autoSlippage","setAutoSlippage","handleTokenMaxClick","token0Balance","token1Balance","maxValue","setInAndOutTokenValues","lockedPairsList","handleSelectToken","excludeToken","foundPair","customTokenList","foundToken","needAsNetValue","convertToken","fromAmount","lpValue","Liquidity","getOppositeAmount","parsedLPValue","reversedDataKey","gt","startsWith","minimalAmount","token0Allowance","token1Allowance","isPriceUpdating","parsedToken0Value","parsedToken1Value","selectedIds","fee0","fee1","price0","price1","shareOfPool","liquidityAmount","useAddLiquidityMemo","token0Sources","useTokenSourceMemo","token1Sources","menuListShadow","menuListBg","iconBorderColor","textColor","FaCog","Center","FaEquals","PairedUserLPToken","totalShares","userShares","balance0","balance1","pairMetrics","handleAdd","handleRemove","isMetricsLoading","isLPBalanceLoading","successColor","userLPValue","getUserPositionValue","decimals0","decimals1","gridGap","fees","RemoveLiquidityModalAsset","balancePrice","PERCENTAGE_PRESETS","RemoveLiquidityModal","handleModalClose","handleSliderChange","lpBalance","getTokenBalances","isAmountIsLow","AMOUNT_TOO_LOW_LABEL","tokensLPBalance","checkboxColorKeepInSonic","checkboxColorNotKeepInSonic","checkboxColor","NaN","Slider","focusThumbOnChange","SliderTrack","SliderFilledTrack","SliderThumb","SimpleGrid","columns","preset","FaArrowDown","dir","getShareOfPoolString","params","percentage","getShareOfPool","isEqualTo","isLessThanOrEqualTo","getPosition","PAIR_DECIMALS","InformationDescription","_visited","moveToAddLiquidityView","handleOpenRemoveLiquidityModal","isUserLPBalancesUpdating","pairedUserLPTokens","lpBalancesPairIDs","existentPairs","tokenId0","pairedList","tokenId1","msOverflowStyle","scrollbarWidth","userLPToken","ChainPopover","isChained","FaLink","ExchangeBox","isFromTokenIsICP","isToTokenIsICP","isFromTokenIsWICP","isToTokenIsWICP","isFromTokenIsXTC","isToTokenIsXTC","depositFee","withdrawFee","icpMetadata","feeSymbol","xtcMetadata","icpFeeInXTC","getXTCValueByXDRRate","xtcFees","plus","wicpFee","pathAmountOut","getAmountOutRatio","getSwapAmountOutMin","hasDeposit","hasWithdraw","Portal","OperationType","KEEP_IN_SONIC_LINK","KeepInSonicBox","canHeldInSonic","popoverLabel","SwapSubTab","tabname","SwapStep","useSwapViewData","lastChangedInputDataKey","setLastChangedInputDataKey","isXTCSelected","fromBalance","toBalance","resetViewState","resetStepToHome","Review","handleChangeValue","handleSetValue","handleICPToWICPChange","_newValue","icpFee","handleICPToXTCChange","getICPValueByXDRRate","xtcFee","icpFeesConvertedToXTC","rateBasedAmount","resultAmount","handleICPToTokenChange","oppositeData","wrappedICPMetadata","dataWICP","checkIsPlugProviderVersionCompatible","handleMintXTC","handleMintWICP","handleWithdrawWICP","handleApproveSwap","isFetchingNotStarted","NotStarted","isButtonDisabled","handleButtonClick","headerTitle","getPriceImpact","priceIn","priceOut","isSelectTokenButtonDisabled","selectTokenButtonText","fromSources","toSources","isExplanationTooltipVisible","currentOperation","Wrap","tokenFromId","tokenToId","onMenuClose","onSetSlippage","onSetIsAutoSlippage","onChangeValue","onSelectToken","oppositeTokenId","onSwitchTokens","swapPlacementButtonBg","tabIndex","_amount","_conversionRate","_defaultCyclesPerXDR","_subdividableBy","tokenIn","tokenOut","toValue","ratio","UserContext","initialTodos","complete","todo","Todos","todos","useReducer","handleComplete","setInputValue","previousInputValue","useRef","Component1","setUser","Provider","number","Component2","Component3","useContext","Component4","Component5","Timer","count","setCount","App2","setTodos","increment","addTodo","calculation","expensiveCalculation","setColor","fetch","json"],"sourceRoot":""}