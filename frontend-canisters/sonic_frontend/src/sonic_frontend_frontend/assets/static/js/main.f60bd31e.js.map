{"version":3,"file":"static/js/main.f60bd31e.js","mappings":"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","sources":["webpack://sonic-app/./src/App.tsx","webpack://sonic-app/./src/apis/analytics.ts","webpack://sonic-app/./src/apis/index.ts","webpack://sonic-app/./src/apis/rosetta.ts","webpack://sonic-app/./src/assets/index.tsx","webpack://sonic-app/./src/components/core/asset/asset.tsx","webpack://sonic-app/./src/components/core/asset/index.ts","webpack://sonic-app/./src/components/core/check-box/check-box.tsx","webpack://sonic-app/./src/components/core/check-box/index.ts","webpack://sonic-app/./src/components/core/display-value/display-value.tsx","webpack://sonic-app/./src/components/core/display-value/index.ts","webpack://sonic-app/./src/components/core/emoji/emoji.tsx","webpack://sonic-app/./src/components/core/emoji/index.ts","webpack://sonic-app/./src/components/core/fee-box/fee-box.tsx","webpack://sonic-app/./src/components/core/fee-box/index.ts","webpack://sonic-app/./src/components/core/gradient-box/gradient-box.tsx","webpack://sonic-app/./src/components/core/gradient-box/index.ts","webpack://sonic-app/./src/components/core/header/header.tsx","webpack://sonic-app/./src/components/core/header/index.ts","webpack://sonic-app/./src/components/core/image-block/index.ts","webpack://sonic-app/./src/components/core/image-block/lp-image-block.tsx","webpack://sonic-app/./src/components/core/image-block/swap-image-block.tsx","webpack://sonic-app/./src/components/core/image-block/token-image-block.tsx","webpack://sonic-app/./src/components/core/index.ts","webpack://sonic-app/./src/components/core/information-box/index.ts","webpack://sonic-app/./src/components/core/information-box/information-box.tsx","webpack://sonic-app/./src/components/core/logo-box/index.ts","webpack://sonic-app/./src/components/core/logo-box/logo-box.tsx","webpack://sonic-app/./src/components/core/logo/index.ts","webpack://sonic-app/./src/components/core/logo/logo.tsx","webpack://sonic-app/./src/components/core/lp-breakdown-popover/index.ts","webpack://sonic-app/./src/components/core/lp-breakdown-popover/lp-breakdown-popover-item.tsx","webpack://sonic-app/./src/components/core/lp-breakdown-popover/lp-breakdown-popover.tsx","webpack://sonic-app/./src/components/core/number-input/index.ts","webpack://sonic-app/./src/components/core/number-input/number-input.tsx","webpack://sonic-app/./src/components/core/search-bar/index.ts","webpack://sonic-app/./src/components/core/search-bar/search-bar.tsx","webpack://sonic-app/./src/components/core/slippage-settings/index.ts","webpack://sonic-app/./src/components/core/slippage-settings/slippage-settings.tsx","webpack://sonic-app/./src/components/core/stack-line/index.ts","webpack://sonic-app/./src/components/core/stack-line/stack-line.tsx","webpack://sonic-app/./src/components/core/token-balances-popover/index.ts","webpack://sonic-app/./src/components/core/token-balances-popover/token-balances-popover-item.tsx","webpack://sonic-app/./src/components/core/token-balances-popover/token-balances-popover.tsx","webpack://sonic-app/./src/components/core/token/index.ts","webpack://sonic-app/./src/components/core/token/token.tsx","webpack://sonic-app/./src/components/core/token/tokenCreditinfo.tsx","webpack://sonic-app/./src/components/core/view-header/index.ts","webpack://sonic-app/./src/components/core/view-header/view-header.tsx","webpack://sonic-app/./src/components/icons/circle-icon/circle-icon.tsx","webpack://sonic-app/./src/components/icons/circle-icon/index.ts","webpack://sonic-app/./src/components/icons/index.ts","webpack://sonic-app/./src/components/icons/plus/index.ts","webpack://sonic-app/./src/components/icons/plus/plus-icon.tsx","webpack://sonic-app/./src/components/index.ts","webpack://sonic-app/./src/components/layout/index.ts","webpack://sonic-app/./src/components/layout/layout.constants.tsx","webpack://sonic-app/./src/components/layout/layout.tsx","webpack://sonic-app/./src/components/maintenance/index.ts","webpack://sonic-app/./src/components/maintenance/maintenance.tsx","webpack://sonic-app/./src/components/modals/add-liquidity-fail-modal.tsx","webpack://sonic-app/./src/components/modals/add-liquidity-progress-modal.tsx","webpack://sonic-app/./src/components/modals/allowance-verify-modal.tsx","webpack://sonic-app/./src/components/modals/app-Updated.tsx","webpack://sonic-app/./src/components/modals/components/import-token/import-token-image.tsx","webpack://sonic-app/./src/components/modals/components/import-token/import-token.tsx","webpack://sonic-app/./src/components/modals/components/import-token/index.ts","webpack://sonic-app/./src/components/modals/components/index.ts","webpack://sonic-app/./src/components/modals/components/transaction/index.ts","webpack://sonic-app/./src/components/modals/components/transaction/transaction-failed-modal-content.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction-progress-modal-content.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction-step.tsx","webpack://sonic-app/./src/components/modals/components/transaction/transaction.utils.ts","webpack://sonic-app/./src/components/modals/deposit-fail-modal.tsx","webpack://sonic-app/./src/components/modals/deposit-progress-modal.tsx","webpack://sonic-app/./src/components/modals/index.ts","webpack://sonic-app/./src/components/modals/mint-manual-modal.tsx","webpack://sonic-app/./src/components/modals/mint-wicp-fail-modal.tsx","webpack://sonic-app/./src/components/modals/mint-wicp-progress-modal.tsx","webpack://sonic-app/./src/components/modals/mint-xtc-fail-modal.tsx","webpack://sonic-app/./src/components/modals/mint-xtc-progress-modal.tsx","webpack://sonic-app/./src/components/modals/remove-liquidity-fail-modal.tsx","webpack://sonic-app/./src/components/modals/remove-liquidity-progress-modal.tsx","webpack://sonic-app/./src/components/modals/swap-fail-modal.tsx","webpack://sonic-app/./src/components/modals/swap-progress-modal.tsx","webpack://sonic-app/./src/components/modals/terms-and-conditions-modal.tsx","webpack://sonic-app/./src/components/modals/token-select-modal.tsx","webpack://sonic-app/./src/components/modals/use-step-status.ts","webpack://sonic-app/./src/components/modals/withdraw-progress-modal.tsx","webpack://sonic-app/./src/components/modals/withdraw-wicp-fail-modal.tsx","webpack://sonic-app/./src/components/modals/withdraw-wicp-progress-modal.tsx","webpack://sonic-app/./src/components/plug/index.ts","webpack://sonic-app/./src/components/plug/plug-button/constants.ts","webpack://sonic-app/./src/components/plug/plug-button/index.ts","webpack://sonic-app/./src/components/plug/plug-button/plug-button.tsx","webpack://sonic-app/./src/components/plug/plug-logo/index.ts","webpack://sonic-app/./src/components/plug/plug-logo/plug-logo.tsx","webpack://sonic-app/./src/components/plug/plug-menu/index.ts","webpack://sonic-app/./src/components/plug/plug-menu/plug-menu.tsx","webpack://sonic-app/./src/components/plug/plug-not-connected/index.tsx","webpack://sonic-app/./src/config/constants.ts","webpack://sonic-app/./src/config/env.ts","webpack://sonic-app/./src/config/index.ts","webpack://sonic-app/./src/config/utils.ts","webpack://sonic-app/./src/constants/index.ts","webpack://sonic-app/./src/constants/token.ts","webpack://sonic-app/./src/did/dfinity/index.ts","webpack://sonic-app/./src/did/dfinity/ledger.did.ts","webpack://sonic-app/./src/did/index.ts","webpack://sonic-app/./src/did/sonic/cycles-minting.did.ts","webpack://sonic-app/./src/did/sonic/index.ts","webpack://sonic-app/./src/did/sonic/swap-storage.did.ts","webpack://sonic-app/./src/did/sonic/swap.did.ts","webpack://sonic-app/./src/did/sonic/token.did.ts","webpack://sonic-app/./src/did/sonic/xtc.did.ts","webpack://sonic-app/./src/hooks/index.ts","webpack://sonic-app/./src/hooks/use-all-pairs.ts","webpack://sonic-app/./src/hooks/use-balances.ts","webpack://sonic-app/./src/hooks/use-block-heights-init.ts","webpack://sonic-app/./src/hooks/use-header-resize-effect.ts","webpack://sonic-app/./src/hooks/use-network-error-notifications.ts","webpack://sonic-app/./src/hooks/use-query.ts","webpack://sonic-app/./src/hooks/use-token-allowance.ts","webpack://sonic-app/./src/hooks/use-token-balance.ts","webpack://sonic-app/./src/hooks/use-token-fee.ts","webpack://sonic-app/./src/hooks/use-token-logos-fetcher-init.ts","webpack://sonic-app/./src/hooks/use-token-selection-detector.ts","webpack://sonic-app/./src/hooks/use-user-metrics.ts","webpack://sonic-app/./src/index.tsx","webpack://sonic-app/./src/integrations/actor/create-ledger-actor.ts","webpack://sonic-app/./src/integrations/actor/create-swap-actor.ts","webpack://sonic-app/./src/integrations/actor/create-token-actor.ts","webpack://sonic-app/./src/integrations/actor/index.ts","webpack://sonic-app/./src/integrations/cap/connection.ts","webpack://sonic-app/./src/integrations/cap/features/get-user-transactions.ts","webpack://sonic-app/./src/integrations/cap/features/index.ts","webpack://sonic-app/./src/integrations/cap/index.ts","webpack://sonic-app/./src/integrations/cap/utils.ts","webpack://sonic-app/./src/integrations/ledger/index.ts","webpack://sonic-app/./src/integrations/ledger/ledger-transactions.ts","webpack://sonic-app/./src/integrations/plug/index.ts","webpack://sonic-app/./src/integrations/plug/plug.utils.ts","webpack://sonic-app/./src/integrations/plug/use-plug-init.ts","webpack://sonic-app/./src/integrations/transactions/batch-transactions.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/batch.utils.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-add-liquidity-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-deposit-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-multiple-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-mint-single-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-remove-liquidity-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-swap-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-withdraw-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/batch/use-withdraw-wicp-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/approve.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/create-pair.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/deposit.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/icrcTransfer.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/index.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/ledger-transfer.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/liquidity.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/mint-wicp.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/mint-xtc.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/swap.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/withdraw-wicp.ts","webpack://sonic-app/./src/integrations/transactions/hooks/transactions/withdraw.ts","webpack://sonic-app/./src/integrations/transactions/hooks/use-batch.ts","webpack://sonic-app/./src/integrations/transactions/hooks/use-mint-error-handler.ts","webpack://sonic-app/./src/integrations/transactions/index.ts","webpack://sonic-app/./src/integrations/transactions/models/batch.ts","webpack://sonic-app/./src/integrations/transactions/models/index.ts","webpack://sonic-app/./src/integrations/transactions/models/transactions/index.ts","webpack://sonic-app/./src/notifications/components/add-liquidity-notification-content.tsx","webpack://sonic-app/./src/notifications/components/deposit-notification-content.tsx","webpack://sonic-app/./src/notifications/components/index.ts","webpack://sonic-app/./src/notifications/components/mint-auto-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-manual-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-wicp-notification-content.tsx","webpack://sonic-app/./src/notifications/components/mint-xtc-notification-content.tsx","webpack://sonic-app/./src/notifications/components/remove-liquidity-notifcation-content.tsx","webpack://sonic-app/./src/notifications/components/swap-notification-content.tsx","webpack://sonic-app/./src/notifications/components/transaction-notification-content.tsx","webpack://sonic-app/./src/notifications/components/withdraw-notification-content.tsx","webpack://sonic-app/./src/notifications/components/withdraw-wicp-notification-content.tsx","webpack://sonic-app/./src/notifications/index.ts","webpack://sonic-app/./src/notifications/notification-box.tsx","webpack://sonic-app/./src/notifications/notification-content.tsx","webpack://sonic-app/./src/notifications/notification-errors.tsx","webpack://sonic-app/./src/notifications/notification-header.tsx","webpack://sonic-app/./src/notifications/notification-manager.tsx","webpack://sonic-app/./src/notifications/notification-timer.tsx","webpack://sonic-app/./src/store/features/activity-view/activity-view-slice.ts","webpack://sonic-app/./src/store/features/activity-view/index.ts","webpack://sonic-app/./src/store/features/activity-view/use-activity-view-store.ts","webpack://sonic-app/./src/store/features/activity-view/use-activity-view.ts","webpack://sonic-app/./src/store/features/allowance/allowance-slice.ts","webpack://sonic-app/./src/store/features/allowance/async-thunk/fetch-allowance.ts","webpack://sonic-app/./src/store/features/allowance/async-thunk/index.ts","webpack://sonic-app/./src/store/features/allowance/index.ts","webpack://sonic-app/./src/store/features/assets-view/assets-view-slice.ts","webpack://sonic-app/./src/store/features/assets-view/index.ts","webpack://sonic-app/./src/store/features/assets-view/use-assets-view-store.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/cycles-minting-canister-slice.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/cycles-minting-canister.constants.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/index.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/use-cycles-minting-canister-init.ts","webpack://sonic-app/./src/store/features/cycles-minting-canister/use-cycles-minting-canister-store.ts","webpack://sonic-app/./src/store/features/deposit-view/deposit-view-slice.ts","webpack://sonic-app/./src/store/features/deposit-view/index.ts","webpack://sonic-app/./src/store/features/deposit-view/use-deposit-view-store.ts","webpack://sonic-app/./src/store/features/index.ts","webpack://sonic-app/./src/store/features/keep-sync/index.ts","webpack://sonic-app/./src/store/features/keep-sync/keep-sync-slice.ts","webpack://sonic-app/./src/store/features/keep-sync/use-keep-sync.ts","webpack://sonic-app/./src/store/features/liquidity-view/index.ts","webpack://sonic-app/./src/store/features/liquidity-view/liquidity-view-slice.ts","webpack://sonic-app/./src/store/features/liquidity-view/use-liquidity-view-init.ts","webpack://sonic-app/./src/store/features/liquidity-view/use-liquidity-view-store.ts","webpack://sonic-app/./src/store/features/modals/index.ts","webpack://sonic-app/./src/store/features/modals/modals-slice.ts","webpack://sonic-app/./src/store/features/modals/use-modals-store.ts","webpack://sonic-app/./src/store/features/modals/use-token-modal-opener.ts","webpack://sonic-app/./src/store/features/notification/index.ts","webpack://sonic-app/./src/store/features/notification/notification-slice.ts","webpack://sonic-app/./src/store/features/notification/use-notification-store.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/connect.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/disconnect.ts","webpack://sonic-app/./src/store/features/plug/async-thunk/index.ts","webpack://sonic-app/./src/store/features/plug/index.ts","webpack://sonic-app/./src/store/features/plug/plug-slice.ts","webpack://sonic-app/./src/store/features/price/index.ts","webpack://sonic-app/./src/store/features/price/price-slice.ts","webpack://sonic-app/./src/store/features/price/use-price-init.ts","webpack://sonic-app/./src/store/features/price/use-price-store.ts","webpack://sonic-app/./src/store/features/swap-canister/index.ts","webpack://sonic-app/./src/store/features/swap-canister/swap-canister-slice.ts","webpack://sonic-app/./src/store/features/swap-canister/use-swap-canister-init.ts","webpack://sonic-app/./src/store/features/swap-canister/use-swap-canister-store.ts","webpack://sonic-app/./src/store/features/swap-view/index.ts","webpack://sonic-app/./src/store/features/swap-view/swap-view-slice.ts","webpack://sonic-app/./src/store/features/swap-view/use-swap-view-init.ts","webpack://sonic-app/./src/store/features/swap-view/use-swap-view-store.ts","webpack://sonic-app/./src/store/features/withdraw-view/index.ts","webpack://sonic-app/./src/store/features/withdraw-view/use-withdraw-view-store.ts","webpack://sonic-app/./src/store/features/withdraw-view/withdraw-view-slice.ts","webpack://sonic-app/./src/store/hooks.ts","webpack://sonic-app/./src/store/index.ts","webpack://sonic-app/./src/store/models.ts","webpack://sonic-app/./src/store/store.ts","webpack://sonic-app/./src/theme/components/button.ts","webpack://sonic-app/./src/theme/components/close-button.ts","webpack://sonic-app/./src/theme/components/menu.ts","webpack://sonic-app/./src/theme/components/modal.ts","webpack://sonic-app/./src/theme/components/popover.ts","webpack://sonic-app/./src/theme/components/tabs.ts","webpack://sonic-app/./src/theme/foundations/colors.ts","webpack://sonic-app/./src/theme/foundations/index.ts","webpack://sonic-app/./src/theme/index.ts","webpack://sonic-app/./src/utils/canister.ts","webpack://sonic-app/./src/utils/canisterDriver.ts","webpack://sonic-app/./src/utils/external-link.ts","webpack://sonic-app/./src/utils/format.ts","webpack://sonic-app/./src/utils/function.ts","webpack://sonic-app/./src/utils/icp.ts","webpack://sonic-app/./src/utils/index.ts","webpack://sonic-app/./src/utils/local-storage.ts","webpack://sonic-app/./src/utils/log.ts","webpack://sonic-app/./src/utils/navigator.tsx","webpack://sonic-app/./src/views/activity/components/add-liquidity-activity.tsx","webpack://sonic-app/./src/views/activity/components/deposit-activity.tsx","webpack://sonic-app/./src/views/activity/components/index.ts","webpack://sonic-app/./src/views/activity/components/ledger-transaction-activity.tsx","webpack://sonic-app/./src/views/activity/components/loading-activity.tsx","webpack://sonic-app/./src/views/activity/components/remove-liquidity-activity.tsx","webpack://sonic-app/./src/views/activity/components/swap-activity.tsx","webpack://sonic-app/./src/views/activity/components/withdraw-activity.tsx","webpack://sonic-app/./src/views/activity/index.ts","webpack://sonic-app/./src/views/activity/list.tsx","webpack://sonic-app/./src/views/assets/deposit.tsx","webpack://sonic-app/./src/views/assets/index.ts","webpack://sonic-app/./src/views/assets/list.tsx","webpack://sonic-app/./src/views/assets/withdraw.tsx","webpack://sonic-app/./src/views/index.ts","webpack://sonic-app/./src/views/liquidity/add.tsx","webpack://sonic-app/./src/views/liquidity/components/index.ts","webpack://sonic-app/./src/views/liquidity/components/paired-user-lp-token.tsx","webpack://sonic-app/./src/views/liquidity/components/remove-liquidity-modal-asset.tsx","webpack://sonic-app/./src/views/liquidity/components/remove-liquidity-modal.tsx","webpack://sonic-app/./src/views/liquidity/index.ts","webpack://sonic-app/./src/views/liquidity/liquidity.utils.ts","webpack://sonic-app/./src/views/liquidity/list.tsx","webpack://sonic-app/./src/views/swap/components/chain-popover.tsx","webpack://sonic-app/./src/views/swap/components/exchange-box.tsx","webpack://sonic-app/./src/views/swap/components/index.ts","webpack://sonic-app/./src/views/swap/components/keep-in-sonic-box.tsx","webpack://sonic-app/./src/views/swap/components/topmenu.tsx","webpack://sonic-app/./src/views/swap/hooks/index.ts","webpack://sonic-app/./src/views/swap/hooks/use-swap-view-data.tsx","webpack://sonic-app/./src/views/swap/index.ts","webpack://sonic-app/./src/views/swap/mint.tsx","webpack://sonic-app/./src/views/swap/swap.tsx","webpack://sonic-app/./src/views/swap/swap.utils.ts","webpack://sonic-app/./src/views/test/index.ts","webpack://sonic-app/./src/views/test/test.tsx","webpack://sonic-app/./src/views/test/test2.tsx","webpack://sonic-app/./src/views/test/todos.tsx","webpack://sonic-app/./src/views/test/useFetch.ts"],"sourcesContent":["import { ActorAdapter, Default } from '@memecake/sonic-js';\r\nimport { BrowserRouter, Navigate, Route, Routes } from 'react-router-dom';\r\n\r\nimport { NotificationManager } from '@/notifications';\r\nimport { ActivityListView, AssetsDepositView, AssetsListView, AssetsWithdrawView, LiquidityAddView, LiquidityListView, SwapView , MintView } from '@/views';\r\n\r\nimport { TestView , TestViewt1 , TestViewt2}  from '@/views';\r\n\r\nimport { Layout } from './components';\r\nimport {\r\n  AddLiquidityFailModal, AddLiquidityProgressModal, AllowanceVerifyModal, DepositProgressModal, MintManualModal, MintWICPFailModal,\r\n  MintWICPProgressModal, MintXTCFailModal, MintXTCProgressModal, RemoveLiquidityFailModal, RemoveLiquidityProgressModal, SwapFailModal,\r\n  SwapProgressModal, TermsAndConditionsModal, TokenSelectModal, WithdrawProgressModal, WithdrawWICPFailModal, WithdrawWICPProgressModal,\r\n  AppUpdatedModal\r\n} from './components/modals';\r\n\r\nimport { ENV } from './config';\r\nimport { useNetworkErrorNotifications, useTokenLogosFetcherInit, } from './hooks';\r\nimport { useBlockHeightsInit } from './hooks/use-block-heights-init';\r\n\r\nimport { usePlugInit } from './integrations/plug';\r\nimport { useCyclesMintingCanisterInit, useLiquidityViewInit, usePriceInit, useSwapCanisterInit } from './store';\r\n\r\nimport {loadsupportedTokenList} from '@/utils'\r\n\r\nActorAdapter.DEFAULT_HOST = ENV.host;\r\nDefault.ENV = process.env.NODE_ENV || 'production';\r\nDefault.IC_HOST = ENV.host;\r\n\r\nexport const App = () => {\r\n  useCyclesMintingCanisterInit();\r\n  usePlugInit();\r\n  usePriceInit();\r\n  useSwapCanisterInit();\r\n  useLiquidityViewInit();\r\n  useBlockHeightsInit();\r\n  useTokenLogosFetcherInit();\r\n  useNetworkErrorNotifications();\r\n  loadsupportedTokenList();\r\n  return (\r\n    <BrowserRouter basename=\"/\">\r\n      <Layout>\r\n        <NotificationManager />\r\n\r\n        <TermsAndConditionsModal />\r\n        <TokenSelectModal />\r\n        <AllowanceVerifyModal />\r\n        <MintManualModal />\r\n\r\n        <SwapProgressModal />\r\n        <SwapFailModal />\r\n\r\n        <WithdrawProgressModal />\r\n\r\n        <DepositProgressModal />\r\n\r\n        <AddLiquidityProgressModal />\r\n        <AddLiquidityFailModal />\r\n\r\n        <RemoveLiquidityProgressModal />\r\n        <RemoveLiquidityFailModal />\r\n\r\n        <WithdrawWICPProgressModal />\r\n        <WithdrawWICPFailModal />\r\n\r\n        <MintXTCProgressModal />\r\n        <MintXTCFailModal />\r\n\r\n        <MintWICPProgressModal />\r\n        <MintWICPFailModal />\r\n\r\n        <Routes>\r\n          <Route path=\"/swap\" element={<SwapView />} />\r\n          <Route path=\"/swap/mint\" element={<MintView />} />\r\n          <Route path=\"/assets\" element={<AssetsListView />} />\r\n          <Route path=\"/assets/withdraw\" element={<AssetsWithdrawView />} />\r\n          <Route path=\"/assets/deposit\" element={<AssetsDepositView />} />\r\n          <Route path=\"/liquidity\" element={<LiquidityListView />} />\r\n          <Route path=\"/liquidity/add\" element={<LiquidityAddView />} />\r\n          <Route path=\"/activity\" element={<ActivityListView />} />\r\n          <Route path=\"/test\" element={<TestView />} />\r\n          <Route path=\"/test/t1\" element={<TestViewt1 />} />\r\n          <Route path=\"/test/t2\" element={<TestViewt2 />} />\r\n          <Route path=\"*\" element={<Navigate to=\"/swap\" />} />\r\n        </Routes>\r\n        <AppUpdatedModal isNotiOpen={true}/>\r\n      </Layout>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n","import { deserialize, serialize } from '@memecake/sonic-js';\r\nimport axios from 'axios';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nexport class AnalyticsApi {\r\n  public axios;\r\n  constructor() {\r\n    this.axios = axios.create({\r\n      baseURL: ENV.analyticsHost,\r\n      method: 'post',\r\n      transformRequest: (data) => serialize(data),\r\n      transformResponse: (data) => deserialize(data),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n  }\r\n\r\n  async request<T = any>(data: AnalyticsApi.GraphqlQuery): Promise<T> {\r\n    return (await this.axios.request({ data: data })).data.data;\r\n  }\r\n\r\n  async queryUserLPMetrics(\r\n    principalId: string,\r\n    pairId?: string\r\n  ): Promise<AnalyticsApi.PositionMetrics> {\r\n    const response = await this.request<AnalyticsApi.UserLPMetricsQuery>({\r\n      operationName: null,\r\n      query: `\r\n            query {\r\n              user(id: \"${principalId}\") {\r\n                positionMetrics${pairId ? `(pairId: \"${pairId}\")` : ''} {\r\n                  impLoss,\r\n                  fees\r\n                }\r\n              }\r\n            }\r\n            `,\r\n      variables: {},\r\n    });\r\n\r\n    return response?.user?.positionMetrics;\r\n  }\r\n}\r\n\r\nexport namespace AnalyticsApi {\r\n  export interface GraphqlQuery {\r\n    operationName: string | null;\r\n    query: string;\r\n    variables: any;\r\n  }\r\n\r\n  export interface PositionMetrics {\r\n    impLoss: string;\r\n    fees: string;\r\n  }\r\n\r\n  export interface UserLPMetricsQuery {\r\n    user: {\r\n      positionMetrics: PositionMetrics;\r\n    };\r\n  }\r\n}\r\n","export * from './rosetta';\r\nexport * from './analytics';\r\n","/**\r\n * @file RosettaApi\r\n * @copyright Copyright (c) 2018-2021 Dylan Miller and dfinityexplorer contributors\r\n * @license MIT License\r\n */\r\n\r\nimport axios from 'axios';\r\nimport BigNumber from 'bignumber.js';\r\nimport jsonBigint from 'json-bigint';\r\n\r\n// Set useNativeBigInt to true and use BigInt once BigInt is widely supported.\r\nconst JSONbig = jsonBigint({ strict: true });\r\n\r\n/**\r\n * Types of Rosetta API errors.\r\n */\r\nexport const RosettaErrorType = Object.freeze({\r\n  NotFound: 0,\r\n  Timeout: 1,\r\n  NetworkError: 2,\r\n});\r\n\r\n/**\r\n * Describes the cause of a Rosetta API error.\r\n */\r\nexport class RosettaError extends Error {\r\n  /**\r\n   * Create a RosettaError.\r\n   * @param {String} message An error message describing the error.\r\n   * @param {Number} status number The HTTP response status.\r\n   */\r\n  public errorType;\r\n  constructor(message: string, status?: number | string) {\r\n    super(message);\r\n    switch (status) {\r\n      case 408:\r\n        this.errorType = RosettaErrorType.Timeout;\r\n        break;\r\n      case 500:\r\n        this.errorType = RosettaErrorType.NotFound;\r\n        break;\r\n      default:\r\n        this.errorType = RosettaErrorType.NetworkError;\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Contains information about a transaction.\r\n */\r\nexport class Transaction {\r\n  /**\r\n   * Create a Transaction.\r\n   * @param {Any} rosettaTransaction The Rosetta Transaction object of the transaction.\r\n   * @param {Number} blockIndex The index.tsx of the block containing the transaction.\r\n   * milliseconds since the Unix Epoch.\r\n   */\r\n  public blockIndex;\r\n  public hash;\r\n  public timestamp;\r\n  public type;\r\n  public status;\r\n  public account1Address;\r\n  public account2Address;\r\n  public amount: BigNumber;\r\n  public fee;\r\n  public memo;\r\n\r\n  constructor(rosettaTransaction: any, blockIndex: number) {\r\n    this.blockIndex = blockIndex;\r\n    this.hash = rosettaTransaction.transaction_identifier.hash;\r\n    const timestampMs = rosettaTransaction.metadata.timestamp\r\n      .div(1000000)\r\n      .toNumber();\r\n    this.timestamp = new Date(timestampMs);\r\n    const operations = rosettaTransaction.operations;\r\n    if (operations.length >= 1) {\r\n      this.type = operations[0].type;\r\n      this.status = operations[0].status;\r\n      this.account1Address = operations[0].account.address;\r\n      this.amount = new BigNumber(operations[0].amount.value);\r\n      // Negate amount for TRANSACTION and BURN, so that they appear in the UI as positive values.\r\n      if (\r\n        (operations[0].type === 'TRANSACTION' ||\r\n          operations[0].type === 'BURN') &&\r\n        !this.amount.isZero()\r\n      ) {\r\n        this.amount = this.amount.negated();\r\n      }\r\n    } else {\r\n      this.type = '';\r\n      this.status = '';\r\n      this.account1Address = '';\r\n      this.amount = new BigNumber(0);\r\n    }\r\n    if (operations.length >= 2 && operations[1].type === 'TRANSACTION')\r\n      this.account2Address = operations[1].account.address;\r\n    else this.account2Address = '';\r\n    if (operations.length >= 3 && operations[2].type === 'FEE')\r\n      this.fee = new BigNumber(-operations[2].amount.value);\r\n    else this.fee = new BigNumber(0);\r\n    this.memo = new BigNumber(rosettaTransaction.metadata.memo);\r\n  }\r\n}\r\n\r\n/**\r\n * Manages Rosetta API calls.\r\n */\r\nexport default class RosettaApi {\r\n  /**\r\n   * Create a RosettaApi.\r\n   */\r\n  public networkIdentifier;\r\n  public axios;\r\n  constructor() {\r\n    this.axios = axios.create({\r\n      baseURL:\r\n        process.env.REACT_APP_ROSETTA_BASE_URL ||\r\n        'https://rosetta-api.internetcomputer.org/',\r\n      method: 'post',\r\n      transformRequest: (data) => JSONbig.stringify(data),\r\n      transformResponse: (data) => JSONbig.parse(data),\r\n      headers: { 'Content-Type': 'application/json;charset=utf-8' },\r\n    });\r\n\r\n    this.networkIdentifier = this.networksList().then((res) =>\r\n      res.network_identifiers.find(\r\n        (networkIdentifier: any) =>\r\n          networkIdentifier.blockchain === 'Internet Computer'\r\n      )\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Return the ICP account balance of the specified account.\r\n   * @param {string} accountAddress The account address to get the ICP balance of.\r\n   * @returns {Promise<BigNumber|RosettaError>} The ICP account balance of the specified account, or\r\n   * a RosettaError for error.\r\n   */\r\n  async getAccountBalance(accountAddress: string) {\r\n    try {\r\n      const response = await this.accountBalanceByAddress(accountAddress);\r\n      return new BigNumber(response.balances[0].value);\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : ''\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the latest block index.tsx.\r\n   * @returns {Promise<number>} The latest block index.tsx, or a RosettaError for error.\r\n   */\r\n  async getLastBlockIndex() {\r\n    try {\r\n      const response = await this.networkStatus();\r\n      return response.current_block_identifier.index;\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : ''\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction object with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Transaction|null} The Transaction object with the specified hash, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransaction(transactionHash: string) {\r\n    try {\r\n      const responseTransactions = await this.transactionsByHash(\r\n        transactionHash\r\n      );\r\n      if (responseTransactions.transactions.length === 0)\r\n        return new RosettaError('Transaction not found.', 500);\r\n\r\n      return new Transaction(\r\n        responseTransactions.transactions[0].transaction,\r\n        responseTransactions.transactions[0].block_identifier.index\r\n      );\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param limit {number} The maximum number of transactions to return in one call.\r\n   * @param maxBlockIndex {number} The block index.tsx to start at. If not specified, start at current\r\n   * block.\r\n   * @param offset {number} The offset from maxBlockIndex to start returning transactions.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactions(limit: number, maxBlockIndex: number, offset: number) {\r\n    try {\r\n      // This function can be simplified once /search/transactions supports using the properties\r\n      // max_block, offset, and limit.\r\n      let blockIndex;\r\n      if (maxBlockIndex) blockIndex = maxBlockIndex;\r\n      else {\r\n        // Get the latest block index.tsx.\r\n        const response = await this.networkStatus();\r\n        blockIndex = response.current_block_identifier.index;\r\n      }\r\n      if (offset) blockIndex = Math.max(blockIndex - offset, -1);\r\n      const transactionCount = Math.min(limit, blockIndex + 1);\r\n      const transactions = [];\r\n      for (let i = 0; i < transactionCount; i++)\r\n        transactions.push(await this.getTransactionByBlock(blockIndex - i));\r\n      return transactions;\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return an array of Transaction objects based on the specified parameters, or an empty array if\r\n   * none found.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<Array<Transaction>|null>} An array of Transaction objects, or a RosettaError\r\n   * for error.\r\n   */\r\n  async getTransactionsByAccount(accountAddress: string) {\r\n    try {\r\n      const response = await this.transactionsByAccount(accountAddress);\r\n      const transactions = await Promise.all(\r\n        response.transactions.map((blockTransaction: any) => {\r\n          return new Transaction(\r\n            blockTransaction.transaction,\r\n            blockTransaction.block_identifier.index\r\n          );\r\n        })\r\n      );\r\n      return transactions.reverse();\r\n    } catch (error: any) {\r\n      return new RosettaError(\r\n        error.message,\r\n        axios.isAxiosError(error) ? error?.response?.status : undefined\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Return the Transaction corresponding to the specified block index.tsx (i.e., block height).\r\n   * @param {number} blockIndex The index.tsx of the block to return the Transaction for.\r\n   * @returns {Promise<Transaction>} The Transaction corresponding to the specified block index.tsx.\r\n   * @private\r\n   */\r\n  async getTransactionByBlock(blockIndex: number) {\r\n    const response = await this.blockByIndex(blockIndex);\r\n    return new Transaction(response.block.transactions[0], blockIndex);\r\n  }\r\n\r\n  /**\r\n   * Perform the specified http request and return the response data.\r\n   * @param {string} url The server URL that will be used for the request.\r\n   * @param {object} data The data to be sent as the request body.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async request(url: string, data: any) {\r\n    return (await this.axios.request({ url: url, data: data })).data;\r\n  }\r\n\r\n  /**\r\n   * Return the /network/list response, containing a list of NetworkIdentifiers that the Rosetta\r\n   * server supports.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  networksList() {\r\n    return this.request('/network/list', {});\r\n  }\r\n\r\n  /**\r\n   * Return /network/status response, describing the current status of the network.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async networkStatus() {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/network/status', {\r\n      network_identifier: networkIdentifier,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /account/balance response for the specified account.\r\n   * @param {string} accountAddress The account address to get the balance of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async accountBalanceByAddress(accountAddress: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/account/balance', {\r\n      network_identifier: networkIdentifier,\r\n      account_identifier: { address: accountAddress },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /block response for the block corresponding to the specified block index.tsx (i.e.,\r\n   * block height).\r\n   * @param {number} blockIndex The index.tsx of the block to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async blockByIndex(blockIndex: number) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/block', {\r\n      network_identifier: networkIdentifier,\r\n      block_identifier: { index: blockIndex },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions containing an operation that affects\r\n   * the specified account.\r\n   * @param {string} accountAddress The account address to get the transactions of.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByAccount(accountAddress: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/search/transactions', {\r\n      network_identifier: networkIdentifier,\r\n      account_identifier: { address: accountAddress },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Return the /search/transactions response for transactions (only one) with the specified hash.\r\n   * @param {string} transactionHash The hash of the transaction to return.\r\n   * @returns {Promise<any>} The response body that was provided by the server.\r\n   * @private\r\n   */\r\n  async transactionsByHash(transactionHash: string) {\r\n    const networkIdentifier = await this.networkIdentifier;\r\n    return this.request('/search/transactions', {\r\n      network_identifier: networkIdentifier,\r\n      transaction_identifier: { hash: transactionHash },\r\n    });\r\n  }\r\n}\r\n","export { default as arrowBackSrc } from './arrow-back.svg';\r\nexport { default as arrowDownSrc } from './arrow-down.svg';\r\nexport { default as closeSrc } from './close.svg';\r\nexport { default as checkSrc } from './check.svg';\r\nexport { default as checkPlainSrc } from './check-plain.svg';\r\nexport { default as depositSrc } from './deposit.svg';\r\nexport { default as dropSrc } from './drop.svg';\r\nexport { default as doubleRightChevronSrc } from './double-right-chevron.svg';\r\nexport { default as equalSrc } from './equal.svg';\r\nexport { default as icpSrc } from './icp.svg';\r\nexport { default as greenCheckSrc } from './green-check.svg';\r\nexport { default as logoSrc } from './logo.png';\r\nexport { default as plugCircleSrc } from './plug-circle.svg';\r\nexport { default as plusSrc } from './plus.svg';\r\nexport { default as questionMarkSrc } from './question-mark.svg';\r\nexport { default as redWarningSrc } from './red-warning.svg';\r\nexport { default as redTriangleWarningSrc } from './red-triangle-warning.svg';\r\nexport { default as searchSrc } from './search.svg';\r\nexport { default as sonicCircleSrc } from './sonic-circle.svg';\r\nexport { default as swapSrc } from './swap.svg';\r\nexport { default as transparentGreenCheckSrc } from './transparent-green-check.svg';\r\nexport { default as withdrawSrc } from './withdraw.svg';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  Flex,\r\n  FlexProps,\r\n  Heading,\r\n  IconButton,\r\n  IconButtonProps,\r\n  Skeleton,\r\n  SkeletonCircle,\r\n  Text,\r\n  Tooltip,\r\n  TooltipProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { createContext } from '@chakra-ui/react-utils';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nimport { LPImageBlock, SwapImageBlock, TokenImageBlock } from '..';\r\n\r\nexport type AssetType = 'swap' | 'lp' | 'token';\r\n\r\nexport type AssetUniqueProps = {\r\n  type?: AssetType;\r\n  imageSources?: string[];\r\n  isLoading?: boolean;\r\n};\r\n\r\nexport type AssetProps = FlexProps & AssetUniqueProps;\r\n\r\nconst [AssetProvider, useAssetContext] = createContext<AssetUniqueProps>({\r\n  name: 'CardContext',\r\n  errorMessage:\r\n    'useCardContext: `context` is undefined. Seems you forgot to wrap all card components within `<Card />`',\r\n});\r\n\r\nexport const Asset = ({\r\n  type,\r\n  imageSources = [questionMarkSrc],\r\n  isLoading = false,\r\n  ...props\r\n}: AssetProps) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <AssetProvider value={{ isLoading, type, imageSources }}>\r\n      <Flex\r\n        position=\"relative\"\r\n        direction=\"row\"\r\n        borderRadius=\"xl\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        bg={bg}\r\n        shadow={shadow}\r\n        px={5}\r\n        py={4}\r\n        flexWrap=\"wrap\"\r\n        gap={2}\r\n        {...props}\r\n      />\r\n    </AssetProvider>\r\n  );\r\n};\r\n\r\ntype AssetIconButtonProps = IconButtonProps & {\r\n  tooltipProps?: Partial<TooltipProps>;\r\n};\r\n\r\nexport const AssetIconButton = ({\r\n  'aria-label': ariaLabel,\r\n  tooltipProps,\r\n  ...props\r\n}: AssetIconButtonProps) => {\r\n  const { isLoading } = useAssetContext();\r\n\r\n  return (\r\n    <SkeletonCircle h={10} w={10} minW=\"fit-content\" isLoaded={!isLoading}>\r\n      <Tooltip label={ariaLabel} {...tooltipProps}>\r\n        <IconButton\r\n          isRound\r\n          aria-label={ariaLabel}\r\n          variant=\"outline\"\r\n          {...props}\r\n        />\r\n      </Tooltip>\r\n    </SkeletonCircle>\r\n  );\r\n};\r\n\r\ntype AssetTitleBlockProps = BoxProps & {\r\n  title: string;\r\n  subtitle?: string;\r\n};\r\n\r\nexport const AssetTitleBlock = ({\r\n  title,\r\n  subtitle,\r\n  ...props\r\n}: AssetTitleBlockProps) => {\r\n  const { isLoading } = useAssetContext();\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const subtitleColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <Box ml={4} {...props}>\r\n      <Skeleton\r\n        isLoaded={!isLoading}\r\n        mb={isLoading ? 2 : 0}\r\n        width={isLoading ? 60 : 'unset'}\r\n      >\r\n        <Heading as=\"h3\" fontSize=\"lg\" fontWeight={700} color={color}>\r\n          {title}\r\n        </Heading>\r\n      </Skeleton>\r\n      <Skeleton isLoaded={!isLoading} width={isLoading ? 40 : 'unset'}>\r\n        <Tooltip label={subtitle} openDelay={1000}>\r\n          <Text\r\n            fontSize=\"sm\"\r\n            color={subtitleColor}\r\n            textOverflow=\"ellipsis\"\r\n            whiteSpace=\"nowrap\"\r\n            overflow=\"hidden\"\r\n            maxW=\"100%\"\r\n          >\r\n            {subtitle}\r\n          </Text>\r\n        </Tooltip>\r\n      </Skeleton>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport const AssetImageBlock = () => {\r\n  const {\r\n    type = 'token',\r\n    imageSources = [questionMarkSrc, questionMarkSrc],\r\n    isLoading,\r\n  } = useAssetContext();\r\n\r\n  const views = {\r\n    swap: <SwapImageBlock imageSources={imageSources} isLoading={isLoading} />,\r\n    lp: <LPImageBlock imageSources={imageSources} isLoading={isLoading} />,\r\n    token: <TokenImageBlock src={imageSources[0]} isLoading={isLoading} />,\r\n  };\r\n\r\n  return views[type] ?? null;\r\n};\r\n","export * from './asset';\r\n","import { Fade, Flex, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { MouseEvent } from 'react';\r\n\r\nimport { checkPlainSrc } from '@/assets';\r\n\r\ntype CheckboxProps = {\r\n  checked: boolean;\r\n  onClick: (event: MouseEvent<HTMLDivElement>) => any;\r\n};\r\n\r\nexport const Checkbox = ({ checked, onClick }: CheckboxProps) => {\r\n  const borderColor = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Flex\r\n      cursor=\"pointer\"\r\n      borderRadius={1.5}\r\n      width={6}\r\n      height={6}\r\n      onClick={onClick}\r\n      border={checked ? 'none' : '1.5px solid'}\r\n      borderColor={borderColor}\r\n      bg={checked ? 'dark-blue.400' : ''}\r\n      alignItems=\"center\"\r\n      justifyContent=\"center\"\r\n    >\r\n      <Fade in={checked}>\r\n        <Image src={checkPlainSrc} width={4} height={4} />\r\n      </Fade>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './check-box';\r\n","import { forwardRef, keyframes,Text,TextProps,Tooltip,\r\n} from '@chakra-ui/react';\r\n\r\nimport { formatAmount, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nexport type DisplayValueProps = TextProps & {\r\n  isUpdating?: boolean;\r\n  value?: number | string;\r\n  decimals?: number;\r\n  prefix?: string;\r\n  suffix?: string;\r\n  disableTooltip?: boolean;\r\n  shouldDivideByDecimals?: boolean;\r\n};\r\n\r\nexport const DisplayValue = forwardRef<DisplayValueProps, 'p'>((\r\n    { \r\n      value = 0,decimals = 4, isUpdating, prefix, suffix,disableTooltip,\r\n      shouldDivideByDecimals, ...textProps},ref\r\n  ) => {\r\n    const blinker = keyframes`50% { opacity: 0.35;}`;\r\n\r\n    const [formattedValue, tooltipAmount, isDisabled] = useMemo(() => {\r\n      const tooltipAmount = shouldDivideByDecimals\r\n        ? toBigNumber(value).applyDecimals(decimals).toString()\r\n        : toBigNumber(value).dp(decimals).toString();\r\n\r\n      const formattedValue = formatAmount(tooltipAmount);\r\n      \r\n      return [formattedValue, tooltipAmount, disableTooltip || String(tooltipAmount).length <= 4,];\r\n    }, [value, decimals, disableTooltip, shouldDivideByDecimals]);\r\n  \r\n    return (\r\n      <Tooltip label={tooltipAmount} isDisabled={isDisabled}>\r\n        <Text ref={ref} {...textProps} animation={isUpdating ? `${blinker} 1s linear infinite` : undefined}>\r\n          {prefix}\r\n          {formattedValue}\r\n          {suffix}\r\n        </Text>\r\n      </Tooltip>\r\n    );\r\n  }\r\n);\r\n","export * from './display-value';\r\n","import { chakra, forwardRef } from '@chakra-ui/system';\r\nimport React from 'react';\r\n\r\nexport type EmojiProps = {\r\n  label: string;\r\n  children: string;\r\n};\r\n\r\nexport const Emoji: React.FC<EmojiProps> = forwardRef<EmojiProps, 'svg'>(\r\n  ({ children, label }, ref) => {\r\n    return (\r\n      <chakra.span\r\n        ref={ref}\r\n        role=\"img\"\r\n        aria-label={label}\r\n        title={label}\r\n        fontSize=\"md\"\r\n        ml={1}\r\n        mt={0.5}\r\n        transform=\"scale(1)\"\r\n      >\r\n        {children}\r\n      </chakra.span>\r\n    );\r\n  }\r\n);\r\n","export * from './emoji';\r\n","import { Flex, Text } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport React, { useMemo } from 'react';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport type FeeBoxProps = {\r\n  token?: AppTokenMetadata;\r\n  isDeposit?: boolean;\r\n};\r\n\r\nexport const FeeBox: React.FC<FeeBoxProps> = ({ isDeposit = false, token }) => {\r\n  const fee = useMemo(() => {\r\n    if (token) {\r\n      return toBigNumber(BigInt(isDeposit ? 2 : 1) * token.fee)\r\n        .applyDecimals(token.decimals)\r\n        .toString();\r\n    }\r\n  }, [isDeposit, token]);\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Flex opacity={0.5} alignItems=\"center\" px={4} fontWeight={400} mb={5}>\r\n      <Text display=\"flex\" alignItems=\"center\">\r\n        {isDeposit ? 'Plug' : 'Sonic'}&nbsp;\r\n        <FaArrowRight />\r\n        &nbsp;{isDeposit ? 'Sonic' : 'Plug'}\r\n      </Text>\r\n      <Text flex={1} textAlign=\"right\" mx={2}>\r\n        {token.symbol}&nbsp;Fee =&nbsp;\r\n        {fee}\r\n        &nbsp;{token.symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './fee-box';\r\nexport * from './index';\r\n","import { useColorModeValue } from '@chakra-ui/color-mode';\r\nimport { Box, Flex } from '@chakra-ui/react';\r\nimport { FC, HTMLAttributes } from 'react';\r\n\r\ntype GradientBoxProps = HTMLAttributes<HTMLDivElement> & {\r\n  size?: 'sm' | 'md' | 'lg';\r\n};\r\n\r\n/*\r\n   _before={{\r\ncontent: '\"\"',\r\nposition: 'absolute',\r\ntop: 0,\r\nright: 0,\r\nbottom: 0,\r\nleft: 0,\r\nmargin: '-4px',\r\nborderRadius: 'inherit',\r\nzIndex: 'hide',\r\nbackground:\r\n'linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)',\r\n}}\r\n */\r\n\r\nexport const GradientBox: FC<GradientBoxProps> = ({\r\n  size = 'md',\r\n  children,\r\n  ...props\r\n}: GradientBoxProps) => {\r\n  const bg = useColorModeValue('gray.100', 'gray.800');\r\n\r\n  const boxProps = {\r\n    sm: {\r\n      w: '4',\r\n      h: '4',\r\n    },\r\n    md: {\r\n      w: '6',\r\n      h: '6',\r\n    },\r\n    lg: {\r\n      w: '8',\r\n      h: '8',\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Flex\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      borderRadius=\"full\"\r\n      background={bg}\r\n      pt={-1}\r\n      {...boxProps[size]}\r\n    >\r\n      <Box\r\n        position=\"absolute\"\r\n        bg=\"linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)\"\r\n        width={7}\r\n        height={7}\r\n        borderRadius=\"full\"\r\n      />\r\n      <Box\r\n        position=\"absolute\"\r\n        bg=\"gray.900\"\r\n        height={6}\r\n        width={6}\r\n        borderRadius=\"full\"\r\n      />\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './gradient-box';\r\n","import {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Flex,\r\n  Spinner,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React, { useState } from 'react';\r\n\r\nimport { useHeaderResizeEffect } from '@/hooks';\r\n\r\ntype HeaderProps = {\r\n  title: string;\r\n  buttonText?: string;\r\n  onButtonClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n  isUpdating?: boolean;\r\n};\r\n\r\nexport const Header: React.FC<HeaderProps> = ({\r\n  title,\r\n  buttonText,\r\n  onButtonClick,\r\n  isUpdating,\r\n  children,\r\n}) => {\r\n  const [top, setTop] = useState('116px');\r\n  const paddingToLine = buttonText && onButtonClick ? '17px' : '24px';\r\n  const marginTop = buttonText && onButtonClick ? '-8px' : '0px';\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const backgroundColor = useColorModeValue('app.background.body.light', 'app.background.body.dark');\r\n\r\n  useHeaderResizeEffect((element) => {\r\n    setTop(`${element.clientHeight - 1}px`);\r\n  });\r\n\r\n  return (\r\n    <Flex\r\n      position=\"sticky\"\r\n      top={top}\r\n      pt={5}\r\n      mt={-10}\r\n      mb={5}\r\n      backgroundColor={backgroundColor}\r\n      transition=\"background-color 200ms\"\r\n      zIndex={1}\r\n      flexDirection=\"column\"\r\n    >\r\n      {children}\r\n      <Flex\r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"center\"\r\n        pb={paddingToLine}\r\n        mt={marginTop}\r\n      >\r\n        <Box as=\"h3\" fontWeight={700} color={color}>\r\n          {title}\r\n          {isUpdating && <Spinner width={3} height={3} mx={3} />}\r\n        </Box>\r\n        {buttonText && onButtonClick && (\r\n          <Button\r\n            variant=\"gradient\"\r\n            colorScheme=\"dark-blue\"\r\n            onClick={onButtonClick}\r\n          >\r\n            {buttonText}\r\n          </Button>\r\n        )}\r\n      </Flex>\r\n      <Divider />\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './header';\r\n","export * from './lp-image-block';\r\nexport * from './swap-image-block';\r\nexport * from './token-image-block';\r\n","import { Box, Image, SkeletonCircle } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type LPImageBlockProps = {\r\n  size?: 'sm' | 'md' | 'lg';\r\n  isLoading?: boolean;\r\n  imageSources?: (string | undefined)[];\r\n};\r\n\r\nexport const LPImageBlock: React.FC<LPImageBlockProps> = ({\r\n  size = 'md',\r\n  isLoading,\r\n  imageSources = [questionMarkSrc, questionMarkSrc],\r\n}) => {\r\n  const boxSize = {\r\n    lg: 10,\r\n    md: 9,\r\n    sm: 8,\r\n  };\r\n\r\n  const skeletonSize = {\r\n    lg: 7,\r\n    md: 6,\r\n    sm: 5,\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      width={boxSize[size]}\r\n      height={boxSize[size]}\r\n      position=\"relative\"\r\n      minW=\"fit-content\"\r\n    >\r\n      <SkeletonCircle\r\n        h={skeletonSize[size]}\r\n        w={skeletonSize[size]}\r\n        isLoaded={!isLoading}\r\n      >\r\n        <Image\r\n          alt=\"token0\"\r\n          position=\"absolute\"\r\n          width={skeletonSize[size]}\r\n          height={skeletonSize[size]}\r\n          top={0}\r\n          left={0}\r\n          src={imageSources[0]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n      <SkeletonCircle\r\n        h={skeletonSize[size]}\r\n        w={skeletonSize[size]}\r\n        isLoaded={!isLoading}\r\n      >\r\n        <Image\r\n          alt=\"token1\"\r\n          position=\"absolute\"\r\n          width={skeletonSize[size]}\r\n          height={skeletonSize[size]}\r\n          bottom={0}\r\n          right={0}\r\n          src={imageSources[1]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n    </Box>\r\n  );\r\n};\r\n","import { Box, Image, SkeletonCircle, Text } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type SwapImageBlockProps = {\r\n  isLoading?: boolean;\r\n  imageSources?: string[];\r\n};\r\n\r\nexport const SwapImageBlock: React.FC<SwapImageBlockProps> = ({\r\n  isLoading,\r\n  imageSources = [questionMarkSrc, questionMarkSrc],\r\n}) => {\r\n  return (\r\n    <Box width={10} height={10} position=\"relative\" minW=\"fit-content\">\r\n      <SkeletonCircle h={6} w={6} isLoaded={!isLoading}>\r\n        <Image\r\n          alt=\"token from\"\r\n          position=\"absolute\"\r\n          width={6}\r\n          height={6}\r\n          top={0}\r\n          left={0}\r\n          src={imageSources[0]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n      <Text>&#x21AA;</Text>\r\n      <SkeletonCircle h={6} w={6} isLoaded={!isLoading}>\r\n        <Image\r\n          alt=\"token to\"\r\n          position=\"absolute\"\r\n          width={6}\r\n          height={6}\r\n          bottom={0}\r\n          right={0}\r\n          src={imageSources[1]}\r\n          borderRadius=\"full\"\r\n        />\r\n      </SkeletonCircle>\r\n    </Box>\r\n  );\r\n};\r\n","import { Image, LayoutProps, SkeletonCircle } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nexport type TokenImageBlockProps = {\r\n  isLoading?: boolean;\r\n  src?: string | number;\r\n  size?: LayoutProps['width'];\r\n};\r\n\r\nexport const TokenImageBlock: React.FC<TokenImageBlockProps> = ({\r\n  isLoading,\r\n  src = questionMarkSrc,\r\n  size = 10,\r\n}) => {\r\n  return (\r\n    <SkeletonCircle h={size} w={size} minW={size} isLoaded={!isLoading}>\r\n      <Image\r\n        width={size}\r\n        height={size}\r\n        src={src}\r\n        borderRadius=\"full\"\r\n        alt=\"token\"\r\n      />\r\n    </SkeletonCircle>\r\n  );\r\n};\r\n","export * from './asset';\r\nexport * from './check-box';\r\nexport * from './display-value';\r\nexport * from './emoji';\r\nexport * from './gradient-box';\r\nexport * from './header';\r\nexport * from './image-block';\r\nexport * from './information-box';\r\nexport * from './logo';\r\nexport * from './logo-box';\r\nexport * from './number-input';\r\nexport * from './search-bar';\r\nexport * from './slippage-settings';\r\nexport * from './stack-line';\r\nexport * from './token';\r\nexport * from './token-balances-popover';\r\nexport * from './view-header';\r\n","export * from './information-box';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  CloseButton,\r\n  Collapse,\r\n  Flex,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { ReactNode, useState } from 'react';\r\n\r\ntype InformationBoxTypes = BoxProps & {\r\n  title: string;\r\n  children: ReactNode;\r\n  onClose?: () => void;\r\n};\r\n\r\nexport const InformationBox = ({\r\n  title,\r\n  children,\r\n  onClose,\r\n  ...props\r\n}: InformationBoxTypes) => {\r\n  const [collapse, setCollapse] = useState(true);\r\n\r\n  const handleClose = () => {\r\n    setCollapse(false);\r\n    if (onClose) {\r\n      setTimeout(onClose, 200);\r\n    }\r\n  };\r\n\r\n  const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n  const bg = useColorModeValue('dark-blue.100', 'rgba(57, 77, 231, 0.2)');\r\n\r\n  return (\r\n    <Collapse in={collapse} unmountOnExit={true}>\r\n      <Box bg={bg} pt={4} px={5} pb={5} mb={5} borderRadius=\"xl\" {...props}>\r\n        <Flex direction=\"row\" justifyContent=\"space-between\" mb={2}>\r\n          <Box as=\"h3\" fontSize=\"lg\" fontWeight=\"bold\" color={titleColor}>\r\n            {title}\r\n          </Box>\r\n          <Tooltip label=\"Close\">\r\n            <CloseButton size=\"sm\" variant=\"rounded\" onClick={handleClose} />\r\n          </Tooltip>\r\n        </Flex>\r\n        {children}\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n","export * from './logo-box';\r\n","import { Stack, Text } from '@chakra-ui/layout';\r\nimport { useColorModeValue , Link} from '@chakra-ui/react';\r\nimport { Logo } from '../logo';\r\n\r\nexport const LogoBox = () => {\r\n  const stackBg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Link href={'/'} style={{ textDecoration: \"none\" , boxShadow:'none'}}>\r\n      <Stack direction=\"row\" align=\"center\" bg={stackBg} shadow={shadow} px={4} h=\"12\" borderRadius=\"full\" userSelect=\"none\">\r\n        <Logo w=\"5\" h=\"7\" />\r\n      <Text fontWeight=\"bold\">Sonic</Text>\r\n    </Stack>\r\n    </Link>\r\n  );\r\n};\r\n","export * from './logo';\r\n","import Icon, { IconProps } from '@chakra-ui/icon';\r\nimport { forwardRef } from '@chakra-ui/system';\r\n\r\nexport const Logo = forwardRef<IconProps, 'svg'>((props, ref) => {\r\n  return (\r\n    <Icon\r\n      ref={ref}\r\n      viewBox=\"0 0 438 576\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      {...props}\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M340.824 535.768C379.219 518.987 437.117 439.772 437.117 390.054C437.117 334.21 407.602 288.94 371.194 288.94C336.932 288.94 308.153 330.958 304.881 382.453C288.283 381.461 268.324 383.097 244.345 388.171C206.535 396.171 168.296 402.991 129.803 406.442C57.0437 412.965 7.93594 433.479 6.33618 475.073C6.33618 526.705 87.4154 575.959 191.128 575.959C250.135 575.959 304.725 559.482 340.824 535.768Z\"\r\n        fill=\"url(#paint0_linear_1_72)\"\r\n      />\r\n      <path\r\n        d=\"M431.082 399.358C409.569 446.2 276.464 399.358 180.2 358.186C85.5077 314.698 19.6274 274.889 35.963 231.091C57.4758 184.248 216.976 175.2 311.669 218.688C406.361 262.177 449.16 344.136 431.082 399.358Z\"\r\n        fill=\"#1A2A86\"\r\n      />\r\n      <path\r\n        d=\"M374.138 69.3708C384.394 119.087 320.932 132.999 188.881 160.24C87.0951 181.238 11.4238 311.976 0.761834 175.541C-3.33268 123.147 47.4486 30.0377 149.235 9.03976C251.021 -11.9582 356.187 15.0277 374.138 69.3708Z\"\r\n        fill=\"url(#paint1_linear_1_72)\"\r\n      />\r\n      <path\r\n        d=\"M255.951 276.809C249.286 301.418 186.793 340.881 120.989 323.06C55.1857 305.239 2.92729 230.251 9.59206 205.642C16.0479 181.804 66.5027 159.144 141.51 196.194C146.444 198.631 151.682 200.8 156.957 202.368C311.009 248.148 262.503 252.613 255.951 276.809Z\"\r\n        fill=\"#1A2A86\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M374.111 69.1391C375.404 75.4067 375.55 81.1086 374.56 86.3413C361.134 50.7476 312.018 27.5309 248.718 24.1348C154.337 19.0713 117.36 51.9478 112.384 95.654C112.384 128.443 144.403 163.36 194.809 176.264L278.252 207.049C289.844 210.552 300.928 214.662 311.24 219.398C386.125 253.789 428.402 312.354 433.588 362.536C435.224 371.361 436.1 380.68 436.1 390.314C436.1 449.085 381.215 513.798 344.208 533.277C308.222 558.327 251.683 576 190.377 576C86.6639 576 6.58354 527.417 6.58354 476.113C6.58354 470.345 7.55766 464.978 9.43422 459.995C9.36668 461.02 9.33263 462.05 9.33263 463.084C9.33263 511.079 82.6754 549.986 173.148 549.986C263.621 549.986 336.964 511.079 336.964 463.084C336.964 430.639 303.448 402.347 253.78 387.42C253.796 387.418 253.811 387.415 253.826 387.412C228.596 378.279 203.431 368.097 180.388 358.242C122.201 331.519 74.9448 306.192 51.1264 280.465C31.8405 261.447 17.9268 240.196 12.507 224.111C7.14857 214.388 3.44721 198.782 1.58671 175.445C-2.63373 122.508 47.833 28.5814 149.407 7.62722C250.981 -13.327 356.05 14.1987 374.111 69.1391Z\"\r\n        fill=\"url(#paint2_linear_1_72)\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M374.111 69.1392C375.404 75.4068 375.55 81.1088 374.56 86.3414C361.135 50.7477 312.018 27.531 248.718 24.135C154.337 19.0715 117.36 51.948 112.384 95.6541C112.384 128.443 144.403 163.36 194.809 176.265L278.252 207.049C289.844 210.552 300.928 214.662 311.24 219.398C386.125 253.789 428.403 312.354 433.589 362.536C435.224 371.361 436.1 380.68 436.1 390.315C436.1 449.085 381.215 513.798 344.208 533.277C308.222 558.327 251.683 576 190.377 576C86.6639 576 6.5836 527.417 6.5836 476.113C6.5836 470.345 7.55772 464.978 9.43428 459.995C9.36674 461.02 9.33269 462.05 9.33269 463.084C9.33269 511.079 82.6754 549.986 173.148 549.986C263.621 549.986 336.964 511.079 336.964 463.084C336.964 430.639 303.448 402.348 253.78 387.42C253.796 387.418 253.811 387.415 253.826 387.412C228.596 378.279 203.431 368.097 180.388 358.242C122.201 331.519 74.9449 306.192 51.1265 280.465C31.8406 261.447 17.9268 240.196 12.5071 224.111C7.14864 214.388 3.44727 198.782 1.58677 175.445C-2.63367 122.508 47.833 28.5815 149.407 7.62734C250.981 -13.3269 356.051 14.1988 374.111 69.1392Z\"\r\n        fill=\"url(#paint3_linear_1_72)\"\r\n      />\r\n      <defs>\r\n        <linearGradient\r\n          id=\"paint0_linear_1_72\"\r\n          x1=\"352.703\"\r\n          y1=\"431.619\"\r\n          x2=\"4.2183\"\r\n          y2=\"491.079\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#1A2A86\" />\r\n          <stop offset=\"1\" stopColor=\"#2C44FF\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint1_linear_1_72\"\r\n          x1=\"108.269\"\r\n          y1=\"104.295\"\r\n          x2=\"383.244\"\r\n          y2=\"74.7432\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#1A2A86\" />\r\n          <stop offset=\"1\" stopColor=\"#2B43FB\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint2_linear_1_72\"\r\n          x1=\"339.961\"\r\n          y1=\"0.605345\"\r\n          x2=\"137.188\"\r\n          y2=\"593.938\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#566AFF\" />\r\n          <stop offset=\"0.493345\" stopColor=\"#3347D1\" />\r\n          <stop offset=\"1\" stopColor=\"#566AFF\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint3_linear_1_72\"\r\n          x1=\"339.961\"\r\n          y1=\"0.605467\"\r\n          x2=\"137.189\"\r\n          y2=\"593.938\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#566AFF\" />\r\n          <stop offset=\"0.493345\" stopColor=\"#3347D1\" />\r\n          <stop offset=\"1\" stopColor=\"#566AFF\" />\r\n        </linearGradient>\r\n      </defs>\r\n    </Icon>\r\n  );\r\n});\r\n","export * from './lp-breakdown-popover-item';\r\nexport * from './lp-breakdown-popover';\r\n","import { Flex, HStack, Image, Text } from '@chakra-ui/react';\r\nimport { FC } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\nimport { LPBreakdown } from '.';\r\n\r\ntype LPBreakdownPopoverItemProps = LPBreakdown;\r\n\r\nexport const LPBreakdownPopoverItem: FC<LPBreakdownPopoverItemProps> = ({\r\n  src = questionMarkSrc,\r\n  balance,\r\n  symbol,\r\n}) => {\r\n  return (\r\n    <Flex justify=\"space-between\" pb={3} _last={{ pb: 0 }}>\r\n      <HStack flex={0} minWidth=\"fit-content\">\r\n        <Image src={src} boxSize={4} alt={`${symbol} logo`} />\r\n        <Text>{symbol}</Text>\r\n      </HStack>\r\n      <Text>\r\n        {balance}&nbsp;{symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverHeader,\r\n  PopoverTrigger,\r\n} from '@chakra-ui/popover';\r\nimport { Heading, useColorModeValue } from '@chakra-ui/react';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { LPBreakdownPopoverItem } from './lp-breakdown-popover-item';\r\n\r\nexport type LPBreakdown = {\r\n  symbol: string;\r\n  decimals: number;\r\n  balance?: string;\r\n  src?: string;\r\n};\r\n\r\ntype LPBreakdownPopoverProps = {\r\n  sources?: LPBreakdown[];\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport const LPBreakdownPopover: FC<LPBreakdownPopoverProps> = ({\r\n  sources = [],\r\n  children,\r\n}) => {\r\n  const filteredSources = useMemo(\r\n    () =>\r\n      sources.filter((source) => source.balance && Number(source.balance) > 0),\r\n    [sources]\r\n  );\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  if (filteredSources.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>{children}</PopoverTrigger>\r\n      <PopoverContent color={color}>\r\n        <PopoverArrow />\r\n        <PopoverHeader>\r\n          <Heading as=\"h3\" size=\"sm\">\r\n            LP Breakdown\r\n          </Heading>\r\n        </PopoverHeader>\r\n        <PopoverBody>\r\n          {filteredSources.map((source) => (\r\n            <LPBreakdownPopoverItem key={source.symbol} {...source} />\r\n          ))}\r\n        </PopoverBody>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n","export * from './number-input';\r\n","import {\r\n  forwardRef,\r\n  Input,\r\n  InputProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { ChangeEvent } from 'react';\r\n\r\nexport type NumberInputProps = InputProps & {\r\n  setValue?: (value: string) => void;\r\n  placeholder?: string;\r\n};\r\n\r\nexport const NumberInput = forwardRef<NumberInputProps, 'input'>(\r\n  ({ placeholder = '0.00', onChange, setValue, ...props }, ref) => {\r\n    const handleValueChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n      const value = event.target.value;\r\n\r\n      if(value == '.' ) setValue?setValue('0.'):false;\r\n\r\n      if (isNaN(Number(value))) return;\r\n\r\n      if (onChange) {\r\n        onChange(event);\r\n      }\r\n\r\n      if (setValue) {\r\n        setValue(value);\r\n      }\r\n    };\r\n\r\n    const color = useColorModeValue('gray.500', 'gray.300');\r\n\r\n    return (\r\n      <Input\r\n        ref={ref}\r\n        variant=\"unstyled\"\r\n        type=\"text\"\r\n        textAlign=\"right\"\r\n        fontSize=\"3xl\"\r\n        fontWeight={700}\r\n        backgroundColor=\"transparent\"\r\n        color={color}\r\n        outline=\"none\"\r\n        transition=\"color 400ms\"\r\n        placeholder={placeholder}\r\n        _placeholder={{ color: color }}\r\n        {...props}\r\n        onChange={handleValueChange}\r\n      />\r\n    );\r\n  }\r\n);\r\n","export * from './search-bar';\r\n","import { Box, Flex, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { ChangeEvent } from 'react';\r\n\r\nimport { searchSrc } from '@/assets';\r\n\r\ntype SearchBarProps = {\r\n  search: string;\r\n  setSearch: (arg0: string) => any;\r\n};\r\n\r\nexport const SearchBar = ({ search, setSearch }: SearchBarProps) => {\r\n  const handleSearchChange = (event: ChangeEvent<HTMLInputElement>) => {\r\n    const inputValue = event.target.value;\r\n\r\n    setSearch(inputValue);\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.3');\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Flex\r\n      boxSizing=\"border-box\"\r\n      px={4}\r\n      bg={bg}\r\n      shadow={shadow}\r\n      w=\"100%\"\r\n      h={10}\r\n      borderRadius={12}\r\n    >\r\n      <Image src={searchSrc} alt=\"search\" w={4} mr={3} />\r\n      <Box\r\n        as=\"input\"\r\n        value={search}\r\n        bg={bg}\r\n        border=\"none\"\r\n        w=\"100%\"\r\n        color={color}\r\n        outline=\"none\"\r\n        fontWeight={400}\r\n        placeholder=\"Search by name or canister id\"\r\n        onChange={handleSearchChange}\r\n        _placeholder={{\r\n          color: 'custom.1',\r\n        }}\r\n      />\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './slippage-settings';\r\n","import {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Flex,\r\n  HStack,\r\n  Icon,\r\n  InputGroup,\r\n  InputRightElement,\r\n  Stack,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaExclamationTriangle } from '@react-icons/all-files/fa/FaExclamationTriangle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { NumberInput } from '@/components';\r\n\r\ntype SlippageSettingsProps = {\r\n  slippage: string;\r\n  isAutoSlippage: boolean;\r\n  setSlippage: (slippage: string) => any;\r\n  setIsAutoSlippage: (isAutoSlippage: boolean) => any;\r\n};\r\n\r\nexport const SlippageSettings = ({\r\n  slippage,\r\n  setSlippage,\r\n  isAutoSlippage,\r\n  setIsAutoSlippage,\r\n}: SlippageSettingsProps) => {\r\n  const inputBorderColorDisabled = useColorModeValue('gray.200', 'custom.4');\r\n  const inputBorderColorEnabled = 'dark-blue.500';\r\n  const inputBorderColor = isAutoSlippage\r\n    ? inputBorderColorDisabled\r\n    : inputBorderColorEnabled;\r\n\r\n  const inputColorDisabled = useColorModeValue('gray.400', 'custom.1');\r\n  const inputColorEnabled = useColorModeValue('gray.800', 'gray.50');\r\n  const inputColor = isAutoSlippage ? inputColorDisabled : inputColorEnabled;\r\n\r\n  const yellowColor = useColorModeValue('yellow.600', 'yellow.500');\r\n  const redColor = useColorModeValue('red.600', 'red.500');\r\n  const messageColor = Number(slippage) > 50 ? redColor : yellowColor;\r\n\r\n  const handleInputClick = () => {\r\n    if (isAutoSlippage) setIsAutoSlippage(false);\r\n  };\r\n\r\n  const handleButtonClick = () => {\r\n    if (!isAutoSlippage) setIsAutoSlippage(true);\r\n  };\r\n\r\n  const handleChange = (value: string) => {\r\n    setIsAutoSlippage(false);\r\n    const num = Number(value);\r\n    if (num < 0) {\r\n      setSlippage('0');\r\n    } else {\r\n      setSlippage(value.replace(/^0+/, '').replace(/^\\./, '0.') || '0');\r\n    }\r\n  };\r\n\r\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    setSlippage(String(Number(e.target.value)));\r\n  };\r\n\r\n  const warningMessage = useMemo(() => {\r\n    if (Number(slippage) > 50) {\r\n      setIsAutoSlippage(true);\r\n      return 'Enter a valid slippage percentage (default: 0.5%)';\r\n    }\r\n\r\n    if (Number(slippage) > 5) {\r\n      return 'Your slippage tolerance is set very high, the received amount of tokens may reduced because of it. Consider reducing it.';\r\n    }\r\n\r\n    if (Number(slippage) < 0.25) {\r\n      return 'Your slippage tolerance is set very low, the transaction may fail.';\r\n    }\r\n  }, [slippage]);\r\n\r\n  return (\r\n    <Stack zIndex=\"popover\" px={5} pt={3} pb={3}>\r\n      <Box as=\"h1\" textAlign=\"left\" fontSize=\"1rem\" w=\"100%\">\r\n        Transaction Settings\r\n      </Box>\r\n      <Divider />\r\n      <Box as=\"p\" fontSize=\"0.875rem\" textAlign=\"left\" fontWeight={400}>\r\n        Slippage tolerance\r\n      </Box>\r\n      <Flex direction=\"row\" alignItems=\"center\">\r\n        <Button\r\n          variant={isAutoSlippage ? 'gradient' : 'outline'}\r\n          colorScheme=\"dark-blue\"\r\n          borderRadius=\"full\"\r\n          onClick={handleButtonClick}\r\n          mr={3}\r\n        >\r\n          Auto\r\n        </Button>\r\n        <InputGroup color={inputColor} fontWeight={600}>\r\n          <NumberInput\r\n            opacity={1}\r\n            color={inputColor}\r\n            borderColor={inputBorderColor}\r\n            borderStyle=\"solid\"\r\n            borderWidth=\"1px\"\r\n            borderRadius=\"full\"\r\n            value={slippage}\r\n            setValue={handleChange}\r\n            onClick={handleInputClick}\r\n            onBlur={handleBlur}\r\n            pr={8}\r\n            pl={2.5}\r\n            pt={2.5}\r\n            pb={2}\r\n            fontSize=\"sm\"\r\n          />\r\n          <InputRightElement fontSize=\"sm\">%</InputRightElement>\r\n        </InputGroup>\r\n      </Flex>\r\n      {warningMessage && (\r\n        <HStack textAlign=\"left\" color={messageColor} maxW=\"320px\" spacing={4}>\r\n          <Icon as={FaExclamationTriangle} height={6} width={6} />\r\n          <Text fontWeight=\"normal\" fontSize=\"sm\">\r\n            {warningMessage}\r\n          </Text>\r\n        </HStack>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","export * from './stack-line';\r\n","import { Flex, StackItem, Text } from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nexport type StackLineProps = {\r\n  title: string;\r\n  value: React.ReactNode;\r\n};\r\n\r\nexport const StackLine: React.FC<StackLineProps> = ({ value, title }) => {\r\n  return (\r\n    <StackItem>\r\n      <Flex>\r\n        <Text>{title}</Text>\r\n        <Text ml={2} flex={1} textAlign=\"right\">\r\n          {value}\r\n        </Text>\r\n      </Flex>\r\n    </StackItem>\r\n  );\r\n};\r\n","export * from './token-balances-popover-item';\r\nexport * from './token-balances-popover';\r\n","import { Flex, HStack, Image, Text } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\ntype TokenBalancesPopoverItemProps = {\r\n  src?: string;\r\n  name?: string;\r\n  balance?: number;\r\n  symbol?: string;\r\n  decimals?: number;\r\n};\r\n\r\nexport const TokenBalancesPopoverItem: FC<TokenBalancesPopoverItemProps> = ({\r\n  src = questionMarkSrc, symbol,balance,decimals,name}) => {\r\n    \r\n  const _balance = useMemo(() =>\r\n      toBigNumber(balance ?? 0).applyDecimals(decimals ?? 0).toString(),\r\n    [balance, decimals]\r\n  );\r\n\r\n  return (\r\n    <Flex justify=\"space-between\" pb={3} _last={{ pb: 0 }}>\r\n      <HStack flex={0} minWidth=\"fit-content\">\r\n        <Image src={src} boxSize={4} alt={`${symbol} logo`} />\r\n        <Text>{name}</Text>\r\n      </HStack>\r\n      <Text textAlign=\"right\" flex={1}>\r\n        {_balance} {symbol}\r\n      </Text>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Popover, PopoverArrow, PopoverBody, PopoverContent, PopoverHeader, PopoverTrigger } from '@chakra-ui/popover';\r\n\r\nimport { Heading, HStack, Image, useColorModeValue } from '@chakra-ui/react';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { TokenSource } from '@/components';\r\n\r\nimport { TokenBalancesPopoverItem } from './token-balances-popover-item';\r\n\r\ntype TokenBalancesPopoverProps = {\r\n  symbol?: string;\r\n  decimals?: number;\r\n  sources?: TokenSource[];\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport const TokenBalancesPopover: FC<TokenBalancesPopoverProps> = ({\r\n  symbol, decimals, sources = [], children }) => {\r\n\r\n  const filteredSources = useMemo(\r\n    () => sources.filter((source) => source.balance && source.balance > 0),\r\n    [sources]\r\n  );\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  if (filteredSources.length === 0) { return null; }\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>\r\n        {children || (\r\n          <HStack spacing={1}>\r\n            {filteredSources.map((source) => (\r\n              <Image key={source?.src} src={source?.src} alt={source.name} />\r\n            ))}\r\n          </HStack>\r\n        )}\r\n      </PopoverTrigger>\r\n      <div>\r\n        <PopoverContent color={color}>\r\n          <PopoverArrow />\r\n          <PopoverHeader>\r\n            <Heading as=\"h3\" size=\"sm\"> Balance Breakdown</Heading>\r\n          </PopoverHeader>\r\n          <PopoverBody>\r\n            {filteredSources.map((source) => (\r\n              <TokenBalancesPopoverItem key={source.name} decimals={decimals} symbol={symbol} {...source} />\r\n            ))}\r\n          </PopoverBody>\r\n        </PopoverContent>\r\n      </div>\r\n\r\n    </Popover>\r\n  );\r\n};\r\n","export * from './token';\r\nexport * from './tokenCreditinfo';\r\n","import {\r\n  Box,\r\n  BoxProps,\r\n  Button,\r\n  ButtonProps,\r\n  Flex,\r\n  FlexProps,\r\n  forwardRef,\r\n  HStack,\r\n  Icon,\r\n  Image,\r\n  ImageProps,\r\n  Skeleton,\r\n  Text,\r\n  TextProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { createContext } from '@chakra-ui/react-utils';\r\nimport { Price } from '@memecake/sonic-js';\r\nimport { FaChevronDown } from '@react-icons/all-files/fa/FaChevronDown';\r\nimport React, { useCallback, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { NumberInput } from '@/components';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { getMaxValue } from '@/utils/format';\r\n\r\nimport { DisplayValue, NumberInputProps } from '..';\r\nimport { TokenBalancesPopover } from '../token-balances-popover';\r\n\r\n// === Core ===\r\n\r\nexport type TokenUniqueProps = {\r\n  value?: string;\r\n  tokenMetadata?: AppTokenMetadata;\r\n  tokenListMetadata?: AppTokenMetadata[];\r\n  sources?: TokenSource[];\r\n  setValue?: (value: string) => unknown;\r\n  isDisabled?: boolean;\r\n  isLoading?: boolean;\r\n  shouldGlow?: boolean;\r\n};\r\n\r\nexport type TokenProps = TokenUniqueProps & {\r\n  htmlProps?: BoxProps;\r\n};\r\n\r\nconst [TokenProvider, useTokenContext] = createContext<TokenUniqueProps>({\r\n  name: 'TokenContext',\r\n  errorMessage:\r\n    'useTokenContext: `context` is undefined. Seems you forgot to wrap all card components within `<Card />`',\r\n});\r\n\r\nexport type TokenSource = {\r\n  name: string;\r\n  src: string;\r\n  balance?: number;\r\n};\r\n\r\nexport const Token: React.FC<TokenProps> = ({\r\n  shouldGlow = false,\r\n  htmlProps,\r\n  children,\r\n  ...tokenProps\r\n}) => {\r\n  const borderGlow = useColorModeValue('dark-blue.300', 'dark-blue.500');\r\n  const borderNotGlow = useColorModeValue('gray.100', 'custom.4');\r\n  const borderColor = shouldGlow ? borderGlow : borderNotGlow;\r\n\r\n  const backgroundGlow = useColorModeValue('gray.50', 'black');\r\n  const backgroundNotGlow = useColorModeValue('gray.50', 'custom.2');\r\n  const background = shouldGlow ? backgroundGlow : backgroundNotGlow;\r\n\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <TokenProvider value={{ shouldGlow, ...tokenProps }}>\r\n      <Box\r\n        borderRadius={20}\r\n        bg={background}\r\n        border=\"1px solid\"\r\n        borderColor={borderColor}\r\n        shadow={shadow}\r\n        py={5}\r\n        px={5}\r\n        transition=\"border 400ms\"\r\n        position=\"relative\"\r\n        {...htmlProps}\r\n      >\r\n        {shouldGlow && <TokenGlow />}\r\n        {children}\r\n      </Box>\r\n    </TokenProvider>\r\n  );\r\n};\r\n\r\ntype TokenContentProps = FlexProps;\r\n\r\nexport const TokenContent: React.FC<TokenContentProps> = (props) => {\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n      mb={3}\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\n// === Details ===\r\n\r\ntype TokenDetailsButtonProps = ButtonProps;\r\n\r\nexport const TokenDetailsButton = forwardRef<TokenDetailsButtonProps, 'button'>(\r\n  ({ children, ...props }, ref) => {\r\n    const { isLoading } = useTokenContext();\r\n    return (\r\n      <Button ref={ref} borderRadius=\"full\" mr={5} minWidth=\"fit-content\" {...props} isDisabled={isLoading || props.isDisabled}>\r\n        {children}\r\n        <Icon as={FaChevronDown} ml={2.5} width={3} />\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\ntype TokenDetailsLogo = ImageProps;\r\n\r\nexport const TokenDetailsLogo: React.FC<TokenDetailsLogo> = (props) => {\r\n  const { isLoading, tokenMetadata } = useTokenContext();\r\n\r\n  const logoSrc = tokenMetadata?.logo ?? questionMarkSrc;\r\n\r\n  return (\r\n    <Skeleton\r\n      isLoaded={!isLoading}\r\n      height={5}\r\n      width={5}\r\n      borderRadius=\"full\"\r\n      mr={2}\r\n    >\r\n      <Image\r\n        width={5}\r\n        minW={5}\r\n        height={5}\r\n        minH={5}\r\n        borderRadius=\"full\"\r\n        src={logoSrc}\r\n        alt={`${tokenMetadata?.symbol} logo`}\r\n        {...props}\r\n      />\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\nexport const TokenDetailsSymbol: React.FC<TextProps> = (props) => {\r\n  const { isLoading, tokenMetadata } = useTokenContext();\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} height={5} width=\"fit-content\">\r\n      <Text\r\n        fontWeight={700}\r\n        fontSize=\"lg\"\r\n        width=\"fit-content\"\r\n        minWidth={5}\r\n        {...props}\r\n      >\r\n        {tokenMetadata?.symbol}\r\n      </Text>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Balances ===\r\n\r\nexport const TokenData = (props: FlexProps) => {\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nexport type TokenDataPriceProps = BoxProps & {\r\n  isUpdating?: boolean;\r\n  priceImpact?: string;\r\n};\r\n\r\nexport const TokenDataPrice: React.FC<TokenDataPriceProps> = ({\r\n  isUpdating,\r\n  priceImpact,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const { isLoading, value, tokenMetadata } = useTokenContext();\r\n\r\n  const isActive = useMemo(() => {\r\n    if (isLoading || parseFloat(value || '0') <= 0) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }, [isLoading, value]);\r\n\r\n  const price = useMemo(\r\n    () =>\r\n      Price.getByAmount({\r\n        amount: value,\r\n        price: tokenMetadata?.price,\r\n      }).toString(),\r\n    [tokenMetadata?.price, value]\r\n  );\r\n\r\n  const defaultColorActive = useColorModeValue('gray.800', 'gray.50');\r\n  const defaultColorInactive = useColorModeValue('gray.600', 'gray.300');\r\n  const defaultColor = isActive ? defaultColorActive : defaultColorInactive;\r\n\r\n  const color = useMemo(() => {\r\n    if (priceImpact) {\r\n      const priceImpactNumber = parseFloat(priceImpact);\r\n      const color =\r\n        priceImpactNumber > 0\r\n          ? 'green.500'\r\n          : priceImpactNumber <= 0 && priceImpactNumber >= -1\r\n            ? defaultColor\r\n            : priceImpactNumber < -1 && priceImpactNumber >= -5\r\n              ? 'yellow.500'\r\n              : 'red.500';\r\n\r\n      return color;\r\n    }\r\n\r\n    return defaultColor;\r\n  }, [priceImpact, defaultColor]);\r\n\r\n  const isPrice = useMemo(() => {\r\n    return price !== '0';\r\n  }, [price]);\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\" minWidth={5}>\r\n      <HStack\r\n        transition=\"color 400ms\"\r\n        alignItems=\"center\"\r\n        color={defaultColor}\r\n        {...props}\r\n      >\r\n        {isPrice && (\r\n          <DisplayValue isUpdating={isUpdating} value={price} prefix=\"~$\" />\r\n        )}\r\n        {priceImpact && (\r\n          <DisplayValue\r\n            isUpdating={isUpdating}\r\n            color={color}\r\n            value={priceImpact}\r\n            prefix=\"(\"\r\n            suffix=\"%)\"\r\n          />\r\n        )}\r\n        {children}\r\n      </HStack>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\nexport type TokeDataBalancesProps = FlexProps & {\r\n  isUpdating?: boolean;\r\n  onMaxClick?: () => unknown | Promise<unknown>;\r\n};\r\n\r\nexport const TokenDataBalances: React.FC<TokeDataBalancesProps> = ({\r\n  isUpdating,\r\n  onMaxClick,\r\n  ...props\r\n}) => {\r\n  const { isLoading, sources, tokenMetadata, value } = useTokenContext();\r\n\r\n  const totalTokenBalance = useMemo(\r\n    () => sources?.reduce((acc, current) => acc + (current.balance ?? 0), 0),\r\n    [sources]\r\n  );\r\n\r\n  const shouldRenderMaxButton = useMemo(() => {\r\n    if (\r\n      onMaxClick &&\r\n      totalTokenBalance &&\r\n      totalTokenBalance > 0 &&\r\n      getMaxValue(tokenMetadata, totalTokenBalance).toNumber() !== Number(value)\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }, [onMaxClick, tokenMetadata, totalTokenBalance, value]);\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\" minW={20}>\r\n      <Flex direction=\"row\" color={color} {...props}>\r\n        <HStack>\r\n          <TokenBalancesPopover\r\n            sources={sources}\r\n            decimals={tokenMetadata?.decimals}\r\n            symbol={tokenMetadata?.symbol}\r\n          />\r\n\r\n          {typeof totalTokenBalance === 'number' && (\r\n            <DisplayValue\r\n              isUpdating={isUpdating}\r\n              value={totalTokenBalance}\r\n              decimals={tokenMetadata?.decimals || 0}\r\n              prefix=\"Balance: \"\r\n              suffix={tokenMetadata?.symbol && ` ${tokenMetadata?.symbol}`}\r\n              shouldDivideByDecimals\r\n            />\r\n          )}\r\n\r\n          {shouldRenderMaxButton && (\r\n            <Button variant=\"link\" onClick={onMaxClick}>\r\n              (Max)\r\n            </Button>\r\n          )}\r\n        </HStack>\r\n      </Flex>\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Input ===\r\n\r\ntype TokenInputProps = NumberInputProps;\r\n\r\nexport const TokenInput: React.FC<TokenInputProps> = (props) => {\r\n\r\n  const { isLoading, isDisabled, shouldGlow, value, setValue, tokenMetadata } = useTokenContext();\r\n  const background = shouldGlow ? 'black' : 'custom.2';\r\n\r\n  const isActive = useMemo(() => {\r\n    if (isLoading || parseFloat(value || '0') <= 0) { return false;}\r\n    return true;\r\n  }, [isLoading, value]);\r\n\r\n  const handleChange = useCallback((_value: string) => {\r\n    if (tokenMetadata && setValue) {\r\n      if (_value === '' || typeof (_value) == undefined) return setValue('');\r\n      const [nat, decimals] = _value.split('.');\r\n      let newValue = parseInt(nat) > 0 ? nat.replace(/^0+/, '') : '0';\r\n      if (_value.includes('.') && tokenMetadata.decimals > 0) { newValue += '.'; }\r\n      if (decimals) { newValue += `${decimals.slice(0, tokenMetadata.decimals)}`; }\r\n      setValue(newValue);\r\n    }\r\n  },\r\n    [tokenMetadata, setValue]\r\n  );\r\n  const activeColor = useColorModeValue('gray.800', 'gray.50');\r\n  const inactiveColor = useColorModeValue('gray.400', 'custom.1');\r\n  const color = isActive ? activeColor : inactiveColor;\r\n\r\n  return (\r\n    <Skeleton isLoaded={!isLoading} borderRadius=\"full\">\r\n      <NumberInput\r\n        isDisabled={isDisabled}\r\n        value={value}\r\n        setValue={handleChange}\r\n        color={color}\r\n        background={background}\r\n        {...props}\r\n      />\r\n    </Skeleton>\r\n  );\r\n};\r\n\r\n// === Other Internal Components ===\r\n\r\nconst TokenGlow = () => (\r\n  <Box\r\n    position=\"absolute\"\r\n    borderRadius={20}\r\n    top={0}\r\n    left={0}\r\n    width=\"100%\"\r\n    height=\"100%\"\r\n    filter=\"blur(6px)\"\r\n    zIndex={-100}\r\n    bg=\"dark-blue.500\"\r\n  />\r\n);\r\n","import { Flex,Text  } from '@chakra-ui/react';\r\nimport { useTokenTaxCheck } from '@/hooks'\r\n\r\nexport type TokenMetaProps = {\r\n    tokenSymbol?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?: string;\r\n    tokenId?: string;\r\n    pageInfo?:string;\r\n};\r\n\r\nexport const TokenDataMetaInfo: React.FC<TokenMetaProps> = ({\r\n    tokenSymbol,\r\n    tokenValue,\r\n    tokenDecimals,\r\n    tokenId,\r\n    pageInfo,\r\n}) => {\r\n    var info = useTokenTaxCheck({tokenId ,tokenSymbol, tokenDecimals, tokenValue});\r\n    let isPrice = (): number => {\r\n        return parseFloat(info.taxInfo.netValue.toFixed(3));\r\n    };\r\n    let calcPrice: number = isPrice();\r\n\r\n    return (\r\n        <Flex mt={2} className=\"\">\r\n            {calcPrice&&tokenSymbol=='YC' ? (\r\n                <Text color=\"var(--chakra-colors-gray-200)\" >\r\n                    { pageInfo == \"swap\" ? \"Swapping for after 11% \": \"Credited after 11%\" }\r\n                    <a style={{ color: 'var(--chakra-colors-blue-300)' }} target=\"_blank\" \r\n                    href=\"https://blog.cigdao.com/cigdao-decentralization-sale-6856ad618f8c\"> YC tax </a> : {calcPrice}\r\n                </Text>\r\n            ) : (\r\n                ''\r\n            )}\r\n        </Flex>\r\n    );\r\n};","export * from './view-header';\r\n","import {\r\n  Box,\r\n  Flex,\r\n  IconButton,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaArrowLeft } from '@react-icons/all-files/fa/FaArrowLeft';\r\n\r\ntype ViewHeaderProps = {\r\n  title: string;\r\n  onArrowBack?: () => void;\r\n};\r\n\r\nexport const ViewHeader: React.FC<ViewHeaderProps> = ({\r\n  title,\r\n  onArrowBack,\r\n  children,\r\n}) => {\r\n  const titleRightAdjustment = children ? 8 : 'auto';\r\n  const titleLeftAdjustment = onArrowBack ? 8 : 'auto';\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  return (\r\n    <Flex direction=\"column\">\r\n      <Flex\r\n        py={3}\r\n        px={5}\r\n        bg={bg}\r\n        shadow={shadow}\r\n        fontSize=\"lg\"\r\n        color={color}\r\n        fontWeight={700}\r\n        textAlign=\"center\"\r\n        borderTopRadius={20}\r\n        borderBottomRadius={20}\r\n        direction=\"row\"\r\n        align=\"center\"\r\n      >\r\n        {onArrowBack && (\r\n          <Tooltip label=\"Back\">\r\n            <IconButton\r\n              size=\"sm\"\r\n              isRound\r\n              onClick={onArrowBack}\r\n              variant=\"outline\"\r\n              aria-label=\"back\"\r\n              icon={<FaArrowLeft />}\r\n              mr=\"auto\"\r\n            />\r\n          </Tooltip>\r\n        )}\r\n        <Box\r\n          pr={titleLeftAdjustment}\r\n          pl={titleRightAdjustment}\r\n          w=\"100%\"\r\n          mx=\"auto\"\r\n        >\r\n          {title}\r\n        </Box>\r\n        {children}\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Flex,\r\n  Image,\r\n  keyframes,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { greenCheckSrc } from '@/assets';\r\nimport { StepStatus } from '@/components/modals';\r\n\r\nconst spin = keyframes`\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n`;\r\n\r\ntype CircleIconProps = {\r\n  status?: StepStatus;\r\n  iconSrc: string;\r\n};\r\n\r\nexport const CircleIcon = ({ status, iconSrc }: CircleIconProps) => {\r\n  const spinAnimation = `${spin} infinite 2s linear`;\r\n\r\n  const bgDark = status === StepStatus.Disabled ? 'custom.3' : 'dark-blue.500';\r\n  const bgLight = status === StepStatus.Disabled ? 'gray.200' : 'dark-blue.500';\r\n  const bg = useColorModeValue(bgLight, bgDark);\r\n\r\n  const opacity = status === StepStatus.Disabled ? 0.5 : 1;\r\n  const checkOpacity = status === StepStatus.Done ? 1 : 0;\r\n\r\n  return (\r\n    <Box\r\n      w=\"2.8125rem\"\r\n      h=\"2.8125rem\"\r\n      borderRadius=\"2.8125rem\"\r\n      position=\"relative\"\r\n      bg={bg}\r\n    >\r\n      {status === 'active' && (\r\n        <Box\r\n          w=\"2.8125rem\"\r\n          h=\"2.8125rem\"\r\n          borderRadius={45}\r\n          bg=\"dark-blue.500\"\r\n          filter=\"blur(10px)\"\r\n          position=\"absolute\"\r\n        />\r\n      )}\r\n      {status === 'active' && (\r\n        <Box\r\n          w=\"100%\"\r\n          h=\"100%\"\r\n          borderRadius=\"2.8125rem\"\r\n          zIndex={200}\r\n          border=\"2px solid #A8B2FF\"\r\n          borderTop=\"2px solid #FFFFFF\"\r\n          position=\"absolute\"\r\n          animation={spinAnimation}\r\n        />\r\n      )}\r\n      <Image\r\n        alt={'check'}\r\n        top={0}\r\n        right={0}\r\n        opacity={checkOpacity}\r\n        mt=\"-5px\"\r\n        mr=\"-3px\"\r\n        zIndex={300}\r\n        src={greenCheckSrc}\r\n        transition=\"opacity 400ms\"\r\n        position=\"absolute\"\r\n      />\r\n      <Flex\r\n        w=\"100%\"\r\n        h=\"100%\"\r\n        borderRadius=\"2.8125rem\"\r\n        zIndex={200}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        position=\"absolute\"\r\n        opacity={opacity}\r\n        transition=\"opacity 400ms\"\r\n      >\r\n        <Image w=\"1.125rem\" src={iconSrc} alt={'icon'} />\r\n      </Flex>\r\n    </Box>\r\n  );\r\n};\r\n","export * from './circle-icon';\r\n","export * from './plus';\r\nexport * from './circle-icon';\r\n","export * from './plus-icon';\r\n","import Icon, { IconProps } from '@chakra-ui/icon';\r\nimport { forwardRef } from '@chakra-ui/system';\r\n\r\nexport const PlusIcon = forwardRef<IconProps, 'svg'>((props, ref) => (\r\n  <Icon\r\n    ref={ref}\r\n    width=\"18\"\r\n    height=\"18\"\r\n    viewBox=\"0 0 18 18\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    {...props}\r\n  >\r\n    <path\r\n      d=\"M16.9062 7.9375H10.4375V1.46875C10.4375 1.10938 10.0781 0.75 9.71875 0.75H8.28125C7.87695 0.75 7.5625 1.10938 7.5625 1.46875V7.9375H1.09375C0.689453 7.9375 0.375 8.29688 0.375 8.65625V10.0938C0.375 10.498 0.689453 10.8125 1.09375 10.8125H7.5625V17.2812C7.5625 17.6855 7.87695 18 8.28125 18H9.71875C10.0781 18 10.4375 17.6855 10.4375 17.2812V10.8125H16.9062C17.2656 10.8125 17.625 10.498 17.625 10.0938V8.65625C17.625 8.29688 17.2656 7.9375 16.9062 7.9375Z\"\r\n      fill=\"dark-blue.500\"\r\n    />\r\n  </Icon>\r\n));\r\n","export * from './core';\r\nexport * from './layout';\r\nexport * from './plug';\r\nexport * from './icons';\r\nexport * from './maintenance';\r\n","export * from './layout';\r\n","export const NAVBAR_HEIGHT = '116px';\r\nexport const FOOTER_HEIGHT = '40px';\r\n\r\nconst axios = require('axios');\r\nvar links=[\r\n  { label: 'Swap', url: '/swap' },\r\n  { label: 'Liquidity', url: '/liquidity' },\r\n  { label: 'Assets', url: '/assets' },\r\n  { label: 'Activity', url: '/activity' },\r\n];\r\n\r\naxios.get('https://d10f8623toqhvo.cloudfront.net/sonic/menu.json').then((response:any) => {\r\n links = response.data;\r\n}).catch(() => {});\r\n\r\nexport const mavTabs = ()=>{return links; }","import {\r\n  chakra,\r\n  Container,\r\n  Flex,\r\n  HStack,\r\n  IconButton,\r\n  Link as ChakraLink,\r\n  Menu,\r\n  MenuButton,\r\n  MenuDivider,\r\n  MenuItem,\r\n  MenuList,\r\n  Tab,\r\n  TabList,\r\n  Tabs,\r\n  Text,\r\n  useColorMode,\r\n  useColorModeValue,\r\n  useToken,\r\n} from '@chakra-ui/react';\r\nimport { FaBook } from '@react-icons/all-files/fa/FaBook';\r\nimport { FaDiscord } from '@react-icons/all-files/fa/FaDiscord';\r\nimport { FaEllipsisH } from '@react-icons/all-files/fa/FaEllipsisH';\r\nimport { FaMedium } from '@react-icons/all-files/fa/FaMedium';\r\nimport { FaMoon } from '@react-icons/all-files/fa/FaMoon';\r\nimport { FaNetworkWired } from '@react-icons/all-files/fa/FaNetworkWired';\r\nimport { FaRedo } from '@react-icons/all-files/fa/FaRedo';\r\nimport { FaSun } from '@react-icons/all-files/fa/FaSun';\r\nimport { FaTwitter } from '@react-icons/all-files/fa/FaTwitter';\r\nimport { FiArrowUpRight } from '@react-icons/all-files/fi/FiArrowUpRight';\r\nimport React, { useMemo, useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\n\r\nimport { ENV } from '@/config';\r\nimport { useHeaderResizeEffect } from '@/hooks';\r\nimport { modalsSliceActions, useAppDispatch, usePlugStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nimport packageJSON from '@/../package.json';\r\nimport { PlugButton } from '..';\r\nimport { LogoBox } from '../core';\r\nimport { PlugMenu } from '../plug/plug-menu';\r\nimport { FOOTER_HEIGHT, mavTabs } from './layout.constants';\r\n\r\nexport const Layout: React.FC = ({ children, ...props }) => {\r\n  const { isConnected } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n  const location = useLocation();\r\n  const [headerHeight, setHeaderHeight] = useState('116px');\r\n\r\n  var navMenus = mavTabs()\r\n\r\n  const currentTabIndex = useMemo(\r\n    () =>\r\n      navMenus.findIndex(({ url }) => location.pathname.includes(url)),\r\n    [location]\r\n  );\r\n\r\n  const backgroundColor = useColorModeValue('custom.5', 'darkBlue');\r\n  const backgroundColorValue = useToken('colors', backgroundColor);\r\n\r\n  const { colorMode, toggleColorMode } = useColorMode();\r\n\r\n  const menuBg = useColorModeValue('gray.50', 'custom.2');\r\n  const menuShadow = useColorModeValue('base', 'none');\r\n\r\n  useHeaderResizeEffect((element) => {\r\n    setHeaderHeight(`${element.clientHeight}px`);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Container  maxW={['100%', 'container.xl', 'container.xl']} position=\"sticky\" top={0} zIndex={10} id=\"header\">\r\n        <Flex \r\n          zIndex=\"1000\" as=\"header\" width=\"full\" maxWidth=\"container.xl\" margin=\"auto\"\r\n          direction=\"row\" justifyContent=\"center\" alignItems=\"center\" flexWrap=\"wrap\"\r\n          gap=\"4\" p={['4', '4', '8']} position=\"sticky\" top=\"0\" bg={backgroundColor}\r\n        >\r\n          <Flex display={['none', 'none', 'none', 'flex']}   width={['0', '20%']}  alignItems=\"center\" justifyContent=\"center\">\r\n            <LogoBox />\r\n          </Flex>\r\n          <chakra.nav flex=\"1\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n            <Tabs\r\n              index={currentTabIndex}\r\n              variant=\"solid-rounded\"\r\n              colorScheme=\"dark-blue\"\r\n            >\r\n              <TabList bg={menuBg}>\r\n                {navMenus?.map(({ label, url }) => (\r\n                  <Tab  as={Link} key={label} to={url} px={6}>\r\n                    {label}\r\n                  </Tab>\r\n                ))}\r\n                <Tab\r\n                  display={['none', 'none', 'flex', 'flex']}\r\n                  as=\"a\"\r\n                  href={ExternalLink.analyticsApp}\r\n                  target={ExternalLink.analyticsApp}\r\n                  px={4}\r\n                >\r\n                  Analytics\r\n                  <FiArrowUpRight />\r\n                </Tab>\r\n              </TabList>\r\n            </Tabs>\r\n          </chakra.nav>\r\n          <Flex\r\n            direction=\"row\"\r\n            width={['fit-content', 'fit-content', '20%']}\r\n            gap=\"4\"\r\n            mr=\"-2\"\r\n            alignItems=\"center\"\r\n            justifyContent=\"flex-end\"\r\n          >\r\n            <HStack>\r\n              {isConnected ? <PlugMenu /> : <PlugButton />}\r\n              <Menu placement=\"bottom-end\">\r\n                <MenuButton as={IconButton} aria-label=\"Menu\" icon={<FaEllipsisH />} borderRadius=\"full\" bg={menuBg} shadow={menuShadow} />\r\n                <div>\r\n                  <MenuList bg={menuBg} shadow={menuShadow} borderRadius=\"xl\">\r\n                    {ENV.isDarkModeEnabled && (\r\n                      <MenuItem onClick={toggleColorMode} icon={colorMode === 'dark' ? <FaSun /> : <FaMoon />}>\r\n                        {colorMode === 'dark' ? 'Light mode' : 'Dark mode'}\r\n                      </MenuItem>\r\n                    )}\r\n                    {isConnected && (\r\n                      <MenuItem onClick={() => dispatch(modalsSliceActions.openMintManualModal())} icon={<FaRedo />}>\r\n                        Retry minting\r\n                      </MenuItem>\r\n                    )}\r\n\r\n                    <MenuDivider />\r\n                    <ChakraLink href={ExternalLink.twitter} target={ExternalLink.twitter} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaTwitter />}>Twitter</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.discord} target={ExternalLink.discord} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaDiscord />}>Discord</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.medium} target={ExternalLink.medium} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaMedium />}>Medium</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.sonicDocs} target={ExternalLink.sonicDocs} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaBook />}>Documentation</MenuItem>\r\n                    </ChakraLink>\r\n                    <ChakraLink href={ExternalLink.swapApiDocs} target={ExternalLink.swapApiDocs} rel=\"noopener noreferrer\" fontWeight=\"bold\">\r\n                      <MenuItem icon={<FaNetworkWired />}>API</MenuItem>\r\n                    </ChakraLink>\r\n                  </MenuList>\r\n                </div>\r\n              </Menu>\r\n            </HStack>\r\n          </Flex>\r\n        </Flex>\r\n      </Container>\r\n\r\n      <Container as=\"main\" maxW=\"xl\" minH={`calc(100vh - ${headerHeight} - ${FOOTER_HEIGHT})`} py=\"4\" display=\"flex\" flexDirection=\"column\" {...props}>\r\n        {children}\r\n      </Container>\r\n\r\n      <chakra.footer px=\"4\" py=\"2\" position=\"fixed\" bottom={0} left={0} right={0}\r\n        background={`linear-gradient(to bottom, transparent 0%, ${backgroundColorValue} 50%)`} pointerEvents=\"none\"\r\n      >\r\n        <Text>Sonic v{packageJSON.version}</Text>\r\n      </chakra.footer>\r\n    </>\r\n  );\r\n};\r\n","export * from './maintenance';\r\n","import { Flex, Image, Link, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { FaBook } from '@react-icons/all-files/fa/FaBook';\r\nimport { FaDiscord } from '@react-icons/all-files/fa/FaDiscord';\r\nimport { FaTwitter } from '@react-icons/all-files/fa/FaTwitter';\r\n\r\nimport { logoSrc } from '@/assets';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nexport const Maintenance = () => {\r\n  const color = useColorModeValue('gray.600', 'gray.300');\r\n\r\n  return (\r\n    <Flex\r\n      flexDirection=\"column\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      position=\"fixed\"\r\n      top={0}\r\n      left={0}\r\n      right={0}\r\n      bottom={0}\r\n    >\r\n      <Image src={logoSrc} m=\"8vh\" height=\"10vh\" />\r\n\r\n      <Flex\r\n        flex={1}\r\n        m={30}\r\n        textAlign=\"center\"\r\n        verticalAlign=\"center\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        flexDirection=\"column\"\r\n      >\r\n        <Text fontSize=\"4xl\">Maintenance</Text>\r\n        <Text fontSize=\"xl\">\r\n          Sonic App is under maintenance. We'll be back shortly.\r\n        </Text>\r\n        <Text color=\"dark-blue.500\">\r\n          <Link href={ExternalLink.twitter} target={ExternalLink.twitter}>\r\n            Checkout out more information\r\n          </Link>\r\n        </Text>\r\n      </Flex>\r\n\r\n      <Flex\r\n        m=\"5vh\"\r\n        flexDirection=\"row\"\r\n        justifyContent=\"space-around\"\r\n        alignItems=\"center\"\r\n        width={200}\r\n        color={color}\r\n      >\r\n        <Link href={ExternalLink.discord} target={ExternalLink.discord}>\r\n          <FaDiscord size={40} />\r\n        </Link>\r\n        <Link href={ExternalLink.twitter} target={ExternalLink.twitter}>\r\n          <FaTwitter size={40} />\r\n        </Link>\r\n        <Link href={ExternalLink.sonicDocs} target={ExternalLink.sonicDocs}>\r\n          <FaBook size={40} />\r\n        </Link>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const AddLiquidityFailModal = () => {\r\n  const {\r\n    isAddLiquidityFailModalOpened: isAddLiquidityFailOpened,\r\n    addLiquidityModalData: addLiquidityData,\r\n  } = useModalsStore();\r\n  const { callbacks: [addLiquidityCallback, closeCallback] = [] } =\r\n    addLiquidityData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isAddLiquidityFailOpened}\r\n      isCentered\r\n      title=\"Add Liquidity Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={addLiquidityCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Close\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, dropSrc, plusSrc } from '@/assets';\r\nimport {\r\n  AddLiquidityModalData,\r\n  AddLiquidityModalDataStep,\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const AddLiquidityProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isAddLiquidityProgressModalOpened, addLiquidityModalData } =\r\n    useModalsStore();\r\n  const {\r\n    steps,\r\n    token1Symbol,\r\n    token0Symbol,\r\n    step: activeStep,\r\n  } = addLiquidityModalData;\r\n\r\n  const getStepStatus = useStepStatus<AddLiquidityModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isAddLiquidityProgressModalOpened}\r\n      isCentered\r\n      title=\"Add LP in progress\"\r\n    >\r\n\r\n      {steps?.includes(AddLiquidityModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(AddLiquidityModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic <br /> Account\r\n\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.CreatePair) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.CreatePair)}\r\n          iconSrc={plusSrc}\r\n          chevron\r\n        >\r\n          Creating pair <br /> {token0Symbol} - {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n\r\n      {steps?.includes(AddLiquidityModalDataStep.Approve0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Approve0)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Deposit0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Deposit0)}\r\n          iconSrc={depositSrc}\r\n          chevron\r\n        >\r\n          Depositing <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Approve1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Approve1)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(AddLiquidityModalDataStep.Deposit1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(AddLiquidityModalDataStep.Deposit1)}\r\n          iconSrc={depositSrc}\r\n          chevron\r\n        >\r\n          Depositing <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n\r\n      <TransactionStep\r\n        status={getStepStatus(AddLiquidityModalDataStep.AddLiquidity)}\r\n        iconSrc={dropSrc}\r\n      >\r\n        Adding LP of <br /> {token0Symbol} + {token1Symbol}\r\n      </TransactionStep>\r\n\r\n\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Box } from '@chakra-ui/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { checkPlainSrc } from '@/assets';\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { StepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const AllowanceVerifyModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    isAllowanceVerifyModalOpened,\r\n    allowanceModalData: { tokenSymbol },\r\n  } = useModalsStore();\r\n\r\n  const _tokenSymbol = useMemo(() => {\r\n    if (!tokenSymbol) {\r\n      return ['token'];\r\n    } else if (typeof tokenSymbol === 'string') {\r\n      return [tokenSymbol];\r\n    } else {\r\n      return tokenSymbol;\r\n    }\r\n  }, [tokenSymbol]);\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isAllowanceVerifyModalOpened}\r\n      isCentered\r\n      title=\"Verifying Allowance\"\r\n    >\r\n      {_tokenSymbol.map((symbol) => (\r\n        <TransactionStep\r\n          status={StepStatus.Active}\r\n          iconSrc={checkPlainSrc}\r\n          key={symbol}\r\n        >\r\n          <Box mx={6}>\r\n            Verifying {symbol} <br /> allowance\r\n          </Box>\r\n        </TransactionStep>\r\n      ))}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import {\r\n    Flex, Heading, Modal, ModalCloseButton, ModalContent, ModalOverlay, Text, useColorModeValue\r\n} from '@chakra-ui/react';\r\nimport React, { useState, useEffect } from 'react';\r\nimport packageJSON from '@/../package.json';\r\n\r\n\r\n\r\nvar appVer = localStorage.getItem('appver');\r\ntype AppUpdatedModalProps = {\r\n    isNotiOpen: boolean;\r\n};\r\n\r\nexport const AppUpdatedModal: React.FC<AppUpdatedModalProps> = ({ isNotiOpen }) => {\r\n\r\n    const [isModelOpen, setisModelOpen] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (packageJSON.version == appVer) {\r\n            setisModelOpen(false);\r\n        }\r\n    }, [appVer])\r\n\r\n    function handleClose() {\r\n        localStorage.setItem('appver', packageJSON.version);\r\n        setisModelOpen(false);\r\n    }\r\n\r\n    const bg = useColorModeValue('gray.50', 'custom.2');\r\n    const color = useColorModeValue('gray.600', 'custom.1');\r\n    const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n    return isModelOpen ? (\r\n        <Modal isOpen={isModelOpen} isCentered onClose={handleClose}>\r\n            <ModalOverlay />\r\n            <ModalContent as={Flex} maxW=\"md\" direction=\"column\" alignItems=\"center\" bg={bg}\r\n                pt=\"37px\" px=\"37px\" pb=\"43px\" borderRadius={20}\r\n            >\r\n                <ModalCloseButton />\r\n                <Heading as=\"h2\" color={titleColor} fontWeight={700} fontSize=\"1.2rem\" mb={3}>\r\n                    UPDATE NOTIFICATION!\r\n                </Heading>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                We're excited to announce the launch of new features on SONIC, designed to improve your trading experience. \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                With the introduction of ICRC support, you can now trade and add liquidity pools for ckBTC, SNS1, and CHAT tokens. We've also implemented ICP, allowing you to trade and create LP for your favorite tokens using ICP without affecting current WICP pairs.\r\n   \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                Additionally, we've streamlined the ICP Wrapping process under the mint option for greater ease of use. \r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                By default, tokens will be kept in your sonic wallet to facilitate high-frequency trading, where even a few extra seconds matter a lot. However, during the swap,\r\n                 you can uncheck this feature if you want to withdraw directly to your web wallet.\r\n                 <a style={{color:\"#008eff\" , fontWeight:\"bold\" }} href='https://docs.sonic.ooo/product/assets#keeping-assets-in-sonic-after-a-swap' target=\"_blank\">Learn more</a>\r\n                </Text>\r\n                <Text as=\"p\" color={color} mb={2}>\r\n                    We're confident that these updates will enhance your trading efficiency on Sonic DEX. Thank you for choosing Sonic DEX!\r\n                </Text>\r\n            </ModalContent>\r\n        </Modal>\r\n    ) : <></>;\r\n};\r\n","import { Flex, Image } from '@chakra-ui/react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\n\r\ntype ImportTokenImageProps = {\r\n  logo?: string;\r\n};\r\n\r\nexport const ImportTokenImage = ({\r\n  logo = questionMarkSrc,\r\n}: ImportTokenImageProps) => {\r\n  if (logo === questionMarkSrc) {\r\n    return (\r\n      <Flex\r\n        borderRadius={26}\r\n        bg=\"gray.500\"\r\n        w={10}\r\n        h={10}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Image alt=\"logo\" w={6} h={6} src={logo} />\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  return <Image alt=\"logo\" borderRadius={26} w={10} h={10} src={logo} />;\r\n};\r\n","import {\r\n  Box,\r\n  Button,\r\n  Checkbox,\r\n  Flex,\r\n  Heading,\r\n  Image,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { useState } from 'react';\r\n\r\nimport { redTriangleWarningSrc } from '@/assets';\r\n\r\nimport { ImportTokenImage } from './import-token-image';\r\n\r\ntype ImportTokenProps = {\r\n  logo?: string;\r\n  id: string;\r\n  symbol: string;\r\n  name: string;\r\n  handleImport: (arg0?: any) => any;\r\n};\r\n\r\nexport const ImportToken = ({\r\n  logo,\r\n  id,\r\n  symbol,\r\n  name,\r\n  handleImport,\r\n}: ImportTokenProps) => {\r\n  const [understandRisk, setUnderstandRisk] = useState(false);\r\n\r\n  const bg = useColorModeValue('gray.100', 'custom.3');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Flex direction=\"column\" width=\"100%\" alignItems=\"center\">\r\n      <Heading as=\"h1\" fontWeight={700} fontSize=\"1.125rem\" mb={6}>\r\n        Import Token\r\n      </Heading>\r\n      <ImportTokenImage logo={logo} />\r\n      <Text mt={2} fontSize=\"1.125rem\" fontWeight={700} color=\"gray.50\">\r\n        {symbol}\r\n      </Text>\r\n      <Text color={color}>{name}</Text>\r\n      <Flex\r\n        mt={5}\r\n        mb={6}\r\n        py={3}\r\n        w=\"100%\"\r\n        bg={bg}\r\n        borderRadius={20}\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        direction=\"row\"\r\n      >\r\n        <Text color=\"gray.50\">{id}</Text>\r\n      </Flex>\r\n      <Box\r\n        position=\"relative\"\r\n        bg=\"rgba(229, 130, 121, 0.1)\"\r\n        borderRadius={20}\r\n        mb={6}\r\n        pt={4}\r\n        px={5}\r\n        pb={5}\r\n      >\r\n        <Image\r\n          alt=\"warning\"\r\n          src={redTriangleWarningSrc}\r\n          w={6}\r\n          position=\"absolute\"\r\n          top={4}\r\n          right={5}\r\n        />\r\n        <Text fontSize=\"1.125rem\" color=\"#E58279\" fontWeight={700} mb={2}>\r\n          Trade at your own risk!\r\n        </Text>\r\n        <Text color=\"gray.50\">\r\n          Swapping from ICP to WICP is not reccomended at this moment due to the\r\n          IC restriction. Swapping from WICP to ICP is only allowed on Sonic P2P\r\n          market.\r\n        </Text>\r\n      </Box>\r\n      <Checkbox\r\n        isChecked={understandRisk}\r\n        alignSelf=\"flex-start\"\r\n        onChange={(e) => setUnderstandRisk(e.target.checked)}\r\n        size=\"lg\"\r\n        color=\"gray.50\"\r\n        fontWeight={600}\r\n        mb={6}\r\n      >\r\n        I understand the risk of trading this token\r\n      </Checkbox>\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        w=\"100%\"\r\n        borderRadius={12}\r\n        fontSize=\"1.125rem\"\r\n        fontWeight={700}\r\n        onClick={handleImport}\r\n        disabled={!understandRisk}\r\n      >\r\n        Import Token\r\n      </Button>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './import-token-image';\r\nexport * from './import-token';\r\n","export * from './import-token';\r\nexport * from './transaction';\r\n","export * from './transaction-failed-modal-content';\r\nexport * from './transaction-progress-modal-content';\r\nexport * from './transaction-step';\r\nexport * from './transaction.utils';\r\n","import {\r\n  Heading,\r\n  HStack,\r\n  Modal,\r\n  ModalBody,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  ModalProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\ntype TransactionFailedModalProps = ModalProps & {\r\n  title: string;\r\n};\r\n\r\nexport const TransactionFailedModal: React.FC<TransactionFailedModalProps> = ({\r\n  title,\r\n  children,\r\n  ...modalProps\r\n}) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <Modal {...modalProps}>\r\n      <ModalOverlay />\r\n      <ModalContent textAlign=\"center\" borderRadius={20} bg={bg}>\r\n        <ModalHeader>\r\n          <Heading as=\"h2\" fontWeight={700} fontSize=\"1.375rem\">\r\n            {title}\r\n          </Heading>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <Text color={color}>Please choose an option below</Text>\r\n        </ModalBody>\r\n        <ModalFooter as={HStack}>{children}</ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Heading,\r\n  Modal,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalOverlay,\r\n  ModalProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\n\r\nexport type TransactionProgressModalProps = ModalProps & {\r\n  title: string;\r\n};\r\n\r\nexport const TransactionProgressModal: React.FC<\r\n  TransactionProgressModalProps\r\n> = ({ children, title, ...props }) => {\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  const titleColor = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  return (\r\n    <Modal {...props}>\r\n      <ModalOverlay />\r\n      <ModalContent\r\n        as={Flex}\r\n        direction=\"column\"\r\n        alignItems=\"center\"\r\n        bg={bg}\r\n        pt=\"37px\"\r\n        px=\"37px\"\r\n        pb=\"43px\"\r\n        borderRadius={20}\r\n        minWidth={['unset', 'fit-content', 'fit-content']}\r\n      >\r\n        <ModalCloseButton />\r\n        <Heading\r\n          as=\"h1\"\r\n          color={titleColor}\r\n          fontWeight={700}\r\n          fontSize=\"1.375rem\"\r\n          mb={3}\r\n        >\r\n          {title}\r\n        </Heading>\r\n        <Text as=\"p\" color={color} mb=\"2.06rem\">\r\n          Please wait some time for transactions to finish\r\n        </Text>\r\n        <Flex\r\n          direction=\"row\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"flex-start\"\r\n          flexWrap=\"wrap\"\r\n          rowGap={4}\r\n        >\r\n          {children}\r\n        </Flex>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Box, Flex, Icon, useColorModeValue } from '@chakra-ui/react';\r\nimport { FaChevronRight } from '@react-icons/all-files/fa/FaChevronRight';\r\nimport { useMemo } from 'react';\r\n\r\nimport { CircleIcon } from '@/components';\r\n\r\nimport { StepStatus } from '../..';\r\n\r\ntype TransactionStepProps = {\r\n  children: React.ReactNode;\r\n  status: StepStatus;\r\n  iconSrc: string;\r\n  chevron?: boolean;\r\n};\r\n\r\nexport const TransactionStep = ({\r\n  children,\r\n  iconSrc,\r\n  status,\r\n  chevron = false,\r\n}: TransactionStepProps) => {\r\n  const colorDisabled = useColorModeValue('gray.600', 'custom.1');\r\n  const colorEnabled = useColorModeValue('gray.800', 'white');\r\n\r\n  const { color, weight, opacity } = useMemo(() => {\r\n    if (status === StepStatus.Disabled) {\r\n      return {\r\n        color: colorDisabled,\r\n        weight: 400,\r\n        opacity: 0.4,\r\n      };\r\n    }\r\n\r\n    return {\r\n      color: colorEnabled,\r\n      weight: 600,\r\n      opacity: 1,\r\n    };\r\n  }, [colorDisabled, colorEnabled, status]);\r\n\r\n  return (\r\n    <>\r\n      <Flex\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Flex direction=\"column\" alignItems=\"center\">\r\n          <CircleIcon iconSrc={iconSrc} status={status} />\r\n          <Flex\r\n            mt={2}\r\n            as=\"h3\"\r\n            fontWeight={weight}\r\n            fontSize=\"0.875rem\"\r\n            color={color}\r\n            textAlign=\"center\"\r\n            transition=\"color 400ms\"\r\n            flex={1}\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n          >\r\n            {children}\r\n          </Flex>\r\n        </Flex>\r\n      </Flex>\r\n      {chevron && (\r\n        <Box>\r\n          <Icon\r\n            as={FaChevronRight}\r\n            my={4}\r\n            mx={2}\r\n            opacity={opacity}\r\n            transition=\"opacity 400ms\"\r\n          />\r\n        </Box>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","export enum TransactionType {}\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const DepositFailModal = () => {\r\n  const { isDepositFailModalOpened, depositModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = depositModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeDepositFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isDepositFailModalOpened}\r\n      isCentered\r\n      title=\"Deposit Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc } from '@/assets';\r\nimport {\r\n  DepositModalData, DepositModalDataStep, modalsSliceActions,\r\n  useAppDispatch, useModalsStore\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const DepositProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isDepositProgressModalOpened, depositModalData } = useModalsStore();\r\n  const { steps, tokenSymbol, step: activeStep } = depositModalData;\r\n\r\n  const getStepStatus = useStepStatus<DepositModalData['step']>({ activeStep, steps });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeDepositProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal onClose={handleClose}\r\n      isOpen={isDepositProgressModalOpened} isCentered title=\"Deposit in progress\">\r\n      {steps?.includes(DepositModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(DepositModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic {tokenSymbol}  <br /> Account\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(DepositModalDataStep.Approve) && (\r\n        <TransactionStep status={getStepStatus(DepositModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Approving <br /> {tokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep status={getStepStatus(DepositModalDataStep.Deposit)} iconSrc={depositSrc}>\r\n        Depositing <br /> {tokenSymbol}\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","export * from './add-liquidity-fail-modal';\r\nexport * from './add-liquidity-progress-modal';\r\nexport * from './allowance-verify-modal';\r\nexport * from './components';\r\nexport * from './deposit-fail-modal';\r\nexport * from './deposit-progress-modal';\r\nexport * from './mint-manual-modal';\r\nexport * from './mint-wicp-fail-modal';\r\nexport * from './mint-wicp-progress-modal';\r\nexport * from './mint-xtc-fail-modal';\r\nexport * from './mint-xtc-progress-modal';\r\nexport * from './remove-liquidity-fail-modal';\r\nexport * from './remove-liquidity-progress-modal';\r\nexport * from './swap-fail-modal';\r\nexport * from './swap-progress-modal';\r\nexport * from './terms-and-conditions-modal';\r\nexport * from './token-select-modal';\r\nexport * from './use-step-status';\r\nexport * from './withdraw-progress-modal';\r\nexport * from './withdraw-wicp-fail-modal';\r\nexport * from './withdraw-wicp-progress-modal';\r\nexport * from './app-Updated';","import {\r\n  Button,\r\n  FormControl,\r\n  FormErrorMessage,\r\n  FormHelperText,\r\n  FormLabel,\r\n  HStack,\r\n  Input,\r\n  Link as ChakraLink,\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  Select,\r\n  Stack,\r\n  Text,\r\n  useColorModeValue,\r\n  useConst,\r\n} from '@chakra-ui/react';\r\nimport { FaRedoAlt } from '@react-icons/all-files/fa/FaRedoAlt';\r\nimport {\r\n  ChangeEvent,\r\n  FormEvent,\r\n  KeyboardEvent,\r\n  useCallback,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { checkIfPlugProviderVersionCompatible } from '@/integrations/plug';\r\nimport {\r\n  MintTokenSymbol,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  useNotificationStore,\r\n} from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nimport { PLUG_WALLET_WEBSITE_URL } from '..';\r\n\r\nexport const MintManualModal = () => {\r\n  const TOKEN_OPTIONS = useConst([\r\n    {\r\n      label: MintTokenSymbol.WICP,\r\n      value: MintTokenSymbol.WICP,\r\n    },\r\n    {\r\n      label: MintTokenSymbol.XTC,\r\n      value: MintTokenSymbol.XTC,\r\n    },\r\n  ]);\r\n  const color = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const {\r\n    mintManualModalOpened,\r\n    mintManualBlockHeight,\r\n    mintManualTokenSymbol,\r\n    mintManualModalErrorMessage,\r\n  } = useModalsStore();\r\n  const { addNotification } = useNotificationStore();\r\n\r\n  const [blockHeightErrorMessage, setBlockHeightErrorMessage] = useState<\r\n    string | undefined\r\n  >(undefined);\r\n  const [tokenErrorMessage, setTokenErrorMessage] = useState<\r\n    string | undefined\r\n  >(undefined);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleMint = useCallback(\r\n    (tokenSymbol: MintTokenSymbol) => {\r\n      const isVersionCompatible = checkIfPlugProviderVersionCompatible();\r\n\r\n      if (!isVersionCompatible) {\r\n        addNotification({\r\n          title: (\r\n            <>\r\n              You're using an outdated version of Plug, please update to the\r\n              latest one&nbsp;\r\n              <ChakraLink\r\n                color=\"blue.400\"\r\n                href={PLUG_WALLET_WEBSITE_URL}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                here\r\n              </ChakraLink>\r\n              .\r\n            </>\r\n          ),\r\n          type: NotificationType.Error,\r\n          id: String(new Date().getTime()),\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      addNotification({\r\n        title: `Minting ${tokenSymbol}`,\r\n        type: NotificationType.MintManual,\r\n        id: String(new Date().getTime()),\r\n      });\r\n    },\r\n    [addNotification]\r\n  );\r\n\r\n  const resetModalData = () => {\r\n    dispatch(modalsSliceActions.setMintManualModalErrorMessage(''));\r\n    setBlockHeightErrorMessage(undefined);\r\n    setTokenErrorMessage(undefined);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetModalData();\r\n    dispatch(modalsSliceActions.closeMintManualModal());\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>) => {\r\n    resetModalData();\r\n    e.preventDefault();\r\n\r\n    if (!mintManualBlockHeight || !mintManualTokenSymbol) {\r\n      if (!mintManualBlockHeight) {\r\n        setBlockHeightErrorMessage('Block Height is required');\r\n      }\r\n      if (!mintManualTokenSymbol) {\r\n        setTokenErrorMessage('Token is required');\r\n      }\r\n      return;\r\n    }\r\n\r\n    handleMint(mintManualTokenSymbol);\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n\r\n  const { activityTabURL, learnMoreURL } = useMemo(() => {\r\n    return {\r\n      activityTabURL: '/activity',\r\n      learnMoreURL: ExternalLink.failedMintDocs,\r\n    };\r\n  }, []);\r\n\r\n  const handleBlockHeightChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    dispatch(modalsSliceActions.setMintManualBlockHeight(e.target.value));\r\n  };\r\n\r\n  const handleTokenSymbolSelect = (e: ChangeEvent<HTMLSelectElement>) => {\r\n    dispatch(\r\n      modalsSliceActions.setMintManualTokenSymbol(\r\n        e.target.value as MintTokenSymbol\r\n      )\r\n    );\r\n  };\r\n\r\n  const blockInvalidBlockHeightChar = (e: KeyboardEvent<HTMLInputElement>) =>\r\n    ['e', 'E', '+', '-'].includes(e.key) && e.preventDefault();\r\n\r\n  return (\r\n    <Modal isOpen={mintManualModalOpened} onClose={handleClose} isCentered>\r\n      <ModalOverlay />\r\n      <ModalContent as=\"form\" onSubmit={handleSubmit} noValidate>\r\n        <ModalCloseButton />\r\n        <ModalHeader borderBottom=\"none\">\r\n          Retry minting{' '}\r\n          <Text textAlign=\"center\" fontSize=\"sm\" color={color}>\r\n            Use this form to retry any of your failed mints.\r\n          </Text>\r\n        </ModalHeader>\r\n        <ModalBody as={Stack} spacing={4}>\r\n          <FormControl isRequired isInvalid={Boolean(tokenErrorMessage)}>\r\n            <FormLabel>Token</FormLabel>\r\n            <Select\r\n              name=\"token\"\r\n              value={mintManualTokenSymbol}\r\n              onChange={handleTokenSymbolSelect}\r\n            >\r\n              {TOKEN_OPTIONS.map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n            <FormErrorMessage>{tokenErrorMessage}</FormErrorMessage>\r\n          </FormControl>\r\n\r\n          <FormControl isRequired isInvalid={Boolean(blockHeightErrorMessage)}>\r\n            <FormLabel>Transaction Block Height</FormLabel>\r\n\r\n            <Input\r\n              name=\"blockHeight\"\r\n              value={mintManualBlockHeight}\r\n              onKeyDown={blockInvalidBlockHeightChar}\r\n              onChange={handleBlockHeightChange}\r\n              placeholder=\"2021024\"\r\n              type=\"number\"\r\n            />\r\n\r\n            <FormErrorMessage>{blockHeightErrorMessage}</FormErrorMessage>\r\n            <FormHelperText>\r\n              Visit your&nbsp;\r\n              <ChakraLink\r\n                as={Link}\r\n                color={linkColor}\r\n                to={activityTabURL}\r\n                onClick={handleClose}\r\n              >\r\n                activity tab\r\n              </ChakraLink>\r\n              &nbsp;to find your failed transactions blockheight. Learn more\r\n              about failed mints&nbsp;\r\n              <ChakraLink\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                color={linkColor}\r\n                href={learnMoreURL}\r\n              >\r\n                here\r\n              </ChakraLink>\r\n              .\r\n            </FormHelperText>\r\n          </FormControl>\r\n          {mintManualModalErrorMessage && (\r\n            <Text textAlign=\"center\" fontSize=\"sm\" color=\"red.500\">\r\n              {mintManualModalErrorMessage}\r\n            </Text>\r\n          )}\r\n        </ModalBody>\r\n        <ModalFooter as={HStack}>\r\n          <Button\r\n            leftIcon={<FaRedoAlt />}\r\n            isFullWidth\r\n            type=\"submit\"\r\n            variant=\"gradient\"\r\n            colorScheme=\"dark-blue\"\r\n          >\r\n            Retry\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const MintWICPFailModal = () => {\r\n  const { isMintWICPFailModalOpened, mintWICPModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = mintWICPModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeMintWICPFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isMintWICPFailModalOpened}\r\n      isCentered\r\n      title=\"ICP Wrapping Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  MintModalData,\r\n  MintModalDataStep,\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const MintWICPProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isMintWICPProgressModalOpened, mintWICPModalData } = useModalsStore();\r\n  const { steps, step: activeStep } = mintWICPModalData;\r\n  const getStepStatus = useStepStatus<MintModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isMintWICPProgressModalOpened}\r\n      isCentered\r\n      title=\"ICP wrapping in progress\"\r\n    >\r\n      {steps?.includes(MintModalDataStep.LedgerTransfer) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.LedgerTransfer)}\r\n          iconSrc={withdrawSrc}\r\n          chevron\r\n        >\r\n          Ledger Transfer <br />\r\n          ICP\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep\r\n        status={getStepStatus(MintModalDataStep.Mint)}\r\n        iconSrc={swapSrc}\r\n        chevron={\r\n          steps?.includes(MintModalDataStep.Approve) ||\r\n          steps?.includes(MintModalDataStep.Deposit)\r\n        }\r\n      >\r\n        Minting <br /> WICP\r\n      </TransactionStep>\r\n      {steps?.includes(MintModalDataStep.Approve) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(MintModalDataStep.Deposit) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Deposit)}\r\n          iconSrc={depositSrc}\r\n        >\r\n          Depositing <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const MintXTCFailModal = () => {\r\n  const {\r\n    isMintXTCFailModalOpened: isRemoveLiquidityFailOpened,\r\n    mintXTCModalData,\r\n  } = useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } = mintXTCModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeMintXTCFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityFailOpened}\r\n      isCentered\r\n      title=\"Mint XTC Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  MintModalData,\r\n  MintModalDataStep,\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const MintXTCProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isMintXTCProgressModalOpened, mintXTCModalData } = useModalsStore();\r\n  const { steps, step: activeStep } = mintXTCModalData;\r\n\r\n  const getStepStatus = useStepStatus<MintModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isMintXTCProgressModalOpened}\r\n      isCentered\r\n      title=\"Mint XTC in progress\"\r\n    >\r\n      <TransactionStep\r\n        status={getStepStatus(MintModalDataStep.LedgerTransfer)}\r\n        iconSrc={withdrawSrc}\r\n        chevron\r\n      >\r\n        Ledger Transfer <br /> ICP\r\n      </TransactionStep>\r\n      <TransactionStep\r\n        status={getStepStatus(MintModalDataStep.Mint)}\r\n        iconSrc={swapSrc}\r\n        chevron={\r\n          steps?.includes(MintModalDataStep.Approve) ||\r\n          steps?.includes(MintModalDataStep.Deposit)\r\n        }\r\n      >\r\n        Minting <br /> XTC\r\n      </TransactionStep>\r\n      {steps?.includes(MintModalDataStep.Approve) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Approve)}\r\n          iconSrc={checkPlainSrc}\r\n          chevron\r\n        >\r\n          Approving <br /> XTC\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(MintModalDataStep.Deposit) && (\r\n        <TransactionStep\r\n          status={getStepStatus(MintModalDataStep.Deposit)}\r\n          iconSrc={depositSrc}\r\n        >\r\n          Depositing <br /> XTC\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const RemoveLiquidityFailModal = () => {\r\n  const { isRemoveLiquidityFailModalOpened, removeLiquidityModalData } =\r\n    useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } =\r\n    removeLiquidityModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityFailModalOpened}\r\n      isCentered\r\n      title=\"Remove Liquidity Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Close\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { dropSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,\r\n  RemoveLiquidityModalData,\r\n  RemoveLiquidityModalDataStep,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const RemoveLiquidityProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isRemoveLiquidityProgressModalOpened, removeLiquidityModalData } =\r\n    useModalsStore();\r\n  const {\r\n    steps,\r\n    token1Symbol,\r\n    token0Symbol,\r\n    step: activeStep,\r\n  } = removeLiquidityModalData;\r\n  const getStepStatus = useStepStatus<RemoveLiquidityModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isRemoveLiquidityProgressModalOpened}\r\n      isCentered\r\n      title=\"Removing LP in progress\"\r\n    >\r\n      <TransactionStep\r\n        status={getStepStatus(RemoveLiquidityModalDataStep.RemoveLiquidity)}\r\n        iconSrc={dropSrc}\r\n        chevron={\r\n          steps?.includes(RemoveLiquidityModalDataStep.Withdraw0) ||\r\n          steps?.includes(RemoveLiquidityModalDataStep.Withdraw1)\r\n        }\r\n      >\r\n        Removing Liquidity Position of <br /> {token0Symbol} + {token1Symbol}\r\n      </TransactionStep>\r\n\r\n      {steps?.includes(RemoveLiquidityModalDataStep.Withdraw0) && (\r\n        <TransactionStep\r\n          status={getStepStatus(RemoveLiquidityModalDataStep.Withdraw0)}\r\n          iconSrc={withdrawSrc}\r\n          chevron={steps?.includes(RemoveLiquidityModalDataStep.Withdraw1)}\r\n        >\r\n          Withdrawing <br /> {token0Symbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(RemoveLiquidityModalDataStep.Withdraw1) && (\r\n        <TransactionStep\r\n          status={getStepStatus(RemoveLiquidityModalDataStep.Withdraw1)}\r\n          iconSrc={withdrawSrc}\r\n        >\r\n          Withdrawing <br /> {token1Symbol}\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const SwapFailModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isSwapFailModalOpened, swapModalData } = useModalsStore();\r\n  const { callbacks: [retryCallback, withdrawCallback, closeCallback] = [] } =\r\n    swapModalData;\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeSwapFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isSwapFailModalOpened}\r\n      isCentered\r\n      title=\"Swap Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry Swap\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={withdrawCallback}\r\n        isFullWidth\r\n      >\r\n        Withdraw to Plug\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { checkPlainSrc, depositSrc, swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions, SwapModalData, SwapModalDataStep, useAppDispatch, useModalsStore,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const SwapProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isSwapProgressModalOpened, swapModalData } = useModalsStore();\r\n  const { steps, fromTokenSymbol, toTokenSymbol, step: activeStep } = swapModalData;\r\n\r\n  const getStepStatus = useStepStatus<SwapModalData['step']>({ activeStep, steps });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeSwapProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal onClose={handleClose} isOpen={isSwapProgressModalOpened} isCentered title=\"Swap in progress\">\r\n       {steps?.includes(SwapModalDataStep.Getacnt) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Getacnt)}\r\n          iconSrc={checkPlainSrc} chevron>\r\n          Getting Sonic<br />{fromTokenSymbol} Account\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(SwapModalDataStep.Approve) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Approve)} iconSrc={checkPlainSrc} chevron>\r\n          Approving <br /> {fromTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      {steps?.includes(SwapModalDataStep.Deposit) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Deposit)} iconSrc={depositSrc} chevron>\r\n          Depositing <br /> {fromTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep status={getStepStatus(SwapModalDataStep.Swap)} iconSrc={swapSrc} chevron={steps?.includes(SwapModalDataStep.Withdraw)}>\r\n        Swapping <br /> {fromTokenSymbol} to {toTokenSymbol}\r\n      </TransactionStep>\r\n      {steps?.includes(SwapModalDataStep.Withdraw) && (\r\n        <TransactionStep status={getStepStatus(SwapModalDataStep.Withdraw)} iconSrc={withdrawSrc}>\r\n          Withdrawing <br /> {toTokenSymbol}\r\n        </TransactionStep>\r\n      )}\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  Link,\r\n  Modal,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nexport const TermsAndConditionsModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    isTermsAndConditionsModalOpened: isOpened,\r\n    termsAndConditionsModalData: {\r\n      callbacks: [successCallback, closeCallback] = [],\r\n    },\r\n  } = useModalsStore();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeTermsAndConditionsModal());\r\n  };\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Modal onClose={handleClose} isOpen={isOpened} isCentered>\r\n      <ModalOverlay />\r\n\r\n      <ModalContent\r\n        alignItems=\"center\"\r\n        borderRadius={20}\r\n        minWidth=\"fit-content\"\r\n      >\r\n        <ModalCloseButton />\r\n        <ModalHeader borderBottom=\"none\">Terms and Conditions</ModalHeader>\r\n        <Text as=\"p\" color={color} maxW={370}>\r\n          Please read &nbsp;\r\n          <Link color=\"dark-blue.600\" href={ExternalLink.termsAndConditions}>\r\n            Sonic's terms & conditions\r\n          </Link>\r\n          &nbsp;carefully.\r\n          <br />\r\n          By clicking \"I agree\" you acknowledge that you have read and accepted\r\n          them.\r\n        </Text>\r\n        <ModalFooter width=\"full\">\r\n          <Button\r\n            onClick={successCallback}\r\n            width=\"full\"\r\n            colorScheme=\"dark-blue\"\r\n            variant=\"gradient\"\r\n          >\r\n            I agree\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","import { \r\n  Box, Button,Flex,Heading,Icon,Image,Modal,ModalBody,ModalCloseButton,ModalContent,\r\n  ModalHeader,ModalOverlay,Skeleton,Stack,Text,Tooltip,useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { deserialize } from '@memecake/sonic-js';\r\nimport { FaHdd } from '@react-icons/all-files/fa/FaHdd';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\nimport { arrowBackSrc, questionMarkSrc } from '@/assets';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { FeatureState, modalsSliceActions, useAppDispatch, useModalsStore} from '@/store';\r\n\r\n// import { ExternalLink } from '@/utils';\r\n\r\nimport { DisplayValue, SearchBar } from '..';\r\nimport { ImportToken } from './components';\r\n\r\nexport const TokenSelectModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    tokenSelectModalData: tokenSelectData,\r\n    isTokenSelectModalModalOpened: isTokenSelectOpened,\r\n  } = useModalsStore();\r\n\r\n  const { tokens, onSelect, selectedTokenIds, isLoading = false, allowAddToken} = tokenSelectData; // This controls if token can be imported\r\n\r\n  const [addToken, setAddToken] = useState(false);\r\n  const [importTokenData, setImportTokenData] = useState({ name: '',symbol: '',logo: '',id: ''});\r\n\r\n  const parsedTokens = useMemo(() => deserialize(tokens), [tokens]);\r\n  const [search, setSearch] = useState('');\r\n  const [filteredList, setFilteredList] =\r\n    useState<AppTokenMetadata[]>(parsedTokens);\r\n  const { totalBalances } = useBalances();\r\n\r\n  useEffect(() => {\r\n    const filterFunction = ({ symbol, name }: Partial<AppTokenMetadata>) => {\r\n      if (search?.length === 0) {\r\n        return true;\r\n      }\r\n      const lowerSearch = search.toLowerCase();\r\n      return (\r\n        symbol?.toLowerCase().includes(lowerSearch) ||\r\n        name?.toLowerCase().includes(lowerSearch)\r\n      );\r\n    };\r\n\r\n    const filteredItems = parsedTokens.filter(filterFunction);\r\n    setFilteredList(filteredItems);\r\n  }, [search, parsedTokens]);\r\n \r\n \r\n  const handleSelect = (tokenId?: string) => {  \r\n    onSelect(tokenId);handleTokenSelectClose();\r\n  };\r\n\r\n  const handleImportToken = (tokenData: any) => {\r\n    setAddToken(true);setImportTokenData(importTokenData);\r\n  };\r\n\r\n  const importToken = () => {\r\n    // TODO: Import token integration\r\n    handleTokenSelectClose();\r\n  };\r\n\r\n  const handleTokenSelectClose = () => {\r\n    setSearch('');\r\n    dispatch(modalsSliceActions.closeTokenSelectModal());\r\n  };\r\n\r\n  const bg = useColorModeValue('white', 'custom.2');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  const emptyColor = useColorModeValue('gray.600', 'gray.300');\r\n\r\n  return (\r\n    <Modal isOpen={isTokenSelectOpened} onClose={handleTokenSelectClose} scrollBehavior=\"inside\" isCentered size=\"md\">\r\n      <ModalOverlay />\r\n      <ModalContent bg={bg}>\r\n        <ModalCloseButton zIndex=\"docked\" />\r\n        <ModalHeader>\r\n          {addToken ? (\r\n            <Box onClick={() => setAddToken(false)} position=\"absolute\" p={2} top={3}\r\n              left={4} cursor=\"pointer\" transition=\"background 400ms\" _hover={{ background: 'custom.3'}}\r\n            >\r\n              <Image src={arrowBackSrc} alt=\"Back\" />\r\n            </Box>\r\n          ) : (\r\n            <Flex w=\"100%\" direction=\"column\" alignItems=\"center\" position=\"sticky\" bg={bg} top={0}>\r\n              <Heading as=\"h1\" fontWeight={700} fontSize=\"lg\">\r\n                Select Token\r\n              </Heading>\r\n              <Box fontSize=\"md\" px=\"0.625rem\" w=\"100%\" mt={4}>\r\n                <SearchBar search={search} setSearch={setSearch} />\r\n              </Box>\r\n            </Flex>\r\n          )}\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          {addToken ? (\r\n            <div>\r\n              <ImportToken id={importTokenData?.id} symbol={importTokenData?.symbol} name={importTokenData?.name} handleImport={importToken}/>\r\n            </div>\r\n          ) : (\r\n            <Stack width=\"100%\" direction=\"column\">\r\n              {isLoading &&\r\n                [...Array(4)].map(() => <TokenSelectItemSkeleton />)}\r\n              {!isLoading && filteredList.length > 0 ? (\r\n                filteredList.map(({ id, logo, symbol, decimals, name }) => (\r\n                  <TokenSelectItem key={id} balance={totalBalances && totalBalances[id]}\r\n                    symbol={symbol} decimals={decimals} name={name} onSelect={() => handleSelect(id)} isLoading={isLoading}\r\n                    isSelected={selectedTokenIds?.includes(id)} logoSrc={logo}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <Stack color={emptyColor} alignItems=\"center\" pt={2}>\r\n                  <Icon as={FaHdd} />\r\n                  <Text textAlign=\"center\">\r\n                    Can't see your token? Request it to be added to Sonic using\r\n                    the button below.\r\n                  </Text>\r\n                </Stack>\r\n              )}\r\n\r\n              {allowAddToken && filteredList.length === 0 && (\r\n                <Flex direction=\"row\" alignItems=\"center\" py={3} px={3}\r\n                  cursor=\"pointer\" justifyContent=\"space-between\" width=\"100%\"\r\n                  transition=\"border 400ms\" border=\"1px solid transparent\" borderRadius=\"20px\"\r\n                >\r\n                  <Flex direction=\"row\" alignItems=\"center\">\r\n                    <Skeleton isLoaded={!isLoading} borderRadius={40}>\r\n                      <Image alt={importTokenData.symbol} src={importTokenData.logo}\r\n                        w={10} h={10} borderRadius={40}\r\n                      />\r\n                    </Skeleton>\r\n                    <Skeleton isLoaded={!isLoading} minWidth={4} ml={3}>\r\n                      <Text fontWeight={700} fontSize=\"1.125rem\" pl={3}>\r\n                        {importTokenData.symbol}\r\n                      </Text>\r\n                    </Skeleton>\r\n                    <Skeleton isLoaded={!isLoading} minWidth={17} ml={2}>\r\n                      <Text pl={2} color={color}>\r\n                        {importTokenData.name}\r\n                      </Text>\r\n                    </Skeleton>\r\n                  </Flex>\r\n                  <Skeleton isLoaded={!isLoading} minWidth={17} ml={2}>\r\n                    <Button width=\"fit-content\" variant=\"gradient\" colorScheme=\"dark-blue\"\r\n                      px={4} borderRadius={20} fontWeight={700} onClick={handleImportToken}\r\n                    >\r\n                      Import\r\n                    </Button>\r\n                  </Skeleton>\r\n                </Flex>\r\n              )}\r\n            </Stack>\r\n          )}\r\n        </ModalBody>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\ntype TokenSelectItemProps = Partial<{\r\n  balance: number; onSelect: any; name: string;\r\n  symbol: string; decimals: number;isSelected: boolean;\r\n  isLoading: boolean;logoSrc: string;\r\n}>;\r\n\r\nconst TokenSelectItem = ({\r\n  balance = 0, onSelect, name = '', symbol = '', decimals = 0,isSelected = false,\r\n  isLoading = false, logoSrc = questionMarkSrc,\r\n}: TokenSelectItemProps) => {\r\n  const { balancesState } = useBalances();\r\n\r\n  const isBalancesUpdating = useMemo(() => {\r\n    return balancesState === FeatureState.Updating;\r\n  }, [balancesState]);\r\n\r\n  const nameColor = useColorModeValue('gray.700', 'gray.300');\r\n\r\n  return (\r\n    <Flex alignItems=\"center\" justifyContent=\"space-between\" py={3} px={3} cursor=\"pointer\"\r\n      width=\"100%\" transition=\"border 400ms\" border=\"1px solid\" borderColor={isSelected ? 'gray.600' : 'transparent'}\r\n      borderRadius=\"20px\" onClick={onSelect} _hover={{ borderColor: 'custom.4'}}\r\n    >\r\n      <Stack direction=\"row\" alignItems=\"center\" spacing={4}>\r\n        <Skeleton isLoaded={!isLoading}>\r\n          <Image alt={symbol} src={logoSrc} w={8} h={8} borderRadius={40} />\r\n        </Skeleton>\r\n        <Box>\r\n          <Skeleton isLoaded={!isLoading} minWidth=\"fit-content\">\r\n            <Text fontWeight={700} maxWidth=\"100%\">\r\n              {symbol}\r\n            </Text>\r\n          </Skeleton>\r\n          <Skeleton isLoaded={!isLoading} flex={1} overflow=\"hidden\">\r\n            <Tooltip label={name} openDelay={1000}>\r\n              <Text fontSize=\"sm\" color={nameColor}>\r\n                {name}\r\n              </Text>\r\n            </Tooltip>\r\n          </Skeleton>\r\n        </Box>\r\n      </Stack>\r\n      <Skeleton isLoaded={!isLoading} minWidth=\"fit-content\" ml={3}>\r\n        <DisplayValue isUpdating={isBalancesUpdating} value={balance} decimals={decimals}\r\n          fontSize=\"1.125rem\" fontWeight={700} textAlign=\"right\" shouldDivideByDecimals\r\n        />\r\n      </Skeleton>\r\n    </Flex>\r\n  );\r\n};\r\n\r\nconst TokenSelectItemSkeleton = () => (\r\n  <Flex direction=\"row\" alignItems=\"center\" py={3} px={2} cursor=\"pointer\" height={16}\r\n   justifyContent=\"space-between\" width=\"100%\" transition=\"border 400ms\" border=\"1px solid transparent\"\r\n    borderRadius={20}\r\n  >\r\n    <Flex direction=\"row\" alignItems=\"center\">\r\n      <Skeleton isLoaded={false} height={10} width={10} borderRadius={40} />\r\n      <Skeleton isLoaded={false} width={12} ml={3} height={7} />\r\n      <Skeleton isLoaded={false} width={18} height={6} ml={2} />\r\n    </Flex>\r\n    <Skeleton isLoaded={false} minWidth={18} height={6} ml={2} />\r\n  </Flex>\r\n);\r\n","import { useCallback } from 'react';\r\n\r\nexport enum StepStatus {\r\n  Active = 'active',\r\n  Disabled = 'disabled',\r\n  Done = 'done',\r\n}\r\n\r\ntype UseStepStatusMemoOptions<Step> = {\r\n  activeStep?: Step;\r\n  steps?: Step[];\r\n};\r\n\r\nexport const useStepStatus = <Step>({\r\n  activeStep,\r\n  steps,\r\n}: UseStepStatusMemoOptions<Step>) =>\r\n  useCallback(\r\n    (step: Step) => {\r\n      if (activeStep) {\r\n        const selectedStepIndex = steps?.indexOf(step);\r\n        const activeStepIndex = steps?.indexOf(activeStep);\r\n\r\n        if (activeStepIndex! > selectedStepIndex!) return StepStatus.Done;\r\n        if (activeStepIndex === selectedStepIndex) return StepStatus.Active;\r\n      }\r\n\r\n      return StepStatus.Disabled;\r\n    },\r\n    [activeStep, steps]\r\n  );\r\n","import { withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  WithdrawModalData,\r\n  WithdrawModalDataStep,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const WithdrawProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isWithdrawProgressModalOpened, withdrawModalData } = useModalsStore();\r\n  const { tokenSymbol, steps, step: activeStep } = withdrawModalData;\r\n\r\n  const getStepStatus = useStepStatus<WithdrawModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      title=\"Withdraw in progress\"\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawProgressModalOpened}\r\n      isCentered\r\n    >\r\n      <TransactionStep\r\n        status={getStepStatus(WithdrawModalDataStep.Withdraw)}\r\n        iconSrc={withdrawSrc}\r\n      >\r\n        Withdrawing <br /> {tokenSymbol}\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","import { Button } from '@chakra-ui/react';\r\n\r\nimport { modalsSliceActions, useAppDispatch, useModalsStore } from '@/store';\r\n\r\nimport { TransactionFailedModal } from './components';\r\n\r\nexport const WithdrawWICPFailModal = () => {\r\n  const { isWithdrawWICPFailModalOpened, withdrawWICPModalData } =\r\n    useModalsStore();\r\n  const { callbacks: [retryCallback, closeCallback] = [] } =\r\n    withdrawWICPModalData;\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleClose = () => {\r\n    if (closeCallback) closeCallback();\r\n    dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionFailedModal\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawWICPFailModalOpened}\r\n      isCentered\r\n      title=\"ICP Unwrapping Failed\"\r\n    >\r\n      <Button\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={retryCallback}\r\n        isFullWidth\r\n      >\r\n        Retry\r\n      </Button>\r\n      <Button\r\n        borderRadius={12}\r\n        fontWeight={700}\r\n        fontSize=\"1.125rem\"\r\n        onClick={handleClose}\r\n        isFullWidth\r\n      >\r\n        Later\r\n      </Button>\r\n    </TransactionFailedModal>\r\n  );\r\n};\r\n","import { swapSrc, withdrawSrc } from '@/assets';\r\nimport {\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  WithdrawWICPModalData,\r\n  WithdrawWICPModalDataStep,\r\n} from '@/store';\r\n\r\nimport { useStepStatus } from '.';\r\nimport { TransactionProgressModal, TransactionStep } from './components';\r\n\r\nexport const WithdrawWICPProgressModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isWithdrawWICPProgressModalOpened, withdrawWICPModalData } =\r\n    useModalsStore();\r\n  const { steps, step: activeStep } = withdrawWICPModalData;\r\n\r\n  const getStepStatus = useStepStatus<WithdrawWICPModalData['step']>({\r\n    activeStep,\r\n    steps,\r\n  });\r\n\r\n  const handleClose = () => {\r\n    dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n  };\r\n\r\n  return (\r\n    <TransactionProgressModal\r\n      onClose={handleClose}\r\n      isOpen={isWithdrawWICPProgressModalOpened}\r\n      isCentered\r\n      title=\"WICP unwrapping in progress\"\r\n    >\r\n      {steps?.includes(WithdrawWICPModalDataStep.Withdraw) && (\r\n        <TransactionStep\r\n          status={getStepStatus(WithdrawWICPModalDataStep.Withdraw)}\r\n          iconSrc={withdrawSrc}\r\n          chevron\r\n        >\r\n          Withdrawing <br /> WICP\r\n        </TransactionStep>\r\n      )}\r\n      <TransactionStep\r\n        status={getStepStatus(WithdrawWICPModalDataStep.WithdrawWICP)}\r\n        iconSrc={swapSrc}\r\n      >\r\n        Unwrapping <br /> WICP\r\n      </TransactionStep>\r\n    </TransactionProgressModal>\r\n  );\r\n};\r\n","export * from './plug-button';\r\nexport * from './plug-logo';\r\nexport * from './plug-menu';\r\nexport * from './plug-not-connected';\r\n","export const PLUG_WALLET_WEBSITE_URL = 'https://plugwallet.ooo/';\r\n","export * from './constants';\r\nexport * from './plug-button';\r\n","import { Button, ButtonProps } from '@chakra-ui/button';\r\nimport { useColorModeValue } from '@chakra-ui/color-mode';\r\nimport type { Provider } from '@memecake/plug-inpage-provider';\r\nimport { forwardRef, useMemo } from 'react';\r\n\r\nimport { plugActions, PlugState, useAppDispatch, usePlugStore } from '@/store';\r\n\r\nimport { PlugLogo } from '../plug-logo/plug-logo';\r\n\r\nexport type PlugButtonProps = Omit<ButtonProps, 'color' | 'variant'> & {\r\n  variant?: 'default' | 'dark';\r\n};\r\n\r\nexport const PlugButton = forwardRef<HTMLButtonElement, PlugButtonProps>(\r\n  ({ ...props }, ref) => {\r\n    const { variant = 'default' } = props;\r\n    const { state } = usePlugStore();\r\n    const dispatch = useAppDispatch();\r\n\r\n    const isPlugPAPIExists = Boolean(window.ic?.plug);\r\n\r\n    const isLoading = useMemo(() => {\r\n      return state === PlugState.Loading;\r\n    }, [state]);\r\n\r\n    const colorDark = useColorModeValue('gray.800', 'gray.500');\r\n    const bgDark = useColorModeValue('gray.50', 'custom.2');\r\n    const bgHoverDark = useColorModeValue('gray.50', 'gray.700');\r\n\r\n    const colorLight = useColorModeValue('gray.800', 'white');\r\n    const bgLight = useColorModeValue('gray.50', 'custom.2');\r\n    const bgHoverLight = useColorModeValue('gray.50', 'gray.800');\r\n\r\n    const shadow = useColorModeValue('base', 'none');\r\n\r\n    const { color, bg, bgHover, leftIcon, before, borderRadius } =\r\n      useMemo(() => {\r\n        if (variant === 'dark') {\r\n          return {\r\n            color: colorDark,\r\n            bg: bgDark,\r\n            bgHover: bgHoverDark,\r\n            borderRadius: 'xl',\r\n          };\r\n        }\r\n\r\n        return {\r\n          color: colorLight,\r\n          bg: bgLight,\r\n          bgHover: bgHoverLight,\r\n          leftIcon: <PlugLogo />,\r\n          before: {\r\n            content: \"''\",\r\n            position: 'absolute',\r\n            top: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            zIndex: 'hide',\r\n            margin: '-2px',\r\n            borderRadius: 'inherit',\r\n            background:\r\n              'linear-gradient(93.07deg,#ffd719 0.61%,#f754d4 33.98%,#1fd1ec 65.84%,#48fa6b 97.7%)',\r\n          },\r\n          borderRadius: 'full',\r\n        };\r\n      }, [\r\n        bgDark,\r\n        bgHoverDark,\r\n        bgHoverLight,\r\n        bgLight,\r\n        colorDark,\r\n        colorLight,\r\n        variant,\r\n      ]);\r\n\r\n    const handleClick = (): void => {\r\n      switch (state) {\r\n        case PlugState.Disconnected:{\r\n          dispatch(plugActions.connect());\r\n          break;\r\n        }\r\n        case PlugState.NotInstalled:\r\n          window.open('https://plugwallet.ooo/', '_plug');\r\n          break;\r\n        case PlugState.Connected:\r\n        case PlugState.Loading:\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        size=\"lg\"\r\n        leftIcon={leftIcon}\r\n        onClick={handleClick}\r\n        isDisabled={isLoading}\r\n        borderRadius={borderRadius}\r\n        backgroundColor={bg}\r\n        shadow={shadow}\r\n        _hover={{\r\n          backgroundColor: bgHover,\r\n          _disabled: { backgroundColor: bg },\r\n        }}\r\n        _active={{ backgroundColor: bgHover }}\r\n        _disabled={{ backgroundColor: bg, cursor: 'not-allowed' }}\r\n        _before={before}\r\n        color={color}\r\n        {...props}\r\n      >\r\n        {isLoading\r\n          ? 'Loading...'\r\n          : isPlugPAPIExists\r\n          ? 'Connect'\r\n          : 'Install Plug'}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n\r\nPlugButton.displayName = 'PlugButton';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    ic?: {\r\n      plug?: Provider;\r\n    };\r\n  }\r\n}\r\n","export * from './plug-logo';\r\n","import {\r\n  forwardRef,\r\n  Icon,\r\n  IconProps,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nexport const PlugLogo = forwardRef<IconProps, 'svg'>((props, ref) => {\r\n  const socketColor = useColorModeValue('black', 'white');\r\n  return (\r\n    <Icon\r\n      viewBox=\"0 0 18 27\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      ref={ref}\r\n      {...props}\r\n    >\r\n      <g clipPath=\"url(#clip0_88:618)\">\r\n        <path\r\n          d=\"M3.36523 0.413793C3.36523 0.185261 3.54425 0 3.76509 0H5.59107C5.81191 0 5.99093 0.185261 5.99093 0.413793V6.66207H3.36523V0.413793Z\"\r\n          fill={socketColor}\r\n        />\r\n        <path\r\n          d=\"M11.9492 0.413793C11.9492 0.185261 12.1282 0 12.3491 0H14.1751C14.3959 0 14.5749 0.185261 14.5749 0.413793V6.66207H11.9492V0.413793Z\"\r\n          fill={socketColor}\r\n        />\r\n        <path\r\n          d=\"M0 7.75323C0 7.1522 0.470772 6.66504 1.0515 6.66504H16.9423C17.523 6.66504 17.9938 7.1522 17.9938 7.75323V13.1736C17.9938 18.3157 13.9658 22.4842 8.99687 22.4842C4.02805 22.4842 0 18.3157 0 13.1736V7.75323Z\"\r\n          fill=\"url(#paint0_linear_88:618)\"\r\n        />\r\n        <path\r\n          d=\"M5.99316 21.6953H11.9998V22.4707C11.9998 23.5975 11.1172 24.511 10.0283 24.511H7.96473C6.87587 24.511 5.99316 23.5975 5.99316 22.4707V21.6953Z\"\r\n          fill=\"url(#paint1_linear_88:618)\"\r\n        />\r\n        <path\r\n          d=\"M6.96582 24.1846H11.0273V25.64C11.0273 26.3913 10.4388 27.0002 9.71287 27.0002H8.2802C7.55434 27.0002 6.96582 26.3913 6.96582 25.64V24.1846Z\"\r\n          fill=\"url(#paint2_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M17.2814 16.8109C15.8952 11.5743 11.2636 7.72607 5.76353 7.72607C3.67346 7.72607 1.70881 8.2818 0 9.25821V13.1737C0 17.2259 2.50147 20.6735 5.99355 21.9529V22.4707C5.99355 23.2202 6.38414 23.8754 6.96615 24.2301V25.6399C6.96615 26.3912 7.55467 27.0002 8.28053 27.0002H9.7132C10.4391 27.0002 11.0276 26.3912 11.0276 25.6399V24.2301C11.6096 23.8754 12.0002 23.2202 12.0002 22.4707V21.9529C14.3801 21.0809 16.3 19.2019 17.2814 16.8109Z\"\r\n          fill=\"url(#paint3_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M15.1303 19.9853C14.6896 14.739 10.4347 10.623 5.25093 10.623C3.32256 10.623 1.52274 11.1926 0 12.1781V13.1734C0 17.2256 2.50147 20.6732 5.99355 21.9526V22.4704C5.99355 23.2199 6.38414 23.8751 6.96615 24.2298V25.6397C6.96615 26.3909 7.55467 26.9999 8.28053 26.9999H9.7132C10.4391 26.9999 11.0276 26.3909 11.0276 25.6397V24.2298C11.6096 23.8751 12.0002 23.2199 12.0002 22.4704V21.9526C13.1748 21.5223 14.2373 20.8466 15.1303 19.9853Z\"\r\n          fill=\"url(#paint4_linear_88:618)\"\r\n        />\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          clipRule=\"evenodd\"\r\n          d=\"M12.01 21.951C11.8231 17.6755 8.4145 14.2686 4.23693 14.2686C2.78497 14.2686 1.4259 14.6801 0.262695 15.3967C0.985966 18.452 3.16636 20.9153 5.99819 21.9528V22.4706C5.99819 23.2201 6.38879 23.8753 6.97083 24.23V25.6399C6.97083 26.3911 7.55928 27.0001 8.28521 27.0001H9.71788C10.4438 27.0001 11.0323 26.3911 11.0323 25.6399V24.23C11.6143 23.8753 12.0049 23.2201 12.0049 22.4706V21.9528C12.0066 21.9522 12.0083 21.9516 12.01 21.951Z\"\r\n          fill=\"url(#paint5_linear_88:618)\"\r\n        />\r\n      </g>\r\n      <defs>\r\n        <linearGradient\r\n          id=\"paint0_linear_88:618\"\r\n          x1=\"12.0068\"\r\n          y1=\"12.5275\"\r\n          x2=\"18.7021\"\r\n          y2=\"6.05122\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint1_linear_88:618\"\r\n          x1=\"12.0064\"\r\n          y1=\"12.5276\"\r\n          x2=\"18.7017\"\r\n          y2=\"6.0513\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint2_linear_88:618\"\r\n          x1=\"12.0065\"\r\n          y1=\"12.5277\"\r\n          x2=\"18.7017\"\r\n          y2=\"6.0514\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#46FF47\" />\r\n          <stop offset=\"1\" stopColor=\"#9CFF9D\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint3_linear_88:618\"\r\n          x1=\"10.4427\"\r\n          y1=\"13.813\"\r\n          x2=\"13.7708\"\r\n          y2=\"9.54276\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#10D9ED\" />\r\n          <stop offset=\"1\" stopColor=\"#10D9ED\" stopOpacity=\"0.3\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint4_linear_88:618\"\r\n          x1=\"9.73293\"\r\n          y1=\"15.3702\"\r\n          x2=\"12.0141\"\r\n          y2=\"11.1222\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#FA51D3\" />\r\n          <stop offset=\"0.958774\" stopColor=\"#FA51D3\" stopOpacity=\"0\" />\r\n        </linearGradient>\r\n        <linearGradient\r\n          id=\"paint5_linear_88:618\"\r\n          x1=\"6.74911\"\r\n          y1=\"21.7089\"\r\n          x2=\"10.1796\"\r\n          y2=\"13.233\"\r\n          gradientUnits=\"userSpaceOnUse\"\r\n        >\r\n          <stop stopColor=\"#FFE700\" />\r\n          <stop offset=\"1\" stopColor=\"#FFE700\" stopOpacity=\"0\" />\r\n        </linearGradient>\r\n        <clipPath id=\"clip0_88:618\">\r\n          <rect width=\"18\" height=\"27\" fill=\"white\" />\r\n        </clipPath>\r\n      </defs>\r\n    </Icon>\r\n  );\r\n});\r\n","export * from './plug-menu';\r\n","import {\r\n  Box,\r\n  Flex,\r\n  Icon,\r\n  Menu,\r\n  MenuButton,\r\n  MenuItem,\r\n  MenuList,\r\n  MenuProps,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Spinner } from '@chakra-ui/spinner';\r\nimport { BiExit } from '@react-icons/all-files/bi/BiExit';\r\nimport { FaChevronDown } from '@react-icons/all-files/fa/FaChevronDown';\r\nimport { FiCopy } from '@react-icons/all-files/fi/FiCopy';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { plugActions, PlugState, useAppDispatch, usePlugStore } from '@/store';\r\nimport { copyToClipboard } from '@/utils';\r\nimport { desensitizationPrincipalId } from '@/utils/canister';\r\n\r\nimport { PlugLogo } from '..';\r\n\r\nexport const PlugMenu: FC<Omit<MenuProps, 'children'>> = (props) => {\r\n  const { principalId, state } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleDisconnect = async () => {\r\n    dispatch(plugActions.disconnect());\r\n  };\r\n\r\n  const shortPrincipalId = useMemo(() => {\r\n    return desensitizationPrincipalId(principalId);\r\n  }, [principalId]);\r\n\r\n  const handleCopy = () => {\r\n    if (principalId) {\r\n      copyToClipboard(principalId, 'Principal ID copied to clipboard');\r\n    }\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  return (\r\n    <Menu {...props}>\r\n      <MenuButton borderRadius=\"full\" px=\"4\" h=\"12\" bg={bg} shadow={shadow}>\r\n        <Flex direction=\"row\" alignItems=\"center\">\r\n          {state === PlugState.Loading ? <Spinner /> : <PlugLogo />}\r\n          <Box ml=\"2\" fontWeight={600}> {shortPrincipalId}</Box>\r\n          <Icon as={FaChevronDown} ml={3} />\r\n        </Flex>\r\n      </MenuButton>\r\n      <div>\r\n        <MenuList bg={bg} shadow={shadow} borderRadius=\"xl\" overflow=\"hidden\">\r\n          <MenuItem onClick={handleCopy} icon={<FiCopy />}>\r\n            <Text>Copy ID</Text>\r\n          </MenuItem>\r\n          <MenuItem onClick={handleDisconnect} icon={<BiExit />}>\r\n            <Text>Disconnect</Text>\r\n          </MenuItem>\r\n        </MenuList>\r\n      </div>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nPlugMenu.displayName = 'PlugPrincipalIDTag';\r\n","import { Box, Stack, Text } from '@chakra-ui/react';\r\nimport { FaInbox } from '@react-icons/all-files/fa/FaInbox';\r\nimport React from 'react';\r\n\r\nimport { PlugButton } from '..';\r\n\r\nexport interface PlugNotConnectedProps {\r\n  message?: string;\r\n}\r\n\r\nexport const PlugNotConnected: React.FC<PlugNotConnectedProps> = ({\r\n  message = 'Connect to see the content.',\r\n}) => {\r\n  return (\r\n    <Stack color=\"gray.500\" alignItems=\"center\">\r\n      <Box mt={6} mb={3}>\r\n        <FaInbox size={30} />\r\n      </Box>\r\n      <Text fontSize=\"lg\" pb={3}>\r\n        {message}\r\n      </Text>\r\n      <PlugButton width=\"80%\" variant=\"dark\">\r\n        Connect to Plug\r\n      </PlugButton>\r\n    </Stack>\r\n  );\r\n};\r\n","export const PATHS = {\r\n  All: '*',\r\n  Home: '/',\r\n};\r\n\r\nexport const ROUTES = {\r\n  Home: '/',\r\n};\r\n\r\nexport const ERRORS = {\r\n  PlugNotConnected: 'Plug is not connected',\r\n};\r\n","export const ENV = {\r\n  host: process.env.HOST || 'https://boundary.ic0.app/',\r\n  analyticsHost: process.env.ANALYTICS_HOST || 'https://api.sonic.ooo/graphql',\r\n  swapCanisterFee: Number(process.env.SWAP_CANISTER_FEE) || 10000,\r\n  isDarkModeEnabled: process.env.IS_DARK_MODE_ENABLED === 'true',\r\n  canistersPrincipalIDs: {\r\n    ledger: process.env.LEDGER_CANISTER_ID || 'ryjl3-tyaaa-aaaaa-aaaba-cai',\r\n    swap: process.env.SWAP_CANISTER_ID || '3xwpq-ziaaa-aaaah-qcn4a-cai',\r\n    cyclesMinting:\r\n      process.env.CYCLES_MINTING_CANISTER_ID || 'rkp4c-7iaaa-aaaaa-aaaca-cai',\r\n    WICP: process.env.WICP_CANISTER_ID || 'utozz-siaaa-aaaam-qaaxq-cai',\r\n    XTC: process.env.XTC_CANISTER_ID || 'aanaa-xaaaa-aaaah-aaeiq-cai',\r\n    swapCapRoot:\r\n      process.env.SWAP_CAP_ROOT_CANISTER_ID || '3qxje-uqaaa-aaaah-qcn4q-cai',\r\n  },\r\n  accountIDs: {\r\n    XTC:\r\n      process.env.XTC_ACCOUNT_ID ||\r\n      '758bdb7e54b73605d1d743da9f3aad70637d4cddcba03db13137eaf35f12d375',\r\n    WICP:\r\n      process.env.WICP_ACCOUNT_ID ||\r\n      'cc659fe529756bae6f72db9937c6c60cf7ad57eb4ac5f930a75748927aab469a',\r\n  },\r\n  URLs: {\r\n    discord: process.env.DISCORD_URL || 'https://discord.com/invite/EkmnRd99h6',\r\n    twitter: process.env.TWITTER_URL || 'https://twitter.com/sonic_ooo',\r\n    medium: process.env.MEDIUM_URL || 'https://medium.com/@sonic-ooo',\r\n    github: process.env.GITHUB_URL || 'https://github.com/psychedelic/sonic',\r\n    sonicDocs: process.env.SONIC_DOCS_URL || 'https://docs.sonic.ooo',\r\n    termsAndConditions:\r\n      process.env.TERMS_AND_CONDITIONS_URL ||\r\n      'https://docs.sonic.ooo/resources/disclaimer-terms',\r\n    tokenRequestForm:\r\n      process.env.TOKEN_REQUEST_FORM_URL ||\r\n      'https://form.typeform.com/to/YnSyAUn0',\r\n    analyticsApp: process.env.ANALYTICS_APP_URL || 'https://data.sonic.ooo',\r\n    ledgerTransactions:\r\n      process.env.LEDGER_TRANSACTIONS_URL || 'https://icscan.io/transaction',\r\n  },\r\n  hiddenTokens: (process.env.HIDDEN_TOKENS || '').split(','),\r\n  maintenanceMode: process.env.MAINTENANCE_MODE === 'true',\r\n  prorityOrder:['ICP', 'WICP', 'XTC', 'ckBTC', 'SNS1', 'CHAT', 'BOX', 'OGY', 'YC', 'DONGE']\r\n};\r\n","export * from './constants';\r\nexport * from './env';\r\n","import { plugCircleSrc, sonicCircleSrc } from '@/assets';\r\n\r\nexport type GetAppAssetsSourcesParams = {\r\n  balances: {\r\n    plug?: number;\r\n    sonic?: number;\r\n  };\r\n};\r\n\r\nexport type AppAssetSource = {\r\n  name: string;\r\n  src: string;\r\n  balance?: number;\r\n};\r\n\r\nexport const getAppAssetsSources = ({\r\n  balances,\r\n}: GetAppAssetsSourcesParams): AppAssetSource[] => {\r\n  return [\r\n    {\r\n      name: 'Plug Wallet',\r\n      src: plugCircleSrc,\r\n      balance: balances.plug,\r\n    },\r\n    {\r\n      name: 'Sonic',\r\n      src: sonicCircleSrc,\r\n      balance: balances.sonic,\r\n    },\r\n  ];\r\n};\r\n","export * from './token';\r\n","import { icpSrc } from '@/assets';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport const ICP_METADATA = {\r\n  id: 'ICP', // ryjl3-tyaaa-aaaaa-aaaba-cai ICP\r\n  name: 'Internet Computer Protocol',\r\n  symbol: 'ICP',\r\n  fee: BigInt(10000), // 0.0001\r\n  decimals: 8,\r\n  totalSupply: BigInt(0),\r\n  logo: icpSrc,\r\n  tokenType:'ICRC1'\r\n};\r\n\r\nexport const getICPTokenMetadata = (price?: string): AppTokenMetadata => ({ ...ICP_METADATA, price});\r\n","export * from './ledger.did';\r\n","import { IDL } from '@dfinity/candid';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nexport namespace LedgerIDL {\r\n  export interface AccountBalanceArgs {\r\n    account: AccountIdentifier;\r\n  }\r\n  export type AccountIdentifier = string;\r\n  export interface ArchiveOptions {\r\n    max_message_size_bytes: [] | [number];\r\n    node_max_memory_size_bytes: [] | [number];\r\n    controller_id: Principal;\r\n  }\r\n  export type BlockHeight = bigint;\r\n  export interface Duration {\r\n    secs: bigint;\r\n    nanos: number;\r\n  }\r\n  export interface ICPTs {\r\n    e8s: bigint;\r\n  }\r\n  export interface LedgerCanisterInitPayload {\r\n    send_whitelist: Array<[Principal]>;\r\n    minting_account: AccountIdentifier;\r\n    transaction_window: [] | [Duration];\r\n    max_message_size_bytes: [] | [number];\r\n    archive_options: [] | [ArchiveOptions];\r\n    initial_values: Array<[AccountIdentifier, ICPTs]>;\r\n  }\r\n  export type Memo = bigint;\r\n  export interface NotifyCanisterArgs {\r\n    to_subaccount: [] | [SubAccount];\r\n    from_subaccount: [] | [SubAccount];\r\n    to_canister: Principal;\r\n    max_fee: ICPTs;\r\n    block_height: BlockHeight;\r\n  }\r\n  export interface SendArgs {\r\n    to: AccountIdentifier;\r\n    fee: ICPTs;\r\n    memo: Memo;\r\n    from_subaccount: [] | [SubAccount];\r\n    created_at_time: [] | [TimeStamp];\r\n    amount: ICPTs;\r\n  }\r\n  export type SubAccount = Array<number>;\r\n  export interface TimeStamp {\r\n    timestamp_nanos: bigint;\r\n  }\r\n  export interface Transaction {\r\n    memo: Memo;\r\n    created_at: BlockHeight;\r\n    transfer: Transfer;\r\n  }\r\n  export type Transfer =\r\n    | {\r\n        Burn: { from: AccountIdentifier; amount: ICPTs };\r\n      }\r\n    | { Mint: { to: AccountIdentifier; amount: ICPTs } }\r\n    | {\r\n        Send: {\r\n          to: AccountIdentifier;\r\n          from: AccountIdentifier;\r\n          amount: ICPTs;\r\n        };\r\n      };\r\n  export interface Factory {\r\n    account_balance_dfx: (arg_0: AccountBalanceArgs) => Promise<ICPTs>;\r\n    notify_dfx: (arg_0: NotifyCanisterArgs) => Promise<undefined>;\r\n    send_dfx: (arg_0: SendArgs) => Promise<BlockHeight>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const AccountIdentifier = IDL.Text;\r\n    // const Duration = IDL.Record({ secs: IDL.Nat64, nanos: IDL.Nat32 });\r\n    // const ArchiveOptions = IDL.Record({\r\n    //   max_message_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   node_max_memory_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   controller_id: IDL.Principal,\r\n    // });\r\n    const ICPTs = IDL.Record({ e8s: IDL.Nat64 });\r\n    // const LedgerCanisterInitPayload = IDL.Record({\r\n    //   send_whitelist: IDL.Vec(IDL.Tuple(IDL.Principal)),\r\n    //   minting_account: AccountIdentifier,\r\n    //   transaction_window: IDL.Opt(Duration),\r\n    //   max_message_size_bytes: IDL.Opt(IDL.Nat32),\r\n    //   archive_options: IDL.Opt(ArchiveOptions),\r\n    //   initial_values: IDL.Vec(IDL.Tuple(AccountIdentifier, ICPTs)),\r\n    // });\r\n    const AccountBalanceArgs = IDL.Record({ account: AccountIdentifier });\r\n    const SubAccount = IDL.Vec(IDL.Nat8);\r\n    const BlockHeight = IDL.Nat64;\r\n    const NotifyCanisterArgs = IDL.Record({\r\n      to_subaccount: IDL.Opt(SubAccount),\r\n      from_subaccount: IDL.Opt(SubAccount),\r\n      to_canister: IDL.Principal,\r\n      max_fee: ICPTs,\r\n      block_height: BlockHeight,\r\n    });\r\n    const Memo = IDL.Nat64;\r\n    const TimeStamp = IDL.Record({ timestamp_nanos: IDL.Nat64 });\r\n    const SendArgs = IDL.Record({\r\n      to: AccountIdentifier,\r\n      fee: ICPTs,\r\n      memo: Memo,\r\n      from_subaccount: IDL.Opt(SubAccount),\r\n      created_at_time: IDL.Opt(TimeStamp),\r\n      amount: ICPTs,\r\n    });\r\n    return IDL.Service({\r\n      account_balance_dfx: IDL.Func([AccountBalanceArgs], [ICPTs], ['query']),\r\n      notify_dfx: IDL.Func([NotifyCanisterArgs], [], []),\r\n      send_dfx: IDL.Func([SendArgs], [BlockHeight], []),\r\n    });\r\n  };\r\n}\r\n","export * from './dfinity';\r\nexport * from './sonic';\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace CyclesMintingIDL {\r\n  export type CyclesResponse =\r\n    | { Refunded: [string, [] | [bigint]] }\r\n    | { CanisterCreated: Principal }\r\n    | { ToppedUp: null };\r\n  export interface ICPTs {\r\n    e8s: bigint;\r\n  }\r\n  export interface IcpXdrConversionRate {\r\n    xdr_permyriad_per_icp: bigint;\r\n    timestamp_seconds: bigint;\r\n  }\r\n  export interface IcpXdrConversionRateCertifiedResponse {\r\n    certificate: Array<number>;\r\n    data: IcpXdrConversionRate;\r\n    hash_tree: Array<number>;\r\n  }\r\n  export type Result = { Ok: CyclesResponse } | { Err: string };\r\n  export interface SetAuthorizedSubnetworkListArgs {\r\n    who: [] | [Principal];\r\n    subnets: Array<Principal>;\r\n  }\r\n  export interface TransactionNotification {\r\n    to: Principal;\r\n    to_subaccount: [] | [Array<number>];\r\n    from: Principal;\r\n    memo: bigint;\r\n    from_subaccount: [] | [Array<number>];\r\n    amount: ICPTs;\r\n    block_height: bigint;\r\n  }\r\n  export interface Factory {\r\n    get_average_icp_xdr_conversion_rate: () => Promise<IcpXdrConversionRateCertifiedResponse>;\r\n    get_icp_xdr_conversion_rate: () => Promise<IcpXdrConversionRateCertifiedResponse>;\r\n    set_authorized_subnetwork_list: (\r\n      arg_0: SetAuthorizedSubnetworkListArgs\r\n    ) => Promise<undefined>;\r\n    transaction_notification: (\r\n      arg_0: TransactionNotification\r\n    ) => Promise<Result>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const IcpXdrConversionRate = IDL.Record({\r\n      xdr_permyriad_per_icp: IDL.Nat64,\r\n      timestamp_seconds: IDL.Nat64,\r\n    });\r\n    const IcpXdrConversionRateCertifiedResponse = IDL.Record({\r\n      certificate: IDL.Vec(IDL.Nat8),\r\n      data: IcpXdrConversionRate,\r\n      hash_tree: IDL.Vec(IDL.Nat8),\r\n    });\r\n    const SetAuthorizedSubnetworkListArgs = IDL.Record({\r\n      who: IDL.Opt(IDL.Principal),\r\n      subnets: IDL.Vec(IDL.Principal),\r\n    });\r\n    const ICPTs = IDL.Record({ e8s: IDL.Nat64 });\r\n    const TransactionNotification = IDL.Record({\r\n      to: IDL.Principal,\r\n      to_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n      from: IDL.Principal,\r\n      memo: IDL.Nat64,\r\n      from_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n      amount: ICPTs,\r\n      block_height: IDL.Nat64,\r\n    });\r\n    const CyclesResponse = IDL.Variant({\r\n      Refunded: IDL.Tuple(IDL.Text, IDL.Opt(IDL.Nat64)),\r\n      CanisterCreated: IDL.Principal,\r\n      ToppedUp: IDL.Null,\r\n    });\r\n    const Result = IDL.Variant({ Ok: CyclesResponse, Err: IDL.Text });\r\n\r\n    return IDL.Service({\r\n      get_average_icp_xdr_conversion_rate: IDL.Func(\r\n        [],\r\n        [IcpXdrConversionRateCertifiedResponse],\r\n        ['query']\r\n      ),\r\n      get_icp_xdr_conversion_rate: IDL.Func(\r\n        [],\r\n        [IcpXdrConversionRateCertifiedResponse],\r\n        ['query']\r\n      ),\r\n      set_authorized_subnetwork_list: IDL.Func(\r\n        [SetAuthorizedSubnetworkListArgs],\r\n        [],\r\n        []\r\n      ),\r\n      transaction_notification: IDL.Func(\r\n        [TransactionNotification],\r\n        [Result],\r\n        []\r\n      ),\r\n    });\r\n  };\r\n}\r\n","export * from './swap-storage.did';\r\nexport * from './swap.did';\r\nexport * from './token.did';\r\nexport * from './xtc.did';\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace SwapStorageIDL {\r\n  export interface Bucket {\r\n    addRecords: (arg_0: Array<TxRecord>) => Promise<bigint>;\r\n    getStatus: () => Promise<Status>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord>;\r\n    getTransactions: (arg_0: bigint, arg_1: bigint) => Promise<Array<TxRecord>>;\r\n  }\r\n  export interface BucketInfoExt {\r\n    id: bigint;\r\n    bucketId: Principal;\r\n    start: bigint;\r\n    length: bigint;\r\n  }\r\n  export type Operation =\r\n    | { lpTransfer: null }\r\n    | { lpApprove: null }\r\n    | { withdraw: null }\r\n    | { tokenTransfer: null }\r\n    | { swap: null }\r\n    | { addLiquidity: null }\r\n    | { createPair: null }\r\n    | { deposit: null }\r\n    | { removeLiquidity: null }\r\n    | { lpTransferFrom: null }\r\n    | { tokenTransferFrom: null }\r\n    | { tokenApprove: null };\r\n  export type Operation__1 =\r\n    | { lpTransfer: null }\r\n    | { lpApprove: null }\r\n    | { withdraw: null }\r\n    | { tokenTransfer: null }\r\n    | { swap: null }\r\n    | { addLiquidity: null }\r\n    | { createPair: null }\r\n    | { deposit: null }\r\n    | { removeLiquidity: null }\r\n    | { lpTransferFrom: null }\r\n    | { tokenTransferFrom: null }\r\n    | { tokenApprove: null };\r\n  export interface Status {\r\n    memSize: bigint;\r\n    storageId: Principal;\r\n    cycles: bigint;\r\n    start: bigint;\r\n    length: bigint;\r\n  }\r\n  export interface Status__1 {\r\n    recordsPerBucket: bigint;\r\n    memSize: bigint;\r\n    owner: Principal;\r\n    txAmount: bigint;\r\n    cycles: bigint;\r\n    flushing: boolean;\r\n    bufferSize: bigint;\r\n    chunkSize: bigint;\r\n    dswap: Principal;\r\n    buckets: Array<BucketInfoExt>;\r\n  }\r\n  export interface Storage {\r\n    addRecord: (\r\n      arg_0: Principal,\r\n      arg_1: Operation__1,\r\n      arg_2: string,\r\n      arg_3: Principal,\r\n      arg_4: Principal,\r\n      arg_5: bigint,\r\n      arg_6: bigint,\r\n      arg_7: bigint,\r\n      arg_8: bigint,\r\n      arg_9: Time\r\n    ) => Promise<bigint>;\r\n    flush: () => Promise<boolean>;\r\n    getBucket: () => Promise<Principal>;\r\n    getStatus: () => Promise<Status__1>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord__1>;\r\n    getTransactions: (\r\n      arg_0: bigint,\r\n      arg_1: bigint\r\n    ) => Promise<Array<TxRecord__1>>;\r\n    getUserTransactionAmount: (arg_0: Principal) => Promise<bigint>;\r\n    getUserTransactions: (\r\n      arg_0: Principal,\r\n      arg_1: bigint,\r\n      arg_2: bigint\r\n    ) => Promise<Array<TxRecord__1>>;\r\n    historySize: () => Promise<bigint>;\r\n    newBucket: () => Promise<Principal>;\r\n    setDSwapCanisterId: (arg_0: Principal) => Promise<boolean>;\r\n  }\r\n  export type Time = bigint;\r\n  export interface TxRecord {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    tokenId: string;\r\n    from: Principal;\r\n    amount0: bigint;\r\n    amount1: bigint;\r\n    timestamp: Time;\r\n    caller: Principal;\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export interface TxRecord__1 {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    tokenId: string;\r\n    from: Principal;\r\n    amount0: bigint;\r\n    amount1: bigint;\r\n    timestamp: Time;\r\n    caller: Principal;\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export type Factory = Storage;\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const Operation__1 = IDL.Variant({\r\n      lpTransfer: IDL.Null,\r\n      lpApprove: IDL.Null,\r\n      withdraw: IDL.Null,\r\n      tokenTransfer: IDL.Null,\r\n      swap: IDL.Null,\r\n      addLiquidity: IDL.Null,\r\n      createPair: IDL.Null,\r\n      deposit: IDL.Null,\r\n      removeLiquidity: IDL.Null,\r\n      lpTransferFrom: IDL.Null,\r\n      tokenTransferFrom: IDL.Null,\r\n      tokenApprove: IDL.Null,\r\n    });\r\n    const Time = IDL.Int;\r\n    const Operation = IDL.Variant({\r\n      lpTransfer: IDL.Null,\r\n      lpApprove: IDL.Null,\r\n      withdraw: IDL.Null,\r\n      tokenTransfer: IDL.Null,\r\n      swap: IDL.Null,\r\n      addLiquidity: IDL.Null,\r\n      createPair: IDL.Null,\r\n      deposit: IDL.Null,\r\n      removeLiquidity: IDL.Null,\r\n      lpTransferFrom: IDL.Null,\r\n      tokenTransferFrom: IDL.Null,\r\n      tokenApprove: IDL.Null,\r\n    });\r\n    const TxRecord = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      tokenId: IDL.Text,\r\n      from: IDL.Principal,\r\n      amount0: IDL.Nat,\r\n      amount1: IDL.Nat,\r\n      timestamp: Time,\r\n      caller: IDL.Principal,\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const Status = IDL.Record({\r\n      memSize: IDL.Nat,\r\n      storageId: IDL.Principal,\r\n      cycles: IDL.Nat,\r\n      start: IDL.Nat,\r\n      length: IDL.Nat,\r\n    });\r\n    const Bucket = IDL.Service({\r\n      addRecords: IDL.Func([IDL.Vec(TxRecord)], [IDL.Nat], []),\r\n      getStatus: IDL.Func([], [Status], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord], ['query']),\r\n      getTransactions: IDL.Func(\r\n        [IDL.Nat, IDL.Nat],\r\n        [IDL.Vec(TxRecord)],\r\n        ['query']\r\n      ),\r\n    });\r\n    const BucketInfoExt = IDL.Record({\r\n      id: IDL.Nat,\r\n      bucketId: IDL.Principal,\r\n      start: IDL.Nat,\r\n      length: IDL.Nat,\r\n    });\r\n    const Status__1 = IDL.Record({\r\n      recordsPerBucket: IDL.Nat,\r\n      memSize: IDL.Nat,\r\n      owner: IDL.Principal,\r\n      txAmount: IDL.Nat,\r\n      cycles: IDL.Nat,\r\n      flushing: IDL.Bool,\r\n      bufferSize: IDL.Nat,\r\n      chunkSize: IDL.Nat,\r\n      dswap: IDL.Principal,\r\n      buckets: IDL.Vec(BucketInfoExt),\r\n    });\r\n    const TxRecord__1 = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      tokenId: IDL.Text,\r\n      from: IDL.Principal,\r\n      amount0: IDL.Nat,\r\n      amount1: IDL.Nat,\r\n      timestamp: Time,\r\n      caller: IDL.Principal,\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const Storage = IDL.Service({\r\n      addRecord: IDL.Func(\r\n        [\r\n          IDL.Principal,\r\n          Operation__1,\r\n          IDL.Text,\r\n          IDL.Principal,\r\n          IDL.Principal,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          IDL.Nat,\r\n          Time,\r\n        ],\r\n        [IDL.Nat],\r\n        []\r\n      ),\r\n      flush: IDL.Func([], [IDL.Bool], []),\r\n      getBucket: IDL.Func([], [Bucket], []),\r\n      getStatus: IDL.Func([], [Status__1], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord__1], []),\r\n      getTransactions: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TxRecord__1)], []),\r\n      getUserTransactionAmount: IDL.Func([IDL.Principal], [IDL.Nat], ['query']),\r\n      getUserTransactions: IDL.Func(\r\n        [IDL.Principal, IDL.Nat, IDL.Nat],\r\n        [IDL.Vec(TxRecord__1)],\r\n        []\r\n      ),\r\n      historySize: IDL.Func([], [IDL.Nat], []),\r\n      newBucket: IDL.Func([], [Bucket], []),\r\n      setDSwapCanisterId: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n    });\r\n    return Storage;\r\n  };\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace SwapIDL {\r\n  export interface PairInfoExt {\r\n    id: string, price0CumulativeLast: bigint, creator: Principal, reserve0: bigint, reserve1: bigint,\r\n    lptoken: string, totalSupply: bigint, token0: string, token1: string, price1CumulativeLast: bigint,\r\n    kLast: bigint, blockTimestampLast: bigint,\r\n  };\r\n  export interface SwapInfo { owner: Principal, cycles: bigint, tokens: Array<TokenInfoExt>, pairs: Array<PairInfoExt> };\r\n  export interface TokenInfoExt { id: string, fee: bigint, decimals: number, name: string, totalSupply: bigint, symbol: string };\r\n  export interface TokenInfoWithType {\r\n    id: string, fee: bigint, decimals: number, name: string,\r\n    totalSupply: bigint, tokenType: string, symbol: string,\r\n  };\r\n  export type TxReceipt = { ok: bigint } | { err: string };\r\n  export interface UserInfo { lpBalances: Array<[string, bigint]>, balances: Array<[string, bigint]> };\r\n  export interface UserInfoPage { lpBalances: [Array<[string, bigint]>, bigint], balances: [Array<[string, bigint]>, bigint] };\r\n  export type Result = { ok: boolean } | { err: string };\r\n\r\n  export interface Swap {\r\n    addAuth: (arg_0: Principal) => Promise<boolean>,\r\n    addLiquidity: (arg_0: Principal, arg_1: Principal, arg_2: bigint, arg_3: bigint, arg_4: bigint, arg_5: bigint, arg_6: bigint) => Promise<TxReceipt>,\r\n    addToken: (arg_0: Principal) => Promise<TxReceipt>,\r\n    addTokenTypes: (arg_0: Principal, arg_1: string) => Promise<TxReceipt>,\r\n    addTokenWithType: (arg_0: Principal, arg_1: string) => Promise<TxReceipt>,\r\n    allowance: (arg_0: string, arg_1: Principal, arg_2: Principal) => Promise<bigint>,\r\n    approve: (arg_0: string, arg_1: Principal, arg_2: bigint) => Promise<boolean>,\r\n    balanceOf: (arg_0: string, arg_1: Principal) => Promise<bigint>,\r\n    burn: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    createPair: (arg_0: Principal, arg_1: Principal) => Promise<TxReceipt>,\r\n    decimals: (arg_0: string) => Promise<number>,\r\n    deposit: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>,\r\n    depositTo: (arg_0: Principal, arg_1: Principal, arg_2: bigint) => Promise<TxReceipt>,\r\n    exportBalances: (arg_0: string) => Promise<[] | [Array<[Principal, bigint]>]>,\r\n    exportLPTokens: () => Promise<Array<TokenInfoExt>>,\r\n    exportPairs: () => Promise<Array<PairInfoExt>>,\r\n    exportTokenTypes: () => Promise<Array<[string, string]>>,\r\n    exportTokens: () => Promise<Array<TokenInfoExt>>,\r\n    getAllPairs: () => Promise<Array<PairInfoExt>>,\r\n    getHolders: (arg_0: string) => Promise<bigint>,\r\n    getLPTokenId: (arg_0: Principal, arg_1: Principal) => Promise<string>,\r\n    getNumPairs: () => Promise<bigint>,\r\n    getPair: (arg_0: Principal, arg_1: Principal) => Promise<[] | [PairInfoExt]>,\r\n    getPairs: (arg_0: bigint, arg_1: bigint) => Promise<[Array<PairInfoExt>, bigint]>,\r\n    getSupportedTokenList: () => Promise<Array<TokenInfoWithType>>,\r\n    getSupportedTokenListByName: (arg_0: string, arg_1: bigint, arg_2: bigint) => Promise<[Array<TokenInfoExt>, bigint]>,\r\n    getSupportedTokenListSome: (arg_0: bigint, arg_1: bigint) => Promise<[Array<TokenInfoExt>, bigint]>,\r\n    getSwapInfo: () => Promise<SwapInfo>,\r\n    getUserBalances: (arg_0: Principal) => Promise<Array<[string, bigint]>>,\r\n    getUserInfo: (arg_0: Principal) => Promise<UserInfo>,\r\n    getUserInfoAbove: (arg_0: Principal, arg_1: bigint, arg_2: bigint) => Promise<UserInfo>,\r\n    getUserInfoByNamePageAbove: (\r\n      arg_0: Principal, arg_1: bigint, arg_2: string, arg_3: bigint, arg_4: bigint,\r\n      arg_5: bigint, arg_6: string, arg_7: bigint, arg_8: bigint) => Promise<UserInfoPage>,\r\n    getUserLPBalances: (arg_0: Principal) => Promise<Array<[string, bigint]>>,\r\n    getUserLPBalancesAbove: (arg_0: Principal, arg_1: bigint) => Promise<Array<[string, bigint]>>,\r\n    historySize: () => Promise<bigint>,\r\n    initateTransfer: () => Promise<string>,\r\n\r\n    initiateICRC1Transfer : () => Promise<Array<number>>,\r\n\r\n    logMessageClear: () => Promise<undefined>,\r\n    logMessageGet: () => Promise<Array<string>>,\r\n    name: (arg_0: string) => Promise<string>,\r\n    removeAuth: (arg_0: Principal) => Promise<boolean>,\r\n    removeLiquidity: (\r\n      arg_0: Principal, arg_1: Principal, arg_2: bigint, arg_3: bigint,\r\n      arg_4: bigint, arg_5: Principal, arg_6: bigint,\r\n    ) => Promise<TxReceipt>,\r\n    setFeeForToken: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    setFeeOn: (arg_0: boolean) => Promise<boolean>,\r\n    setFeeTo: (arg_0: Principal) => Promise<boolean>,\r\n    setGlobalTokenFee: (arg_0: bigint) => Promise<boolean>,\r\n    setMaxTokens: (arg_0: bigint) => Promise<boolean>,\r\n    setOwner: (arg_0: Principal) => Promise<boolean>,\r\n    setPairSupply: (arg_0: string, arg_1: bigint) => Promise<boolean>,\r\n    setPermissionless: (arg_0: boolean) => Promise<boolean>,\r\n    swapExactTokensForTokens: (arg_0: bigint, arg_1: bigint, arg_2: Array<string>,\r\n      arg_3: Principal, arg_4: bigint) => Promise<TxReceipt>,\r\n    swapTokensForExactTokens: (\r\n      arg_0: bigint, arg_1: bigint, arg_2: Array<string>, arg_3: Principal, arg_4: bigint,\r\n    ) => Promise<TxReceipt>,\r\n    symbol: (arg_0: string) => Promise<string>,\r\n    totalSupply: (arg_0: string) => Promise<bigint>,\r\n    transfer: (arg_0: string, arg_1: Principal, arg_2: bigint) => Promise<boolean>,\r\n    transferFrom: (\r\n      arg_0: string, arg_1: Principal, arg_2: Principal, arg_3: bigint,\r\n    ) => Promise<boolean>,\r\n    updateAllTokenMetadata: () => Promise<boolean>,\r\n    updateTokenFees: () => Promise<boolean>,\r\n    updateTokenMetadata: (arg_0: string) => Promise<boolean>,\r\n    withdraw: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>,\r\n    withdrawTo: (arg_0: Principal, arg_1: Principal, arg_2: bigint) => Promise<\r\n      TxReceipt\r\n    >,\r\n  }\r\n\r\n  export type Factory = Swap;\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const TxReceipt = IDL.Variant({ ok: IDL.Nat, err: IDL.Text });\r\n    const TokenInfoExt = IDL.Record({\r\n      id: IDL.Text, fee: IDL.Nat, decimals: IDL.Nat8,\r\n      name: IDL.Text, totalSupply: IDL.Nat, symbol: IDL.Text,\r\n    });\r\n    const PairInfoExt = IDL.Record({\r\n      id: IDL.Text, price0CumulativeLast: IDL.Nat, creator: IDL.Principal, reserve0: IDL.Nat,\r\n      reserve1: IDL.Nat, lptoken: IDL.Text, totalSupply: IDL.Nat, token0: IDL.Text, token1: IDL.Text,\r\n      price1CumulativeLast: IDL.Nat, kLast: IDL.Nat, blockTimestampLast: IDL.Int,\r\n    });\r\n    const TokenInfoWithType = IDL.Record({\r\n      id: IDL.Text, fee: IDL.Nat, decimals: IDL.Nat8, name: IDL.Text,\r\n      totalSupply: IDL.Nat, tokenType: IDL.Text, symbol: IDL.Text,\r\n    });\r\n    const SwapInfo = IDL.Record({\r\n      owner: IDL.Principal, cycles: IDL.Nat, tokens: IDL.Vec(TokenInfoExt), pairs: IDL.Vec(PairInfoExt),\r\n    });\r\n    const UserInfo = IDL.Record({\r\n      lpBalances: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), balances: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)),\r\n    });\r\n    const UserInfoPage = IDL.Record({\r\n      lpBalances: IDL.Tuple(IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), IDL.Nat),\r\n      balances: IDL.Tuple(IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat)), IDL.Nat),\r\n    });\r\n\r\n    const Swap = IDL.Service({\r\n      addAuth: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      addLiquidity: IDL.Func(\r\n        [IDL.Principal, IDL.Principal, IDL.Nat, IDL.Nat, IDL.Nat, IDL.Nat, IDL.Int],\r\n        [TxReceipt],\r\n        [],\r\n      ),\r\n      addToken: IDL.Func([IDL.Principal], [TxReceipt], []),\r\n      addTokenTypes: IDL.Func([IDL.Principal, IDL.Text], [TxReceipt], []),\r\n      addTokenWithType: IDL.Func([IDL.Principal, IDL.Text], [TxReceipt], []),\r\n      allowance: IDL.Func([IDL.Text, IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n      approve: IDL.Func([IDL.Text, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      balanceOf: IDL.Func([IDL.Text, IDL.Principal], [IDL.Nat], ['query']),\r\n      burn: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      createPair: IDL.Func([IDL.Principal, IDL.Principal], [TxReceipt], []),\r\n      decimals: IDL.Func([IDL.Text], [IDL.Nat8], ['query']),\r\n      deposit: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      depositTo: IDL.Func([IDL.Principal, IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      exportBalances: IDL.Func([IDL.Text], [IDL.Opt(IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat)))], ['query']),\r\n      exportLPTokens: IDL.Func([], [IDL.Vec(TokenInfoExt)], ['query']),\r\n      exportPairs: IDL.Func([], [IDL.Vec(PairInfoExt)], ['query']),\r\n      exportTokenTypes: IDL.Func([], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text))], ['query']),\r\n      exportTokens: IDL.Func([], [IDL.Vec(TokenInfoExt)], ['query']),\r\n      getAllPairs: IDL.Func([], [IDL.Vec(PairInfoExt)], ['query']),\r\n      getHolders: IDL.Func([IDL.Text], [IDL.Nat], ['query']),\r\n      getLPTokenId: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Text], ['query']),\r\n      getNumPairs: IDL.Func([], [IDL.Nat], ['query']),\r\n      getPair: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Opt(PairInfoExt)], ['query']),\r\n      getPairs: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(PairInfoExt), IDL.Nat], ['query']),\r\n      getSupportedTokenList: IDL.Func([], [IDL.Vec(TokenInfoWithType)], ['query']),\r\n      getSupportedTokenListByName: IDL.Func([IDL.Text, IDL.Nat, IDL.Nat], [IDL.Vec(TokenInfoExt), IDL.Nat], ['query']),\r\n      getSupportedTokenListSome: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TokenInfoExt), IDL.Nat], ['query']),\r\n      getSwapInfo: IDL.Func([], [SwapInfo], ['query']),\r\n      getUserBalances: IDL.Func([IDL.Principal], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      getUserInfo: IDL.Func([IDL.Principal], [UserInfo], ['query']),\r\n      getUserInfoAbove: IDL.Func([IDL.Principal, IDL.Nat, IDL.Nat], [UserInfo], ['query']),\r\n      getUserInfoByNamePageAbove: IDL.Func(\r\n        [IDL.Principal, IDL.Int, IDL.Text, IDL.Nat, IDL.Nat, IDL.Int, IDL.Text, IDL.Nat, IDL.Nat],\r\n        [UserInfoPage], ['query'],\r\n      ),\r\n      getUserLPBalances: IDL.Func([IDL.Principal], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      getUserLPBalancesAbove: IDL.Func([IDL.Principal, IDL.Nat], [IDL.Vec(IDL.Tuple(IDL.Text, IDL.Nat))], ['query']),\r\n      historySize: IDL.Func([], [IDL.Nat], []),\r\n      initateTransfer: IDL.Func([], [IDL.Text], []),\r\n\r\n      initiateICRC1Transfer : IDL.Func([], [IDL.Vec(IDL.Nat8)], []),\r\n\r\n      logMessageClear: IDL.Func([], [], []),\r\n      logMessageGet: IDL.Func([], [IDL.Vec(IDL.Text)], ['query']),\r\n      name: IDL.Func([IDL.Text], [IDL.Text], ['query']),\r\n      removeAuth: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      removeLiquidity: IDL.Func([\r\n        IDL.Principal, IDL.Principal, IDL.Nat, IDL.Nat,\r\n        IDL.Nat, IDL.Principal, IDL.Int], [TxReceipt], [],\r\n      ),\r\n      setFeeForToken: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      setFeeOn: IDL.Func([IDL.Bool], [IDL.Bool], []),\r\n      setFeeTo: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      setGlobalTokenFee: IDL.Func([IDL.Nat], [IDL.Bool], []),\r\n      setMaxTokens: IDL.Func([IDL.Nat], [IDL.Bool], []),\r\n      setOwner: IDL.Func([IDL.Principal], [IDL.Bool], []),\r\n      setPairSupply: IDL.Func([IDL.Text, IDL.Nat], [IDL.Bool], []),\r\n      setPermissionless: IDL.Func([IDL.Bool], [IDL.Bool], []),\r\n      swapExactTokensForTokens: IDL.Func([IDL.Nat, IDL.Nat, IDL.Vec(IDL.Text), IDL.Principal, IDL.Int], [TxReceipt], []),\r\n      swapTokensForExactTokens: IDL.Func([IDL.Nat, IDL.Nat, IDL.Vec(IDL.Text), IDL.Principal, IDL.Int], [TxReceipt], []),\r\n      symbol: IDL.Func([IDL.Text], [IDL.Text], ['query']),\r\n      totalSupply: IDL.Func([IDL.Text], [IDL.Nat], ['query']),\r\n      transfer: IDL.Func([IDL.Text, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      transferFrom: IDL.Func([IDL.Text, IDL.Principal, IDL.Principal, IDL.Nat], [IDL.Bool], []),\r\n      updateAllTokenMetadata: IDL.Func([], [IDL.Bool], []),\r\n      updateTokenFees: IDL.Func([], [IDL.Bool], []),\r\n      updateTokenMetadata: IDL.Func([IDL.Text], [IDL.Bool], []),\r\n      withdraw: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      withdrawTo: IDL.Func([IDL.Principal, IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n    });\r\n    return Swap;\r\n  };\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace TokenIDL {\r\n  export namespace DIP20 {\r\n    export interface Metadata {\r\n      fee: bigint;\r\n      decimals: number;\r\n      owner: Principal;\r\n      logo: string;\r\n      name: string;\r\n      totalSupply: bigint;\r\n      symbol: string;\r\n    }\r\n    export type Result = { Ok: bigint } | { Err: TxError };\r\n    export type YCResult = { Ok: string } | { Err: TxError };\r\n    export interface TokenInfo {\r\n      holderNumber: bigint;\r\n      deployTime: bigint;\r\n      metadata: Metadata;\r\n      historySize: bigint;\r\n      cycles: bigint;\r\n      feeTo: Principal;\r\n    }\r\n    export type TxError =\r\n      | { InsufficientAllowance: null }\r\n      | { InsufficientBalance: null }\r\n      | { ErrorOperationStyle: null }\r\n      | { Unauthorized: null }\r\n      | { LedgerTrap: null }\r\n      | { ErrorTo: null }\r\n      | { Other: null }\r\n      | { BlockUsed: null }\r\n      | { AmountTooSmall: null };\r\n    export interface Token {\r\n      allowance: (arg_0: Principal, arg_1: Principal) => Promise<bigint>;\r\n      approve: (arg_0: Principal, arg_1: bigint) => Promise<Result>;\r\n      balanceOf: (arg_0: Principal) => Promise<bigint>;\r\n      decimals: () => Promise<number>;\r\n      getAllowanceSize: () => Promise<bigint>;\r\n      getBlockUsed: () => Promise<Array<bigint>>;\r\n      getHolders: (\r\n        arg_0: bigint,\r\n        arg_1: bigint\r\n      ) => Promise<Array<[Principal, bigint]>>;\r\n      logo: () => Promise<string>;\r\n      getMetadata: () => Promise<Metadata>;\r\n      getTokenInfo: () => Promise<TokenInfo>;\r\n      getUserApprovals: (arg_0: Principal) => Promise<Array<[Principal, bigint]>>;\r\n      historySize: () => Promise<bigint>;\r\n      isBlockUsed: (arg_0: bigint) => Promise<boolean>;\r\n      mint: (arg_0: [] | [Array<number>], arg_1: bigint) => Promise<Result>;\r\n      name: () => Promise<string>;\r\n      owner: () => Promise<Principal>;\r\n      setFee: (arg_0: bigint) => Promise<undefined>;\r\n      setFeeTo: (arg_0: Principal) => Promise<undefined>;\r\n      setGenesis: () => Promise<Result>;\r\n      setLogo: (arg_0: string) => Promise<undefined>;\r\n      setName: (arg_0: string) => Promise<undefined>;\r\n      setOwner: (arg_0: Principal) => Promise<undefined>;\r\n      symbol: () => Promise<string>;\r\n      totalSupply: () => Promise<bigint>;\r\n      transfer: (arg_0: Principal, arg_1: bigint) => Promise<Result>;\r\n      transferFrom: (\r\n        arg_0: Principal,\r\n        arg_1: Principal,\r\n        arg_2: bigint\r\n      ) => Promise<Result>;\r\n      withdraw: (arg_0: bigint, arg_1: string) => Promise<Result>;\r\n    }\r\n    export type Factory = Token;\r\n\r\n    export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const TxError = IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n        ErrorOperationStyle: IDL.Null,\r\n        Unauthorized: IDL.Null,\r\n        LedgerTrap: IDL.Null,\r\n        ErrorTo: IDL.Null,\r\n        Other: IDL.Null,\r\n        BlockUsed: IDL.Null,\r\n        AmountTooSmall: IDL.Null,\r\n      });\r\n      const Result = IDL.Variant({ Ok: IDL.Nat, Err: TxError });\r\n      const Metadata = IDL.Record({\r\n        fee: IDL.Nat,\r\n        decimals: IDL.Nat8,\r\n        owner: IDL.Principal,\r\n        logo: IDL.Text,\r\n        name: IDL.Text,\r\n        totalSupply: IDL.Nat,\r\n        symbol: IDL.Text,\r\n      });\r\n      const TokenInfo = IDL.Record({\r\n        holderNumber: IDL.Nat64,\r\n        deployTime: IDL.Nat64,\r\n        metadata: Metadata,\r\n        historySize: IDL.Nat64,\r\n        cycles: IDL.Nat64,\r\n        feeTo: IDL.Principal,\r\n      });\r\n      return IDL.Service({\r\n        allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n        approve: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], []),\r\n        decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        getAllowanceSize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n        getHolders: IDL.Func(\r\n          [IDL.Nat64, IDL.Nat64],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        logo: IDL.Func([], [IDL.Text], ['query']),\r\n        getMetadata: IDL.Func([], [Metadata], ['query']),\r\n        getTokenInfo: IDL.Func([], [TokenInfo], ['query']),\r\n        getUserApprovals: IDL.Func(\r\n          [IDL.Principal],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        historySize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n        mint: IDL.Func([IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64], [Result], []),\r\n        name: IDL.Func([], [IDL.Text], ['query']),\r\n        owner: IDL.Func([], [IDL.Principal], ['query']),\r\n        setFee: IDL.Func([IDL.Nat], [], []),\r\n        setFeeTo: IDL.Func([IDL.Principal], [], []),\r\n        setGenesis: IDL.Func([], [Result], []),\r\n        setLogo: IDL.Func([IDL.Text], [], []),\r\n        setName: IDL.Func([IDL.Text], [], []),\r\n        setOwner: IDL.Func([IDL.Principal], [], []),\r\n        symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n        transfer: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        transferFrom: IDL.Func(\r\n          [IDL.Principal, IDL.Principal, IDL.Nat],\r\n          [Result],\r\n          []\r\n        ),\r\n        withdraw: IDL.Func([IDL.Nat64, IDL.Text], [Result], []),\r\n      });\r\n    };\r\n    export const YCfactory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const TxError = IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n        ErrorOperationStyle: IDL.Null,\r\n        Unauthorized: IDL.Null,\r\n        LedgerTrap: IDL.Null,\r\n        ErrorTo: IDL.Null,\r\n        Other: IDL.Null,\r\n        BlockUsed: IDL.Null,\r\n        AmountTooSmall: IDL.Null,\r\n      });\r\n      const Result = IDL.Variant({ Ok: IDL.Text, Err: TxError });\r\n      const Metadata = IDL.Record({\r\n        fee: IDL.Nat,\r\n        decimals: IDL.Nat8,\r\n        owner: IDL.Principal,\r\n        logo: IDL.Text,\r\n        name: IDL.Text,\r\n        totalSupply: IDL.Nat,\r\n        symbol: IDL.Text,\r\n      });\r\n      const TokenInfo = IDL.Record({\r\n        holderNumber: IDL.Nat64,\r\n        deployTime: IDL.Nat64,\r\n        metadata: Metadata,\r\n        historySize: IDL.Nat64,\r\n        cycles: IDL.Nat64,\r\n        feeTo: IDL.Principal,\r\n      });\r\n      return IDL.Service({\r\n        allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n        approve: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], []),\r\n        decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        getAllowanceSize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n        getHolders: IDL.Func(\r\n          [IDL.Nat64, IDL.Nat64],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        logo: IDL.Func([], [IDL.Text], ['query']),\r\n        getMetadata: IDL.Func([], [Metadata], ['query']),\r\n        getTokenInfo: IDL.Func([], [TokenInfo], ['query']),\r\n        getUserApprovals: IDL.Func(\r\n          [IDL.Principal],\r\n          [IDL.Vec(IDL.Tuple(IDL.Principal, IDL.Nat))],\r\n          ['query']\r\n        ),\r\n        historySize: IDL.Func([], [IDL.Nat64], ['query']),\r\n        isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n        mint: IDL.Func([IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64], [Result], []),\r\n        name: IDL.Func([], [IDL.Text], ['query']),\r\n        owner: IDL.Func([], [IDL.Principal], ['query']),\r\n        setFee: IDL.Func([IDL.Nat], [], []),\r\n        setFeeTo: IDL.Func([IDL.Principal], [], []),\r\n        setGenesis: IDL.Func([], [Result], []),\r\n        setLogo: IDL.Func([IDL.Text], [], []),\r\n        setName: IDL.Func([IDL.Text], [], []),\r\n        setOwner: IDL.Func([IDL.Principal], [], []),\r\n        symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n        transfer: IDL.Func([IDL.Principal, IDL.Nat], [Result], []),\r\n        transferFrom: IDL.Func(\r\n          [IDL.Principal, IDL.Principal, IDL.Nat],\r\n          [Result],\r\n          []\r\n        ),\r\n        withdraw: IDL.Func([IDL.Nat64, IDL.Text], [Result], []),\r\n      });\r\n    };\r\n  };\r\n\r\n  export namespace ICRC1 {\r\n    export interface Account { owner: Principal, subaccount: [] | [Array<number>] };\r\n    export interface ArchivedTransactionRange { callback: [Principal, string], start: bigint, length: bigint };\r\n    export interface Burn { from: Account, memo: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint };\r\n    export interface GetTransactionsRequest { start: bigint, length: bigint };\r\n    export interface GetTransactionsResponse {\r\n      first_index: bigint, log_length: bigint, transactions: Array<Transaction>,\r\n      archived_transactions: Array<ArchivedTransactionRange>,\r\n    };\r\n    export interface HttpRequest { url: string, method: string, body: Array<number>, headers: Array<[string, string]> };\r\n    export interface HttpResponse { body: Array<number>, headers: Array<[string, string]>, status_code: number };\r\n    export interface Mint { to: Account, memo: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint };\r\n    export type Result = { Ok: bigint } | { Err: TransferError };\r\n    export interface StandardRecord { url: string, name: string };\r\n    export interface Transaction {\r\n      burn: [] | [Burn], kind: string, mint: [] | [Mint],\r\n      timestamp: bigint, transfer: [] | [Transfer]\r\n    };\r\n    export interface Transfer {\r\n      to: Account, fee: [] | [bigint], from: Account, memo: [] | [Array<number>],\r\n      created_at_time: [] | [bigint], amount: bigint,\r\n    };\r\n    export interface TransferArg {\r\n      to: Account, fee: [] | [bigint], memo: [] | [Array<number>],\r\n      from_subaccount: [] | [Array<number>], created_at_time: [] | [bigint], amount: bigint\r\n    };\r\n    export type TransferError = {\r\n      GenericError: { message: string, error_code: bigint }\r\n    } |\r\n    { TemporarilyUnavailable: null } |\r\n    { BadBurn: { min_burn_amount: bigint } } |\r\n    { Duplicate: { duplicate_of: bigint } } |\r\n    { BadFee: { expected_fee: bigint } } |\r\n    { CreatedInFuture: { ledger_time: bigint } } |\r\n    { TooOld: null } |\r\n    { InsufficientFunds: { balance: bigint } };\r\n    export type Value = { Int: bigint } | { Nat: bigint } | { Blob: Array<number> } | { Text: string };\r\n\r\n    export interface Token {\r\n      get_transactions: (arg_0: GetTransactionsRequest) => Promise<GetTransactionsResponse>,\r\n      http_request: (arg_0: HttpRequest) => Promise<HttpResponse>,\r\n      icrc1_balance_of: (arg_0: Account) => Promise<bigint>,\r\n      icrc1_decimals: () => Promise<number>,\r\n      icrc1_fee: () => Promise<bigint>,\r\n      icrc1_metadata: () => Promise<Array<[string, Value]>>,\r\n      icrc1_minting_account: () => Promise<[] | [Account]>,\r\n      icrc1_name: () => Promise<string>,\r\n      icrc1_supported_standards: () => Promise<Array<StandardRecord>>,\r\n      icrc1_symbol: () => Promise<string>,\r\n      icrc1_total_supply: () => Promise<bigint>,\r\n      icrc1_transfer: (arg_0: TransferArg) => Promise<Result>,\r\n    };\r\n    export type Factory = Token;\r\n    export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n      const GetTransactionsRequest = IDL.Record({ start: IDL.Nat, length: IDL.Nat });\r\n      const Account = IDL.Record({ owner: IDL.Principal, subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)) });\r\n      const Burn = IDL.Record({\r\n        from: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat\r\n      });\r\n      const Mint = IDL.Record({\r\n        to: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat\r\n      });\r\n      const Transfer = IDL.Record({\r\n        to: Account, fee: IDL.Opt(IDL.Nat), from: Account, memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat,\r\n      });\r\n      const Transaction = IDL.Record({\r\n        burn: IDL.Opt(Burn), kind: IDL.Text, mint: IDL.Opt(Mint), timestamp: IDL.Nat64,\r\n        transfer: IDL.Opt(Transfer),\r\n      });\r\n      const ArchivedTransactionRange = IDL.Record({\r\n        callback: IDL.Func( [GetTransactionsRequest],\r\n          [IDL.Record({ transactions: IDL.Vec(Transaction) })],['query'],\r\n        ),\r\n        start: IDL.Nat, length: IDL.Nat,\r\n      });\r\n\r\n      const GetTransactionsResponse = IDL.Record({ \r\n        first_index: IDL.Nat, log_length: IDL.Nat, transactions: IDL.Vec(Transaction),\r\n        archived_transactions: IDL.Vec(ArchivedTransactionRange),\r\n      });\r\n      const HttpRequest = IDL.Record({\r\n        url: IDL.Text, method: IDL.Text,body: IDL.Vec(IDL.Nat8), headers: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text)),\r\n      });\r\n      const HttpResponse = IDL.Record({\r\n        body: IDL.Vec(IDL.Nat8), headers: IDL.Vec(IDL.Tuple(IDL.Text, IDL.Text)), status_code: IDL.Nat16,\r\n      });\r\n      const Value = IDL.Variant({ Int: IDL.Int, Nat: IDL.Nat, Blob: IDL.Vec(IDL.Nat8), Text: IDL.Text});\r\n      const StandardRecord = IDL.Record({ url: IDL.Text, name: IDL.Text });\r\n\r\n      const TransferArg = IDL.Record({\r\n        to: Account, fee: IDL.Opt(IDL.Nat), memo: IDL.Opt(IDL.Vec(IDL.Nat8)),\r\n        from_subaccount: IDL.Opt(IDL.Vec(IDL.Nat8)),created_at_time: IDL.Opt(IDL.Nat64), amount: IDL.Nat,\r\n      });\r\n       \r\n      const TransferError = IDL.Variant({\r\n        GenericError: IDL.Record({  message: IDL.Text,   error_code: IDL.Nat }),\r\n        TemporarilyUnavailable: IDL.Null,\r\n        BadBurn: IDL.Record({ min_burn_amount: IDL.Nat }),\r\n        Duplicate: IDL.Record({ duplicate_of: IDL.Nat }),\r\n        BadFee: IDL.Record({ expected_fee: IDL.Nat }),\r\n        CreatedInFuture: IDL.Record({ ledger_time: IDL.Nat64 }),\r\n        TooOld: IDL.Null,\r\n        InsufficientFunds: IDL.Record({ balance: IDL.Nat }),\r\n      });\r\n      const Result = IDL.Variant({ Ok: IDL.Nat, Err: TransferError });\r\n      return IDL.Service({\r\n        get_transactions: IDL.Func( [GetTransactionsRequest], [GetTransactionsResponse],['query']),\r\n        http_request: IDL.Func([HttpRequest], [HttpResponse], ['query']),\r\n        icrc1_balance_of: IDL.Func([Account], [IDL.Nat], ['query']),\r\n        icrc1_decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n        icrc1_fee: IDL.Func([], [IDL.Nat], ['query']),\r\n        icrc1_metadata: IDL.Func( [], [IDL.Vec(IDL.Tuple(IDL.Text, Value))],['query'] ),\r\n        icrc1_minting_account: IDL.Func([], [IDL.Opt(Account)], ['query']),\r\n        icrc1_name: IDL.Func([], [IDL.Text], ['query']),\r\n        icrc1_supported_standards: IDL.Func( [],[IDL.Vec(StandardRecord)],['query']),\r\n        icrc1_symbol: IDL.Func([], [IDL.Text], ['query']),\r\n        icrc1_total_supply: IDL.Func([], [IDL.Nat], ['query']),\r\n        icrc1_transfer: IDL.Func([TransferArg], [Result], []),\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { IDL } from '@dfinity/candid';\r\nimport type { Principal } from '@dfinity/principal';\r\n\r\nexport namespace XTCIDL {\r\n  export type BurnError =\r\n    | { InsufficientBalance: null }\r\n    | { InvalidTokenContract: null }\r\n    | { NotSufficientLiquidity: null };\r\n  export type BurnResult = { Ok: TransactionId } | { Err: BurnError };\r\n  export type CreateResult =\r\n    | { Ok: { canister_id: Principal } }\r\n    | { Err: string };\r\n  export interface Event {\r\n    fee: bigint;\r\n    status: TransactionStatus;\r\n    kind: EventDetail;\r\n    cycles: bigint;\r\n    timestamp: bigint;\r\n  }\r\n  export type EventDetail =\r\n    | {\r\n        Approve: { to: Principal; from: Principal };\r\n      }\r\n    | { Burn: { to: Principal; from: Principal } }\r\n    | { Mint: { to: Principal } }\r\n    | { CanisterCreated: { from: Principal; canister: Principal } }\r\n    | {\r\n        CanisterCalled: {\r\n          from: Principal;\r\n          method_name: string;\r\n          canister: Principal;\r\n        };\r\n      }\r\n    | { Transfer: { to: Principal; from: Principal } }\r\n    | {\r\n        TransferFrom: {\r\n          to: Principal;\r\n          from: Principal;\r\n          caller: Principal;\r\n        };\r\n      };\r\n  export interface EventsConnection {\r\n    data: Array<Event>;\r\n    next_offset: TransactionId;\r\n    next_canister_id: [] | [Principal];\r\n  }\r\n  export interface Metadata {\r\n    fee: bigint;\r\n    decimals: number;\r\n    owner: Principal;\r\n    logo: string;\r\n    name: string;\r\n    totalSupply: bigint;\r\n    symbol: string;\r\n  }\r\n  export type MintError = { NotSufficientLiquidity: null };\r\n  export type MintResult = { Ok: TransactionId } | { Err: MintError };\r\n  export type Operation =\r\n    | { transferFrom: null }\r\n    | { burn: null }\r\n    | { mint: null }\r\n    | { approve: null }\r\n    | { canisterCalled: null }\r\n    | { transfer: null }\r\n    | { canisterCreated: null };\r\n  export type ResultCall = { Ok: { return: Array<number> } } | { Err: string };\r\n  export type ResultSend = { Ok: null } | { Err: string };\r\n  export interface Stats {\r\n    fee: bigint;\r\n    transfers_count: bigint;\r\n    balance: bigint;\r\n    mints_count: bigint;\r\n    transfers_from_count: bigint;\r\n    canisters_created_count: bigint;\r\n    supply: bigint;\r\n    burns_count: bigint;\r\n    approvals_count: bigint;\r\n    proxy_calls_count: bigint;\r\n    history_events: bigint;\r\n  }\r\n  export type Time = bigint;\r\n  export type TransactionId = bigint;\r\n  export type TransactionStatus = { FAILED: null } | { SUCCEEDED: null };\r\n  export type TxError =\r\n    | { NotifyDfxFailed: null }\r\n    | { InsufficientAllowance: null }\r\n    | { UnexpectedCyclesResponse: null }\r\n    | { InsufficientBalance: null }\r\n    | { InsufficientXTCFee: null }\r\n    | { ErrorOperationStyle: null }\r\n    | { Unauthorized: null }\r\n    | { LedgerTrap: null }\r\n    | { ErrorTo: null }\r\n    | { Other: null }\r\n    | { FetchRateFailed: null }\r\n    | { BlockUsed: null }\r\n    | { AmountTooSmall: null };\r\n  export type TxReceipt = { Ok: bigint } | { Err: TxError };\r\n  export type TxReceiptLegacy =\r\n    | { Ok: bigint }\r\n    | {\r\n        Err: { InsufficientAllowance: null } | { InsufficientBalance: null };\r\n      };\r\n  export interface TxRecord {\r\n    op: Operation;\r\n    to: Principal;\r\n    fee: bigint;\r\n    status: TransactionStatus;\r\n    from: Principal;\r\n    timestamp: Time;\r\n    caller: [] | [Principal];\r\n    index: bigint;\r\n    amount: bigint;\r\n  }\r\n  export interface _SERVICE {\r\n    allowance: (arg_0: Principal, arg_1: Principal) => Promise<bigint>;\r\n    approve: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>;\r\n    balance: (arg_0: [] | [Principal]) => Promise<bigint>;\r\n    balanceOf: (arg_0: Principal) => Promise<bigint>;\r\n    burn: (arg_0: {\r\n      canister_id: Principal;\r\n      amount: bigint;\r\n    }) => Promise<BurnResult>;\r\n    decimals: () => Promise<number>;\r\n    events: (arg_0: {\r\n      offset: [] | [bigint];\r\n      limit: number;\r\n    }) => Promise<EventsConnection>;\r\n    getBlockUsed: () => Promise<Array<bigint>>;\r\n    getMetadata: () => Promise<Metadata>;\r\n    getTransaction: (arg_0: bigint) => Promise<TxRecord>;\r\n    getTransactions: (arg_0: bigint, arg_1: bigint) => Promise<Array<TxRecord>>;\r\n    get_map_block_used: (arg_0: bigint) => Promise<[] | [bigint]>;\r\n    get_transaction: (arg_0: TransactionId) => Promise<[] | [Event]>;\r\n    halt: () => Promise<undefined>;\r\n    historySize: () => Promise<bigint>;\r\n    isBlockUsed: (arg_0: bigint) => Promise<boolean>;\r\n    logo: () => Promise<string>;\r\n    mint: (arg_0: Principal, arg_1: bigint) => Promise<MintResult>;\r\n    mint_by_icp: (\r\n      arg_0: [] | [Array<number>],\r\n      arg_1: bigint\r\n    ) => Promise<TxReceipt>;\r\n    name: () => Promise<string>;\r\n    nameErc20: () => Promise<string>;\r\n    stats: () => Promise<Stats>;\r\n    symbol: () => Promise<string>;\r\n    totalSupply: () => Promise<bigint>;\r\n    transfer: (arg_0: Principal, arg_1: bigint) => Promise<TxReceipt>;\r\n    transferErc20: (\r\n      arg_0: Principal,\r\n      arg_1: bigint\r\n    ) => Promise<TxReceiptLegacy>;\r\n    transferFrom: (\r\n      arg_0: Principal,\r\n      arg_1: Principal,\r\n      arg_2: bigint\r\n    ) => Promise<TxReceipt>;\r\n    wallet_balance: () => Promise<{ amount: bigint }>;\r\n    wallet_call: (arg_0: {\r\n      args: Array<number>;\r\n      cycles: bigint;\r\n      method_name: string;\r\n      canister: Principal;\r\n    }) => Promise<ResultCall>;\r\n    wallet_create_canister: (arg_0: {\r\n      controller: [] | [Principal];\r\n      cycles: bigint;\r\n    }) => Promise<CreateResult>;\r\n    wallet_create_wallet: (arg_0: {\r\n      controller: [] | [Principal];\r\n      cycles: bigint;\r\n    }) => Promise<CreateResult>;\r\n    wallet_send: (arg_0: {\r\n      canister: Principal;\r\n      amount: bigint;\r\n    }) => Promise<ResultSend>;\r\n  }\r\n\r\n  export const factory: IDL.InterfaceFactory = ({ IDL }) => {\r\n    const TxError = IDL.Variant({\r\n      NotifyDfxFailed: IDL.Null,\r\n      InsufficientAllowance: IDL.Null,\r\n      UnexpectedCyclesResponse: IDL.Null,\r\n      InsufficientBalance: IDL.Null,\r\n      InsufficientXTCFee: IDL.Null,\r\n      ErrorOperationStyle: IDL.Null,\r\n      Unauthorized: IDL.Null,\r\n      LedgerTrap: IDL.Null,\r\n      ErrorTo: IDL.Null,\r\n      Other: IDL.Null,\r\n      FetchRateFailed: IDL.Null,\r\n      BlockUsed: IDL.Null,\r\n      AmountTooSmall: IDL.Null,\r\n    });\r\n    const TxReceipt = IDL.Variant({ Ok: IDL.Nat, Err: TxError });\r\n    const TransactionId = IDL.Nat64;\r\n    const BurnError = IDL.Variant({\r\n      InsufficientBalance: IDL.Null,\r\n      InvalidTokenContract: IDL.Null,\r\n      NotSufficientLiquidity: IDL.Null,\r\n    });\r\n    const BurnResult = IDL.Variant({ Ok: TransactionId, Err: BurnError });\r\n    const TransactionStatus = IDL.Variant({\r\n      FAILED: IDL.Null,\r\n      SUCCEEDED: IDL.Null,\r\n    });\r\n    const EventDetail = IDL.Variant({\r\n      Approve: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      Burn: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      Mint: IDL.Record({ to: IDL.Principal }),\r\n      CanisterCreated: IDL.Record({\r\n        from: IDL.Principal,\r\n        canister: IDL.Principal,\r\n      }),\r\n      CanisterCalled: IDL.Record({\r\n        from: IDL.Principal,\r\n        method_name: IDL.Text,\r\n        canister: IDL.Principal,\r\n      }),\r\n      Transfer: IDL.Record({ to: IDL.Principal, from: IDL.Principal }),\r\n      TransferFrom: IDL.Record({\r\n        to: IDL.Principal,\r\n        from: IDL.Principal,\r\n        caller: IDL.Principal,\r\n      }),\r\n    });\r\n    const Event = IDL.Record({\r\n      fee: IDL.Nat64,\r\n      status: TransactionStatus,\r\n      kind: EventDetail,\r\n      cycles: IDL.Nat64,\r\n      timestamp: IDL.Nat64,\r\n    });\r\n    const EventsConnection = IDL.Record({\r\n      data: IDL.Vec(Event),\r\n      next_offset: TransactionId,\r\n      next_canister_id: IDL.Opt(IDL.Principal),\r\n    });\r\n    const Metadata = IDL.Record({\r\n      fee: IDL.Nat,\r\n      decimals: IDL.Nat8,\r\n      owner: IDL.Principal,\r\n      logo: IDL.Text,\r\n      name: IDL.Text,\r\n      totalSupply: IDL.Nat,\r\n      symbol: IDL.Text,\r\n    });\r\n    const Operation = IDL.Variant({\r\n      transferFrom: IDL.Null,\r\n      burn: IDL.Null,\r\n      mint: IDL.Null,\r\n      approve: IDL.Null,\r\n      canisterCalled: IDL.Null,\r\n      transfer: IDL.Null,\r\n      canisterCreated: IDL.Null,\r\n    });\r\n    const Time = IDL.Int;\r\n    const TxRecord = IDL.Record({\r\n      op: Operation,\r\n      to: IDL.Principal,\r\n      fee: IDL.Nat,\r\n      status: TransactionStatus,\r\n      from: IDL.Principal,\r\n      timestamp: Time,\r\n      caller: IDL.Opt(IDL.Principal),\r\n      index: IDL.Nat,\r\n      amount: IDL.Nat,\r\n    });\r\n    const MintError = IDL.Variant({ NotSufficientLiquidity: IDL.Null });\r\n    const MintResult = IDL.Variant({ Ok: TransactionId, Err: MintError });\r\n    const Stats = IDL.Record({\r\n      fee: IDL.Nat,\r\n      transfers_count: IDL.Nat64,\r\n      balance: IDL.Nat64,\r\n      mints_count: IDL.Nat64,\r\n      transfers_from_count: IDL.Nat64,\r\n      canisters_created_count: IDL.Nat64,\r\n      supply: IDL.Nat,\r\n      burns_count: IDL.Nat64,\r\n      approvals_count: IDL.Nat64,\r\n      proxy_calls_count: IDL.Nat64,\r\n      history_events: IDL.Nat64,\r\n    });\r\n    const TxReceiptLegacy = IDL.Variant({\r\n      Ok: IDL.Nat,\r\n      Err: IDL.Variant({\r\n        InsufficientAllowance: IDL.Null,\r\n        InsufficientBalance: IDL.Null,\r\n      }),\r\n    });\r\n    const ResultCall = IDL.Variant({\r\n      Ok: IDL.Record({ return: IDL.Vec(IDL.Nat8) }),\r\n      Err: IDL.Text,\r\n    });\r\n    const CreateResult = IDL.Variant({\r\n      Ok: IDL.Record({ canister_id: IDL.Principal }),\r\n      Err: IDL.Text,\r\n    });\r\n    const ResultSend = IDL.Variant({ Ok: IDL.Null, Err: IDL.Text });\r\n    return IDL.Service({\r\n      allowance: IDL.Func([IDL.Principal, IDL.Principal], [IDL.Nat], ['query']),\r\n      approve: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      balance: IDL.Func([IDL.Opt(IDL.Principal)], [IDL.Nat64], []),\r\n      balanceOf: IDL.Func([IDL.Principal], [IDL.Nat], ['query']),\r\n      burn: IDL.Func(\r\n        [IDL.Record({ canister_id: IDL.Principal, amount: IDL.Nat64 })],\r\n        [BurnResult],\r\n        []\r\n      ),\r\n      decimals: IDL.Func([], [IDL.Nat8], ['query']),\r\n      events: IDL.Func(\r\n        [IDL.Record({ offset: IDL.Opt(IDL.Nat64), limit: IDL.Nat16 })],\r\n        [EventsConnection],\r\n        ['query']\r\n      ),\r\n      getBlockUsed: IDL.Func([], [IDL.Vec(IDL.Nat64)], ['query']),\r\n      getMetadata: IDL.Func([], [Metadata], ['query']),\r\n      getTransaction: IDL.Func([IDL.Nat], [TxRecord], []),\r\n      getTransactions: IDL.Func([IDL.Nat, IDL.Nat], [IDL.Vec(TxRecord)], []),\r\n      get_map_block_used: IDL.Func(\r\n        [IDL.Nat64],\r\n        [IDL.Opt(IDL.Nat64)],\r\n        ['query']\r\n      ),\r\n      get_transaction: IDL.Func([TransactionId], [IDL.Opt(Event)], []),\r\n      halt: IDL.Func([], [], []),\r\n      historySize: IDL.Func([], [IDL.Nat], ['query']),\r\n      isBlockUsed: IDL.Func([IDL.Nat64], [IDL.Bool], ['query']),\r\n      logo: IDL.Func([], [IDL.Text], ['query']),\r\n      mint: IDL.Func([IDL.Principal, IDL.Nat], [MintResult], []),\r\n      mint_by_icp: IDL.Func(\r\n        [IDL.Opt(IDL.Vec(IDL.Nat8)), IDL.Nat64],\r\n        [TxReceipt],\r\n        []\r\n      ),\r\n      name: IDL.Func([], [IDL.Text], ['query']),\r\n      nameErc20: IDL.Func([], [IDL.Text], ['query']),\r\n      stats: IDL.Func([], [Stats], ['query']),\r\n      symbol: IDL.Func([], [IDL.Text], ['query']),\r\n      totalSupply: IDL.Func([], [IDL.Nat], ['query']),\r\n      transfer: IDL.Func([IDL.Principal, IDL.Nat], [TxReceipt], []),\r\n      transferErc20: IDL.Func([IDL.Principal, IDL.Nat], [TxReceiptLegacy], []),\r\n      transferFrom: IDL.Func(\r\n        [IDL.Principal, IDL.Principal, IDL.Nat],\r\n        [TxReceipt],\r\n        []\r\n      ),\r\n      wallet_balance: IDL.Func(\r\n        [],\r\n        [IDL.Record({ amount: IDL.Nat64 })],\r\n        ['query']\r\n      ),\r\n      wallet_call: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            args: IDL.Vec(IDL.Nat8),\r\n            cycles: IDL.Nat64,\r\n            method_name: IDL.Text,\r\n            canister: IDL.Principal,\r\n          }),\r\n        ],\r\n        [ResultCall],\r\n        []\r\n      ),\r\n      wallet_create_canister: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            controller: IDL.Opt(IDL.Principal),\r\n            cycles: IDL.Nat64,\r\n          }),\r\n        ],\r\n        [CreateResult],\r\n        []\r\n      ),\r\n      wallet_create_wallet: IDL.Func(\r\n        [\r\n          IDL.Record({\r\n            controller: IDL.Opt(IDL.Principal),\r\n            cycles: IDL.Nat64,\r\n          }),\r\n        ],\r\n        [CreateResult],\r\n        []\r\n      ),\r\n      wallet_send: IDL.Func(\r\n        [IDL.Record({ canister: IDL.Principal, amount: IDL.Nat64 })],\r\n        [ResultSend],\r\n        []\r\n      ),\r\n    });\r\n  };\r\n}\r\n","export * from './use-all-pairs';\r\nexport * from './use-balances';\r\nexport * from './use-query';\r\nexport * from './use-token-allowance';\r\nexport * from './use-token-balance';\r\nexport * from './use-token-logos-fetcher-init';\r\nexport * from './use-token-selection-detector';\r\nexport * from './use-user-metrics';\r\nexport * from './use-network-error-notifications';\r\nexport * from './use-header-resize-effect';\r\nexport * from './use-token-fee'","import { useCallback } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { getswapActor } from '@/utils/canisterDriver'\r\n\r\n\r\nimport { FeatureState, swapCanisterActions, useKeepSync, useSwapCanisterStore } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseAllPairs } from '@/utils/canister';\r\n\r\nexport const useAllPairs = () => {\r\n  const dispatch = useDispatch();\r\n  const { allPairsState, allPairs } = useSwapCanisterStore();\r\n\r\n  const getAllPairs = useKeepSync('getAllPairs',\r\n    useCallback(async (isRefreshing?: boolean) => {\r\n      try {\r\n        if (allPairsState !== FeatureState.Loading) {\r\n          dispatch(swapCanisterActions.setAllPairsState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n          const swapActor = await getswapActor(true);\r\n          var response = await swapActor.getAllPairs();\r\n          if (response) {\r\n            dispatch(swapCanisterActions.setAllPairs(parseResponseAllPairs(response)));\r\n          } else {\r\n            throw new Error('No \"getAllPairs\" response');\r\n          }\r\n          dispatch(swapCanisterActions.setAllPairsState(FeatureState.Idle));\r\n        }\r\n      } catch (error) {\r\n        AppLog.error(`All pairs fetch error`, error);\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Error));\r\n      }\r\n    },[dispatch, allPairsState]),{ interval: 25 * 1000 }\r\n  );\r\n\r\n  const directGetAllPairs = async()=>{\r\n    try {\r\n      if (allPairsState !== FeatureState.Loading) {\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Updating ));\r\n        const swapActor = await getswapActor(true);\r\n        var response = await swapActor.getAllPairs();\r\n        if (response) {\r\n          dispatch(swapCanisterActions.setAllPairs(parseResponseAllPairs(response)));\r\n        } else {\r\n          throw new Error('No \"getAllPairs\" response');\r\n        }\r\n        dispatch(swapCanisterActions.setAllPairsState(FeatureState.Idle));\r\n      }\r\n    } catch (error) {\r\n      AppLog.error(`All pairs fetch error`, error);\r\n      dispatch(swapCanisterActions.setAllPairsState(FeatureState.Error));\r\n    }\r\n  }\r\n\r\n  return { allPairs, allPairsState, getAllPairs , directGetAllPairs };\r\n};\r\n\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useCallback, useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nimport { Balances } from '@/models';\r\nimport {\r\n  FeatureState, swapCanisterActions, useAppDispatch,\r\n  usePlugStore, useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { useKeepSync } from '@/store/features/keep-sync';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseUserLPBalances } from '@/utils/canister';\r\n\r\nimport { parseAmount, roundBigInt } from '@/utils/format';\r\nimport { fetchICPBalance } from '@/utils/icp';\r\n\r\nimport { getswapActor, getTokenBalance, tokenList } from '@/utils'\r\n\r\nexport const useBalances = () => {\r\n  const { principalId } = usePlugStore();\r\n  const { sonicBalances, icpBalance, tokenBalances, balancesState, userLPBalancesState } = useSwapCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const getUserPositiveLPBalances = useKeepSync('getUserPositiveLPBalances',\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        try {\r\n          if (userLPBalancesState === FeatureState.Loading) return;\r\n          dispatch(swapCanisterActions.setUserLPBalancesState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n          if (!principalId) throw new Error('Principal ID not found');\r\n\r\n          const swapActor = await getswapActor(true);\r\n          const response = await swapActor.getUserLPBalancesAbove(Principal.fromText(principalId), BigInt(0));\r\n\r\n          if (response) {\r\n            dispatch(swapCanisterActions.setUserLPBalances(parseResponseUserLPBalances(response)));\r\n          } else {\r\n            throw new Error('No \"getUserLPBalancesAbove\" response');\r\n          }\r\n          dispatch(swapCanisterActions.setUserLPBalancesState(FeatureState.Idle));\r\n        } catch (error) {\r\n          AppLog.error(`User LP balances fetch error`, error);\r\n          // dispatch(swapCanisterActions.setUserLPBalancesState(FeatureState.Error));\r\n        }\r\n      },\r\n      [userLPBalancesState, principalId, dispatch]\r\n    )\r\n  );\r\n  const maxDecimalPlaces = 5;\r\n  const getBalances = useKeepSync('getBalances', useCallback(async (isRefreshing?: boolean) => {\r\n      try {\r\n        if (balancesState === FeatureState.Loading) return;\r\n        if (!principalId) return;\r\n        const tokenInfo = tokenList('obj');\r\n        dispatch(swapCanisterActions.setBalancesState(isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n        const swapActor: any = await getswapActor(true);\r\n        const sonicBalances = await swapActor.getUserBalances(Principal.fromText(principalId));\r\n        const tokenBalances = sonicBalances ? await Promise.all(\r\n          sonicBalances.map(async (balance: any, index: number) => {\r\n            const tokenCanisterId = balance[0];\r\n           var tokenFeeLen = tokenInfo[tokenCanisterId]?.fee.toString().length;\r\n            var tokenDecimals = tokenInfo[tokenCanisterId].decimals;\r\n            sonicBalances[index][1] = roundBigInt(sonicBalances[index][1], tokenDecimals, tokenFeeLen>maxDecimalPlaces?tokenFeeLen:maxDecimalPlaces );\r\n            try {\r\n              var tokenBalance = BigInt(0);\r\n              tokenBalance = await getTokenBalance(tokenCanisterId, principalId);\r\n              const result: [string, bigint] = [balance[0], roundBigInt(tokenBalance, tokenDecimals, tokenFeeLen>maxDecimalPlaces?tokenFeeLen:maxDecimalPlaces)];\r\n              return result;\r\n            } catch (error) {\r\n              AppLog.error(`Token balance fetch error: token=\"${tokenCanisterId}\"`, error);\r\n              const errorResult: [string, bigint] = [balance[0], BigInt(0)];\r\n              return errorResult;\r\n            }\r\n          })\r\n        ) : undefined;\r\n        const icpBalance = await fetchICPBalance(principalId);\r\n        dispatch(swapCanisterActions.setICPBalance(parseAmount(icpBalance, ICP_METADATA.decimals)));\r\n        dispatch(swapCanisterActions.setSonicBalances(sonicBalances));\r\n        dispatch(swapCanisterActions.setTokenBalances(tokenBalances));\r\n        dispatch(swapCanisterActions.setBalancesState(FeatureState.Idle));\r\n      } catch (error) {\r\n        AppLog.error(`Balances fetch error`, error);\r\n        dispatch(swapCanisterActions.setBalancesState(FeatureState.Error));\r\n      }\r\n    },[principalId, dispatch, balancesState]), { interval: 10 * 1000 }\r\n  );\r\n\r\n  const totalBalances = useMemo(() => {\r\n    if (tokenBalances && sonicBalances) {\r\n      return sumBalances(tokenBalances, sonicBalances, { [ICP_METADATA.id]: icpBalance ?? 0 });\r\n    }\r\n    return undefined;\r\n  }, [tokenBalances, sonicBalances, icpBalance]);\r\n\r\n  return {\r\n    totalBalances, sonicBalances, tokenBalances, icpBalance, balancesState,\r\n    userLPBalancesState, getBalances, getUserPositiveLPBalances,\r\n  };\r\n};\r\n\r\nconst sumBalances = (...balances: Balances[]): Balances => {\r\n  return balances.reduce((acc, current) => {\r\n    const balance = Object.entries(current);\r\n    balance.forEach(([canisterId, amount]) => {\r\n      if (acc[canisterId]) {\r\n        acc[canisterId] += amount;\r\n      } else {\r\n        acc[canisterId] = amount;\r\n      }\r\n    });\r\n    return acc;\r\n  }, {} as Balances);\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { MINT_AUTO_NOTIFICATION_TITLES } from '@/notifications';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationState,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  usePlugStore,\r\n} from '@/store';\r\nimport {\r\n  getFromStorage,\r\n  LocalStorageKey,\r\n  MintUncompleteBlockHeights,\r\n} from '@/utils';\r\n\r\nexport const useBlockHeightsInit = () => {\r\n  const [notificationId] = useState(String(new Date().getTime()));\r\n  const { isConnected, principalId } = usePlugStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    const totalBlockHeightsWICP = getFromStorage(\r\n      LocalStorageKey.MintWICPUncompleteBlockHeights\r\n    ) as MintUncompleteBlockHeights | undefined;\r\n    const totalBlockHeightsXTC = getFromStorage(\r\n      LocalStorageKey.MintXTCUncompleteBlockHeights\r\n    ) as MintUncompleteBlockHeights | undefined;\r\n\r\n    if (principalId) {\r\n      const blockHeightsXTC = totalBlockHeightsXTC?.[principalId];\r\n      const blockHeightsWICP = totalBlockHeightsWICP?.[principalId];\r\n\r\n      if (blockHeightsWICP || blockHeightsXTC) {\r\n        const totalLength =\r\n          (blockHeightsWICP?.length ?? 0) + (blockHeightsXTC?.length ?? 0);\r\n\r\n        if (blockHeightsWICP) {\r\n          dispatch(\r\n            modalsSliceActions.setMintWICPUncompleteBlockHeights(\r\n              blockHeightsWICP\r\n            )\r\n          );\r\n        }\r\n        if (blockHeightsXTC) {\r\n          dispatch(\r\n            modalsSliceActions.setMintXTCUncompleteBlockHeights(blockHeightsXTC)\r\n          );\r\n        }\r\n\r\n        if (totalLength >= 1 && isConnected) {\r\n          addNotification({\r\n            id: notificationId,\r\n            title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Error],\r\n            type: NotificationType.MintAuto,\r\n            state: NotificationState.Error,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!isConnected || !principalId) {\r\n      popNotification(notificationId);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isConnected, principalId]);\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nexport const useHeaderResizeEffect = (\r\n  callback: (element: HTMLElement) => void\r\n) => {\r\n  useEffect(() => {\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      const header = document.getElementById('header');\r\n      if (header) {\r\n        callback(header);\r\n      }\r\n    });\r\n    const target = document.getElementById('header');\r\n    if (target) {\r\n      resizeObserver.observe(target);\r\n    }\r\n    return () => {\r\n      resizeObserver.disconnect();\r\n    };\r\n  }, [callback]);\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport {\r\n  FeatureState,\r\n  NotificationType,\r\n  useAppSelector,\r\n  useNotificationStore,\r\n} from '@/store';\r\n\r\nconst useNotificationEffect = (\r\n  id: string,\r\n  title: string,\r\n  state: FeatureState,\r\n  notifications: ReturnType<typeof useNotificationStore>\r\n) =>\r\n  useEffect(() => {\r\n    if (state === FeatureState.Error) {\r\n      return notifications.addNotification({\r\n        id,\r\n        title,\r\n        errorMessage: 'Trying again in 15 seconds...',\r\n        type: NotificationType.Error,\r\n        timeout: '11s',\r\n      });\r\n    } else {\r\n      notifications.popNotification(id);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [state]);\r\n\r\nexport const useNetworkErrorNotifications = () => {\r\n  const { allPairsState, supportedTokenListState, priceState, balanceState } =\r\n    useAppSelector((state) => ({\r\n      allPairsState: state.swap.allPairsState,\r\n      supportedTokenListState: state.swap.supportedTokenListState,\r\n      priceState: state.price.state,\r\n      balanceState: state.swap.balancesState,\r\n    }));\r\n  const notifications = useNotificationStore();\r\n\r\n  useNotificationEffect(\r\n    'icp-price-error',\r\n    'Failed to fetch ICP price',\r\n    priceState,\r\n    notifications\r\n  );\r\n\r\n  useNotificationEffect(\r\n    'supported-token-list-error',\r\n    'Failed to fetch supported token list',\r\n    supportedTokenListState,\r\n    notifications\r\n  );\r\n\r\n  useNotificationEffect(\r\n    'all-pairs-error',\r\n    'Failed to fetch all pairs',\r\n    allPairsState,\r\n    notifications\r\n  );\r\n\r\n  useNotificationEffect(\r\n    'balance-error',\r\n    'Failed to fetch balances',\r\n    balanceState,\r\n    notifications\r\n  );\r\n};\r\n","import { useCallback } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\nexport const useQuery = () => {\r\n  const location = useLocation();\r\n\r\n  return {\r\n    get: useCallback(\r\n      (key: string) => new URLSearchParams(location.search).get(key),\r\n      [location.search]\r\n    ),\r\n    delete: useCallback(\r\n      (key: string) => {\r\n        const query = new URLSearchParams(location.search);\r\n        query.delete(key);\r\n        location.search = query.toString();\r\n\r\n        window.history.replaceState(\r\n          {},\r\n          '',\r\n          location.pathname +\r\n            (location.search !== '' ? `?${location.search}` : '')\r\n        );\r\n      },\r\n      [location.search]\r\n    ),\r\n  };\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { allowanceActions, useAllowanceStore, useAppDispatch, usePlugStore } from '@/store';\r\n\r\nimport { validPrincipalId } from '@/utils';\r\n\r\nexport const useTokenAllowance = (tokenId = ''): number | undefined => {\r\n  const dispatch = useAppDispatch();\r\n  const { principalId } = usePlugStore();\r\n  const { tokensAllowance } = useAllowanceStore();\r\n\r\n  useEffect(() => {\r\n    if (validPrincipalId(tokenId) && principalId) {\r\n      if (tokensAllowance[tokenId]) {\r\n        if (Date.now() > tokensAllowance[tokenId].expiration) {\r\n          dispatch(allowanceActions.fetchAllowance({ tokenId }));\r\n        }\r\n      } else {\r\n        dispatch(allowanceActions.fetchAllowance({ tokenId }));\r\n      }\r\n    }\r\n  }, [tokenId, principalId, dispatch, tokensAllowance]);\r\n\r\n  return tokensAllowance[tokenId]?.allowance;\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nimport { useBalances } from './use-balances';\r\n\r\nexport const useTokenBalanceMemo = (canisterId?: string , tokenType?:string) => {\r\n  const { totalBalances, icpBalance } = useBalances();\r\n\r\n  return useMemo(() => {\r\n    if (canisterId && totalBalances) {\r\n      const isICP = canisterId === ICP_METADATA.id;\r\n      if (isICP) { return icpBalance; }\r\n\r\n      return totalBalances[canisterId];\r\n    }\r\n  }, [canisterId, totalBalances, icpBalance]);\r\n};\r\n","import { useBalances } from '@/hooks/use-balances';\r\n\r\ntype useTokenTaxCheckOptions = {\r\n    tokenId?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?:string;\r\n    tokenSymbol?:string;\r\n};\r\nexport const useTokenTaxCheck = ({ tokenId ,tokenSymbol, tokenDecimals=1 , tokenValue='' ,}: useTokenTaxCheckOptions) => {\r\n    const { sonicBalances, tokenBalances ,icpBalance } = useBalances();\r\n    const tokenInfo={ wallet:0, sonic:0, taxInfo:{ input: 0 ,taxedValue:0, nonTaxedValue:0 ,netValue:0} }\r\n    if(tokenId!='' && tokenId!='ICP' && sonicBalances && tokenBalances){\r\n        var id= tokenId?tokenId:'';\r\n        tokenInfo['wallet'] = tokenBalances[id]? tokenBalances[id]:0;\r\n        tokenInfo['sonic'] = sonicBalances[id]?sonicBalances[id]:0;\r\n    }else{ tokenInfo['wallet'] = icpBalance?icpBalance:0;}\r\n    if(tokenValue){\r\n      let tokenVal:number = parseFloat(tokenValue)\r\n        if(tokenSymbol == 'YC'){\r\n            let decimals = tokenDecimals?(10**tokenDecimals):1\r\n            let sonicBalance = tokenInfo['sonic'] / decimals;\r\n            if((sonicBalance > tokenVal)){\r\n                tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n                tokenInfo.taxInfo.taxedValue = 0;\r\n            } else {\r\n                tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n                tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n            }    \r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89/100));\r\n        }\r\n    }    \r\n    return tokenInfo\r\n}","import { useEffect } from 'react';\r\nimport { getFromStorage, saveToStorage } from '@/utils';\r\nimport { AppLog , getTokenLogo , tokenList} from '@/utils';\r\n\r\nexport const useTokenLogosFetcherInit = (): void => {\r\n  const supportedTokenList = tokenList('array');\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    Promise.all(\r\n      supportedTokenList.map(async (token:{id:string}) => {\r\n        const storageKey = `${token.id}-logo`;\r\n        const logo = getFromStorage(storageKey);\r\n        if (!logo) {\r\n          try {\r\n            var tokenLogo = await getTokenLogo(token.id);\r\n            saveToStorage(storageKey, tokenLogo);        \r\n          } catch (e) {\r\n            AppLog.error(`Token logo fetch error: token=${token.id}`, e);\r\n          }\r\n        }\r\n      })\r\n    );\r\n  }, [supportedTokenList]);\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ICP_METADATA } from '@/constants';\r\n\r\nexport type UseTokenSelectionCheckerOptions = {\r\n  id0?: string;\r\n  id1?: string;\r\n  targetId?: string;\r\n};\r\n\r\nexport type UseTokenSelectionCheckerReturn = ReturnType<\r\n  typeof useTokenSelectionChecker\r\n>;\r\n\r\nexport const useTokenSelectionChecker = ({ id0, id1,targetId = ICP_METADATA.id,\r\n}: UseTokenSelectionCheckerOptions) => {\r\n\r\n  const isFirstIsSelected = useMemo(() => id0 === targetId, [id0, targetId]);\r\n  const isSecondIsSelected = useMemo(() => id1 === targetId, [id1, targetId]);\r\n\r\n  return { isFirstIsSelected, isSecondIsSelected, isTokenSelected: isFirstIsSelected || isSecondIsSelected};\r\n};\r\n","import { useCallback, useEffect, useState } from 'react';\r\n\r\nimport { AnalyticsApi } from '@/apis';\r\nimport {\r\n  KEEP_SYNC_DEFAULT_INTERVAL,\r\n  useKeepSync,\r\n  usePlugStore,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { getPairIdsFromPairList } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nexport type UserLPMetrics = {\r\n  [pairId: string]: AnalyticsApi.PositionMetrics;\r\n};\r\n\r\nexport const useUserMetrics = () => {\r\n  const { principalId } = usePlugStore();\r\n  const { allPairs } = useSwapCanisterStore();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [userLPMetrics, setUserLPMetrics] = useState<UserLPMetrics>();\r\n\r\n  const getUserLPMetrics = useKeepSync(\r\n    'getUserMetrics',\r\n    useCallback(async () => {\r\n      try {\r\n        if (isLoading) {\r\n          return;\r\n        }\r\n\r\n        if (!principalId || !allPairs) {\r\n          setUserLPMetrics(undefined);\r\n          return;\r\n        }\r\n\r\n        const pairIds = getPairIdsFromPairList(allPairs);\r\n\r\n        setIsLoading(true);\r\n        const analyticsApi = new AnalyticsApi();\r\n        const promises = pairIds.map((pairId) =>\r\n          analyticsApi.queryUserLPMetrics(principalId, pairId)\r\n        );\r\n        const responses = await Promise.all(promises);\r\n\r\n        const _userPairMetrics = responses.reduce((acc, response, index) => {\r\n          acc[pairIds[index]] = response;\r\n          return acc;\r\n        }, {} as UserLPMetrics);\r\n\r\n        setUserLPMetrics(_userPairMetrics);\r\n      } catch (error) {\r\n        AppLog.error(`User metrics fetch error`, error);\r\n        await new Promise((resolve) =>\r\n          debounce(resolve, KEEP_SYNC_DEFAULT_INTERVAL)\r\n        );\r\n      }\r\n      setIsLoading(false);\r\n    }, [setUserLPMetrics, principalId, allPairs, isLoading])\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!userLPMetrics) {\r\n      getUserLPMetrics();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [principalId]);\r\n\r\n  return {\r\n    isLoading,\r\n    userPairMetrics: userLPMetrics,\r\n    getUserMetrics: getUserLPMetrics,\r\n  };\r\n};\r\n","import { ChakraProvider, ColorModeScript } from '@chakra-ui/react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider as ReduxProvider } from 'react-redux';\r\n\r\nimport { theme } from '@/theme';\r\n\r\nimport { App } from './App';\r\nimport { Maintenance } from './components';\r\nimport { ENV } from './config';\r\nimport { store } from './store';\r\n\r\n// import * as Sentry from \"@sentry/react\";\r\n\r\n// Sentry.init({\r\n//   dsn: \"https://aab2a72afcbc4c13b07142e955c4e80d@o4505044540325888.ingest.sentry.io/4505044542029824\",\r\n//   integrations: [new Sentry.BrowserTracing(), new Sentry.Replay()],\r\n//   tracesSampleRate: 1.0, // Capture 100% of the transactions, reduce in production!\r\n//   replaysSessionSampleRate: 0.1,\r\n//   replaysOnErrorSampleRate: 1.0,\r\n// });\r\n\r\nlet Render: React.FC;\r\n\r\nif (ENV.maintenanceMode) {\r\n  Render = () => <Maintenance />;\r\n} else {\r\n  Render = () => <App />;\r\n}\r\n\r\nReactDOM.render(\r\n  <>\r\n    <ColorModeScript initialColorMode={theme.config.initialColorMode} />\r\n    <ChakraProvider theme={theme} resetCSS>\r\n      <ReduxProvider store={store}>\r\n        <Render />\r\n      </ReduxProvider>\r\n    </ChakraProvider>\r\n  </>,\r\n  document.getElementById('sonic-app-root')\r\n);\r\n","import { ActorAdapter } from '@memecake/sonic-js';\r\n\r\nimport { ENV } from '@/config';\r\nimport { LedgerIDL } from '@/did';\r\n\r\nexport const createAnonLedgerActor = async (): Promise<LedgerIDL.Factory> => {\r\n  return ActorAdapter.createAnonymousActor(\r\n    ENV.canistersPrincipalIDs.ledger,\r\n    LedgerIDL.factory\r\n  );\r\n};\r\n","import { ActorAdapter  } from '@memecake/sonic-js';\r\n\r\nimport { SwapIDL } from \"@/did\"\r\n\r\nimport { ENV } from '@/config';\r\n\r\nimport { plug } from '../plug';\r\n\r\nexport const createSwapActor = async (): Promise<SwapIDL.Factory> => {\r\n  const actorAdapter = new ActorAdapter(plug as any);\r\n  return actorAdapter.createActor(\r\n    ENV.canistersPrincipalIDs.swap,\r\n    SwapIDL.factory\r\n  );\r\n};\r\n\r\nexport const createAnonSwapActor = async (): Promise<SwapIDL.Factory> => {\r\n  return ActorAdapter.createAnonymousActor(\r\n    ENV.canistersPrincipalIDs.swap,\r\n    SwapIDL.factory\r\n  );\r\n};\r\n","import {  ActorAdapter, createTokenActor as cta } from '@memecake/sonic-js';\r\nimport { TokenIDL } from '@/did';\r\nexport const createTokenActor = cta;\r\n\r\nexport const createAnonTokenActor =  async (canisterId: string , tokenType?:string): Promise<any> =>{\r\n  if( tokenType == 'DIP20')\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.Factory>( canisterId,TokenIDL.DIP20.factory);\r\n  else if( tokenType == 'YC')\r\n  return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.YCResult>( canisterId,TokenIDL.DIP20.YCfactory);\r\n  else if( tokenType == 'ICRC1')\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.ICRC1.Factory>( canisterId,TokenIDL.ICRC1.factory);\r\n  else\r\n    return ActorAdapter.createAnonymousActor<TokenIDL.DIP20.Factory>( canisterId,TokenIDL.DIP20.factory);\r\n}\r\n  \r\n","export * from './create-swap-actor';\r\nexport * from './create-token-actor';\r\nexport * from './create-ledger-actor';\r\n","import { CapRoot } from '@memecake/cap-js';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nexport interface CapRouterInstanceProps {\r\n  canisterId: string;\r\n  host?: string;\r\n}\r\n\r\nexport const getCapRootInstance = async ({\r\n  canisterId,\r\n  host = ENV.host,\r\n}: CapRouterInstanceProps) =>\r\n  await CapRoot.init({\r\n    host,\r\n    canisterId,\r\n  });\r\n","import { Principal } from '@dfinity/principal';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nimport { MappedCapHistoryLog } from '..';\r\nimport { getCapRootInstance } from '../connection';\r\nimport { CapHistoryLog } from '../history-log';\r\nimport { parseCapHistoryLog } from '../utils';\r\n\r\nexport interface UserTransactionsResponse {\r\n  data: MappedCapHistoryLog[];\r\n  page: number;\r\n}\r\n\r\nexport const getUserTransactions = async (\r\n  principalId: string,\r\n  page?: number\r\n): Promise<UserTransactionsResponse> => {\r\n  const capRoot = await getCapRootInstance({\r\n    canisterId: ENV.canistersPrincipalIDs.swapCapRoot,\r\n  });\r\n\r\n  const result = (await capRoot.get_user_transactions({\r\n    user: Principal.fromText(principalId) as any,\r\n    page,\r\n  })) as { data: CapHistoryLog[]; page: number };\r\n\r\n  return {\r\n    data: parseCapHistoryLog(Object.values(result.data.reverse())),\r\n    page: result.page,\r\n  };\r\n};\r\n","export * from './get-user-transactions';\r\n","export * from './features';\r\nexport * from './history-log';\r\n","import { CapHistoryLog, MappedCapHistoryLog } from '.';\r\n\r\nconst mapDetails = (details: CapHistoryLog['details']) => {\r\n  return details.reduce((acc, [key, value]) => {\r\n    const aux = Object.values(value)[0];\r\n    acc[key] = typeof aux === 'bigint' ? Number(aux) : aux;\r\n    return acc;\r\n  }, {} as any);\r\n};\r\n\r\nexport const parseCapHistoryLog = (\r\n  data: CapHistoryLog[]\r\n): MappedCapHistoryLog[] => {\r\n  return data.map<MappedCapHistoryLog>((data) => {\r\n    return {\r\n      ...data,\r\n      time: Number(data.time),\r\n      details: mapDetails(data.details),\r\n    };\r\n  });\r\n};\r\n","export * from './ledger-transactions';\r\n","import BigNumber from 'bignumber.js';\r\n\r\nimport RosettaApi from '@/apis/rosetta';\r\nimport { ENV } from '@/config';\r\n\r\nexport interface LedgerTransaction {\r\n  account1Address: string;\r\n  account2Address: string;\r\n  amount: BigNumber;\r\n  blockIndex: number;\r\n  fee: BigNumber;\r\n  hash: string;\r\n  memo: BigNumber;\r\n  status: string;\r\n  timestamp: Date;\r\n  type: string;\r\n}\r\n\r\nconst ADDRESS_TO_FILTER = [ENV.accountIDs.XTC, ENV.accountIDs.WICP];\r\n\r\nexport const getUserLedgerTransactions = async (\r\n  accountId: string\r\n): Promise<LedgerTransaction[]> => {\r\n  const rosetta = new RosettaApi();\r\n  const ledgerTransactions = await rosetta.getTransactionsByAccount(accountId);\r\n\r\n  if (Array.isArray(ledgerTransactions)) {\r\n    return ledgerTransactions\r\n      .filter(\r\n        (t) =>\r\n          ADDRESS_TO_FILTER.includes(t.account1Address) ||\r\n          ADDRESS_TO_FILTER.includes(t.account2Address)\r\n      )\r\n      .reverse();\r\n  } else {\r\n    throw new Error('Failed to get ledger transactions');\r\n  }\r\n};\r\n","export * from './use-plug-init';\r\nexport * from './plug.utils';\r\n","import Provider from '@memecake/plug-inpage-provider';\r\n\r\ntype RequestConnectArgs = {\r\n  whitelist?: string[];\r\n  host?: string;\r\n};\r\n\r\nconst isDev = process.env.NODE_ENV === 'development';\r\nconst ua = navigator.userAgent.toLowerCase();\r\nconst isAndroid = ua.indexOf('android') > -1;\r\nconst isiOs = ua.indexOf('iphone') > -1 || ua.indexOf('ipad') > -1;\r\n\r\nconst isMobile = isAndroid || isiOs;\r\n\r\nif (!window.ic?.plug && isMobile) {\r\n  Provider.exposeProviderWithWalletConnect({ window, debug: isDev });\r\n}\r\n\r\nexport const plug = window.ic?.plug;\r\n\r\nexport const requestConnect = (args?: RequestConnectArgs) =>\r\n  window.ic?.plug?.requestConnect(args);\r\n\r\nexport const checkIsConnected = () => window.ic?.plug?.isConnected();\r\n\r\nexport const getPrincipal = () => window.ic?.plug?.getPrincipal();\r\n\r\nexport const requestBalance = () => (window.ic?.plug as any)?.requestBalance();\r\n\r\nexport const disconnect = () => window.ic?.plug?.disconnect();\r\n\r\nexport const checkIfPlugProviderVersionCompatible = (version = '1.6.0') => {\r\n  if (!plug?.versions.provider) return false;\r\n\r\n  const parseVersion = (v: string) =>\r\n    v\r\n      .replace(/([^(\\d|.)]+)/gi, '')\r\n      .split('.')\r\n      .map(Number);\r\n\r\n  const providerVersion = parseVersion(plug.versions.provider);\r\n  const requiredVersion = parseVersion(version);\r\n\r\n  for (let i = 0; i < requiredVersion.length; i++) {\r\n    if (providerVersion[i] === undefined) providerVersion[i] = 0;\r\n    if (requiredVersion[i] === undefined) requiredVersion[i] = 0;\r\n\r\n    if (providerVersion[i] === requiredVersion[i]) {\r\n      continue;\r\n    } else if (providerVersion[i] > requiredVersion[i]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { plugActions, PlugState, useAppDispatch } from '@/store';\r\n\r\nimport { plug } from './plug.utils';\r\n\r\nexport const usePlugInit = (): void => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (plug) {\r\n      dispatch(plugActions.setState(PlugState.Loading));\r\n\r\n      new Promise<string>((resolve, reject) => {\r\n        const timeout = setTimeout(reject, 3000);\r\n        plug\r\n          ?.isConnected()\r\n          .then((isConnected) => {\r\n            if (isConnected && plug) {\r\n              return plug.getPrincipal();\r\n            }\r\n            throw new Error('Plug is not connected');\r\n          })\r\n          .then((principal) => {\r\n            const principalId =\r\n              typeof principal === 'string' ? principal : principal.toText();\r\n            clearTimeout(timeout);\r\n            resolve(principalId);\r\n          })\r\n          .catch(reject);\r\n      })\r\n        .then((principalId) =>\r\n          dispatch(plugActions.setPrincipalId(principalId))\r\n        )\r\n        .catch(() => dispatch(plugActions.setState(PlugState.Disconnected)));\r\n    } else {\r\n      dispatch(plugActions.setState(PlugState.NotInstalled));\r\n    }\r\n  }, [dispatch]);\r\n};\r\n","import Provider from '@memecake/plug-inpage-provider';\r\nimport type {\r\n  Transaction,\r\n  TransactionPrevResponse,\r\n} from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { Batch } from './models/batch';\r\n\r\nexport class BatchTransactions implements Batch.Controller {\r\n  private transactions: Transaction[] = [];\r\n  private state: Batch.State = Batch.State.Idle;\r\n  private batchTransactionResolver?: (value: unknown) => void;\r\n  private batchTransactionRejector?: (value: unknown) => void;\r\n\r\n  constructor(\r\n    private provider?: Provider,\r\n    private handleRetry?: (\r\n      error: unknown,\r\n      prevResponses?: TransactionPrevResponse[]\r\n    ) => Promise<boolean | { nextTxArgs: any }>\r\n  ) {}\r\n\r\n  public push(transaction: Transaction): BatchTransactions {\r\n    this.transactions.push({\r\n      ...transaction,\r\n      onSuccess: (response) =>\r\n        this.handleTransactionSuccess(transaction, response),\r\n      onFail: (error, prevResponses) => {\r\n        AppLog.error(`Batch Transaction`, transaction, error, prevResponses);\r\n        return this.handleTransactionFail(transaction, error, prevResponses);\r\n      },\r\n    });\r\n    return this;\r\n  }\r\n\r\n  public async execute(): Promise<unknown> {\r\n    if (this.state !== Batch.State.Idle) {\r\n      return Promise.reject(Batch.State.Running);\r\n    }\r\n\r\n    if (this.transactions.length === 0) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.state = Batch.State.Running;\r\n      this.batchTransactionResolver = resolve;\r\n      this.batchTransactionRejector = reject;\r\n      this.start();\r\n    });\r\n  }\r\n\r\n  public getTransactions(): Transaction[] {\r\n    return this.transactions;\r\n  }\r\n\r\n  public getState(): Batch.State {\r\n    return this.state;\r\n  }\r\n\r\n  private async handleTransactionSuccess(\r\n    transaction: Transaction,\r\n    responses: unknown[]\r\n  ): Promise<unknown> {\r\n    const result = await transaction.onSuccess(responses);\r\n    this.pop();\r\n    if (this.transactions.length === 0) {\r\n      this.finishPromise(true, responses);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private async handleTransactionFail(\r\n    transaction: Transaction,\r\n    error: unknown,\r\n    prevResponses?: TransactionPrevResponse[]\r\n  ): Promise<void> {\r\n    const retryResponse =\r\n      this.handleRetry && (await this.handleRetry(error, prevResponses));\r\n\r\n    if (retryResponse) {\r\n      if (typeof retryResponse !== 'boolean' && 'nextTxArgs' in retryResponse) {\r\n        this.start(retryResponse.nextTxArgs);\r\n      } else {\r\n        this.start();\r\n      }\r\n    } else {\r\n      await transaction.onFail(error, prevResponses);\r\n      this.finishPromise(false, error);\r\n    }\r\n  }\r\n\r\n  private pop(): void {\r\n    this.transactions = this.transactions.slice(1);\r\n  }\r\n\r\n  private finishPromise(resolved: boolean, result: unknown): void {\r\n    if (!this.batchTransactionRejector || !this.batchTransactionResolver) {\r\n      throw new Error('Batch promise not initialized');\r\n    }\r\n\r\n    if (resolved) {\r\n      this.batchTransactionResolver(result);\r\n    } else {\r\n      this.batchTransactionRejector(result);\r\n    }\r\n    this.batchTransactionResolver = undefined;\r\n    this.batchTransactionRejector = undefined;\r\n    this.state = Batch.State.Idle;\r\n  }\r\n\r\n  private start(nextTxArgs?: any): void {\r\n    const firstTransaction = this.transactions[0];\r\n    const otherTransactions = this.transactions.filter(\r\n      (txData, index) => index !== 0\r\n    );\r\n\r\n    const transactions = nextTxArgs\r\n      ? [\r\n          {\r\n            ...firstTransaction,\r\n            args: () => firstTransaction.args(nextTxArgs),\r\n          },\r\n          ...(otherTransactions?.length > 0 ? otherTransactions : []),\r\n        ]\r\n      : this.transactions;\r\n    \r\n    \r\n    this.provider?.batchTransactions(transactions).catch((error) => {\r\n      if (this.handleRetry) {\r\n        return this.handleRetry(error).then((response) => {\r\n          if (response) {\r\n            return this.start();\r\n          } else {\r\n            this.finishPromise(false, error);\r\n          }\r\n        });\r\n      } else {\r\n        this.finishPromise(false, error);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { TransactionPrevResponse } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\n\r\nimport { MintTokenSymbol } from '@/store';\r\nimport {  \r\n  getFromStorage, LocalStorageKey,  MintUncompleteBlockHeights, saveToStorage,\r\n} from '@/utils';\r\n\r\nexport const getAmountDependsOnBalance = ( tokenBalance: number,tokenDecimals: number, fromValue: string): string => {\r\n  const parsedFromValue = parseFloat(fromValue);\r\n  const parsedTokenBalance = toBigNumber(tokenBalance).applyDecimals(tokenDecimals).toNumber();\r\n\r\n  return (parsedFromValue - parsedTokenBalance).toString();\r\n};\r\n\r\ntype GetDepositTransactionsOptions = {\r\n  getAcnt?:any, approveTx: any;depositTx: any;txNames?: string[],tokenType?: string\r\n};\r\n\r\nexport const getDepositTransactions = ({approveTx, depositTx, txNames = ['approve', 'deposit'] ,tokenType }: GetDepositTransactionsOptions) => {\r\n    let transactions = {};\r\n    if(tokenType ==  'DIP20' || tokenType =='YC'){\r\n      let requiredAllowance = Number(approveTx?.args[1]);\r\n      let requiredBalance = Number(depositTx?.args[1] );\r\n      if (requiredBalance > 0) {\r\n        if (requiredAllowance > 0) {\r\n          transactions = { ...transactions, [txNames[0]]: approveTx };\r\n        }\r\n        transactions = { ...transactions, [txNames[1]?txNames[1]:'']: depositTx };\r\n      }\r\n    }else if( tokenType ==  'ICRC1' ){\r\n      transactions = {[txNames[0]]: approveTx, [txNames[1]]: depositTx };\r\n    }\r\n  return transactions;\r\n};\r\n\r\nexport type GetTransactionNameOptions = {\r\n  tokenSymbol: MintTokenSymbol;\r\n  blockHeight: string;\r\n};\r\n\r\nexport function getTransactionName({\r\n  tokenSymbol,\r\n  blockHeight,\r\n}: GetTransactionNameOptions) {\r\n  return `${tokenSymbol}-${blockHeight}`;\r\n}\r\n\r\nexport type SaveBlockHeightToStorageOptions = {\r\n  blockHeight?: bigint;\r\n  principalId?: string;\r\n  tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\n// === Block Heights ===\r\n\r\nexport type RemoveBlockHeightFromStorageOptions = {\r\n  blockHeight: string;\r\n  principalId?: string;\r\n  tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\nexport const removeBlockHeightFromStorage = ({\r\n  blockHeight,\r\n  principalId,\r\n  tokenSymbol,\r\n}: RemoveBlockHeightFromStorageOptions) => {\r\n  if (!principalId) {\r\n    return null;\r\n  }\r\n\r\n  const localStorageKey =\r\n    tokenSymbol === MintTokenSymbol.XTC\r\n      ? LocalStorageKey.MintXTCUncompleteBlockHeights\r\n      : LocalStorageKey.MintWICPUncompleteBlockHeights;\r\n\r\n  const totalBlockHeights = getFromStorage(localStorageKey) as\r\n    | MintUncompleteBlockHeights\r\n    | undefined;\r\n  const userBlockHeights = totalBlockHeights?.[principalId];\r\n\r\n  if (userBlockHeights && userBlockHeights.length > 0) {\r\n    const newBlockHeights = userBlockHeights.filter(\r\n      (_blockHeight: string) => _blockHeight !== blockHeight\r\n    );\r\n\r\n    saveToStorage(localStorageKey, {\r\n      ...totalBlockHeights,\r\n      [principalId]: newBlockHeights,\r\n    });\r\n  }\r\n};\r\n\r\nexport const saveBlockHeightToStorage = ({\r\n  blockHeight,\r\n  principalId,\r\n  tokenSymbol,\r\n}: SaveBlockHeightToStorageOptions) => {\r\n  \r\n  if (!principalId || !blockHeight) { return null;}\r\n\r\n  const localStorageKey =\r\n    tokenSymbol === MintTokenSymbol.XTC\r\n      ? LocalStorageKey.MintXTCUncompleteBlockHeights\r\n      : LocalStorageKey.MintWICPUncompleteBlockHeights;\r\n\r\n  const prevMintWICPBlockHeight = getFromStorage(localStorageKey);\r\n\r\n  const newBlockHeights = {\r\n    ...prevMintWICPBlockHeight,\r\n    [principalId]: [\r\n      ...(prevMintWICPBlockHeight?.[principalId] || []),\r\n      String(blockHeight),\r\n    ],\r\n  };\r\n\r\n  saveToStorage(localStorageKey, newBlockHeights);\r\n};\r\n\r\nexport const updateFailedBlockHeight = ({\r\n  prevResponses,\r\n  ...props\r\n}: Omit<SaveBlockHeightToStorageOptions, 'blockHeight'> & {\r\n  prevResponses: TransactionPrevResponse[];\r\n}) => {\r\n  const failedBlockHeight = prevResponses?.[0]?.response as bigint | undefined;\r\n\r\n  saveBlockHeightToStorage({ blockHeight: failedBlockHeight, ...props });\r\n};\r\n","export * from './batch.utils';\r\nexport * from './use-add-liquidity-batch';\r\nexport * from './use-deposit-batch';\r\nexport * from './use-mint-batch';\r\nexport * from './use-mint-multiple-batch';\r\nexport * from './use-mint-single-batch';\r\nexport * from './use-remove-liquidity-batch';\r\nexport * from './use-swap-batch';\r\nexport * from './use-withdraw-batch';\r\nexport * from './use-withdraw-wicp-batch';\r\n","import { useMemo  } from 'react';\r\n\r\nimport { AddLiquidityModalDataStep, modalsSliceActions, useAppDispatch, useLiquidityViewStore, useSwapCanisterStore } from '@/store';\r\n\r\nimport { AddLiquidity, Deposit } from '../..';\r\nimport {\r\n  useAddLiquidityTransactionMemo, useApproveTransactionMemo, useBatch, useDepositTransactionMemo,\r\n  intitICRCTokenDeposit, useICRCTransferMemo, //useICRCDepositMemo\r\n} from '..';\r\nimport { useCreatePairTransactionMemo } from '../transactions/create-pair';\r\n\r\nimport { getAmountDependsOnBalance, getDepositTransactions } from './batch.utils';\r\n\r\ninterface Transactions {\r\n  [transactionName: string]: any;\r\n}\r\n\r\n\r\nexport const useAddLiquidityBatch = (addLiquidityParams: AddLiquidity) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { sonicBalances } = useSwapCanisterStore();\r\n  const { pair } = useLiquidityViewStore();\r\n\r\n  if (!sonicBalances) { throw new Error('Sonic balance are required'); }\r\n  if (!addLiquidityParams.token0.metadata || !addLiquidityParams.token1.metadata) {\r\n    throw new Error('Tokens are required');\r\n  }\r\n\r\n  const deposit0Params = useMemo(() => {\r\n    if (addLiquidityParams.token0.metadata) {\r\n      return {\r\n        token: addLiquidityParams.token0.metadata,\r\n        amount: getAmountDependsOnBalance(\r\n          sonicBalances[addLiquidityParams.token0.metadata?.id],\r\n          addLiquidityParams.token0.metadata.decimals, addLiquidityParams.token0.value\r\n        ),\r\n        allowance: addLiquidityParams.allowance0,\r\n      };\r\n    }\r\n  }, []) as Deposit;\r\n\r\n  const deposit1Params = useMemo(() => {\r\n    if (addLiquidityParams.token1.metadata) {\r\n      return {\r\n        token: addLiquidityParams.token1.metadata,\r\n        amount: getAmountDependsOnBalance(\r\n          sonicBalances[addLiquidityParams.token1.metadata?.id],\r\n          addLiquidityParams.token1.metadata.decimals, addLiquidityParams.token1.value\r\n        ),\r\n        allowance: addLiquidityParams.allowance1,\r\n      };\r\n    }\r\n  }, []) as Deposit;\r\n\r\n  const createPairParams = useMemo(() => {\r\n    return {\r\n      token0: addLiquidityParams.token0,\r\n      token1: addLiquidityParams.token1,\r\n    };\r\n  }, []);\r\n\r\n\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n  var approve0: any, deposit0: any, approve1: any, deposit1: any, steps: any = [];\r\n  var tx0complete = false, tx1complete = false, getICRCAcnt: any;\r\n  \r\n  var batchLoad: any = { state: \"idle\" };\r\n  var DepositBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n\r\n  var token0Type = addLiquidityParams.token0.metadata.tokenType;\r\n  var token1Type = addLiquidityParams.token1.metadata.tokenType;\r\n\r\n  var token0Amt = parseFloat(deposit0Params?.amount ? deposit0Params?.amount : '0');\r\n  var token1Amt = parseFloat(deposit1Params?.amount ? deposit1Params?.amount : '0');\r\n  \r\n\r\n  if (!pair) { steps = ['createPair'] }\r\n\r\n  if (token0Type == 'ICRC1' || token1Type == 'ICRC1') {\r\n    getICRCAcnt = intitICRCTokenDeposit();steps = [...steps, 'getacnt'];\r\n  }\r\n\r\n  //step 1\r\n  if (token0Amt > 0) {\r\n    if (token0Type == 'DIP20' || token0Type == 'YC') {\r\n      approve0 = useApproveTransactionMemo(deposit0Params);\r\n      deposit0 = useDepositTransactionMemo(deposit0Params);\r\n\r\n      if (deposit0) tx0complete = true;\r\n    } else if (token0Type == 'ICRC1') {\r\n\r\n      approve0 = useICRCTransferMemo({ ...deposit0Params, tokenAcnt: getICRCAcnt });\r\n      deposit0 = useDepositTransactionMemo(deposit0Params);\r\n      if (getICRCAcnt) tx0complete = true;\r\n    }\r\n    steps = [...steps, 'approve0', 'deposit0'];\r\n  } else tx0complete = true;\r\n\r\n  //step 2\r\n  if (token1Amt > 0) {\r\n    if (token1Type == 'DIP20' || token1Type == 'YC') {\r\n      approve1 = useApproveTransactionMemo(deposit1Params);\r\n      deposit1 = useDepositTransactionMemo(deposit1Params);\r\n\r\n      if (tx0complete && deposit1) tx1complete = true;\r\n    } else if (token1Type == 'ICRC1') {\r\n      approve1 = useICRCTransferMemo({ ...deposit1Params, tokenAcnt: getICRCAcnt });\r\n      deposit1 = useDepositTransactionMemo(deposit1Params);\r\n\r\n      if (getICRCAcnt && approve1) tx1complete = true;\r\n    }\r\n    steps = [...steps, 'approve1', 'deposit1'];\r\n  } else tx1complete = true;\r\n\r\n  const createPair = useCreatePairTransactionMemo(createPairParams);\r\n  const addLiquidity = useAddLiquidityTransactionMemo(addLiquidityParams);\r\n\r\n  var  TrxFull = useMemo(() => {\r\n    let _transactions: Transactions = {};\r\n    if (!pair) { _transactions = { ..._transactions, createPair } }\r\n    if (token0Amt > 0) {\r\n      _transactions = {\r\n        ..._transactions,\r\n        ...getDepositTransactions({ txNames: ['approve0', 'deposit0'], approveTx: approve0, depositTx: deposit0, tokenType: token0Type })\r\n      }\r\n    }\r\n    if (token1Amt > 0) {\r\n      _transactions = {\r\n        ..._transactions,\r\n        ...getDepositTransactions({ txNames: ['approve1', 'deposit1'], approveTx: approve1, depositTx: deposit1, tokenType: token1Type })\r\n      }\r\n    }\r\n    _transactions = { ..._transactions, addLiquidity };\r\n    return _transactions;\r\n  }, [ tx1complete]);\r\n\r\n\r\n  steps = [...steps, 'addLiquidity'];\r\n  \r\n  // console.log(TrxFull);\r\n\r\n  const handleRetry = async () => {\r\n    return new Promise<boolean>((resolve) => {\r\n      dispatch(\r\n        modalsSliceActions.setAddLiquidityModalData({\r\n          callbacks: [\r\n            () => { // Retry callback\r\n              dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n              openBatchModal(); resolve(true);\r\n            },\r\n            () => { // Cancel callback\r\n              dispatch(modalsSliceActions.closeAddLiquidityFailModal());\r\n              resolve(false);\r\n            },\r\n          ],\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n      dispatch(modalsSliceActions.openAddLiquidityFailModal());\r\n    });\r\n  };\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setAddLiquidityModalData({\r\n        steps: steps as AddLiquidityModalDataStep[],\r\n        token0Symbol: addLiquidityParams.token0.metadata?.symbol,\r\n        token1Symbol: addLiquidityParams.token1.metadata?.symbol,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openAddLiquidityProgressModal());\r\n  };\r\n\r\n  if ( tx0complete && tx1complete && Object.keys(TrxFull).length>0) {\r\n    batchLoad = useBatch<AddLiquidityModalDataStep>({ transactions: TrxFull, handleRetry });\r\n    batchLoad.batchFnUpdate = true;\r\n  } else {\r\n    batchLoad = useBatch<AddLiquidityModalDataStep>({ transactions: {}, handleRetry: () => { return Promise.resolve(false) } });\r\n    if (steps.includes('getacnt')) batchLoad = { state: \"getacnt\" };\r\n    else batchLoad = { state: \"idle\" }\r\n  }\r\n  return DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal };\r\n};","import { useMemo } from 'react';\r\n\r\nimport { DepositModalDataStep, modalsSliceActions, useAppDispatch } from '@/store';\r\n\r\nimport { Deposit } from '../..';\r\nimport { useApproveTransactionMemo, useDepositTransactionMemo, useBatch, intitICRCTokenDeposit , useICRCTransferMemo } from '..'; //useICRCDepositMemo\r\n\r\nimport { getDepositTransactions } from '.';\r\n\r\nexport const useDepositBatch = (deposit: Deposit): any => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n  var DepositBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n  var tokenType = deposit.token?.tokenType;\r\n\r\n  if (tokenType == 'DIP20' || tokenType == 'YC') {\r\n    var approveTx = useApproveTransactionMemo(deposit);\r\n    var depositTx = useDepositTransactionMemo(deposit);\r\n\r\n    var transactions = useMemo(\r\n      () =>\r\n        getDepositTransactions({ approveTx, depositTx, txNames: ['approve', 'deposit'], tokenType: deposit.token?.tokenType }),\r\n      [approveTx, depositTx]\r\n    );\r\n\r\n    var openBatchModal = () => {\r\n      dispatch(\r\n        modalsSliceActions.setDepositModalData({\r\n          steps: Object.keys(transactions) as DepositModalDataStep[],\r\n          tokenSymbol: deposit.token?.symbol,\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openDepositProgressModal());\r\n    };\r\n\r\n    DepositBatch = {\r\n      batch: useBatch<DepositModalDataStep>({\r\n        transactions,\r\n        handleRetry: () => {\r\n          dispatch(modalsSliceActions.closeDepositProgressModal());\r\n          dispatch(modalsSliceActions.openDepositFailModal());\r\n          return Promise.resolve(false);\r\n        },\r\n      }),\r\n      openBatchModal,\r\n    };\r\n    return DepositBatch;\r\n\r\n  } else if (tokenType == 'ICRC1') {\r\n\r\n    var openBatchModal = () => {\r\n      dispatch(\r\n        modalsSliceActions.setDepositModalData({\r\n          steps: ['getacnt', 'approve', 'deposit'] as DepositModalDataStep[],\r\n          tokenSymbol: deposit.token?.symbol,\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openDepositProgressModal());\r\n    };\r\n    DepositBatch = { ...DepositBatch, openBatchModal };\r\n    var getAcnt = intitICRCTokenDeposit(); \r\n    \r\n    var approveTx = useICRCTransferMemo({ ...deposit, tokenAcnt: getAcnt }); // useICRCDepositMemo\r\n    var depositTx = useDepositTransactionMemo(deposit);\r\n\r\n    var transactions = useMemo(() => {\r\n      if (getAcnt)\r\n        return getDepositTransactions({ approveTx: approveTx, depositTx, txNames: ['approve', 'deposit'], tokenType: deposit.token?.tokenType })\r\n      else return {}\r\n    }, [approveTx]);\r\n\r\n    if (Object.keys(transactions).length > 0) {\r\n      batchLoad = useBatch<DepositModalDataStep>({\r\n        transactions,\r\n        handleRetry: () => {\r\n          dispatch(modalsSliceActions.closeDepositProgressModal());\r\n          dispatch(modalsSliceActions.openDepositFailModal());\r\n          return Promise.resolve(false);\r\n        },\r\n      });\r\n      batchLoad.batchFnUpdate = true;\r\n    } else {\r\n      batchLoad = useBatch<DepositModalDataStep>({\r\n        transactions: {},\r\n        handleRetry: () => { return Promise.resolve(false) },\r\n      });\r\n\r\n      if (getAcnt) batchLoad = { state: \"approve\" }\r\n      else batchLoad = { state: \"getacnt\" };\r\n    }\r\n    return DepositBatch = {...DepositBatch, batch: batchLoad, openBatchModal}\r\n  }\r\n  else return DepositBatch\r\n\r\n};\r\n","import { TransactionPrevResponse } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { MINT_AUTO_NOTIFICATION_TITLES } from '@/notifications';\r\nimport {\r\n  addNotification,\r\n  MintModalData,\r\n  MintModalDataStep,\r\n  MintTokenSymbol,\r\n  modalsSliceActions,\r\n  NotificationState,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  usePlugStore,\r\n  useSwapViewStore,\r\n} from '@/store';\r\n\r\nimport {\r\n  getMintWICPTransaction,\r\n  getMintXTCTransaction,\r\n  useApproveTransactionMemo,\r\n  useBatch,\r\n  useDepositTransactionMemo,\r\n  useLedgerTransferTransactionMemo,\r\n} from '..';\r\nimport { updateFailedBlockHeight } from '.';\r\n\r\nexport type UseMintBatchOptions = {\r\n  amountIn: string;\r\n  amountOut: string;\r\n  blockHeight?: string;\r\n  keepInSonic?: boolean;\r\n  tokenSymbol: MintTokenSymbol;\r\n};\r\n\r\nexport const useMintBatch = ({\r\n  amountIn,\r\n  amountOut,\r\n  blockHeight,\r\n  keepInSonic,\r\n  tokenSymbol,\r\n}: UseMintBatchOptions) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const { principalId } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { mintXTCUncompleteBlockHeights, mintWICPUncompleteBlockHeights } =\r\n    useModalsStore();\r\n\r\n  if (!tokenList) throw new Error('Token list is required');\r\n\r\n  const {\r\n    canisterPrincipalId,\r\n    canisterAccountID,\r\n    mintTransaction,\r\n    openFailModal,\r\n    openBatchModal,\r\n  } = useMemo(() => {\r\n    const getMintTransaction = () => {\r\n      const mintTransactionData = {\r\n        [MintTokenSymbol.XTC]: {\r\n          handler: getMintXTCTransaction,\r\n          uncompleteBlockHeights: mintXTCUncompleteBlockHeights,\r\n          setMintUncompleteBlockHeights:\r\n            modalsSliceActions.setMintXTCUncompleteBlockHeights,\r\n        },\r\n        [MintTokenSymbol.WICP]: {\r\n          handler: getMintWICPTransaction,\r\n          uncompleteBlockHeights: mintWICPUncompleteBlockHeights,\r\n          setMintUncompleteBlockHeights:\r\n            modalsSliceActions.setMintWICPUncompleteBlockHeights,\r\n        },\r\n      };\r\n      const { handler, uncompleteBlockHeights, setMintUncompleteBlockHeights } =\r\n        mintTransactionData[tokenSymbol];\r\n\r\n      return handler(\r\n        { blockHeight },\r\n        () => null,\r\n        (err: any, prevResponses: TransactionPrevResponse[]) => {\r\n          const failedBlockHeight = prevResponses?.[0]?.response as\r\n            | bigint\r\n            | undefined;\r\n\r\n          if (failedBlockHeight) {\r\n            dispatch(\r\n              setMintUncompleteBlockHeights([\r\n                ...(uncompleteBlockHeights ? uncompleteBlockHeights : []),\r\n                String(failedBlockHeight),\r\n              ])\r\n            );\r\n          }\r\n\r\n          updateFailedBlockHeight({\r\n            prevResponses,\r\n            tokenSymbol,\r\n            principalId,\r\n          });\r\n\r\n          if (failedBlockHeight) {\r\n            dispatch(\r\n              addNotification({\r\n                id: String(new Date().getTime()),\r\n                title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Error],\r\n                type: NotificationType.MintAuto,\r\n                state: NotificationState.Error,\r\n              })\r\n            );\r\n          }\r\n        }\r\n      );\r\n    };\r\n\r\n    if (tokenSymbol === MintTokenSymbol.WICP) {\r\n      return {\r\n        canisterPrincipalId: ENV.canistersPrincipalIDs.WICP,\r\n        canisterAccountID: ENV.accountIDs.WICP,\r\n        openBatchModal: () => {\r\n          const steps = Object.keys(_transactions) as MintModalData['steps'];\r\n\r\n          dispatch(modalsSliceActions.setMintWICPModalData({ steps }));\r\n          dispatch(modalsSliceActions.openMintWICPProgressModal());\r\n        },\r\n        openFailModal: () => {\r\n          dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n          dispatch(modalsSliceActions.openMintWICPFailModal());\r\n        },\r\n        mintTransaction: getMintTransaction(),\r\n      };\r\n    }\r\n\r\n    if (tokenSymbol === MintTokenSymbol.XTC) {\r\n      return {\r\n        canisterPrincipalId: ENV.canistersPrincipalIDs.XTC,\r\n        canisterAccountID: ENV.accountIDs.XTC,\r\n        openBatchModal: () => {\r\n          const steps = Object.keys(_transactions) as MintModalData['steps'];\r\n\r\n          dispatch(modalsSliceActions.setMintXTCModalData({ steps }));\r\n          dispatch(modalsSliceActions.openMintXTCProgressModal());\r\n        },\r\n        openFailModal: () => {\r\n          dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n          dispatch(modalsSliceActions.openMintXTCFailModal());\r\n        },\r\n        mintTransaction: getMintTransaction(),\r\n      };\r\n    }\r\n\r\n    return {\r\n      canisterPrincipalId: '',\r\n      canisterAccountID: '',\r\n      mintTransaction: null,\r\n      openBatchModal: () => null,\r\n      openFailModal: () => null,\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    blockHeight,\r\n    dispatch,\r\n    mintWICPUncompleteBlockHeights,\r\n    mintXTCUncompleteBlockHeights,\r\n    principalId,\r\n    tokenSymbol,\r\n  ]);\r\n\r\n  const depositParams = {\r\n    token: tokenList[canisterPrincipalId],\r\n    amount: amountOut,\r\n  };\r\n\r\n  const ledgerTransfer = useLedgerTransferTransactionMemo({\r\n    toAccountId: canisterAccountID,\r\n    amount: amountIn,\r\n  });\r\n  const approve = useApproveTransactionMemo(depositParams);\r\n  const deposit = useDepositTransactionMemo(depositParams);\r\n\r\n  const _transactions = useMemo(() => {\r\n    let transactions: Partial<Record<MintModalDataStep, any>> = {\r\n      [MintModalDataStep.Mint]: mintTransaction,\r\n    };\r\n\r\n    if (!blockHeight) {\r\n      transactions = {\r\n        ledgerTransfer,\r\n        ...transactions,\r\n      };\r\n    }\r\n\r\n    if (keepInSonic) {\r\n      transactions = {\r\n        ...transactions,\r\n        approve,\r\n        deposit,\r\n      };\r\n    }\r\n\r\n    return transactions;\r\n  }, [\r\n    ledgerTransfer,\r\n    mintTransaction,\r\n    blockHeight,\r\n    approve,\r\n    deposit,\r\n    keepInSonic,\r\n  ]);\r\n\r\n  const batch = useBatch<MintModalDataStep>({\r\n    transactions: _transactions,\r\n    handleRetry: async (error, prevResponses) => {\r\n      return new Promise((resolve) => {\r\n        const setMintModalData =\r\n          tokenSymbol === MintTokenSymbol.WICP\r\n            ? modalsSliceActions.setMintWICPModalData\r\n            : modalsSliceActions.setMintXTCModalData;\r\n\r\n        dispatch(\r\n          setMintModalData({\r\n            callbacks: [\r\n              // Retry callback\r\n              () => {\r\n                dispatch(modalsSliceActions.closeMintWICPFailModal());\r\n                dispatch(modalsSliceActions.closeMintXTCFailModal());\r\n                openBatchModal();\r\n                resolve({ nextTxArgs: prevResponses });\r\n              },\r\n              // Close callback\r\n              () => {\r\n                dispatch(modalsSliceActions.closeMintWICPFailModal());\r\n                dispatch(modalsSliceActions.closeMintXTCFailModal());\r\n                resolve(false);\r\n              },\r\n            ],\r\n          })\r\n        );\r\n\r\n        openFailModal();\r\n      });\r\n    },\r\n  });\r\n\r\n  return { batch, openBatchModal };\r\n};\r\n","import { useEffect, useState } from 'react';\r\n\r\nimport { MintTokenSymbol, usePlugStore } from '@/store';\r\n\r\nimport { getMintWICPTransaction, getMintXTCTransaction, useBatch } from '..';\r\nimport { getTransactionName, removeBlockHeightFromStorage } from '.';\r\n\r\nexport type UseMintMultipleBatchOptions = {\r\n  blockHeights: {\r\n    [MintTokenSymbol.XTC]?: string[];\r\n    [MintTokenSymbol.WICP]?: string[];\r\n  };\r\n};\r\n\r\nexport const useMintMultipleBatch = ({\r\n  blockHeights,\r\n}: UseMintMultipleBatchOptions) => {\r\n  const { principalId } = usePlugStore();\r\n\r\n  const [transactions, setTransactions] = useState<Record<string, any>>({});\r\n\r\n  useEffect(() => {\r\n    let transactions: Record<string, any> = {};\r\n\r\n    const updateTransactions = (\r\n      tokenSymbol: MintTokenSymbol,\r\n      blockHeight: string\r\n    ) => {\r\n      const handler =\r\n        tokenSymbol === MintTokenSymbol.XTC\r\n          ? getMintXTCTransaction\r\n          : getMintWICPTransaction;\r\n\r\n      const transactionName = getTransactionName({ tokenSymbol, blockHeight });\r\n      const transaction = handler({ blockHeight }, () =>\r\n        removeBlockHeightFromStorage({ blockHeight, tokenSymbol, principalId })\r\n      );\r\n\r\n      transactions = {\r\n        ...transactions,\r\n        [transactionName]: transaction,\r\n      };\r\n    };\r\n\r\n    blockHeights.WICP?.forEach((blockHeight: string) => {\r\n      updateTransactions(MintTokenSymbol.WICP, blockHeight);\r\n    });\r\n\r\n    blockHeights.XTC?.forEach((blockHeight: string) => {\r\n      updateTransactions(MintTokenSymbol.XTC, blockHeight);\r\n    });\r\n\r\n    setTransactions(transactions);\r\n  }, [blockHeights.WICP, blockHeights.XTC, principalId]);\r\n\r\n  const getTransactionNames = () => Object.keys(transactions);\r\n\r\n  return {\r\n    batch: useBatch<string>({ transactions }),\r\n    getTransactionNames,\r\n  };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { MintTokenSymbol, usePlugStore } from '@/store';\r\n\r\nimport { getMintWICPTransaction, useBatch } from '..';\r\nimport { getMintXTCTransaction } from '../transactions/mint-xtc';\r\nimport { removeBlockHeightFromStorage } from '.';\r\n\r\nexport type UseMintSingleBatchOptions = {\r\n  tokenSymbol: MintTokenSymbol;\r\n  blockHeight: string;\r\n};\r\n\r\nexport const useMintSingleBatch = ({\r\n  tokenSymbol,\r\n  blockHeight,\r\n}: UseMintSingleBatchOptions) => {\r\n  const { principalId } = usePlugStore();\r\n\r\n  const transactions = useMemo(() => {\r\n    let transactions: Record<string, any> = {};\r\n\r\n    if (!principalId) {\r\n      return transactions;\r\n    }\r\n\r\n    const handler =\r\n      tokenSymbol === MintTokenSymbol.XTC\r\n        ? getMintXTCTransaction\r\n        : getMintWICPTransaction;\r\n\r\n    transactions = {\r\n      ...transactions,\r\n      [tokenSymbol]: handler({ blockHeight }, () =>\r\n        removeBlockHeightFromStorage({\r\n          blockHeight,\r\n          tokenSymbol: tokenSymbol,\r\n          principalId,\r\n        })\r\n      ),\r\n    };\r\n\r\n    return transactions;\r\n  }, [principalId, tokenSymbol, blockHeight]);\r\n\r\n  const getTransactionNames = () => Object.keys(transactions);\r\n\r\n  return {\r\n    batch: useBatch<string>({ transactions }),\r\n    getTransactionNames,\r\n  };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport {\r\n  modalsSliceActions,\r\n  RemoveLiquidityModalDataStep,\r\n  useAppDispatch,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { RemoveLiquidity } from '../..';\r\nimport {\r\n  useBatch,\r\n  useRemoveLiquidityTransactionMemo,\r\n  useWithdrawTransactionMemo,\r\n} from '..';\r\n\r\nexport interface UseRemoveLiquidityBatchOptions extends RemoveLiquidity {\r\n  keepInSonic: boolean;\r\n}\r\n\r\nexport const useRemoveLiquidityBatch = ({\r\n  keepInSonic,\r\n  ...removeLiquidityParams\r\n}: UseRemoveLiquidityBatchOptions) => {\r\n  const dispatch = useAppDispatch();\r\n  const { sonicBalances } = useSwapCanisterStore();\r\n\r\n  if (!sonicBalances) {\r\n    throw new Error('Sonic balance are required');\r\n  }\r\n\r\n  if (\r\n    !removeLiquidityParams.token0.metadata ||\r\n    !removeLiquidityParams.token1.metadata\r\n  ) {\r\n    throw new Error('Tokens are required');\r\n  }\r\n\r\n  const withdraw0Params = {\r\n    token: removeLiquidityParams.token0.metadata,\r\n    amount: removeLiquidityParams.amount0Min.toString(),\r\n  };\r\n\r\n  const withdraw1Params = {\r\n    token: removeLiquidityParams.token1.metadata,\r\n    amount: removeLiquidityParams.amount1Min.toString(),\r\n  };\r\n\r\n  const removeLiquidity = useRemoveLiquidityTransactionMemo(\r\n    removeLiquidityParams\r\n  );\r\n  const withdraw0 = useWithdrawTransactionMemo(withdraw0Params);\r\n  const withdraw1 = useWithdrawTransactionMemo(withdraw1Params);\r\n\r\n  const transactions = useMemo(() => {\r\n    let _transactions: any = {\r\n      removeLiquidity,\r\n    };\r\n\r\n    if (!keepInSonic) {\r\n      _transactions = {\r\n        ..._transactions,\r\n        withdraw0,\r\n        withdraw1,\r\n      };\r\n    }\r\n\r\n    return _transactions;\r\n  }, [...Object.values(removeLiquidityParams), keepInSonic]);\r\n\r\n  const handleRetry = async () => {\r\n    return new Promise<boolean>((resolve) => {\r\n      dispatch(\r\n        modalsSliceActions.setRemoveLiquidityModalData({\r\n          callbacks: [\r\n            // Retry callback\r\n            () => {\r\n              dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n              openBatchModal();\r\n              resolve(true);\r\n            },\r\n            // Not retry callback\r\n            () => {\r\n              dispatch(modalsSliceActions.closeRemoveLiquidityFailModal());\r\n              resolve(false);\r\n            },\r\n          ],\r\n        })\r\n      );\r\n\r\n      dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n      dispatch(modalsSliceActions.openRemoveLiquidityFailModal());\r\n    });\r\n  };\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setRemoveLiquidityModalData({\r\n        steps: Object.keys(transactions) as RemoveLiquidityModalDataStep[],\r\n        token0Symbol: removeLiquidityParams.token0.metadata?.symbol,\r\n        token1Symbol: removeLiquidityParams.token1.metadata?.symbol,\r\n      })\r\n    );\r\n\r\n    dispatch(modalsSliceActions.openRemoveLiquidityProgressModal());\r\n  };\r\n\r\n  return {\r\n    batch: useBatch<RemoveLiquidityModalDataStep>({\r\n      transactions,\r\n      handleRetry,\r\n    }),\r\n    openBatchModal,\r\n  };\r\n};\r\n","import { useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { modalsSliceActions, SwapModalDataStep, useAppDispatch, useSwapCanisterStore } from '@/store';\r\nimport { SwapModel } from '../..';\r\n\r\nimport {\r\n  useApproveTransactionMemo, useBatch, useDepositTransactionMemo,\r\n  useSwapExactTokensTransactionMemo, useWithdrawTransactionMemo,\r\n  intitICRCTokenDeposit, useICRCTransferMemo , // useICRCDepositMemo , \r\n} from '..';\r\n\r\nimport { getAmountDependsOnBalance, getDepositTransactions } from './batch.utils';\r\n\r\n\r\nexport interface ExtraDepositSwapBatchOptions {\r\n  keepInSonic: boolean;\r\n}\r\n\r\nexport const useSwapBatch = ({ keepInSonic, ...swapParams }: SwapModel & ExtraDepositSwapBatchOptions) => {\r\n  const dispatch = useAppDispatch();\r\n  const { sonicBalances } = useSwapCanisterStore();\r\n\r\n  if (!sonicBalances) throw new Error('Sonic balance is required');\r\n  if (!swapParams.from.metadata || !swapParams.to.metadata) throw new Error('Tokens are required');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const depositParams = {\r\n    token: swapParams.from.metadata,\r\n    amount: getAmountDependsOnBalance( sonicBalances[swapParams.from.metadata.id],\r\n      swapParams.from.metadata.decimals,\r\n      swapParams.from.value\r\n    ),\r\n    allowance: swapParams.allowance,\r\n    entryVal:'0'\r\n  };\r\n  const withdrawParams = { token: swapParams.to.metadata, amount: swapParams.to.value };\r\n  var tokenType = depositParams.token?.tokenType;\r\n\r\n  var batchLoad: any = { state: \"idle\" };\r\n  var DepositBatch = { batch: batchLoad, openBatchModal: () => { } };\r\n\r\n  if (tokenType == 'DIP20' || tokenType == 'YC') {\r\n\r\n    const approve = useApproveTransactionMemo(depositParams);\r\n    const deposit = useDepositTransactionMemo(depositParams);\r\n    swapParams.entryVal = depositParams.amount;\r\n    \r\n    const swap = useSwapExactTokensTransactionMemo(swapParams);\r\n    withdrawParams.amount = swap.amountOutMin?.toString();\r\n    const withdraw = useWithdrawTransactionMemo(withdrawParams);\r\n\r\n    const transactions = useMemo(() => {\r\n      let _transactions = {};\r\n      _transactions = { ...getDepositTransactions({ approveTx: approve, depositTx: deposit, tokenType: depositParams.token.tokenType }) };\r\n      _transactions = { ..._transactions, swap };\r\n      if (!keepInSonic) { _transactions = { ..._transactions, withdraw } };\r\n      return _transactions;\r\n    }, [...Object.values(swapParams), keepInSonic]);\r\n\r\n    const openBatchModal = () => {\r\n      dispatch(\r\n        modalsSliceActions.setSwapModalData({\r\n          steps: Object.keys(transactions) as SwapModalDataStep[],\r\n          fromTokenSymbol: swapParams.from.metadata?.symbol,\r\n          toTokenSymbol: swapParams.to.metadata?.symbol,\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openSwapProgressModal());\r\n    };\r\n\r\n    batchLoad = useBatch<SwapModalDataStep>({\r\n      transactions,\r\n      handleRetry: () => {\r\n        return new Promise<boolean>((resolve) => {\r\n          dispatch(\r\n            modalsSliceActions.setSwapModalData({\r\n              callbacks: [\r\n                () => {\r\n                  dispatch(modalsSliceActions.closeSwapFailModal());\r\n                  openBatchModal(); resolve(true);\r\n                },\r\n                () => {\r\n                  navigate(`/assets/withdraw?tokenId=${swapParams.from.metadata?.id}&amount=${swapParams.from.value}`);\r\n                  dispatch(modalsSliceActions.closeSwapFailModal()); resolve(false);\r\n                },\r\n                () => { resolve(false); },\r\n              ],\r\n            })\r\n          );\r\n          dispatch(modalsSliceActions.closeSwapProgressModal());\r\n          dispatch(modalsSliceActions.openSwapFailModal());\r\n        });\r\n      },\r\n    });\r\n\r\n    if(batchLoad.execute) batchLoad.batchFnUpdate = true;\r\n\r\n    return DepositBatch = { batch: batchLoad, openBatchModal};\r\n    \r\n  } else if (tokenType == 'ICRC1') {\r\n\r\n    var steps = ['swap', 'withdraw'];\r\n    var reqAmt = parseFloat(depositParams.amount);\r\n\r\n    if (reqAmt > 0) {\r\n      steps = ['getacnt', 'approve', 'deposit', ...steps];\r\n    }\r\n    \r\n    const openBatchModal = () => {\r\n      dispatch(\r\n        modalsSliceActions.setSwapModalData({\r\n          steps: steps as SwapModalDataStep[],\r\n          fromTokenSymbol: swapParams.from.metadata?.symbol,\r\n          toTokenSymbol: swapParams.to.metadata?.symbol,\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openSwapProgressModal());\r\n    };\r\n\r\n    DepositBatch = { ...DepositBatch, openBatchModal };\r\n\r\n    var getAcnt: any, approveTx: any, depositTx: any;\r\n\r\n    getAcnt = intitICRCTokenDeposit(); \r\n    approveTx = useICRCTransferMemo({ ...depositParams, tokenAcnt: getAcnt });\r\n    depositTx = useDepositTransactionMemo(depositParams);\r\n    \r\n    const swap = useSwapExactTokensTransactionMemo(swapParams);\r\n    const withdraw = useWithdrawTransactionMemo(withdrawParams);\r\n\r\n    const transactions = useMemo(() => {\r\n      let _transactions = {};\r\n      if (reqAmt > 0) {\r\n        if (getAcnt) {\r\n          _transactions = {\r\n            ...getDepositTransactions({ approveTx: approveTx, depositTx, txNames: ['approve', 'deposit'], tokenType: tokenType }), swap\r\n          }\r\n        }\r\n      } else {\r\n        _transactions = { ..._transactions, swap };\r\n      }\r\n      if (!keepInSonic) { _transactions = { ..._transactions, withdraw } };\r\n      return _transactions;\r\n    }, [approveTx]);\r\n\r\n    if (Object.keys(transactions).includes('swap')) {\r\n      batchLoad = useBatch<SwapModalDataStep>({\r\n        transactions,\r\n        handleRetry: () => {\r\n          return new Promise<boolean>((resolve) => {\r\n            dispatch(\r\n              modalsSliceActions.setSwapModalData({\r\n                callbacks: [\r\n                  () => {\r\n                    dispatch(modalsSliceActions.closeSwapFailModal());\r\n                    openBatchModal(); resolve(true);\r\n                  },\r\n                  () => {\r\n                    navigate(`/assets/withdraw?tokenId=${swapParams.from.metadata?.id}&amount=${swapParams.from.value}`);\r\n                    dispatch(modalsSliceActions.closeSwapFailModal()); resolve(false);\r\n                  },\r\n                  () => { resolve(false); },\r\n                ],\r\n              })\r\n            );\r\n            dispatch(modalsSliceActions.closeSwapProgressModal());\r\n            dispatch(modalsSliceActions.openSwapFailModal());\r\n          });\r\n        },\r\n      });\r\n      batchLoad.batchFnUpdate = true;\r\n    } else {\r\n      batchLoad = useBatch<SwapModalDataStep>({\r\n        transactions: {},\r\n        handleRetry: () => { return Promise.resolve(false) },\r\n      });\r\n      if (getAcnt) batchLoad = { state: \"approve\" }\r\n      else batchLoad = { state: \"getacnt\" }\r\n    }\r\n    return DepositBatch = { ...DepositBatch, batch: batchLoad, openBatchModal}\r\n  } else return DepositBatch;\r\n};","import {\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  WithdrawModalDataStep,\r\n} from '@/store';\r\n\r\nimport { Withdraw } from '../..';\r\nimport { useBatch, useWithdrawTransactionMemo } from '..';\r\n\r\nexport const useWithdrawBatch = (withdraw: Withdraw) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setWithdrawModalData({\r\n        steps: ['withdraw'] as WithdrawModalDataStep[],\r\n        tokenSymbol: withdraw.token?.symbol,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openWithdrawProgressModal());\r\n  };\r\n\r\n  const withdrawMemo = useWithdrawTransactionMemo(withdraw);\r\n\r\n  return {\r\n    batch: useBatch({\r\n      transactions: {\r\n        withdraw: withdrawMemo,\r\n      },\r\n      handleRetry: () => {\r\n        dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n        dispatch(modalsSliceActions.openWithdrawFailModal());\r\n\r\n        return Promise.resolve(false);\r\n      },\r\n    }),\r\n    openBatchModal,\r\n  };\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport {\r\n  modalsSliceActions,\r\n  useAppDispatch,\r\n  useSwapCanisterStore,\r\n  useSwapViewStore,\r\n  WithdrawWICPModalDataStep,\r\n} from '@/store';\r\n\r\nimport { useBatch } from '..';\r\nimport {\r\n  useWithdrawTransactionMemo,\r\n  useWithdrawWICPTransactionMemo,\r\n} from '../transactions';\r\nimport { getAmountDependsOnBalance } from '.';\r\n\r\ntype UseWithdrawWICPBatchOptions = {\r\n  amount: string;\r\n  toAccountId?: string;\r\n};\r\n\r\nexport const useWithdrawWICPBatch = ({\r\n  amount,\r\n  toAccountId,\r\n}: UseWithdrawWICPBatchOptions) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const { tokenBalances } = useSwapCanisterStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  if (!tokenBalances) throw new Error('Sonic balance is required');\r\n  if (!tokenList) throw new Error('Token list is required');\r\n\r\n  const withdraw = useWithdrawTransactionMemo({\r\n    token: tokenList[ENV.canistersPrincipalIDs.WICP],\r\n    amount: getAmountDependsOnBalance(\r\n      tokenBalances[ENV.canistersPrincipalIDs.WICP],\r\n      ICP_METADATA.decimals,\r\n      amount\r\n    ),\r\n  });\r\n\r\n  const withdrawWICP = useWithdrawWICPTransactionMemo({\r\n    toAccountId,\r\n    amount,\r\n  });\r\n\r\n  const transactions = useMemo(() => {\r\n    let _transactions = {};\r\n\r\n    if (Number(withdraw.args[1]) > 0) {\r\n      _transactions = {\r\n        withdraw,\r\n      };\r\n    }\r\n\r\n    _transactions = {\r\n      ..._transactions,\r\n      withdrawWICP,\r\n    };\r\n\r\n    return _transactions;\r\n  }, [withdrawWICP, withdraw]);\r\n\r\n  const openBatchModal = () => {\r\n    dispatch(\r\n      modalsSliceActions.setWithdrawWICPModalData({\r\n        steps: Object.keys(transactions) as WithdrawWICPModalDataStep[],\r\n      })\r\n    );\r\n\r\n    dispatch(modalsSliceActions.openWithdrawWICPProgressModal());\r\n  };\r\n\r\n  return {\r\n    batch: useBatch({\r\n      transactions,\r\n      handleRetry: () => {\r\n        return new Promise((resolve) => {\r\n          dispatch(\r\n            modalsSliceActions.setWithdrawWICPModalData({\r\n              callbacks: [\r\n                // Retry callback\r\n                () => {\r\n                  dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n                  openBatchModal();\r\n                  resolve(true);\r\n                },\r\n                // Close callback\r\n                () => {\r\n                  dispatch(modalsSliceActions.closeWithdrawWICPFailModal());\r\n                  resolve(false);\r\n                },\r\n              ],\r\n            })\r\n          );\r\n\r\n          dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n          dispatch(modalsSliceActions.openWithdrawWICPFailModal());\r\n        });\r\n      },\r\n    }),\r\n    openBatchModal,\r\n  };\r\n};\r\n","export * from './transactions';\r\nexport * from './batch';\r\nexport * from './use-batch';\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { TokenIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nexport const useApproveTransactionMemo: CreateTransaction<Deposit> = (\r\n  { amount, token, allowance = 0 }, onSuccess, onFail\r\n) =>\r\n  useMemo(() => {\r\n    if (!token?.id) { return; }\r\n    const tokenType = token.tokenType;\r\n    const parsedAmount = amount ? parseAmount(amount, token.decimals) : BigInt(0);\r\n    const toApproveAmount = parsedAmount + token.fee > BigInt(allowance) ? parsedAmount : 0;\r\n\r\n    if (tokenType == 'DIP20') {\r\n      return {\r\n        canisterId: token.id, idl: TokenIDL.DIP20.factory, methodName: 'approve',\r\n        onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n          if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n          if (onSuccess) onSuccess(res);\r\n        },\r\n        onFail,\r\n        args: [Principal.fromText(ENV.canistersPrincipalIDs.swap), toApproveAmount],\r\n      };\r\n    }\r\n    else if (tokenType == 'YC') {\r\n      return {\r\n        canisterId: token.id, idl: TokenIDL.DIP20.YCfactory, methodName: 'approve',\r\n        onSuccess: async (res: TokenIDL.DIP20.YCResult) => {\r\n          if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n          if (onSuccess) onSuccess(res);\r\n        },\r\n        onFail,\r\n        args: [Principal.fromText(ENV.canistersPrincipalIDs.swap), toApproveAmount],\r\n      };\r\n    }\r\n    else return false;\r\n  }, [amount, token, allowance]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { CreatePair, CreateTransaction } from '../../models';\r\n\r\nexport type CreatePairTransaction = Transaction;\r\n\r\nexport const useCreatePairTransactionMemo: CreateTransaction<CreatePair> = (\r\n   { token0, token1 }: CreatePair,onSuccess,onFail) =>useMemo(() => {\r\n    if (!token0.metadata || !token1.metadata) {\r\n      return {};\r\n    }\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'createPair',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        AppLog.error('Create pair transaction failed', res);\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata.id),\r\n        Principal.fromText(token1.metadata.id),\r\n      ],\r\n    };\r\n  }, []);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nexport const useDepositTransactionMemo: CreateTransaction<Deposit> = ({ amount, token }, onSuccess, onFail) =>\r\n  useMemo(() => {\r\n    if (!token?.id || !amount) { return {} }\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'deposit',\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n      args: [ Principal.fromText(token?.id),parseAmount(amount, token?.decimals)],\r\n    };\r\n  }, [amount, token]);\r\n","import { getswapActor, fromHexString, getTokenActor } from '@/utils';\r\n\r\nimport { useState, useMemo, useEffect } from \"react\";\r\n\r\nimport { parseAmount } from '@/utils/format';\r\nimport { Principal } from '@dfinity/principal';\r\nimport { ENV } from '@/config';\r\n\r\nimport { CreateTransaction, Deposit } from '../../models';\r\n\r\nimport { TokenIDL } from '@/did';\r\n\r\nexport const intitICRCTokenDeposit = (deposit?:any): any => {\r\n    const [tokenAcnt, setData] = useState();\r\n    useMemo(() => {\r\n        getswapActor(false).then(actor => {\r\n            //initiateICRC1Transfer initateTransfer\r\n            actor.initiateICRC1Transfer().then((data:any) => {\r\n                setData(data);\r\n            });\r\n        });\r\n    }, []);\r\n    return tokenAcnt;\r\n};\r\n\r\nexport const useICRCTransferMemo: CreateTransaction<Deposit> = (\r\n    { amount, token, allowance = 0, tokenAcnt=[] },onSuccess, onFail) => useMemo(() => {\r\n        if (!token?.id && tokenAcnt) { return; }\r\n        var canId = token?.id ? token.id : '';\r\n        var parsedAmount = amount ? parseAmount(amount, token?.decimals ? token?.decimals : 0) : BigInt(0);\r\n        parsedAmount += token?.fee ? token?.fee : BigInt(0);\r\n        var subacc:any = tokenAcnt; // fromHexString(tokenAcnt);\r\n        return {\r\n            canisterId: canId,\r\n            idl: TokenIDL.ICRC1.factory,\r\n            methodName: 'icrc1_transfer',\r\n            onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n                if ('Err' in res) throw new Error(JSON.stringify(res.Err));\r\n                if (onSuccess) onSuccess(res);\r\n            },\r\n            onFail,\r\n            args: [{\r\n                to: { owner: Principal.fromText(ENV.canistersPrincipalIDs.swap), subaccount: [subacc] },\r\n                fee: [], memo: [], amount: parsedAmount, from_subaccount: [], created_at_time: []\r\n            }],\r\n        };\r\n    }, [tokenAcnt]);\r\n\r\n\r\nexport const useICRCDepositMemo: CreateTransaction<Deposit> = ({ amount, token, allowance = 0, tokenAcnt = '' }, onSuccess, onFail) => {\r\n    const [tokenTrx, settokenTrxData] = useState({});\r\n    useEffect((): any => {\r\n        var canId = token?.id ? token.id : '';\r\n        if (!tokenAcnt) return false;\r\n        getTokenActor(canId, false).then(actor => {\r\n            var parsedAmount = amount ? parseAmount(amount, token?.decimals ? token?.decimals : 0) : BigInt(0);\r\n            parsedAmount += token?.fee ? token?.fee : BigInt(0);\r\n            var subacc: number[] = fromHexString(tokenAcnt);\r\n            actor.icrc1_transfer({\r\n                to: { owner: Principal.fromText(ENV.canistersPrincipalIDs.swap), subaccount: [subacc] },\r\n                fee: [], memo: [], amount: parsedAmount, from_subaccount: [], created_at_time: []\r\n            }).then((data: any) => {\r\n                settokenTrxData({ resp: data });\r\n            }).catch(((err: any) => { return false; }))\r\n        });\r\n    }, [tokenAcnt]);\r\n    return tokenTrx;\r\n}\r\n","export * from './approve';\r\nexport * from './create-pair';\r\nexport * from './deposit';\r\nexport * from './ledger-transfer';\r\nexport * from './liquidity';\r\nexport * from './mint-wicp';\r\nexport * from './mint-xtc';\r\nexport * from './swap';\r\nexport * from './withdraw-wicp';\r\nexport * from './withdraw';\r\nexport * from './icrcTransfer'","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { LedgerIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, LedgerTransfer } from '../../models';\r\n\r\nexport const useLedgerTransferTransactionMemo: CreateTransaction<\r\n  LedgerTransfer\r\n> = (\r\n  { toAccountId, fee = ICP_METADATA.fee, amount, memo = BigInt(0) },\r\n  onSuccess,\r\n  onFail\r\n) =>\r\n  useMemo(() => {\r\n    if (!toAccountId || !amount) {\r\n      return {};\r\n    }\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.ledger,\r\n      idl: LedgerIDL.factory,\r\n      methodName: 'send_dfx',\r\n      onSuccess: async (blockHeight: number[]) => {\r\n        if (onSuccess) onSuccess(blockHeight);\r\n        return blockHeight;\r\n      },\r\n      onFail,\r\n      args: [\r\n        {\r\n          to: toAccountId,\r\n          fee: { e8s: fee },\r\n          amount: {\r\n            e8s: parseAmount(amount, ICP_METADATA.decimals),\r\n          },\r\n          memo,\r\n          from_subaccount: [], // For now, using default subaccount to handle ICP\r\n          created_at_time: [],\r\n        },\r\n      ],\r\n    };\r\n  }, [amount, fee, memo, onFail, onSuccess, toAccountId]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { Swap } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppLog } from '@/utils';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { useBalances } from '@/hooks';\r\n\r\nimport { AddLiquidity, CreateTransaction, RemoveLiquidity } from '../../models';\r\n\r\nexport type LiquidityTransaction = Transaction;\r\n\r\nexport interface LiquidityExtraArgs {\r\n  principal: Principal;\r\n}\r\n\r\ntype useTokenTaxCheckOptions = {\r\n  balances?: any;\r\n  tokenId?: string;\r\n  tokenDecimals?: number;\r\n  tokenValue?: string;\r\n  tokenSymbol?: string;\r\n};\r\n\r\nconst useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', }: useTokenTaxCheckOptions) => {\r\n  const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n  const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n  if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n    var id = tokenId ? tokenId : '';\r\n    tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n    tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n  } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n  if (tokenValue) {\r\n\r\n    let tokenVal: number = parseFloat(tokenValue)\r\n    if (tokenSymbol == 'YC') {\r\n      let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n      let sonicBalance = tokenInfo['sonic'] / decimals;\r\n     \r\n      if ((sonicBalance > tokenVal)) {\r\n        tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n        tokenInfo.taxInfo.taxedValue = 0;\r\n      } else {\r\n        tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n        tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n      }\r\n      tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89 / 100));\r\n    }\r\n  }\r\n  return tokenInfo\r\n};\r\n\r\nexport const useAddLiquidityTransactionMemo: CreateTransaction<AddLiquidity> = (\r\n  { token0, token1, slippage }: AddLiquidity, onSuccess, onFail) => {\r\n  var token0Value = token0.value, token1Value = token1.value;\r\n  var balances = useBalances();\r\n  return useMemo(() => {\r\n    if (!token0.metadata || !token1.metadata) throw new Error('Tokens are required');\r\n\r\n    if (token0.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: token0.metadata ? token0.metadata.id : '',\r\n        tokenSymbol: token0.metadata ? token0.metadata.symbol : '',\r\n        tokenDecimals: token0.metadata ? token0.metadata.decimals : 1,\r\n        tokenValue: token0.value ? token0.value : ''\r\n      });\r\n\r\n      token0Value = info.taxInfo.netValue.toString();\r\n      var _temp = token0Value.split(\".\");\r\n\r\n      token0Value = _temp[0] + '.' + (_temp[1] ? _temp[1].substring(0, 3):'0');\r\n    }\r\n\r\n    if (token1.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: token1.metadata ? token1.metadata.id : '',\r\n        tokenSymbol: token1.metadata ? token1.metadata.symbol : '',\r\n        tokenDecimals: token1.metadata ? token1.metadata.decimals : 1,\r\n        tokenValue: token1.value ? token1.value : ''\r\n      });\r\n\r\n      token1Value = info.taxInfo.netValue.toString();\r\n      var _temp = token1Value.split(\".\");\r\n      token1Value = _temp[0] + '.' + ( _temp[1]? _temp[1].substring(0, 3):'0');\r\n    }\r\n\r\n    const amount0Desired = parseAmount(token0Value, token0.metadata.decimals);\r\n    const amount1Desired = parseAmount(token1Value, token1.metadata.decimals);\r\n\r\n    const amount0Min = parseAmount(\r\n      Swap.getAmountMin({ amount: token0Value, slippage, decimals: token0.metadata.decimals }).toString(),\r\n      token0.metadata.decimals\r\n    );\r\n    const amount1Min = parseAmount(\r\n      Swap.getAmountMin({ amount: token1Value, slippage, decimals: token1.metadata.decimals }).toString(),\r\n      token1.metadata.decimals\r\n    );\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'addLiquidity',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata?.id), Principal.fromText(token1.metadata?.id),\r\n        amount0Desired, amount1Desired, amount0Min, amount1Min, BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [token0, token1, slippage]);\r\n};\r\n\r\n\r\nexport const useRemoveLiquidityTransactionMemo: CreateTransaction<RemoveLiquidity> = (\r\n  {\r\n    token0, token1, amount0Min, amount1Min, lpAmount, principalId,\r\n  }: RemoveLiquidity, onSuccess, onFail\r\n) =>\r\n  useMemo(() => {\r\n\r\n    if (!token0 || !token1) throw new Error('Token IDs are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'removeLiquidity',\r\n      onFail: async (res: SwapIDL.Result) => {\r\n        AppLog.error(\r\n          `Remove liquidity transaction failed: token0=${token0.metadata.id} token1=${token1.metadata.id} principal=${principalId}`,\r\n          res\r\n        );\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onFail) onFail(res);\r\n      },\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [\r\n        Principal.fromText(token0.metadata.id),\r\n        Principal.fromText(token1.metadata.id),\r\n        BigInt(Math.round(lpAmount)),\r\n        parseAmount(String(amount0Min), token0.metadata.decimals),\r\n        parseAmount(String(amount1Min), token1.metadata.decimals),\r\n        Principal.fromText(principalId),\r\n        BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [token0, token1]);\r\n","import { ENV } from '@/config';\r\nimport { TokenIDL } from '@/did';\r\n\r\nimport { CreateTransaction, MintWICP } from '../../models';\r\n\r\nexport const getMintWICPTransaction: CreateTransaction<MintWICP> = (\r\n  options = {},\r\n  onSuccess,\r\n  onFail\r\n) => {\r\n  const { blockHeight, subaccount = [] } = options;\r\n\r\n  return {\r\n    canisterId: ENV.canistersPrincipalIDs.WICP,\r\n    idl: TokenIDL.DIP20.factory,\r\n    methodName: 'mint',\r\n    onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n      if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n      if (onSuccess) onSuccess(res);\r\n    },\r\n    onFail,\r\n    args: (prevResponses: any[]) => {\r\n      const argBlockHeight = prevResponses?.[0]?.response;\r\n      return [\r\n        subaccount,\r\n        (blockHeight && BigInt(blockHeight)) ?? argBlockHeight,\r\n      ];\r\n    },\r\n  };\r\n};\r\n","import { ENV } from '@/config';\r\nimport { XTCIDL } from '@/did';\r\n\r\nimport { CreateTransaction, MintXTC } from '../../models';\r\n\r\nexport const getMintXTCTransaction: CreateTransaction<MintXTC> = (\r\n  options = {},\r\n  onSuccess,\r\n  onFail\r\n) => {\r\n  const { blockHeight, subaccount = [] } = options;\r\n\r\n  return {\r\n    canisterId: ENV.canistersPrincipalIDs.XTC,\r\n    idl: XTCIDL.factory,\r\n    methodName: 'mint_by_icp',\r\n    onSuccess: async (res: XTCIDL.TxReceipt) => {\r\n      if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n      if (onSuccess) onSuccess(res);\r\n    },\r\n    onFail,\r\n    args: (prevResponses: any[]) => {\r\n      const argBlockHeight = prevResponses[0]?.response;\r\n\r\n      return [\r\n        subaccount,\r\n        (blockHeight && BigInt(blockHeight)) ?? argBlockHeight,\r\n      ];\r\n    },\r\n  };\r\n};\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Transaction } from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\nimport { Swap } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\nimport { useBalances } from '@/hooks';\r\n\r\nimport { CreateTransaction, SwapModel } from '../../models';\r\n\r\nexport type SwapTransaction = Transaction;\r\n\r\nexport interface SwapExtraArgs {\r\n  principal: Principal;\r\n}\r\n\r\ntype useTokenTaxCheckOptions = {\r\n  balances?: any;\r\n  tokenId?: string;\r\n\r\n  tokenDecimals?: number;\r\n  tokenValue?: string;\r\n  tokenSymbol?: string;\r\n};\r\n\r\nconst useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', }: useTokenTaxCheckOptions) => {\r\n  const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n  const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n  if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n    var id = tokenId ? tokenId : '';\r\n    tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n    tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n  } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n  if (tokenValue) {\r\n    let tokenVal: number = parseFloat(tokenValue)\r\n    if (tokenSymbol == 'YC') {\r\n      let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n      let sonicBalance = tokenInfo['sonic'] / decimals;\r\n\r\n      if ((sonicBalance > tokenVal)) {\r\n        tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n        tokenInfo.taxInfo.taxedValue = 0;\r\n      } else {\r\n        tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n        tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n      }\r\n      tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (88.9 / 100));\r\n    }\r\n  }\r\n  return tokenInfo\r\n};\r\n\r\nexport const useSwapExactTokensTransactionMemo: CreateTransaction<SwapModel> = (\r\n  { from, to, slippage, principalId, entryVal }: SwapModel, onSuccess, onFail) => {\r\n  var fromValue = from.value;\r\n  let balances = useBalances();\r\n  return useMemo(() => {\r\n    if (!from.metadata || !to.metadata) throw new Error('Tokens are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n\r\n    if (from.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: from.metadata ? from.metadata.id : '',\r\n        tokenSymbol: from.metadata ? from.metadata.symbol : '',\r\n        tokenDecimals: from.metadata ? from.metadata.decimals : 1,\r\n        tokenValue: from.value ? from.value : ''\r\n      });\r\n      fromValue = info.taxInfo.netValue.toFixed(3);\r\n    }\r\n\r\n    const amountIn = parseAmount(fromValue, from.metadata.decimals);\r\n    var outAmountMin = Swap.getAmountMin({ amount: to.value, slippage, decimals: to.metadata.decimals }).toNumber();\r\n\r\n    if (from.metadata?.symbol == 'YC' && parseFloat(entryVal || '') > 0) {\r\n      outAmountMin = outAmountMin - (outAmountMin * 0.11);\r\n    }\r\n\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    var amountOutMin = parseAmount(outAmountMin.toString(), to.metadata.decimals);\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'swapExactTokensForTokens',\r\n      onFail,\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      args: [amountIn, amountOutMin, from.paths[to.metadata.id]?.path, Principal.fromText(principalId), BigInt(currentTime)],\r\n      amountOutMin:outAmountMin\r\n    };\r\n  }, [from.metadata, from.value, from.paths, to.metadata, to.value, principalId, slippage, onFail, onSuccess]);\r\n};\r\n\r\nexport const useSwapForExactTokensTransactionMemo: CreateTransaction<\r\n  SwapModel\r\n> = ({ from, to, slippage, principalId }: SwapModel, onSuccess, onFail) => {\r\n\r\n  var fromValue = from.value;\r\n  let balances = useBalances();\r\n\r\n  return useMemo(() => {\r\n    if (!from.metadata || !to.metadata) throw new Error('Tokens are required');\r\n    if (!principalId) throw new Error('Principal is required');\r\n    if (from.metadata?.symbol == 'YC') {\r\n      let info = useTokenTaxCheck({\r\n        balances: balances, tokenId: from.metadata ? from.metadata.id : '',\r\n        tokenSymbol: from.metadata ? from.metadata.symbol : '',\r\n        tokenDecimals: from.metadata ? from.metadata.decimals : 1,\r\n        tokenValue: from.value ? from.value : ''\r\n      });\r\n      fromValue = info.taxInfo.netValue.toFixed(3);\r\n    }\r\n\r\n    const amountOut = parseAmount(to.value, to.metadata.decimals);\r\n    const amountInMin = parseAmount(\r\n      Swap.getAmountMin({\r\n        amount: fromValue,\r\n        slippage,\r\n        decimals: from.metadata.decimals,\r\n      }).toString(),\r\n      to.metadata.decimals\r\n    );\r\n    const currentTime = (new Date().getTime() + 5 * 60 * 1000) * 10000000;\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'swapTokensForExactTokens',\r\n      onFail,\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        onSuccess(res);\r\n      },\r\n      args: [\r\n        amountOut,\r\n        amountInMin,\r\n        [from.metadata.id, to.metadata.id],\r\n        Principal.fromText(principalId),\r\n        BigInt(currentTime),\r\n      ],\r\n    };\r\n  }, [\r\n    from.metadata,\r\n    from.value,\r\n    to.metadata,\r\n    to.value,\r\n    principalId,\r\n    slippage,\r\n    onFail,\r\n    onSuccess,\r\n  ]);\r\n};\r\n","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { TokenIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, WithdrawWICP } from '../../models';\r\n\r\nexport const useWithdrawWICPTransactionMemo: CreateTransaction<WithdrawWICP> = (\r\n  { amount, toAccountId },\r\n  onSuccess,\r\n  onFail\r\n) =>\r\n  useMemo(() => {\r\n    if (!amount) throw new Error('Amount is required');\r\n    if (!toAccountId) throw new Error('Account ID is required');\r\n\r\n    return {\r\n      canisterId: ENV.canistersPrincipalIDs.WICP,\r\n      idl: TokenIDL.DIP20.factory,\r\n      methodName: 'withdraw',\r\n      onSuccess: async (res: TokenIDL.DIP20.Result) => {\r\n        if ('Err' in res) throw new Error(JSON.stringify(Object.keys(res.Err)));\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n      args: [parseAmount(amount, ICP_METADATA.decimals), toAccountId],\r\n    };\r\n  }, [amount, onFail, onSuccess, toAccountId]);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { parseAmount } from '@/utils/format';\r\n\r\nimport { CreateTransaction, Withdraw } from '../../models';\r\n\r\nexport const useWithdrawTransactionMemo: CreateTransaction<Withdraw> = ({ amount, token },onSuccess,onFail) =>\r\n  useMemo(() => {\r\n    if (!token?.id || !amount) {return {};}\r\n    return {\r\n      args: [Principal.fromText(token.id), parseAmount(amount, token.decimals)],\r\n      canisterId: ENV.canistersPrincipalIDs.swap,\r\n      idl: SwapIDL.factory,\r\n      methodName: 'withdraw',\r\n      onSuccess: async (res: SwapIDL.Result) => {\r\n        if ('err' in res) throw new Error(res.err);\r\n        if (onSuccess) onSuccess(res);\r\n      },\r\n      onFail,\r\n    };\r\n  }, [amount, token, onFail, onSuccess]);\r\n","import { useMemo, useState } from 'react';\r\n\r\nimport { plug } from '@/integrations/plug';\r\n\r\nimport { BatchTransactions } from '..';\r\nimport { Batch } from '../models';\r\n\r\nexport const useBatch = <Model>({\r\n  transactions, handleRetry\r\n}: Batch.HookProps<Model>): Batch.Hook<Model> => {\r\n\r\n  const [state, setState] = useState(Batch.DefaultHookState.Idle);\r\n  const [error, setError] = useState<unknown>();\r\n\r\n  const handleError = (error: unknown): void => {\r\n    setError(error);\r\n    setState(Batch.DefaultHookState.Error);\r\n  };\r\n\r\n  const states = useMemo(\r\n    () => Object.keys(transactions) as Batch.DefaultHookState[],\r\n    [transactions]\r\n  );\r\n\r\n  const batch = useMemo(() => {\r\n    const newBatch = new BatchTransactions(plug, handleRetry);\r\n    const transactionsList = Object.values(transactions);\r\n    Object.values(transactions).forEach((transaction, index) => {\r\n      const onSuccess = transaction.onSuccess;\r\n      transaction.onSuccess = async (res) => {\r\n        let txSuccessResponse;\r\n        if (onSuccess) { txSuccessResponse = await onSuccess(res);}\r\n        if (index !== transactionsList.length - 1) {\r\n          setState(states[index + 1]);\r\n        } else {\r\n          setState(Batch.DefaultHookState.Done);\r\n        }\r\n        return txSuccessResponse;\r\n      };\r\n      const onFail = transaction.onFail;\r\n      transaction.onFail = async (err, prevRes) => {\r\n        if (onFail) await onFail(err, prevRes);\r\n        handleError(err);\r\n      };\r\n      newBatch.push(transaction);\r\n    });\r\n\r\n    return newBatch;\r\n  }, [transactions, handleRetry]);\r\n\r\n  const execute = async (): Promise<unknown> => {\r\n    if (\r\n      state !== Batch.DefaultHookState.Idle &&\r\n      state !== Batch.DefaultHookState.Error\r\n    ) {\r\n      return Promise.reject('Batch is not idle');\r\n    }\r\n    setState(states[0]);\r\n    try {\r\n      return await batch.execute();\r\n    } catch (error: any) {\r\n      // TODO: Improve rejection flow to support other providers\r\n      if (error.message === 'The transactions was rejected.') {\r\n        setState(Batch.DefaultHookState.Error);\r\n      }\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return { execute, state, error };\r\n};\r\n","import { useCallback } from 'react';\r\n\r\nimport {\r\n  MintTokenSymbol,\r\n  popNotification,\r\n  useAppDispatch,\r\n  usePlugStore,\r\n} from '@/store';\r\nimport {\r\n  getFromStorage,\r\n  LocalStorageKey,\r\n  MintUncompleteBlockHeights,\r\n  saveToStorage,\r\n} from '@/utils';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport type UseMintErrorHandlerOptions = {\r\n  notificationId: string;\r\n  errorMessage?: string;\r\n};\r\n\r\nexport const useMintErrorHandler = ({\r\n  notificationId,\r\n}: UseMintErrorHandlerOptions) => {\r\n  const { principalId } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleMintError = useCallback(\r\n    (errorMessage?: string, callback?: (errorText: string) => unknown) => {\r\n      if (!errorMessage) {\r\n        return;\r\n      }\r\n\r\n      AppLog.error('Minting Error', errorMessage);\r\n\r\n      const isBlockUsedError = errorMessage.includes('BlockUsed');\r\n      const isUnauthorizedError = errorMessage.includes('Unauthorized');\r\n      const isOtherError = errorMessage.includes('Other');\r\n      const isOperationStyleError = errorMessage.includes(\r\n        'ErrorOperationStyle'\r\n      );\r\n      const isErrorToError = errorMessage.includes('ErrorTo');\r\n      const isAmountToSmallError = errorMessage.includes('AmountToSmall');\r\n\r\n      const errorText = isUnauthorizedError\r\n        ? `Block Height entered does not match your address`\r\n        : isOtherError\r\n        ? `Wrap failed, check if the Block Height correct`\r\n        : isBlockUsedError\r\n        ? `Block Height entered is already used`\r\n        : isOperationStyleError\r\n        ? `Provided Block Height can't be used for this operation`\r\n        : isErrorToError\r\n        ? `Selected token symbol does not match the Block Height`\r\n        : isAmountToSmallError\r\n        ? `Amount to mint is too small`\r\n        : `Wrap failed, please try again later`;\r\n\r\n      if (isBlockUsedError && principalId) {\r\n        const removeLastProcessedTransaction = (\r\n          tokenSymbol: MintTokenSymbol\r\n        ) => {\r\n          const localStorageKey =\r\n            tokenSymbol === MintTokenSymbol.WICP\r\n              ? LocalStorageKey.MintWICPUncompleteBlockHeights\r\n              : LocalStorageKey.MintXTCUncompleteBlockHeights;\r\n\r\n          const prevMintBlockHeightData = getFromStorage(localStorageKey) as\r\n            | MintUncompleteBlockHeights\r\n            | undefined;\r\n\r\n          const newBlockHeightData = {\r\n            ...prevMintBlockHeightData,\r\n            [principalId]: [\r\n              ...(prevMintBlockHeightData?.[principalId]?.filter(\r\n                (_, index) => index !== 0\r\n              ) || []),\r\n            ],\r\n          };\r\n\r\n          saveToStorage(localStorageKey, newBlockHeightData);\r\n        };\r\n\r\n        removeLastProcessedTransaction(MintTokenSymbol.WICP);\r\n        removeLastProcessedTransaction(MintTokenSymbol.XTC);\r\n\r\n        dispatch(popNotification(notificationId));\r\n      }\r\n\r\n      if (callback) {\r\n        callback(errorText);\r\n      }\r\n    },\r\n    [dispatch, notificationId, principalId]\r\n  );\r\n\r\n  return handleMintError;\r\n};\r\n","export * from './batch-transactions';\r\nexport * from './hooks';\r\nexport * from './models';\r\n","import type {\r\n  Transaction,\r\n  TransactionPrevResponse,\r\n} from '@memecake/plug-inpage-provider/dist/src/Provider/interfaces';\r\n\r\nimport { CreateTransaction } from '.';\r\n\r\nexport namespace Batch {\r\n  export enum State {\r\n    Idle = 'idle',\r\n    Running = 'running',\r\n  }\r\n\r\n  export type Execute = () => Promise<unknown>;\r\n\r\n  export type Push = (transaction: Transaction) => Controller;\r\n\r\n  export type GetTransactions = () => Transaction[];\r\n\r\n  export type GetState = () => State;\r\n\r\n  export interface Controller {\r\n    execute: Execute;\r\n    push: Push;\r\n    getTransactions: GetTransactions;\r\n    getState: GetState;\r\n  }\r\n\r\n  export enum DefaultHookState {\r\n    Idle = 'idle',\r\n    Done = 'done',\r\n    Error = 'error',\r\n  }\r\n\r\n  export type HookState = {\r\n    [key: number]: string;\r\n  };\r\n\r\n  export interface Hook<State> {\r\n    execute: Batch.Execute;\r\n    state: State | DefaultHookState;\r\n    error: unknown;\r\n  }\r\n\r\n  export interface HookProps<Model> {\r\n    transactions: {\r\n      [key: string]: ReturnType<CreateTransaction<Model, Transaction>>;\r\n    };\r\n    handleRetry?: (\r\n      error: unknown,\r\n      prevResponses?: TransactionPrevResponse[]\r\n    ) => Promise<boolean | { nextTxArgs: unknown }>;\r\n  }\r\n}\r\n","export * from './batch';\r\nexport * from './create-transaction';\r\nexport * from './transactions';\r\n","export * from './create-pair';\r\nexport * from './deposit';\r\nexport * from './ledger-transfer';\r\nexport * from './liquidity';\r\nexport * from './mint-wicp';\r\nexport * from './mint-xtc';\r\nexport * from './swap';\r\nexport * from './withdraw-wicp';\r\nexport * from './withdraw';\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useAllPairs } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport { useAddLiquidityBatch } from '@/integrations/transactions';\r\nimport {\r\n  AddLiquidityModalDataStep, modalsSliceActions, NotificationType,\r\n  useAppDispatch, useLiquidityViewStore, useNotificationStore,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface AddLiquidityNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const AddLiquidityNotificationContent: React.FC<\r\n  AddLiquidityNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const liquidityViewStore = useLiquidityViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n  const { getAllPairs } = useAllPairs();\r\n\r\n  const { token0, token1, slippage } =\r\n    useMemo(() => {\r\n      // Clone current state just for this batch\r\n      const { token0, token1, slippage, pair } = liquidityViewStore;\r\n      // Is needed to send to canister the values in the pair id order\r\n      if (pair) {\r\n        const token0Id = pair.id.split(':')[0];\r\n        if (token0Id !== token0.metadata?.id) {\r\n          return deserialize(\r\n            serialize({ token0: token1, token1: token0, slippage })\r\n          );\r\n        }\r\n      }\r\n      return deserialize(serialize({ token0, token1, slippage }));\r\n    }, []) ?? {};\r\n\r\n    \r\n  const allowance0 = useTokenAllowance(token0.metadata?.id);\r\n  const allowance1 = useTokenAllowance(token1.metadata?.id);\r\n\r\n  var batchData = useAddLiquidityBatch({ token0, token1, slippage: Number(slippage) });\r\n\r\n  const batch: any = batchData?.batch, openBatchModal: any = batchData?.openBatchModal;\r\n  const batchFnUpdate = batch?.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (batch && batch.state)\r\n    if (Object.values(AddLiquidityModalDataStep).includes(batch.state as AddLiquidityModalDataStep)){\r\n      dispatch(modalsSliceActions.setAddLiquidityModalData({ step: batch.state as AddLiquidityModalDataStep \r\n    }));\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state) return;\r\n    if (typeof allowance0 === 'number' && typeof allowance1 === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange();\r\n      openBatchModal();\r\n    } else {\r\n      dispatch( \r\n        modalsSliceActions.setAllowanceVerifyModalData({\r\n          tokenSymbol: [token0.metadata?.symbol, token1.metadata?.symbol],\r\n        })\r\n      );\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance0 === 'undefined' || typeof allowance1 === 'undefined')\r\n      return;\r\n    if (batch.execute)\r\n    batch.execute().then(() => {\r\n      dispatch(modalsSliceActions.clearAddLiquidityModalData());\r\n      dispatch(modalsSliceActions.closeAddLiquidityProgressModal());\r\n\r\n      addNotification({\r\n        title: `Added LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol}`,\r\n        type: NotificationType.Success,id: Date.now().toString(),transactionLink: '/activity',\r\n      });\r\n      getBalances();\r\n      getAllPairs();\r\n      \r\n      getUserPositiveLPBalances();\r\n      \r\n\r\n    }).catch((err:any) => {\r\n      AppLog.error('Add Liquidity Error', err);\r\n      dispatch(modalsSliceActions.clearAddLiquidityModalData());\r\n      addNotification({\r\n        title: `Add LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol} failed`,\r\n        type: NotificationType.Error, id: Date.now().toString(),\r\n      });\r\n    }).finally(() => popNotification(id));\r\n  }, [batchFnUpdate]);\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport { useDepositBatch } from '@/integrations/transactions';\r\n\r\nimport {\r\n  DepositModalDataStep, modalsSliceActions, NotificationType, useAppDispatch,\r\n  useDepositViewStore, useNotificationStore,\r\n} from '@/store';\r\n\r\nimport { AppLog, tokenList } from '@/utils';\r\n\r\nexport interface DepositNotificationContentProps { id: string }\r\n\r\nexport const DepositNotificationContent: React.FC<DepositNotificationContentProps> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { addNotification, popNotification } = useNotificationStore(), { getBalances } = useBalances();\r\n  const depositViewStore = useDepositViewStore();\r\n\r\n  \r\n  const { value, tokenId } = useMemo(() => {\r\n      const { amount: value, tokenId } = depositViewStore;\r\n      return deserialize(serialize({ value, tokenId }));\r\n  }, []) ?? {};\r\n\r\n  const selectedToken = tokenList('obj', tokenId), allowance = useTokenAllowance(selectedToken?.id);\r\n\r\n  var batchData = useDepositBatch({ amount: value, token: selectedToken, allowance });\r\n\r\n  const batch = batchData?.batch, openBatchModal = batchData?.openBatchModal;\r\n  const batchFnUpdate = batch?.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (batch && batch.state)\r\n      if (\r\n        Object.values(DepositModalDataStep).includes(batch.state as DepositModalDataStep)\r\n      ) {\r\n        dispatch(modalsSliceActions.setDepositModalData({ step: batch.state as DepositModalDataStep }));\r\n      }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state) return;\r\n    if (typeof allowance === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange(); openBatchModal();\r\n    } else {\r\n      dispatch(\r\n        modalsSliceActions.setAllowanceVerifyModalData({ tokenSymbol: selectedToken?.symbol })\r\n      );\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch?.state]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance === 'undefined' || !batch?.state) return;\r\n    if (batch.execute)\r\n      batch.execute().then(() => {\r\n        dispatch(modalsSliceActions.closeDepositProgressModal());\r\n        getBalances();\r\n        addNotification({\r\n          title: `Deposited ${value} ${selectedToken?.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        dispatch(modalsSliceActions.clearDepositModalData());\r\n      }).catch((err: any) => {\r\n        AppLog.error(`Deposit Error`, err);\r\n        dispatch(modalsSliceActions.clearDepositModalData());\r\n        addNotification({\r\n          title: `Deposit ${value} ${selectedToken?.symbol} failed`,\r\n          type: NotificationType.Error, id: Date.now().toString(),\r\n        });\r\n      }).finally(() => popNotification(id));\r\n  \r\n  }, [allowance, batchFnUpdate]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","export * from './add-liquidity-notification-content';\r\nexport * from './deposit-notification-content';\r\nexport * from './mint-auto-notification-content';\r\nexport * from './mint-manual-notification-content';\r\nexport * from './mint-wicp-notification-content';\r\nexport * from './mint-xtc-notification-content';\r\nexport * from './remove-liquidity-notifcation-content';\r\nexport * from './swap-notification-content';\r\nexport * from './transaction-notification-content';\r\nexport * from './withdraw-notification-content';\r\nexport * from './withdraw-wicp-notification-content';\r\n","import { Button, Flex, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\nimport { StepStatus, useStepStatus } from '@/components/modals';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { Batch } from '@/integrations/transactions';\r\nimport { useMintMultipleBatch } from '@/integrations/transactions/hooks/batch/use-mint-multiple-batch';\r\nimport { useMintErrorHandler } from '@/integrations/transactions/hooks/use-mint-error-handler';\r\nimport {\r\n  addNotification,\r\n  NotificationState,\r\n  NotificationType,\r\n  setNotificationData,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n} from '@/store';\r\nimport { LocalStorageKey, removeFromStorage } from '@/utils';\r\n\r\nexport type MintAutoNotificationContentProps = {\r\n  id: string;\r\n  state?: NotificationState;\r\n};\r\n\r\nexport const MINT_AUTO_NOTIFICATION_TITLES = {\r\n  [NotificationState.Pending]: 'Minting in progress',\r\n  [NotificationState.Success]: 'Mint was successful',\r\n  [NotificationState.Error]:\r\n    'You have unfinished or failed mint(s), click retry mint below.',\r\n};\r\n\r\nexport const MintAutoNotificationContent: React.FC<\r\n  MintAutoNotificationContentProps\r\n> = ({ id, state }) => {\r\n  const [steps, setSteps] = useState<string[]>([]);\r\n  const [step, setStep] = useState<string | Batch.DefaultHookState>(\r\n    Batch.DefaultHookState.Idle\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { getBalances } = useBalances();\r\n\r\n  const handleMintError = useMintErrorHandler({ notificationId: id });\r\n\r\n  const { mintWICPUncompleteBlockHeights, mintXTCUncompleteBlockHeights } =\r\n    useModalsStore();\r\n\r\n  const getStepStatus = useStepStatus<string>({\r\n    activeStep: step,\r\n    steps,\r\n  });\r\n\r\n  const { batch, getTransactionNames } = useMintMultipleBatch({\r\n    blockHeights: {\r\n      WICP: mintWICPUncompleteBlockHeights,\r\n      XTC: mintXTCUncompleteBlockHeights,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    setStep(batch.state);\r\n  }, [batch.state, dispatch]);\r\n\r\n  const handleAutoMint = () => {\r\n    dispatch(\r\n      setNotificationData({\r\n        data: {\r\n          state: NotificationState.Pending,\r\n          title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Pending],\r\n        },\r\n        id,\r\n      })\r\n    );\r\n\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(\r\n          addNotification({\r\n            title: `Minting finished`,\r\n            type: NotificationType.Success,\r\n            id: Date.now().toString(),\r\n          })\r\n        );\r\n\r\n        removeFromStorage(LocalStorageKey.MintWICPUncompleteBlockHeights);\r\n        removeFromStorage(LocalStorageKey.MintXTCUncompleteBlockHeights);\r\n\r\n        getBalances();\r\n        dispatch(\r\n          setNotificationData({\r\n            data: {\r\n              state: NotificationState.Success,\r\n              title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Success],\r\n            },\r\n            id,\r\n          })\r\n        );\r\n      })\r\n      .catch((err) =>\r\n        handleMintError(err.message, (errorMessage) => {\r\n          dispatch(\r\n            setNotificationData({\r\n              data: {\r\n                state: NotificationState.Error,\r\n                title: MINT_AUTO_NOTIFICATION_TITLES[NotificationState.Error],\r\n              },\r\n              id,\r\n            })\r\n          );\r\n          dispatch(\r\n            addNotification({\r\n              title: errorMessage,\r\n              type: NotificationType.Error,\r\n              id: Date.now().toString(),\r\n            })\r\n          );\r\n        })\r\n      );\r\n\r\n    const transactionNames = getTransactionNames();\r\n\r\n    setSteps(transactionNames);\r\n  };\r\n\r\n  const doneStepColor = useColorModeValue('green.600', 'green.400');\r\n  const activeStepColor = useColorModeValue('gray.600', 'gray.400');\r\n  const disabledStepColor = useColorModeValue('gray.400', 'gray.600');\r\n\r\n  const shouldShowRetryButton = useMemo(() => {\r\n    return (\r\n      step === Batch.DefaultHookState.Idle ||\r\n      step === Batch.DefaultHookState.Error ||\r\n      state === NotificationState.Error\r\n    );\r\n  }, [step, state]);\r\n\r\n  return shouldShowRetryButton ? (\r\n    <Button\r\n      colorScheme=\"dark-blue\"\r\n      variant=\"gradient\"\r\n      isFullWidth\r\n      onClick={handleAutoMint}\r\n      mt={3}\r\n    >\r\n      Retry Mint\r\n    </Button>\r\n  ) : (\r\n    <Stack w=\"full\" pt={4}>\r\n      {steps.map((_step) => {\r\n        const stepStatus = getStepStatus(_step);\r\n        const isDoneStep = stepStatus === StepStatus.Done;\r\n        const isActiveStep = stepStatus === StepStatus.Active;\r\n        const isDisabledStep = stepStatus === StepStatus.Disabled;\r\n\r\n        const stepColor = isDoneStep\r\n          ? doneStepColor\r\n          : isActiveStep\r\n          ? activeStepColor\r\n          : isDisabledStep\r\n          ? disabledStepColor\r\n          : disabledStepColor;\r\n\r\n        const stepLabel = isDisabledStep\r\n          ? 'Waiting'\r\n          : isActiveStep\r\n          ? 'Minting...'\r\n          : 'Done';\r\n\r\n        const blockHeight = _step.split('-')[1];\r\n\r\n        return (\r\n          <Flex\r\n            key={_step}\r\n            w=\"full\"\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Text>{blockHeight}</Text>\r\n            <Text color={stepColor}>{stepLabel}</Text>\r\n          </Flex>\r\n        );\r\n      })}\r\n    </Stack>\r\n  );\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintSingleBatch } from '@/integrations/transactions/hooks/batch/use-mint-single-batch';\r\nimport { useMintErrorHandler } from '@/integrations/transactions/hooks/use-mint-error-handler';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useModalsStore,\r\n  useNotificationStore,\r\n} from '@/store';\r\n\r\nexport interface MintManualNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintManualNotificationContent: React.FC<\r\n  MintManualNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n  const { mintManualTokenSymbol, mintManualBlockHeight } = useModalsStore();\r\n  const handleMintError = useMintErrorHandler({ notificationId: id });\r\n\r\n  const { batch } = useMintSingleBatch({\r\n    tokenSymbol: mintManualTokenSymbol,\r\n    blockHeight: mintManualBlockHeight,\r\n  });\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        addNotification({\r\n          title: `Minting finished`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n        });\r\n\r\n        dispatch(modalsSliceActions.setMintManualBlockHeight(''));\r\n        getBalances();\r\n      })\r\n      .catch((err) =>\r\n        handleMintError(err.message, (errorMessage) => {\r\n          dispatch(\r\n            modalsSliceActions.setMintManualModalErrorMessage(errorMessage)\r\n          );\r\n          dispatch(modalsSliceActions.openMintManualModal());\r\n        })\r\n      )\r\n      .finally(() => popNotification(id));\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintBatch } from '@/integrations/transactions';\r\nimport {\r\n  MintModalDataStep,\r\n  MintTokenSymbol,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  useSwapViewStore,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface MintWICPNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintWICPNotificationContent: React.FC<\r\n  MintWICPNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from, to, keepInSonic } =\r\n    useMemo(() => {\r\n      const { from, to, keepInSonic } = swapViewStore;\r\n\r\n      return deserialize(serialize({ from, to, keepInSonic }));\r\n    }, []) ?? {};\r\n\r\n  const { batch, openBatchModal } = useMintBatch({\r\n    amountIn: from.value,\r\n    amountOut: to.value,\r\n    tokenSymbol: MintTokenSymbol.WICP,\r\n    keepInSonic,\r\n  });\r\n\r\n  const handleStateChange = () => {\r\n    if (\r\n      Object.values(MintModalDataStep).includes(\r\n        batch.state as MintModalDataStep\r\n      )\r\n    ) {\r\n      dispatch(\r\n        modalsSliceActions.setMintWICPModalData({\r\n          step: batch.state,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(modalsSliceActions.closeMintWICPProgressModal());\r\n\r\n        addNotification({\r\n          title: `Wrapped ${from.value} ${from.metadata.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        getBalances();\r\n      })\r\n      .catch((err) => {\r\n        AppLog.error('Mint WICP Error', err);\r\n\r\n        addNotification({\r\n          title: `Wrap ${from.value} ${from.metadata.symbol} failed`,\r\n          type: NotificationType.Error,\r\n          id: Date.now().toString(),\r\n        });\r\n      })\r\n      .finally(() => popNotification(id));\r\n\r\n    handleOpenModal();\r\n  }, []);\r\n\r\n  return (\r\n    <Link\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n      onClick={handleOpenModal}\r\n    >\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useMintBatch } from '@/integrations/transactions/hooks/batch/use-mint-batch';\r\nimport {\r\n  MintModalDataStep,\r\n  MintTokenSymbol,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  useSwapViewStore,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface MintXTCNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const MintXTCNotificationContent: React.FC<\r\n  MintXTCNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from, to, keepInSonic } =\r\n    useMemo(() => {\r\n      const { from, to, keepInSonic } = swapViewStore;\r\n\r\n      return deserialize(serialize({ from, to, keepInSonic }));\r\n    }, []) ?? {};\r\n\r\n  const { batch, openBatchModal } = useMintBatch({\r\n    amountIn: from.value,\r\n    amountOut: to.value,\r\n    tokenSymbol: MintTokenSymbol.XTC,\r\n    keepInSonic,\r\n  });\r\n\r\n  const handleStateChange = () => {\r\n    if (\r\n      Object.values(MintModalDataStep).includes(\r\n        batch.state as MintModalDataStep\r\n      )\r\n    ) {\r\n      dispatch(\r\n        modalsSliceActions.setMintXTCModalData({\r\n          step: batch.state,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(modalsSliceActions.closeMintXTCProgressModal());\r\n\r\n        addNotification({\r\n          title: `Minted ${to.value} ${to.metadata.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        getBalances();\r\n      })\r\n      .catch((err) => {\r\n        AppLog.error('Mint XTC Error', err);\r\n\r\n        addNotification({\r\n          title: `Mint ${to.value} ${to.metadata.symbol} failed`,\r\n          type: NotificationType.Error,\r\n          id: Date.now().toString(),\r\n        });\r\n      })\r\n      .finally(() => popNotification(id));\r\n\r\n    handleOpenModal();\r\n  }, []);\r\n\r\n  return (\r\n    <Link\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n      onClick={handleOpenModal}\r\n    >\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize, toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useRemoveLiquidityBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  RemoveLiquidityModalDataStep,\r\n  useAppDispatch,\r\n  useLiquidityViewStore,\r\n  useNotificationStore,\r\n  usePlugStore,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface RemoveLiquidityNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const RemoveLiquidityNotificationContent: React.FC<\r\n  RemoveLiquidityNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const liquidityViewStore = useLiquidityViewStore();\r\n  const { userLPBalances } = useSwapCanisterStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { principalId } = usePlugStore();\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n\r\n  const { token0, token1, ...removeLiquidityBatchParams } =\r\n    useMemo(() => {\r\n      const { token0, token1, keepInSonic, removeAmountPercentage, pair } =\r\n        liquidityViewStore;\r\n\r\n      if (userLPBalances && token0.metadata && token1.metadata && pair) {\r\n        const tokensLPBalance =\r\n          userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n        const lpAmount = (removeAmountPercentage / 100) * tokensLPBalance;\r\n\r\n        const amount0Min = toBigNumber(lpAmount)\r\n          .multipliedBy(pair.reserve0.toString())\r\n          .dividedBy(pair.totalSupply.toString())\r\n          .applyDecimals(token0.metadata.decimals);\r\n\r\n        const amount1Min = toBigNumber(lpAmount)\r\n          .multipliedBy(pair.reserve1.toString())\r\n          .dividedBy(pair.totalSupply.toString())\r\n          .applyDecimals(token1.metadata.decimals);\r\n\r\n        return deserialize(\r\n          serialize({\r\n            token0,\r\n            token1,\r\n            keepInSonic,\r\n            lpAmount,\r\n            amount0Min,\r\n            amount1Min,\r\n          })\r\n        );\r\n      }\r\n    }, []) ?? {};\r\n\r\n  const { batch, openBatchModal } = useRemoveLiquidityBatch({\r\n    token0,\r\n    token1,\r\n    principalId,\r\n    ...removeLiquidityBatchParams,\r\n    // TODO: Improve safety\r\n  } as any);\r\n\r\n  const handleStateChange = () => {\r\n    if (\r\n      Object.values(RemoveLiquidityModalDataStep).includes(\r\n        batch.state as RemoveLiquidityModalDataStep\r\n      )\r\n    ) {\r\n      dispatch(\r\n        modalsSliceActions.setRemoveLiquidityModalData({\r\n          step: batch.state as RemoveLiquidityModalDataStep,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(modalsSliceActions.clearRemoveLiquidityModalData());\r\n        dispatch(modalsSliceActions.closeRemoveLiquidityProgressModal());\r\n        addNotification({\r\n          title: `Removed LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        getBalances();\r\n        getUserPositiveLPBalances();\r\n      })\r\n      .catch((err) => {\r\n        AppLog.error('Remove Liquidity Error', err);\r\n        dispatch(modalsSliceActions.clearRemoveLiquidityModalData());\r\n        addNotification({\r\n          title: `Remove LP of ${token0.value} ${token0.metadata.symbol} + ${token1.value} ${token1.metadata.symbol} failed`,\r\n          type: NotificationType.Error,\r\n          id: Date.now().toString(),\r\n        });\r\n      })\r\n      .finally(() => popNotification(id));\r\n\r\n    handleOpenModal();\r\n  }, []);\r\n\r\n  return (\r\n    <Link\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n      onClick={handleOpenModal}\r\n    >\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useTokenAllowance } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useSwapBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions, NotificationType, SwapModalDataStep, useAppDispatch,\r\n  useNotificationStore, usePlugStore,useSwapViewStore,\r\n} from '@/store';\r\n\r\nexport interface SwapNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const SwapNotificationContent: React.FC<SwapNotificationContentProps> = ({ id }) => {\r\n\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { principalId } = usePlugStore();\r\n  const { getBalances } = useBalances();\r\n  // const { getAllPairs } = useAllPairs();\r\n \r\n  const { from, to, slippage, keepInSonic } =\r\n    useMemo(() => {\r\n      // Clone current state just for this batch\r\n      const { from, to, slippage, keepInSonic } = swapViewStore;\r\n\r\n      return deserialize(serialize({ from, to, slippage, keepInSonic }));\r\n    }, []) ?? {};\r\n\r\n  const allowance = useTokenAllowance(from.metadata?.id);\r\n  var batchData = useSwapBatch({ from, to, slippage: Number(slippage), keepInSonic, principalId, allowance });\r\n\r\n  const batch: any = batchData?.batch, openBatchModal: any = batchData?.openBatchModal;\r\n  const batchFnUpdate = batch?.batchFnUpdate;\r\n\r\n  const handleStateChange = () => {\r\n    if (batch && batch.state)\r\n    if (Object.values(SwapModalDataStep).includes(batch.state as SwapModalDataStep)){\r\n      dispatch( modalsSliceActions.setSwapModalData({ step: batch.state as SwapModalDataStep}));\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    if (!batch?.state && from.metadata?.symbol) return;\r\n    if (typeof allowance === 'number') {\r\n      dispatch(modalsSliceActions.closeAllowanceVerifyModal());\r\n      handleStateChange();\r\n      openBatchModal();\r\n    } else {\r\n      dispatch( modalsSliceActions.setAllowanceVerifyModalData({ tokenSymbol: from.metadata?.symbol}));\r\n      dispatch(modalsSliceActions.openAllowanceVerifyModal());\r\n    }\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    handleOpenModal();\r\n    if (typeof allowance === 'undefined') return;\r\n    if (batch.execute)\r\n      batch.execute().then(() => {\r\n        dispatch(modalsSliceActions.clearSwapModalData());\r\n        dispatch(modalsSliceActions.closeSwapProgressModal());\r\n        getBalances();\r\n        addNotification({\r\n          title: `Swapped ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol}`,\r\n          type: NotificationType.Success, id: Date.now().toString(), transactionLink: '/activity',\r\n        });\r\n        \r\n        // getAllPairs();\r\n      }).catch((err: any) => {\r\n\r\n        dispatch(modalsSliceActions.clearSwapModalData());\r\n        if (err.message === 'slippage: insufficient output amount') {\r\n          addNotification({\r\n            title: `Slippage is too low to swap ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol}`,\r\n            type: NotificationType.Error, id: Date.now().toString(),\r\n          });\r\n        } else {\r\n          addNotification({\r\n            title: `Swap ${from.value} ${from.metadata.symbol} for ${to.value} ${to.metadata.symbol} failed`,\r\n            type: NotificationType.Error, id: Date.now().toString(),\r\n          });\r\n        }\r\n      }).finally(() => popNotification(id));\r\n  }, [ batchFnUpdate]);\r\n\r\n  return (\r\n    <Link target=\"_blank\" rel=\"noreferrer\" color=\"dark-blue.500\" onClick={handleOpenModal}>\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport interface TransactionNotificationContentProps {\r\n  transactionLink?: string;\r\n}\r\n\r\nexport const TransactionNotificationContent: React.FC<\r\n  TransactionNotificationContentProps\r\n> = ({ transactionLink }) => {\r\n  if (!transactionLink) return null;\r\n\r\n  return (\r\n    <Link\r\n      as={NavLink}\r\n      to={transactionLink}\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n    >\r\n      View in activity tab\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useWithdrawBatch } from '@/integrations/transactions/hooks/batch/use-withdraw-batch';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  useSwapCanisterStore,\r\n  useWithdrawViewStore,\r\n  WithdrawModalDataStep,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nexport interface WithdrawNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const WithdrawNotificationContent: React.FC<\r\n  WithdrawNotificationContentProps\r\n> = ({ id }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { amount: value, tokenId } = useWithdrawViewStore();\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const selectedToken = useMemo(() => {\r\n    if (tokenId && supportedTokenList) {\r\n      return supportedTokenList.find(({ id }) => id === tokenId);\r\n    }\r\n\r\n    return undefined;\r\n  }, [supportedTokenList, tokenId]);\r\n\r\n  const { batch, openBatchModal } = useWithdrawBatch({\r\n    amount: value,\r\n    token: selectedToken,\r\n  });\r\n\r\n  const handleStateChange = () => {\r\n    if (\r\n      Object.values(WithdrawModalDataStep).includes(\r\n        batch.state as WithdrawModalDataStep\r\n      )\r\n    ) {\r\n      dispatch(\r\n        modalsSliceActions.setWithdrawModalData({\r\n          step: batch.state as WithdrawModalDataStep,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(modalsSliceActions.clearWithdrawModalData());\r\n        dispatch(modalsSliceActions.closeWithdrawProgressModal());\r\n        addNotification({\r\n          title: `Withdrawn ${value} ${selectedToken?.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        getBalances();\r\n      })\r\n      .catch((err) => {\r\n        AppLog.error('Withdraw Error', err);\r\n        dispatch(modalsSliceActions.clearWithdrawModalData());\r\n        addNotification({\r\n          title: `Withdraw ${value} ${selectedToken?.symbol} failed`,\r\n          type: NotificationType.Error,\r\n          id: Date.now().toString(),\r\n        });\r\n      })\r\n      .finally(() => popNotification(id));\r\n\r\n    handleOpenModal();\r\n  }, []);\r\n\r\n  return (\r\n    <Link\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n      onClick={handleOpenModal}\r\n    >\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","import { Link } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\nimport { deserialize, serialize } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useWithdrawWICPBatch } from '@/integrations/transactions';\r\nimport {\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  usePlugStore,\r\n  useSwapViewStore,\r\n  WithdrawWICPModalDataStep,\r\n} from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { getAccountId } from '@/utils/icp';\r\n\r\nexport interface WithdrawWICPNotificationContentProps {\r\n  id: string;\r\n}\r\n\r\nexport const WithdrawWICPNotificationContent: React.FC<\r\n  WithdrawWICPNotificationContentProps\r\n> = ({ id }) => {\r\n  const { principalId } = usePlugStore();\r\n  const dispatch = useAppDispatch();\r\n  const swapViewStore = useSwapViewStore();\r\n  const { addNotification, popNotification } = useNotificationStore();\r\n  const { getBalances } = useBalances();\r\n\r\n  const { from } =\r\n    useMemo(() => {\r\n      const { from } = swapViewStore;\r\n\r\n      return deserialize(serialize({ from }));\r\n    }, []) ?? {};\r\n\r\n  const { batch, openBatchModal } = useWithdrawWICPBatch({\r\n    amount: from.value,\r\n    toAccountId: principalId\r\n      ? getAccountId(Principal.fromText(principalId))\r\n      : undefined,\r\n  });\r\n\r\n  const handleStateChange = () => {\r\n    if (\r\n      Object.values(WithdrawWICPModalDataStep).includes(\r\n        batch.state as WithdrawWICPModalDataStep\r\n      )\r\n    ) {\r\n      dispatch(\r\n        modalsSliceActions.setWithdrawWICPModalData({\r\n          step: batch.state as WithdrawWICPModalDataStep,\r\n        })\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = () => {\r\n    handleStateChange();\r\n\r\n    openBatchModal();\r\n  };\r\n\r\n  useEffect(handleStateChange, [batch.state, dispatch]);\r\n\r\n  useEffect(() => {\r\n    batch\r\n      .execute()\r\n      .then(() => {\r\n        dispatch(modalsSliceActions.closeWithdrawWICPProgressModal());\r\n\r\n        addNotification({\r\n          title: `Unwrapped ${from.value} ${from.metadata.symbol}`,\r\n          type: NotificationType.Success,\r\n          id: Date.now().toString(),\r\n          transactionLink: '/activity',\r\n        });\r\n        getBalances();\r\n      })\r\n      .catch((err) => {\r\n        AppLog.error('Unwrap Error', err);\r\n\r\n        addNotification({\r\n          title: `Unwrap ${from.value} ${from.metadata.symbol} failed`,\r\n          type: NotificationType.Error,\r\n          id: Date.now().toString(),\r\n        });\r\n      })\r\n      .finally(() => popNotification(id));\r\n\r\n    handleOpenModal();\r\n  }, []);\r\n\r\n  return (\r\n    <Link\r\n      target=\"_blank\"\r\n      rel=\"noreferrer\"\r\n      color=\"dark-blue.500\"\r\n      onClick={handleOpenModal}\r\n    >\r\n      View progress\r\n    </Link>\r\n  );\r\n};\r\n","export * from './components';\r\nexport * from './notification-box';\r\nexport * from './notification-content';\r\nexport * from './notification-errors';\r\nexport * from './notification-header';\r\nexport * from './notification-manager';\r\nexport * from './notification-timer';\r\n","import { Box, Collapse, useColorModeValue } from '@chakra-ui/react';\r\nimport { useState } from 'react';\r\n\r\nimport { Notification } from '@/store';\r\n\r\nimport { NotificationContent } from './notification-content';\r\nimport { NotificationHeader } from './notification-header';\r\nimport { NotificationTimer } from './notification-timer';\r\n\r\nexport type NotificationBoxProps = Notification & {\r\n  children?: React.ReactNode;\r\n  onClose: () => any;\r\n};\r\n\r\nexport const NotificationBox = ({\r\n  children,\r\n  onClose,\r\n  ...notification\r\n}: NotificationBoxProps) => {\r\n  const [show, setShow] = useState(true);\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setTimeout(onClose, 300);\r\n  };\r\n\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const borderColor = useColorModeValue('gray.100', 'custom.4');\r\n\r\n  return (\r\n    <Collapse in={show} animateOpacity unmountOnExit>\r\n      <Box\r\n        width={80}\r\n        position=\"relative\"\r\n        borderRadius={5}\r\n        border=\"1px solid\"\r\n        borderColor={borderColor}\r\n        shadow=\"md\"\r\n        bg={bg}\r\n        mb={4}\r\n        mx={2}\r\n        pt={4}\r\n        pr={10}\r\n        pl={12}\r\n        pb={4}\r\n        overflow=\"hidden\"\r\n      >\r\n        <NotificationHeader {...notification} handleClose={handleClose} />\r\n        <NotificationContent {...notification}>{children}</NotificationContent>\r\n        <NotificationTimer {...notification} handleClose={handleClose} />\r\n      </Box>\r\n    </Collapse>\r\n  );\r\n};\r\n","import { Flex, Text, useColorModeValue } from '@chakra-ui/react';\r\n\r\nimport { Notification, NotificationType } from '@/store';\r\n\r\nimport {\r\n  AddLiquidityNotificationContent,\r\n  DepositNotificationContent,\r\n  MintAutoNotificationContent,\r\n  MintManualNotificationContent,\r\n  MintWICPNotificationContent,\r\n  MintXTCNotificationContent,\r\n  RemoveLiquidityNotificationContent,\r\n  SwapNotificationContent,\r\n  TransactionNotificationContent,\r\n  WithdrawNotificationContent,\r\n  WithdrawWICPNotificationContent,\r\n} from './components';\r\n\r\nexport type NotificationContentProps = Notification;\r\n\r\nexport const NotificationContent: React.FC<NotificationContentProps> = ({\r\n  children,\r\n  id,\r\n  type,\r\n  state,\r\n  title,\r\n  transactionLink,\r\n  errorMessage,\r\n}) => {\r\n  const messageColor = useColorModeValue('gray.400', 'gray.600');\r\n\r\n  const color = useColorModeValue('gray.800', 'gray.50');\r\n\r\n  const notificationContent = {\r\n    [NotificationType.Swap]: <SwapNotificationContent id={id} />,\r\n    [NotificationType.AddLiquidity]: (\r\n      <AddLiquidityNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.RemoveLiquidity]: (\r\n      <RemoveLiquidityNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.Withdraw]: <WithdrawNotificationContent id={id} />,\r\n    [NotificationType.Deposit]: <DepositNotificationContent id={id} />,\r\n    [NotificationType.WithdrawWICP]: (\r\n      <WithdrawWICPNotificationContent id={id} />\r\n    ),\r\n    [NotificationType.MintWICP]: <MintWICPNotificationContent id={id} />,\r\n    [NotificationType.Deposit]: <DepositNotificationContent id={id} />,\r\n    [NotificationType.MintXTC]: <MintXTCNotificationContent id={id} />,\r\n    [NotificationType.Success]: transactionLink ? (\r\n      <TransactionNotificationContent transactionLink={transactionLink} />\r\n    ) : null,\r\n    [NotificationType.MintAuto]: (\r\n      <MintAutoNotificationContent id={id} state={state} />\r\n    ),\r\n    [NotificationType.MintManual]: <MintManualNotificationContent id={id} />,\r\n    [NotificationType.Error]: errorMessage && (\r\n      <Text fontSize=\"sm\" color={messageColor}>\r\n        {errorMessage}\r\n      </Text>\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <Flex direction=\"column\" alignItems=\"flex-start\">\r\n      <Text color={color} fontWeight={700} maxWidth={60}>\r\n        {title}\r\n      </Text>\r\n\r\n      {notificationContent[type]}\r\n\r\n      {children}\r\n    </Flex>\r\n  );\r\n};\r\n","import { Link, Text, useColorModeValue } from '@chakra-ui/react';\r\n\r\nexport enum ErrorNotificationType {\r\n  Swap = 'SWAP',\r\n}\r\n\r\nconst SWAP_ERROR_LINK = '#';\r\n\r\nconst SwapError = () => {\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  return (\r\n    <Text color={color}>\r\n      Since the swap failed, your assets are now deposited in Sonic, you can\r\n      either retry the swap or{' '}\r\n      <Link\r\n        rel=\"noreferrer\"\r\n        target=\"_blank\"\r\n        href={SWAP_ERROR_LINK}\r\n        textDecoration=\"underline\"\r\n      >\r\n        withdraw the assets\r\n      </Link>\r\n      .\r\n    </Text>\r\n  );\r\n};\r\n\r\nexport const ERRORS = {\r\n  [ErrorNotificationType.Swap]: <SwapError />,\r\n};\r\n","import { Box, Spinner } from '@chakra-ui/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { closeSrc, redWarningSrc, transparentGreenCheckSrc } from '@/assets';\r\nimport {\r\n  Notification,\r\n  NotificationState,\r\n  NotificationType,\r\n  useNotificationStore,\r\n} from '@/store';\r\n\r\nconst NotificationIcon = ({ type, state }: Partial<Notification>) => {\r\n  const errorNode = (\r\n    <Box as=\"img\" src={redWarningSrc} position=\"absolute\" top={4} left={4} />\r\n  );\r\n  const pendingNode = <Spinner position=\"absolute\" top={4} left={4} />;\r\n  const successNode = (\r\n    <Box\r\n      as=\"img\"\r\n      src={transparentGreenCheckSrc}\r\n      position=\"absolute\"\r\n      top={4}\r\n      left={4}\r\n    />\r\n  );\r\n\r\n  switch (state) {\r\n    case NotificationState.Error:\r\n      return errorNode;\r\n    case NotificationState.Pending:\r\n      return pendingNode;\r\n    case NotificationState.Success:\r\n      return successNode;\r\n  }\r\n\r\n  switch (type) {\r\n    case NotificationType.Success:\r\n      return successNode;\r\n    case NotificationType.MintAuto:\r\n    case NotificationType.Error:\r\n      return errorNode;\r\n    case NotificationType.MintManual:\r\n    case NotificationType.MintWICP:\r\n    case NotificationType.WithdrawWICP:\r\n    case NotificationType.Swap:\r\n    case NotificationType.AddLiquidity:\r\n    case NotificationType.RemoveLiquidity:\r\n    case NotificationType.Deposit:\r\n    case NotificationType.MintXTC:\r\n    case NotificationType.Withdraw:\r\n      return pendingNode;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nexport type NotificationHeaderProps = Notification & {\r\n  handleClose: () => void;\r\n};\r\n\r\nexport const NotificationHeader: React.FC<NotificationHeaderProps> = ({\r\n  id,\r\n  type,\r\n  state,\r\n  handleClose,\r\n}) => {\r\n  const { notifications } = useNotificationStore();\r\n\r\n  const notification = useMemo(\r\n    () => notifications.find((n) => n.id === id),\r\n    [notifications, id]\r\n  );\r\n\r\n  const shouldShowCloseButton = useMemo(\r\n    () =>\r\n      type === NotificationType.Error ||\r\n      type === NotificationType.Success ||\r\n      notification?.state === NotificationState.Success,\r\n    [type, notification]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <NotificationIcon state={state} type={type} />\r\n      {shouldShowCloseButton && (\r\n        <Box\r\n          cursor=\"pointer\"\r\n          onClick={handleClose}\r\n          as=\"img\"\r\n          src={closeSrc}\r\n          position=\"absolute\"\r\n          top={4}\r\n          right={4}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { Flex } from '@chakra-ui/react';\r\n\r\nimport { useNotificationStore } from '@/store';\r\n\r\nimport { NotificationBox } from './notification-box';\r\nimport { ErrorNotificationType, ERRORS } from './notification-errors';\r\n\r\nexport const NotificationManager = () => {\r\n  const { notifications, popNotification } = useNotificationStore();\r\n\r\n  return (\r\n    <Flex position=\"fixed\" right={[0, 2, 8]} direction=\"column\" zIndex={2}>\r\n      {notifications.map((notification) => {\r\n        const { errorMessage } = notification;\r\n        const errorBody =\r\n          errorMessage && ERRORS.hasOwnProperty(errorMessage)\r\n            ? ERRORS[errorMessage as ErrorNotificationType]\r\n            : undefined;\r\n\r\n        return (\r\n          <NotificationBox\r\n            key={notification.id}\r\n            {...notification}\r\n            onClose={() => popNotification(notification.id)}\r\n          >\r\n            {errorBody}\r\n          </NotificationBox>\r\n        );\r\n      })}\r\n    </Flex>\r\n  );\r\n};\r\n","import { Box } from '@chakra-ui/react';\r\nimport { keyframes } from '@emotion/react';\r\nimport { useMemo } from 'react';\r\n\r\nimport { Notification, NotificationState, NotificationType } from '@/store';\r\n\r\nconst reduceWidth = keyframes`\r\n    from { width: 100%;}\r\n    to { width: 0px; };\r\n`;\r\n\r\nexport type NotificationTimerProps = Notification & {\r\n  handleClose: () => void;\r\n};\r\n\r\nexport const NotificationTimer: React.FC<NotificationTimerProps> = ({\r\n  type,\r\n  state,\r\n  timeout = '6s',\r\n  handleClose,\r\n}) => {\r\n  const color = useMemo(() => {\r\n    if (\r\n      type === NotificationType.Success ||\r\n      state === NotificationState.Success\r\n    ) {\r\n      return '#04CD95';\r\n    }\r\n    if (type === NotificationType.Error || state === NotificationState.Error) {\r\n      return '#FF646D';\r\n    }\r\n\r\n    return 'gray.500';\r\n  }, [type, state]);\r\n\r\n  if (\r\n    (type !== NotificationType.Success && type !== NotificationType.Error) ||\r\n    timeout === 'none'\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  const collapseAnimation = `${reduceWidth} ${timeout} forwards linear`;\r\n\r\n  return (\r\n    <Box\r\n      position=\"absolute\"\r\n      width=\"full\"\r\n      height={1}\r\n      bg={color}\r\n      bottom={0}\r\n      left={0}\r\n      right={0}\r\n      animation={collapseAnimation}\r\n      onAnimationEnd={handleClose}\r\n    />\r\n  );\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { MappedCapHistoryLog } from '@/integrations/cap';\r\nimport { LedgerTransaction } from '@/integrations/ledger';\r\nimport { AppTokenMetadataListObject } from '@/models';\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ntype ActivityEvent = MappedCapHistoryLog | LedgerTransaction;\r\n\r\ninterface ActivityViewState {\r\n  CAPstate: FeatureState;\r\n  LedgerState: FeatureState;\r\n  tokenList?: AppTokenMetadataListObject;\r\n  ledgerTransactions: LedgerTransaction[];\r\n  activityList: { [date: string]: ActivityEvent[] };\r\n  page?: number;\r\n  lastPage?: number;\r\n  fetchedPages: number[];\r\n}\r\n\r\nconst initialState: ActivityViewState = {\r\n  CAPstate: FeatureState?.Idle,\r\n  LedgerState: FeatureState?.Idle,\r\n  ledgerTransactions: [],\r\n  activityList: {},\r\n  page: undefined,\r\n  lastPage: undefined,\r\n  fetchedPages: [],\r\n};\r\n\r\nexport const activityViewSlice = createSlice({\r\n  name: 'activity',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setCAPState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.CAPstate = action.payload;\r\n    },\r\n    setLedgerState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.LedgerState = action.payload;\r\n    },\r\n    setTokenList: (\r\n      state,\r\n      action: PayloadAction<AppTokenMetadataListObject>\r\n    ) => {\r\n      state.tokenList = action.payload;\r\n    },\r\n    setPage: (state, action: PayloadAction<number>) => {\r\n      state.page = action.payload;\r\n    },\r\n    setLedgerTransactions: (\r\n      state,\r\n      action: PayloadAction<LedgerTransaction[]>\r\n    ) => {\r\n      state.ledgerTransactions = action.payload;\r\n    },\r\n    pushActivityList: (state, action: PayloadAction<MappedCapHistoryLog[]>) => {\r\n      const mergedTransactions = [\r\n        ...action.payload,\r\n        ...state.ledgerTransactions,\r\n      ] as ActivityEvent[];\r\n      const toFilterTransactions = mergedTransactions.reduce((acc, cur) => {\r\n        if ('timestamp' in cur) {\r\n          const dateString = cur['timestamp'].toDateString();\r\n          if (acc[dateString] || state.page === 0) {\r\n            acc[dateString] = [...(acc[dateString] || []), cur];\r\n          }\r\n        } else {\r\n          const dateString = new Date(cur['time']).toDateString();\r\n\r\n          acc[dateString] = [...(acc[dateString] || []), cur];\r\n        }\r\n\r\n        return acc;\r\n      }, state.activityList);\r\n\r\n      for (const key in toFilterTransactions) {\r\n        const alreadyAdded = new Set();\r\n        toFilterTransactions[key] = toFilterTransactions[key]\r\n          .filter((item) => {\r\n            const time =\r\n              'timestamp' in item ? item['timestamp'].getTime() : item['time'];\r\n            if (alreadyAdded.has(time)) {\r\n              return false;\r\n            }\r\n            alreadyAdded.add(time);\r\n            return true;\r\n          })\r\n          .sort((a, b) => {\r\n            const timeA =\r\n              'timestamp' in a ? a['timestamp'].getTime() : a['time'];\r\n            const timeB =\r\n              'timestamp' in b ? b['timestamp'].getTime() : b['time'];\r\n            return timeB - timeA;\r\n          });\r\n      }\r\n\r\n      state.activityList = toFilterTransactions;\r\n    },\r\n    setLastPage: (state, action: PayloadAction<number>) => {\r\n      state.lastPage = action.payload;\r\n      if (typeof state.page === 'undefined') {\r\n        state.page = action.payload;\r\n      }\r\n    },\r\n    pushFetchedPages: (state, action: PayloadAction<number>) => {\r\n      state.fetchedPages = Array.from(\r\n        new Set([...state.fetchedPages, action.payload])\r\n      );\r\n    },\r\n    clearActivityList: (state) => {\r\n      state.activityList = {};\r\n      state.ledgerTransactions = [];\r\n      state.page = undefined;\r\n      state.lastPage = undefined;\r\n      state.fetchedPages = [];\r\n    },\r\n  },\r\n});\r\n\r\nexport const activityViewActions = activityViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectActivityViewState = (state: RootState) => state.activityView;\r\n\r\nexport default activityViewSlice.reducer;\r\n","export * from './activity-view-slice';\r\nexport * from './use-activity-view-store';\r\nexport * from './use-activity-view';\r\n","import { selectActivityViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useActivityViewStore = () =>\r\n  useAppSelector(selectActivityViewState);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { useCallback, useEffect } from 'react';\r\n\r\nimport { getUserTransactions } from '@/integrations/cap';\r\nimport { getUserLedgerTransactions } from '@/integrations/ledger';\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseTokenList } from '@/utils/canister';\r\nimport { getAccountId } from '@/utils/icp';\r\n\r\nimport { usePlugStore, useSwapCanisterStore } from '..';\r\nimport { activityViewActions, useActivityViewStore } from '.';\r\n\r\nexport const useActivityView = () => {\r\n  const { principalId } = usePlugStore();\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n  const { page, lastPage, fetchedPages } = useActivityViewStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    dispatch(\r\n      activityViewActions.setTokenList(\r\n        parseResponseTokenList(supportedTokenList)\r\n      )\r\n    );\r\n  }, [supportedTokenList, dispatch]);\r\n\r\n  const getUserTransactionsPage = useCallback(\r\n    (_principalId: string, _page?: number) => {\r\n      dispatch(activityViewActions.setCAPState(FeatureState.Loading));\r\n      getUserTransactions(_principalId, _page)\r\n        .then((res) => {\r\n          dispatch(activityViewActions.pushActivityList(res.data));\r\n          dispatch(activityViewActions.setCAPState(FeatureState.Idle));\r\n          dispatch(activityViewActions.pushFetchedPages(res.page));\r\n\r\n          if (typeof lastPage === 'undefined' || res.page > lastPage) {\r\n            dispatch(activityViewActions.setLastPage(res.page));\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          AppLog.error(`Failed to get user transactions: page=${_page}`, err);\r\n          dispatch(activityViewActions.setCAPState(FeatureState.Error));\r\n        });\r\n    },\r\n    [dispatch, lastPage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      if (typeof page !== 'undefined' && !fetchedPages.includes(page)) {\r\n        getUserTransactionsPage(principalId, page);\r\n      }\r\n    }\r\n  }, [page, principalId, dispatch, getUserTransactionsPage, fetchedPages]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      getUserTransactionsPage(principalId);\r\n    } else {\r\n      dispatch(activityViewActions.clearActivityList());\r\n    }\r\n  }, [principalId]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      dispatch(activityViewActions.setLedgerState(FeatureState.Loading));\r\n      getUserLedgerTransactions(\r\n        getAccountId(Principal.fromText(principalId), 0)\r\n      )\r\n        .then((transactions) => {\r\n          dispatch(activityViewActions.setLedgerState(FeatureState.Idle));\r\n          dispatch(activityViewActions.setLedgerTransactions(transactions));\r\n          dispatch(activityViewActions.pushActivityList([]));\r\n        })\r\n        .catch((err) => {\r\n          AppLog.error(\r\n            `Failed to get user ledger transactions: principal=${principalId}`,\r\n            err\r\n          );\r\n          dispatch(activityViewActions.setLedgerState(FeatureState.Error));\r\n        });\r\n    }\r\n  }, [principalId, dispatch]);\r\n};\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nimport { useAppSelector } from '@/store/hooks';\r\nimport { RootState } from '@/store/store';\r\n\r\nimport { fetchAllowance } from './async-thunk';\r\n\r\ninterface TokenAllowance {\r\n  allowance: number;\r\n  expiration: number;\r\n}\r\n\r\ninterface AllowanceState {\r\n  tokensAllowance: { [tokenId: string]: TokenAllowance };\r\n}\r\n\r\nconst initialState: AllowanceState = {\r\n  tokensAllowance: {},\r\n};\r\n\r\nexport const allowanceSlice = createSlice({\r\n  name: 'allowance',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setAllowance: (state, action) => {\r\n      const { tokenId, allowance, expiration } = action.payload;\r\n      state.tokensAllowance[tokenId] = { allowance, expiration };\r\n    },\r\n    clearAllowance: (state, action) => {\r\n      const { tokenId } = action.payload;\r\n      const { [tokenId]: _, ...rest } = state.tokensAllowance;\r\n      state.tokensAllowance = rest;\r\n    },\r\n  },\r\n});\r\n\r\nexport const allowanceActions = { ...allowanceSlice.actions, fetchAllowance };\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectAllowanceState = (state: RootState) => state.allowance;\r\n\r\nexport const useAllowanceStore = (): AllowanceState =>\r\n  useAppSelector(selectAllowanceState);\r\n\r\nexport default allowanceSlice.reducer;\r\n","// import { Principal } from '@dfinity/principal';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\n// import { ENV } from '@/config';\r\n// import { createAnonTokenActor } from '@/integrations/actor';\r\nimport { RootState } from '@/store/store';\r\nimport { AppLog , getTokenAllowance} from '@/utils';\r\n\r\nimport { allowanceActions } from '../allowance-slice';\r\n\r\ntype FetchAllowance = { tokenId: string };\r\n\r\nexport const fetchAllowance = createAsyncThunk<void, FetchAllowance>(\r\n  'plug/disconnect',\r\n  async ({ tokenId }, { dispatch, getState }): Promise<void> => {\r\n    const { principalId } = (getState() as RootState).plug;\r\n    try {\r\n      if (!principalId) throw new Error('Plug is not connected');\r\n      const allowance = await getTokenAllowance(tokenId);\r\n      dispatch( allowanceActions.setAllowance({ tokenId,allowance: Number(allowance),expiration: Date.now() + 30000}) );\r\n    } catch (error) {\r\n      AppLog.error( `Allowance fetch error: token=${tokenId} principal=${principalId}`, error );\r\n      dispatch(allowanceActions.clearAllowance({ tokenId }));\r\n    }\r\n  }\r\n);\r\n","export * from './fetch-allowance';\r\n","export * from './allowance-slice';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\nimport { getFromStorage, LocalStorageKey, saveToStorage } from '@/utils';\r\n\r\ninterface AssetsViewState {\r\n  isBannerOpened: boolean;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: AssetsViewState = {\r\n  isBannerOpened: !getFromStorage(LocalStorageKey.AssetsBannerDisabled),\r\n  state: FeatureState?.Idle,\r\n};\r\n\r\nexport const assetsViewSlice = createSlice({\r\n  name: 'assets',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setIsBannerOpened: (state, action: PayloadAction<boolean>) => {\r\n      saveToStorage(LocalStorageKey.AssetsBannerDisabled, !action.payload);\r\n      state.isBannerOpened = action.payload;\r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const assetsViewActions = assetsViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectAssetsViewState = (state: RootState) => state.assetsView;\r\n\r\nexport default assetsViewSlice.reducer;\r\n","export * from './assets-view-slice';\r\nexport * from './use-assets-view-store';\r\n","import { selectWithdrawViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useWithdrawViewStore = () =>\r\n  useAppSelector(selectWithdrawViewState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface CyclesMintingCanisterState {\r\n  ICPXDRconversionRate?: string;\r\n  ICPXDRconversionRateState: FeatureState;\r\n}\r\n\r\nconst initialState: CyclesMintingCanisterState = {\r\n  ICPXDRconversionRate: undefined,\r\n  ICPXDRconversionRateState: 'idle' as FeatureState,\r\n};\r\n\r\nexport const cyclesMintingCanisterSlice = createSlice({\r\n  name: 'cyclesCanister',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setICPXDRConversionRate: (state, action: PayloadAction<string>) => {\r\n      state.ICPXDRconversionRate = action.payload;\r\n    },\r\n    setICPXDRConversionRateState: (\r\n      state,\r\n      action: PayloadAction<FeatureState>\r\n    ) => {\r\n      state.ICPXDRconversionRateState = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const cyclesMintingCanisterSliceActions =\r\n  cyclesMintingCanisterSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectCyclesMintingCanisterState = (state: RootState) =>\r\n  state.cyclesMinting;\r\n\r\nexport default cyclesMintingCanisterSlice.reducer;\r\n","export const DEFAULT_CYCLES_PER_XDR = 1_000_000_000_000;\r\nexport const TOKEN_SUBDIVIDABLE_BY = 100_000_000;\r\n","export * from './cycles-minting-canister-slice';\r\nexport * from './cycles-minting-canister.constants';\r\nexport * from './use-cycles-minting-canister-init';\r\nexport * from './use-cycles-minting-canister-store';\r\n","import { useCallback, useEffect } from 'react';\r\n\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { fetchICP2XDRConversionRate } from '@/utils/icp';\r\n\r\nimport { useKeepSync } from '../keep-sync';\r\nimport {\r\n  cyclesMintingCanisterSliceActions,\r\n  useCyclesMintingCanisterStore,\r\n} from '.';\r\n\r\nexport const useCyclesMintingCanisterInit = () => {\r\n  const { ICPXDRconversionRateState } = useCyclesMintingCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const getICPXDRConversionRate = useKeepSync(\r\n    'getICPXDRConversionRate',\r\n\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        if (ICPXDRconversionRateState !== FeatureState.Loading) {\r\n          try {\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                isRefreshing ? FeatureState.Updating : FeatureState.Loading\r\n              )\r\n            );\r\n\r\n            const response = await fetchICP2XDRConversionRate();\r\n\r\n            const conversionRate =\r\n              response.data.xdr_permyriad_per_icp.toString();\r\n\r\n            if (response) {\r\n              dispatch(\r\n                cyclesMintingCanisterSliceActions.setICPXDRConversionRate(\r\n                  conversionRate\r\n                )\r\n              );\r\n            } else {\r\n              throw new Error('No \"getICPXDRConversionRate\" response');\r\n            }\r\n\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                FeatureState.Idle\r\n              )\r\n            );\r\n\r\n            return response;\r\n          } catch (error) {\r\n            AppLog.error(`ICP XDR conversion rate fetch error`, error);\r\n            dispatch(\r\n              cyclesMintingCanisterSliceActions.setICPXDRConversionRateState(\r\n                FeatureState.Error\r\n              )\r\n            );\r\n          }\r\n        }\r\n      },\r\n      [ICPXDRconversionRateState, dispatch]\r\n    )\r\n  );\r\n\r\n  useEffect(() => {\r\n    getICPXDRConversionRate();\r\n    // getICPXDRConversionRate cannot be added to the dependencies array\r\n    // because it is causing an infinite loop\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n};\r\n","import { selectCyclesMintingCanisterState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useCyclesMintingCanisterStore = () =>\r\n  useAppSelector(selectCyclesMintingCanisterState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ninterface DepositViewState {\r\n  state: FeatureState;\r\n  amount: string;\r\n  tokenId?: string;\r\n}\r\n\r\nconst initialState: DepositViewState = {\r\n  state: FeatureState?.Idle,\r\n  amount: '',\r\n  tokenId: undefined,\r\n};\r\n\r\nexport const depositViewSlice = createSlice({\r\n  name: 'deposit',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setAmount: (state, action: PayloadAction<string>) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setTokenId: (state, action: PayloadAction<string>) => {\r\n      state.tokenId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const depositViewActions = depositViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectDepositViewState = (state: RootState) => state.depositView;\r\n\r\nexport default depositViewSlice.reducer;\r\n","export * from './deposit-view-slice';\r\nexport * from './use-deposit-view-store';\r\n","import { selectDepositViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useDepositViewStore = () => { return  useAppSelector(selectDepositViewState); }\r\n","export * from './activity-view';\r\nexport * from './assets-view';\r\nexport * from './cycles-minting-canister';\r\nexport * from './deposit-view';\r\nexport * from './keep-sync';\r\nexport * from './liquidity-view';\r\nexport * from './modals';\r\nexport * from './notification';\r\nexport * from './plug';\r\nexport * from './price';\r\nexport * from './swap-canister';\r\nexport * from './swap-view';\r\nexport * from './withdraw-view';\r\nexport * from './allowance';\r\n","export * from './keep-sync-slice';\r\nexport * from './use-keep-sync';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { RootState, store } from '@/store';\r\n\r\nexport const KEEP_SYNC_DEFAULT_INTERVAL = 15 * 1000;\r\n\r\nexport type KeepSync = {\r\n  callback: (refresh?: boolean) => Promise<any>;\r\n  interval: number;\r\n};\r\n\r\ntype TriggerAction = {\r\n  key: string;\r\n  interval?: KeepSync['interval'];\r\n};\r\n\r\ntype SetCallbackAction = {\r\n  key: string;\r\n  callback: KeepSync['callback'];\r\n};\r\n\r\n// Define a type for the slice state\r\ninterface KeepSyncState {\r\n  timers: {\r\n    [key: string]: NodeJS.Timeout;\r\n  };\r\n  callbacks: {\r\n    [key: string]: KeepSync['callback'];\r\n  };\r\n}\r\n\r\n// Define the initial state using that type\r\nconst initialState: KeepSyncState = {\r\n  timers: {},\r\n  callbacks: {},\r\n};\r\n\r\nexport const keepSyncSlice = createSlice({\r\n  name: 'keepSync',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    trigger: (state, action: PayloadAction<TriggerAction>) => {\r\n      const { key, interval = KEEP_SYNC_DEFAULT_INTERVAL } = action.payload;\r\n\r\n      if (state.timers[key]) clearInterval(state.timers[key]);\r\n      state.timers[key] = setInterval(() => {\r\n        store.getState().keepSync.callbacks[key](true);\r\n      }, interval);\r\n    },\r\n    setCallback: (state, action: PayloadAction<SetCallbackAction>) => {\r\n      const { key, callback } = action.payload;\r\n      state.callbacks[key] = callback;\r\n    },\r\n  },\r\n});\r\n\r\nexport const keepSyncActions = keepSyncSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectKeepSyncState = (state: RootState) => state.keepSync;\r\n\r\nexport default keepSyncSlice.reducer;\r\n","import { useEffect } from 'react';\r\n\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { KeepSync, keepSyncActions } from './keep-sync-slice';\r\n\r\nexport type KeepSyncCallbackParams = {\r\n  interval?: number;\r\n  isRefreshing?: boolean;\r\n};\r\n\r\nexport type KeepSyncParams = {\r\n  interval?: number;\r\n};\r\n\r\nexport const useKeepSync = (\r\n  key: string,\r\n  runner: KeepSync['callback'],\r\n  { interval }: KeepSyncParams = {}\r\n) => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(keepSyncActions.setCallback({ key, callback: runner }));\r\n  }, [runner]);\r\n\r\n  return ({\r\n    interval: _interval = interval,\r\n    isRefreshing = true,\r\n  }: KeepSyncCallbackParams = {}) => {\r\n    runner(isRefreshing);\r\n    dispatch(keepSyncActions.trigger({ key, interval: _interval }));\r\n  };\r\n};\r\n","export * from './liquidity-view-slice';\r\nexport * from './use-liquidity-view-init';\r\nexport * from './use-liquidity-view-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { AppTokenMetadata, BaseTokenData, Pair } from '@/models';\r\nimport { FeatureState, RootState } from '@/store';\r\nimport { getFromStorage, LocalStorageKey, saveToStorage } from '@/utils';\r\n\r\nexport type LiquidityTokenDataKey = 'token0' | 'token1';\r\n\r\ninterface LiquidityViewState {\r\n  isBannerOpened: boolean;\r\n  pairState: FeatureState;\r\n  state: FeatureState;\r\n  token0: BaseTokenData;\r\n  token1: BaseTokenData;\r\n  removeAmountPercentage: number;\r\n  pair?: Pair;\r\n  slippage: string;\r\n  keepInSonic: boolean;\r\n}\r\n\r\nexport const INITIAL_LIQUIDITY_SLIPPAGE = '0.50';\r\n\r\nconst initialState: LiquidityViewState = {\r\n  isBannerOpened: !getFromStorage(LocalStorageKey.LiquidityBannerDisabled),\r\n  pair: undefined,\r\n  pairState: 'not-started' as FeatureState,\r\n  state: 'not-started' as FeatureState,\r\n  removeAmountPercentage: 100,\r\n  token0: {\r\n    metadata: undefined,\r\n    value: '',\r\n  },\r\n  token1: {\r\n    metadata: undefined,\r\n    value: '',\r\n  },\r\n  slippage: INITIAL_LIQUIDITY_SLIPPAGE,\r\n  keepInSonic: false,\r\n};\r\n\r\nexport const liquidityViewSlice = createSlice({\r\n  name: 'liquidity',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setIsBannerOpened: (state, action: PayloadAction<boolean>) => {\r\n      saveToStorage(LocalStorageKey.LiquidityBannerDisabled, !action.payload);\r\n      state.isBannerOpened = action.payload;\r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setPairState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.pairState = action.payload;\r\n    },\r\n    setRemoveAmountPercentage: (state, action: PayloadAction<number>) => {\r\n      state.removeAmountPercentage = action.payload;\r\n    },\r\n    setKeepInSonic: (state, action: PayloadAction<boolean>) => {\r\n      state.keepInSonic = action.payload;\r\n    },\r\n    setValue: (\r\n      state,\r\n      action: PayloadAction<{ data: LiquidityTokenDataKey; value: string }>\r\n    ) => {\r\n      state[action.payload.data].value = action.payload.value;\r\n    },\r\n    setToken: (\r\n      state,\r\n      action: PayloadAction<{\r\n        data: LiquidityTokenDataKey;\r\n        token?: AppTokenMetadata;\r\n      }>\r\n    ) => {\r\n      state[action.payload.data].metadata = action.payload.token;\r\n    },\r\n    setPair: (state, action: PayloadAction<Pair | undefined>) => {\r\n      if (\r\n        action.payload &&\r\n        state.token0.metadata?.id === action.payload.token1\r\n      ) {\r\n        state.pair = {\r\n          ...action.payload,\r\n          token0: action.payload.token1,\r\n          token1: action.payload.token0,\r\n          reserve0: action.payload.reserve1,\r\n          reserve1: action.payload.reserve0,\r\n        };\r\n      } else {\r\n        state.pair = action.payload;\r\n      }\r\n    },\r\n    setSlippage: (state, action: PayloadAction<string>) => {\r\n      state.slippage = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const liquidityViewActions = liquidityViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectLiquidityViewState = (state: RootState) =>\r\n  state.liquidityView;\r\n\r\nexport default liquidityViewSlice.reducer;\r\n","import { useCallback, useEffect } from 'react';\r\n\r\n// import { ENV } from '@/config';\r\nimport { Pair } from '@/models';\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { useSwapCanisterStore } from '..';\r\nimport { liquidityViewActions, useLiquidityViewStore } from '.';\r\n\r\nexport const useLiquidityViewInit = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { token0, token1 } = useLiquidityViewStore();\r\n  const { supportedTokenList, allPairs } = useSwapCanisterStore();\r\n\r\n  const getPair = useCallback(async () => {\r\n    if (token0.metadata?.id && token1.metadata?.id) {\r\n      if (allPairs) {\r\n        const localPair = allPairs[token0.metadata.id]?.[token1.metadata.id] as unknown as Pair;\r\n        if (localPair) return dispatch(liquidityViewActions.setPair(localPair));\r\n      }\r\n    }\r\n    return dispatch(liquidityViewActions.setPair(undefined));\r\n  }, [dispatch, token0.metadata?.id, token1.metadata?.id, allPairs]);\r\n\r\n  useEffect(() => {\r\n    if (supportedTokenList && !token0.metadata?.id) {\r\n      const token = supportedTokenList[0];\r\n      dispatch(liquidityViewActions.setToken({ data: 'token0', token }));\r\n    }\r\n  }, [supportedTokenList, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (token0.metadata?.id && token1.metadata?.id) {\r\n      getPair();\r\n    }\r\n  }, [token0.metadata?.id, token1.metadata?.id, getPair]);\r\n};\r\n","import { selectLiquidityViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useLiquidityViewStore = () =>\r\n  useAppSelector(selectLiquidityViewState);\r\n","export * from './modals-slice';\r\nexport * from './use-modals-store';\r\nexport * from './use-token-modal-opener';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { Batch } from '@/integrations/transactions';\r\nimport type { RootState } from '@/store';\r\n\r\nexport type ModalsCallback = (...args: unknown[]) => any;\r\n\r\nexport enum MintTokenSymbol {\r\n  XTC = 'XTC',\r\n  WICP = 'WICP',\r\n}\r\n\r\nexport enum MintModalDataStep {\r\n  LedgerTransfer = 'ledgerTransfer',\r\n  Mint = 'mint',\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n}\r\n\r\nexport type MintModalData<\r\n  RetryCallback = ModalsCallback,\r\n  CancelCallback = ModalsCallback\r\n> = {\r\n  step?: MintModalDataStep | Batch.DefaultHookState;\r\n  steps?: (MintModalDataStep | Batch.DefaultHookState)[];\r\n  callbacks?: [RetryCallback, CancelCallback];\r\n};\r\n\r\nexport enum WithdrawWICPModalDataStep {\r\n  Withdraw = 'withdraw',\r\n  WithdrawWICP = 'withdrawWICP',\r\n}\r\nexport type WithdrawWICPModalData = {\r\n  step?: WithdrawWICPModalDataStep | Batch.DefaultHookState;\r\n  steps?: (WithdrawWICPModalDataStep | Batch.DefaultHookState)[];\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum SwapModalDataStep {\r\n  Getacnt= 'getacnt',\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n  Swap = 'swap',\r\n  Withdraw = 'withdraw',\r\n}\r\nexport type SwapModalData = {\r\n  step?: SwapModalDataStep | Batch.DefaultHookState;\r\n  steps?: (SwapModalDataStep | Batch.DefaultHookState)[];\r\n  fromTokenSymbol?: string;\r\n  toTokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum DepositModalDataStep {\r\n  Approve = 'approve',\r\n  Deposit = 'deposit',\r\n  Getacnt = 'getacnt'\r\n\r\n}\r\nexport type DepositModalData = {\r\n  step?: DepositModalDataStep | Batch.DefaultHookState;\r\n  steps?: (DepositModalDataStep | Batch.DefaultHookState)[];\r\n  tokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum WithdrawModalDataStep {\r\n  Withdraw = 'withdraw',\r\n}\r\nexport type WithdrawModalData = {\r\n  step?: WithdrawModalDataStep | Batch.DefaultHookState;\r\n  steps?: (WithdrawModalDataStep | Batch.DefaultHookState)[];\r\n  tokenSymbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum AddLiquidityModalDataStep {\r\n  Getacnt = 'getacnt',\r\n  Approve0 = 'approve0',\r\n  Deposit0 = 'deposit0',\r\n  Approve1 = 'approve1',\r\n  Deposit1 = 'deposit1',\r\n  CreatePair = 'createPair',\r\n  AddLiquidity = 'addLiquidity',\r\n}\r\nexport type AddLiquidityModalData = {\r\n  step?: AddLiquidityModalDataStep | Batch.DefaultHookState;\r\n  steps?: (AddLiquidityModalDataStep | Batch.DefaultHookState)[];\r\n  token0Symbol?: string;\r\n  token1Symbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport enum RemoveLiquidityModalDataStep {\r\n  RemoveLiquidity = 'removeLiquidity',\r\n  Withdraw0 = 'withdraw0',\r\n  Withdraw1 = 'withdraw1',\r\n}\r\nexport type RemoveLiquidityModalData = {\r\n  step?: RemoveLiquidityModalDataStep | Batch.DefaultHookState;\r\n  steps?: (RemoveLiquidityModalDataStep | Batch.DefaultHookState)[];\r\n  token0Symbol?: string;\r\n  token1Symbol?: string;\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport type AllowanceVerifyModalData = {\r\n  tokenSymbol?: string | string[];\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\nexport type TermsAndConditionsModalData = {\r\n  callbacks?: [ModalsCallback, ModalsCallback];\r\n};\r\n\r\ntype TokenSelectData = {\r\n  tokens: string;\r\n  selectedTokenIds?: string[];\r\n  isLoading?: boolean;\r\n  allowAddToken?: boolean;\r\n  onSelect: (tokenId?: string) => void;\r\n};\r\n\r\n// Define a type for the slice state\r\ninterface ModalsState {\r\n  mintXTCUncompleteBlockHeights?: string[];\r\n  mintWICPUncompleteBlockHeights?: string[];\r\n\r\n  mintManualModalOpened: boolean;\r\n  mintManualModalErrorMessage: string;\r\n  mintManualBlockHeight: string;\r\n  mintManualTokenSymbol: MintTokenSymbol;\r\n\r\n  isMintXTCProgressModalOpened: boolean;\r\n  isMintXTCFailModalOpened: boolean;\r\n  mintXTCModalData: MintModalData;\r\n\r\n  isMintWICPProgressModalOpened: boolean;\r\n  isMintWICPFailModalOpened: boolean;\r\n  mintWICPModalData: MintModalData;\r\n\r\n  isWithdrawWICPProgressModalOpened: boolean;\r\n  isWithdrawWICPFailModalOpened: boolean;\r\n  withdrawWICPModalData: WithdrawWICPModalData;\r\n\r\n  isSwapProgressModalOpened: boolean;\r\n  isSwapFailModalOpened: boolean;\r\n  swapModalData: SwapModalData;\r\n\r\n  isDepositProgressModalOpened: boolean;\r\n  isDepositFailModalOpened: boolean;\r\n  depositModalData: DepositModalData;\r\n\r\n  isWithdrawProgressModalOpened: boolean;\r\n  isWithdrawFailModalOpened: boolean;\r\n  withdrawModalData: WithdrawModalData;\r\n\r\n  isAddLiquidityProgressModalOpened: boolean;\r\n  isAddLiquidityFailModalOpened: boolean;\r\n  addLiquidityModalData: AddLiquidityModalData;\r\n\r\n  isRemoveLiquidityProgressModalOpened: boolean;\r\n  isRemoveLiquidityFailModalOpened: boolean;\r\n  removeLiquidityModalData: RemoveLiquidityModalData;\r\n\r\n  isTokenSelectModalModalOpened: boolean;\r\n  tokenSelectModalData: TokenSelectData;\r\n\r\n  isRemoveLiquidityModalOpened: boolean;\r\n\r\n  isAllowanceVerifyModalOpened: boolean;\r\n  allowanceModalData: AllowanceVerifyModalData;\r\n\r\n  isTermsAndConditionsModalOpened: boolean;\r\n  termsAndConditionsModalData: TermsAndConditionsModalData;\r\n}\r\n\r\nconst initialMintXTCModalData: MintModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialMintWICPModalData: MintModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialWithdrawWICPModalData: WithdrawWICPModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialSwapModalData: SwapModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialDepositModalData: DepositModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialWithdrawModalData: WithdrawModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialAddLiquidityModalData: AddLiquidityModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialRemoveLiquidityModalData: RemoveLiquidityModalData = {\r\n  step: undefined,\r\n};\r\n\r\nconst initialTokenSelectData: TokenSelectData = {\r\n  onSelect: () => null,\r\n  tokens: '[]',\r\n  selectedTokenIds: [],\r\n  isLoading: false,\r\n  allowAddToken: true,\r\n};\r\n\r\n// Define the initial state using that type\r\nconst initialState: ModalsState = {\r\n  mintManualModalOpened: false,\r\n  mintManualModalErrorMessage: '',\r\n  mintManualTokenSymbol: MintTokenSymbol.WICP,\r\n  mintManualBlockHeight: '',\r\n\r\n  isMintXTCProgressModalOpened: false,\r\n  isMintXTCFailModalOpened: false,\r\n  mintXTCModalData: initialMintXTCModalData,\r\n  mintXTCUncompleteBlockHeights: undefined,\r\n\r\n  isMintWICPProgressModalOpened: false,\r\n  isMintWICPFailModalOpened: false,\r\n  mintWICPModalData: initialMintWICPModalData,\r\n  mintWICPUncompleteBlockHeights: undefined,\r\n\r\n  isWithdrawWICPProgressModalOpened: false,\r\n  isWithdrawWICPFailModalOpened: false,\r\n  withdrawWICPModalData: initialWithdrawWICPModalData,\r\n\r\n  isSwapProgressModalOpened: false,\r\n  isSwapFailModalOpened: false,\r\n  swapModalData: initialSwapModalData,\r\n\r\n  isDepositProgressModalOpened: false,\r\n  isDepositFailModalOpened: false,\r\n  depositModalData: initialDepositModalData,\r\n\r\n  isWithdrawProgressModalOpened: false,\r\n  isWithdrawFailModalOpened: false,\r\n  withdrawModalData: initialWithdrawModalData,\r\n\r\n  isAddLiquidityProgressModalOpened: false,\r\n  isAddLiquidityFailModalOpened: false,\r\n  addLiquidityModalData: initialAddLiquidityModalData,\r\n\r\n  isRemoveLiquidityProgressModalOpened: false,\r\n  isRemoveLiquidityFailModalOpened: false,\r\n  removeLiquidityModalData: initialRemoveLiquidityModalData,\r\n\r\n  isTokenSelectModalModalOpened: false,\r\n  tokenSelectModalData: initialTokenSelectData,\r\n\r\n  isRemoveLiquidityModalOpened: false,\r\n\r\n  isAllowanceVerifyModalOpened: false,\r\n  allowanceModalData: {},\r\n\r\n  isTermsAndConditionsModalOpened: false,\r\n  termsAndConditionsModalData: {},\r\n};\r\n\r\nexport const modalsSlice = createSlice({\r\n  name: 'modals',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setMintManualTokenSymbol: (\r\n      state,\r\n      action: PayloadAction<MintTokenSymbol>\r\n    ) => {\r\n      state.mintManualTokenSymbol = action.payload;\r\n    },\r\n    setMintManualBlockHeight: (state, action: PayloadAction<string>) => {\r\n      state.mintManualBlockHeight = action.payload;\r\n    },\r\n    setMintManualModalErrorMessage: (state, action: PayloadAction<string>) => {\r\n      state.mintManualModalErrorMessage = action.payload;\r\n    },\r\n    openMintManualModal: (state) => {\r\n      state.mintManualModalOpened = true;\r\n    },\r\n    closeMintManualModal: (state) => {\r\n      state.mintManualModalOpened = false;\r\n    },\r\n\r\n    openMintXTCProgressModal: (state) => {\r\n      state.isMintXTCProgressModalOpened = true;\r\n    },\r\n    closeMintXTCProgressModal: (state) => {\r\n      state.isMintXTCProgressModalOpened = false;\r\n    },\r\n    openMintXTCFailModal: (state) => {\r\n      state.isMintXTCFailModalOpened = true;\r\n    },\r\n    closeMintXTCFailModal: (state) => {\r\n      state.isMintXTCFailModalOpened = false;\r\n    },\r\n    clearMintXTCModalData: (state) => {\r\n      state.mintXTCModalData = initialMintXTCModalData;\r\n    },\r\n    setMintXTCModalData: (state, action: PayloadAction<MintModalData>) => {\r\n      state.mintXTCModalData = {\r\n        ...state.mintXTCModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setMintXTCUncompleteBlockHeights: (\r\n      state,\r\n      action: PayloadAction<string[]>\r\n    ) => {\r\n      state.mintXTCUncompleteBlockHeights = action.payload;\r\n    },\r\n    addMintXTCUncompleteBlockHeight: (state, action: PayloadAction<string>) => {\r\n      if (state.mintXTCUncompleteBlockHeights === undefined) {\r\n        state.mintXTCUncompleteBlockHeights = [];\r\n      }\r\n      state.mintXTCUncompleteBlockHeights.push(action.payload);\r\n    },\r\n\r\n    openMintWICPProgressModal: (state) => {\r\n      state.isMintWICPProgressModalOpened = true;\r\n    },\r\n    closeMintWICPProgressModal: (state) => {\r\n      state.isMintWICPProgressModalOpened = false;\r\n    },\r\n    openMintWICPFailModal: (state) => {\r\n      state.isMintWICPFailModalOpened = true;\r\n    },\r\n    closeMintWICPFailModal: (state) => {\r\n      state.isMintWICPFailModalOpened = false;\r\n    },\r\n    clearMintWICPModalData: (state) => {\r\n      state.mintWICPModalData = initialMintWICPModalData;\r\n    },\r\n    setMintWICPModalData: (state, action: PayloadAction<MintModalData>) => {\r\n      state.mintWICPModalData = {\r\n        ...state.mintWICPModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n    setMintWICPUncompleteBlockHeights: (\r\n      state,\r\n      action: PayloadAction<string[]>\r\n    ) => {\r\n      state.mintWICPUncompleteBlockHeights = action.payload;\r\n    },\r\n    addMintWICPUncompleteBlockHeight: (\r\n      state,\r\n      action: PayloadAction<string>\r\n    ) => {\r\n      if (state.mintWICPUncompleteBlockHeights === undefined) {\r\n        state.mintWICPUncompleteBlockHeights = [];\r\n      }\r\n      state.mintWICPUncompleteBlockHeights.push(action.payload);\r\n    },\r\n\r\n    openWithdrawWICPProgressModal: (state) => {\r\n      state.isWithdrawWICPProgressModalOpened = true;\r\n    },\r\n    closeWithdrawWICPProgressModal: (state) => {\r\n      state.isWithdrawWICPProgressModalOpened = false;\r\n    },\r\n    openWithdrawWICPFailModal: (state) => {\r\n      state.isWithdrawWICPFailModalOpened = true;\r\n    },\r\n    closeWithdrawWICPFailModal: (state) => {\r\n      state.isWithdrawWICPFailModalOpened = false;\r\n    },\r\n    clearWithdrawWICPModalData: (state) => {\r\n      state.withdrawWICPModalData = initialWithdrawWICPModalData;\r\n    },\r\n    setWithdrawWICPModalData: (\r\n      state,\r\n      action: PayloadAction<WithdrawWICPModalData>\r\n    ) => {\r\n      state.withdrawWICPModalData = {\r\n        ...state.withdrawWICPModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openSwapProgressModal: (state) => {\r\n      state.isSwapProgressModalOpened = true;\r\n    },\r\n    closeSwapProgressModal: (state) => {\r\n      state.isSwapProgressModalOpened = false;\r\n    },\r\n    openSwapFailModal: (state) => {\r\n      state.isSwapFailModalOpened = true;\r\n    },\r\n    closeSwapFailModal: (state) => {\r\n      state.isSwapFailModalOpened = false;\r\n    },\r\n    clearSwapModalData: (state) => {\r\n      state.swapModalData = initialSwapModalData;\r\n    },\r\n    setSwapModalData: (state, action: PayloadAction<SwapModalData>) => {\r\n      state.swapModalData = {\r\n        ...state.swapModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openDepositProgressModal: (state) => {\r\n      state.isDepositProgressModalOpened = true;\r\n    },\r\n    closeDepositProgressModal: (state) => {\r\n      state.isDepositProgressModalOpened = false;\r\n    },\r\n    openDepositFailModal: (state) => {\r\n      state.isDepositFailModalOpened = true;\r\n    },\r\n    closeDepositFailModal: (state) => {\r\n      state.isDepositFailModalOpened = false;\r\n    },\r\n    clearDepositModalData: (state) => {\r\n      state.depositModalData = initialDepositModalData;\r\n    },\r\n    setDepositModalData: (state, action: PayloadAction<DepositModalData>) => {\r\n      state.depositModalData = {\r\n        ...state.depositModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openWithdrawProgressModal: (state) => {\r\n      state.isWithdrawProgressModalOpened = true;\r\n    },\r\n    closeWithdrawProgressModal: (state) => {\r\n      state.isWithdrawProgressModalOpened = false;\r\n    },\r\n    openWithdrawFailModal: (state) => {\r\n      state.isWithdrawFailModalOpened = true;\r\n    },\r\n    closeWithdrawFailModal: (state) => {\r\n      state.isWithdrawFailModalOpened = false;\r\n    },\r\n    clearWithdrawModalData: (state) => {\r\n      state.withdrawModalData = initialWithdrawModalData;\r\n    },\r\n    setWithdrawModalData: (state, action: PayloadAction<WithdrawModalData>) => {\r\n      state.withdrawModalData = {\r\n        ...state.withdrawModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openAddLiquidityProgressModal: (state) => {\r\n      state.isAddLiquidityProgressModalOpened = true;\r\n    },\r\n    closeAddLiquidityProgressModal: (state) => {\r\n      state.isAddLiquidityProgressModalOpened = false;\r\n    },\r\n    openAddLiquidityFailModal: (state) => {\r\n      state.isAddLiquidityFailModalOpened = true;\r\n    },\r\n    closeAddLiquidityFailModal: (state) => {\r\n      state.isAddLiquidityFailModalOpened = false;\r\n    },\r\n    clearAddLiquidityModalData: (state) => {\r\n      state.addLiquidityModalData = initialAddLiquidityModalData;\r\n    },\r\n    setAddLiquidityModalData: (\r\n      state,\r\n      action: PayloadAction<AddLiquidityModalData>\r\n    ) => {\r\n      state.addLiquidityModalData = {\r\n        ...state.addLiquidityModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openRemoveLiquidityProgressModal: (state) => {\r\n      state.isRemoveLiquidityProgressModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityProgressModal: (state) => {\r\n      state.isRemoveLiquidityProgressModalOpened = false;\r\n    },\r\n    openRemoveLiquidityFailModal: (state) => {\r\n      state.isRemoveLiquidityFailModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityFailModal: (state) => {\r\n      state.isRemoveLiquidityFailModalOpened = false;\r\n    },\r\n    clearRemoveLiquidityModalData: (state) => {\r\n      state.removeLiquidityModalData = initialRemoveLiquidityModalData;\r\n    },\r\n    setRemoveLiquidityModalData: (\r\n      state,\r\n      action: PayloadAction<RemoveLiquidityModalData>\r\n    ) => {\r\n      state.removeLiquidityModalData = {\r\n        ...state.removeLiquidityModalData,\r\n        ...action.payload,\r\n      };\r\n    },\r\n\r\n    openTokenSelectModal: (state) => {\r\n      state.isTokenSelectModalModalOpened = true;\r\n    },\r\n    closeTokenSelectModal: (state) => {\r\n      state.isTokenSelectModalModalOpened = false;\r\n    },\r\n    clearTokenSelectModalData: (state) => {\r\n      state.tokenSelectModalData = initialTokenSelectData;\r\n    },\r\n    setTokenSelectModalData: (\r\n      state,\r\n      action: PayloadAction<TokenSelectData>\r\n    ) => {\r\n      state.tokenSelectModalData = action.payload;\r\n    },\r\n\r\n    openRemoveLiquidityModal: (state) => {\r\n      state.isRemoveLiquidityModalOpened = true;\r\n    },\r\n    closeRemoveLiquidityModal: (state) => {\r\n      state.isRemoveLiquidityModalOpened = false;\r\n    },\r\n\r\n    openAllowanceVerifyModal: (state) => {\r\n      state.isAllowanceVerifyModalOpened = true;\r\n    },\r\n    closeAllowanceVerifyModal: (state) => {\r\n      state.isAllowanceVerifyModalOpened = false;\r\n    },\r\n    setAllowanceVerifyModalData: (\r\n      state,\r\n      action: PayloadAction<AllowanceVerifyModalData>\r\n    ) => {\r\n      state.allowanceModalData = action.payload;\r\n    },\r\n\r\n    openTermsAndConditionsModal: (state) => {\r\n      state.isTermsAndConditionsModalOpened = true;\r\n    },\r\n    closeTermsAndConditionsModal: (state) => {\r\n      state.isTermsAndConditionsModalOpened = false;\r\n    },\r\n    setTermsAndConditionsModalData: (\r\n      state,\r\n      action: PayloadAction<TermsAndConditionsModalData>\r\n    ) => {\r\n      state.termsAndConditionsModalData = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const modalsSliceActions = modalsSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectModalsState = (state: RootState) => state.modals;\r\n\r\nexport default modalsSlice.reducer;\r\n","import { selectModalsState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useModalsStore = () => useAppSelector(selectModalsState);\r\n","import { serialize } from '@memecake/sonic-js';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { useAppDispatch } from '@/store';\r\n\r\nimport { modalsSliceActions } from '.';\r\n\r\ntype OpenSelectTokenModalOptions = {\r\n  metadata?: AppTokenMetadata[];\r\n  onSelect: (tokenId?: string) => void;\r\n  selectedTokenIds?: string[];\r\n};\r\n\r\nexport const useTokenModalOpener = () => {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const openSelectTokenModal = ({\r\n    metadata,\r\n    onSelect,\r\n    selectedTokenIds,\r\n  }: OpenSelectTokenModalOptions) => {\r\n    dispatch(\r\n      modalsSliceActions.setTokenSelectModalData({\r\n        tokens: serialize(metadata),\r\n        onSelect,\r\n        selectedTokenIds,\r\n        // Add when we have a custom token selector\r\n        allowAddToken: false,\r\n      })\r\n    );\r\n    dispatch(modalsSliceActions.openTokenSelectModal());\r\n  };\r\n\r\n  return openSelectTokenModal;\r\n};\r\n","export * from './notification-slice';\r\nexport * from './use-notification-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport React from 'react';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\nexport enum NotificationType {\r\n  Success,\r\n  Error,\r\n\r\n  Deposit,\r\n  Withdraw,\r\n\r\n  Swap,\r\n\r\n  AddLiquidity,\r\n  RemoveLiquidity,\r\n\r\n  MintXTC,\r\n  MintWICP,\r\n  WithdrawWICP,\r\n  MintAuto,\r\n  MintManual,\r\n}\r\n\r\nexport enum NotificationState {\r\n  Idle,\r\n  Pending,\r\n  Success,\r\n  Error,\r\n}\r\n\r\nexport interface Notification {\r\n  id: string;\r\n  title: React.ReactNode;\r\n  errorMessage?: string;\r\n  type: NotificationType;\r\n  transactionLink?: string;\r\n  timeout?: string;\r\n  // TODO: Rewrite notifications to use this\r\n  state?: NotificationState;\r\n}\r\n\r\nexport interface NotificationsState {\r\n  notifications: Array<Notification>;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: NotificationsState = {\r\n  notifications: [],\r\n  state: FeatureState?.Idle,\r\n};\r\n\r\nexport const notificationSlice = createSlice({\r\n  name: 'notification',\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setNotificationData: (\r\n      state,\r\n      action: PayloadAction<{\r\n        data: Omit<Partial<Notification>, 'id'>;\r\n        id: string;\r\n      }>\r\n    ) => {\r\n      const notificationIndex = state.notifications.findIndex(\r\n        (notification) => notification.id === action.payload.id\r\n      );\r\n\r\n      if (typeof notificationIndex !== 'undefined') {\r\n        const newNotifications = state.notifications.map(\r\n          (notification, index) => {\r\n            if (index === notificationIndex) {\r\n              return {\r\n                ...notification,\r\n                ...action.payload.data,\r\n              };\r\n            }\r\n\r\n            return notification;\r\n          }\r\n        );\r\n\r\n        state.notifications = newNotifications;\r\n      }\r\n    },\r\n    addNotification: (state, action: PayloadAction<Notification>) => {\r\n      state.notifications.push(action.payload);\r\n    },\r\n    popNotification: (state, action: PayloadAction<string>) => {\r\n      const popId = action.payload;\r\n      const filteredNotifications = state.notifications.filter(\r\n        (obj) => obj.id !== popId\r\n      );\r\n\r\n      state.notifications = filteredNotifications;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setState: setNotificationSliceState,\r\n  addNotification,\r\n  popNotification,\r\n  setNotificationData,\r\n} = notificationSlice.actions;\r\n\r\nexport const selectNotificationState = (state: RootState) => state.notification;\r\n\r\nexport default notificationSlice.reducer;\r\n","import {\r\n  addNotification,\r\n  FeatureState,\r\n  Notification,\r\n  popNotification,\r\n  selectNotificationState,\r\n  setNotificationSliceState,\r\n} from '@/store';\r\nimport { useAppDispatch, useAppSelector } from '@/store';\r\n\r\nexport const useNotificationStore = () => {\r\n  const { notifications, state } = useAppSelector(selectNotificationState);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const _addNotification = (notification: Notification) => {\r\n    dispatch(addNotification(notification));\r\n  };\r\n\r\n  const _popNotification = (notificationId: string) => {\r\n    dispatch(popNotification(notificationId));\r\n  };\r\n\r\n  const _setNotificationState = (state: FeatureState) => {\r\n    dispatch(setNotificationSliceState(state));\r\n  };\r\n\r\n  return {\r\n    notifications,\r\n    state,\r\n    addNotification: _addNotification,\r\n    popNotification: _popNotification,\r\n    setNotificationState: _setNotificationState,\r\n  };\r\n};\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport { ENV } from '@/config';\r\nimport { plug } from '@/integrations/plug';\r\nimport { RootState } from '@/store/store';\r\nimport { AppLog } from '@/utils';\r\n\r\nimport { plugSlice, PlugState } from '../plug-slice';\r\nimport { disconnect } from './disconnect';\r\nimport { tokenList} from '@/utils'\r\n//import {artemis} from '@/utils';\r\n\r\nexport const connect = createAsyncThunk<void>(\r\n  'plug/connect',\r\n  async (_, { dispatch, getState }): Promise<void> => {\r\n    if ((getState() as RootState).plug.state === PlugState.Loading) return;\r\n    dispatch(plugSlice.actions.setState(PlugState.Loading));\r\n    var tknList= tokenList(\"obj\");\r\n    if (plug) {\r\n      try {\r\n        const accountChangeCallback = async (\r\n          newPrincipalId: string\r\n        ): Promise<void> => {\r\n          AppLog.warn(`Connected to Plug with principal ${newPrincipalId}`);\r\n          dispatch(plugSlice.actions.setPrincipalId(newPrincipalId));\r\n        };\r\n        await plug.requestConnect({\r\n          host: ENV.host,\r\n          whitelist: [...Object.values(ENV.canistersPrincipalIDs),...Object.keys(tknList)],\r\n          onConnectionUpdate: (data: any) => {\r\n            if (!data.sessionData) {\r\n              return dispatch(disconnect());\r\n            }\r\n            accountChangeCallback(data.sessionData.principalId);\r\n          },\r\n        });\r\n        \r\n       // artemis.connect('plug', { whitelist: Object.values(ENV.canistersPrincipalIDs)} );\r\n\r\n        const principal = await plug.getPrincipal();\r\n        await accountChangeCallback(\r\n          typeof principal === 'string' ? principal : principal.toText()\r\n        );\r\n      } catch (e) {\r\n        AppLog.error('Could not connect to Plug', e);\r\n        dispatch(plugSlice.actions.setState(PlugState.Disconnected));\r\n      }\r\n    } else {\r\n      dispatch(plugSlice.actions.setState(PlugState.NotInstalled));\r\n    }\r\n  }\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport { plug } from '@/integrations/plug';\r\n\r\nimport { plugSlice, PlugState } from '../plug-slice';\r\n\r\nexport const disconnect = createAsyncThunk<void>(\r\n  'plug/disconnect',\r\n  async (_, { dispatch }): Promise<void> => {\r\n    dispatch(plugSlice.actions.setState(PlugState.Loading));\r\n\r\n    if (plug) {\r\n      dispatch(plugSlice.actions.setState(PlugState.Disconnected));\r\n      plug.disconnect();\r\n      localStorage.clear();\r\n      location.reload()\r\n    } else {\r\n      dispatch(plugSlice.actions.setState(PlugState.NotInstalled));\r\n    }\r\n  }\r\n);\r\n","export * from './connect';\r\nexport * from './disconnect';\r\n","export * from './plug-slice';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { useAppSelector } from '@/store/hooks';\r\n\r\nimport { connect, disconnect } from './async-thunk';\r\n\r\nexport enum PlugState {\r\n  NotInstalled,\r\n  Disconnected,\r\n  Loading,\r\n  Connected,\r\n}\r\n\r\ninterface PlugStoreState {\r\n  state: PlugState;\r\n  principalId?: string;\r\n  isConnected: boolean;\r\n}\r\n\r\nconst initialState: PlugStoreState = {\r\n  principalId: undefined,\r\n  state: PlugState.Disconnected,\r\n  isConnected: false,\r\n};\r\n\r\nexport const plugSlice = createSlice({\r\n  name: 'plug',\r\n  initialState,\r\n  reducers: {\r\n    setPrincipalId: (state, action: PayloadAction<string>) => {\r\n      state.state = PlugState.Connected;\r\n      state.principalId = action.payload;\r\n      state.isConnected = true;\r\n    },\r\n    setState: (\r\n      state,\r\n      action: PayloadAction<\r\n        PlugState.Disconnected | PlugState.Loading | PlugState.NotInstalled\r\n      >\r\n    ) => {\r\n      state.state = action.payload;\r\n      state.principalId = undefined;\r\n      state.isConnected = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport const plugActions = { ...plugSlice.actions, connect, disconnect };\r\n\r\nconst selectPlugState = (state: RootState): PlugStoreState => state.plug;\r\n\r\nexport const usePlugStore = (): PlugStoreState =>\r\n  useAppSelector(selectPlugState);\r\n\r\nexport default plugSlice.reducer;\r\n","export * from './price-slice';\r\nexport * from './use-price-init';\r\nexport * from './use-price-store';\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface PriceState {\r\n  icpPrice?: string;\r\n  state: FeatureState;\r\n}\r\n\r\nconst initialState: PriceState = {\r\n  icpPrice: undefined,\r\n  state: 'not-started' as FeatureState,\r\n};\r\n\r\nexport const priceSlice = createSlice({\r\n  name: 'price',\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setPrice: (state, action: PayloadAction<string>) => {\r\n      state.icpPrice = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const priceActions = priceSlice.actions;\r\n\r\nexport const selectPriceState = (state: RootState) => state.price;\r\n\r\nexport default priceSlice.reducer;\r\n","import { toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { FeatureState, useAppDispatch } from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { fetchICPPrice } from '@/utils/icp';\r\n\r\nimport { swapCanisterActions, useSwapCanisterStore } from '..';\r\nimport { useKeepSync } from '../keep-sync';\r\nimport { priceActions, usePriceStore } from '.';\r\n\r\nexport const usePriceInit = () => {\r\n  const {\r\n    supportedTokenList,\r\n    supportedTokenListState,\r\n    allPairsState,\r\n    allPairs,\r\n  } = useSwapCanisterStore();\r\n  const { state, icpPrice } = usePriceStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    _getICPPrice({ isRefreshing: false });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      icpPrice &&\r\n      supportedTokenList &&\r\n      allPairs &&\r\n      supportedTokenListState !== FeatureState.Loading &&\r\n      allPairsState !== FeatureState.Loading\r\n    ) {\r\n      const supportedTokenListWithPrices = supportedTokenList.map((token) => {\r\n        let tokenPrice;\r\n\r\n        if (token.id === ENV.canistersPrincipalIDs.WICP) {\r\n          tokenPrice = icpPrice;\r\n        }\r\n\r\n        if (token.id !== ENV.canistersPrincipalIDs.WICP) {\r\n          const wicpToTokenPair =\r\n            allPairs?.[ENV.canistersPrincipalIDs.WICP]?.[token.id];\r\n          const tokenDecimals = supportedTokenList.find(\r\n            ({ id }) => id === token.id\r\n          )?.decimals;\r\n          const wicpDecimals = supportedTokenList.find(\r\n            ({ id }) => id === ENV.canistersPrincipalIDs.WICP\r\n          )?.decimals;\r\n\r\n          if (wicpToTokenPair && tokenDecimals && wicpDecimals) {\r\n            const wicpReserve =\r\n              wicpToTokenPair.token0 === ENV.canistersPrincipalIDs.WICP\r\n                ? wicpToTokenPair.reserve0\r\n                : wicpToTokenPair.reserve1;\r\n\r\n            const tokenReserve =\r\n              wicpToTokenPair.token0 === ENV.canistersPrincipalIDs.WICP\r\n                ? wicpToTokenPair.reserve1\r\n                : wicpToTokenPair.reserve0;\r\n\r\n            if (wicpReserve && tokenReserve) {\r\n              tokenPrice = new BigNumber(icpPrice)\r\n                .multipliedBy(\r\n                  toBigNumber(wicpReserve).applyDecimals(wicpDecimals)\r\n                )\r\n                .div(toBigNumber(tokenReserve).applyDecimals(tokenDecimals))\r\n                .toString();\r\n            }\r\n          } else {\r\n            tokenPrice = '0';\r\n          }\r\n        }\r\n\r\n        return {\r\n          ...token,\r\n          price: tokenPrice,\r\n        };\r\n      });\r\n\r\n      dispatch(\r\n        swapCanisterActions.setSupportedTokenList(supportedTokenListWithPrices)\r\n      );\r\n    }\r\n  }, [icpPrice, supportedTokenListState, allPairsState, dispatch, allPairs]);\r\n\r\n  const _getICPPrice = useKeepSync(\r\n    'getICPPrice',\r\n    useCallback(\r\n      async (isRefreshing?: boolean) => {\r\n        if (state !== FeatureState.Loading) {\r\n          try {\r\n            dispatch(\r\n              priceActions.setState(\r\n                isRefreshing ? FeatureState.Updating : FeatureState.Loading\r\n              )\r\n            );\r\n\r\n            const price = await fetchICPPrice();\r\n\r\n            if (price) {\r\n              dispatch(priceActions.setPrice(price));\r\n            } else {\r\n              throw new Error('No \"getICPPrice\" response');\r\n            }\r\n\r\n            dispatch(priceActions.setState(FeatureState.Idle));\r\n\r\n            return price;\r\n          } catch (error) {\r\n            AppLog.error('ICP price fetch error', error);\r\n            dispatch(priceActions.setState(FeatureState.Error));\r\n          }\r\n        }\r\n      },\r\n      [dispatch, state]\r\n    )\r\n  );\r\n};\r\n","import { useAppSelector } from '@/store';\r\n\r\nimport { selectPriceState } from '.';\r\n\r\nexport const usePriceStore = () => useAppSelector(selectPriceState);\r\n","export * from './swap-canister-slice';\r\nexport * from './use-swap-canister-init';\r\nexport * from './use-swap-canister-store';\r\n","import { Pair } from '@memecake/sonic-js';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { AppTokenMetadata, Balances, PairBalances } from '@/models';\r\nimport { FeatureState, RootState } from '@/store';\r\n\r\nexport interface SwapCanisterState {\r\n  supportedTokenListState: FeatureState;\r\n  balancesState: FeatureState;\r\n  allPairsState: FeatureState;\r\n  userLPBalancesState: FeatureState;\r\n\r\n  supportedTokenList?: AppTokenMetadata[];\r\n  sonicBalances?: Balances;\r\n  tokenBalances?: Balances;\r\n  icpBalance?: number;\r\n  allPairs?: Pair.List;\r\n  userLPBalances?: PairBalances;\r\n}\r\n\r\nconst initialState: SwapCanisterState = {\r\n  supportedTokenListState: 'not-started' as FeatureState,\r\n  balancesState: 'not-started' as FeatureState,\r\n  allPairsState: 'not-started' as FeatureState,\r\n  userLPBalancesState: 'not-started' as FeatureState,\r\n\r\n  supportedTokenList: undefined,\r\n  sonicBalances: undefined,\r\n  tokenBalances: undefined,\r\n  icpBalance: undefined,\r\n  allPairs: undefined,\r\n  userLPBalances: undefined,\r\n};\r\n\r\nexport const swapCanisterSlice = createSlice({\r\n  name: 'swapCanister',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setICPBalance: (state, action: PayloadAction<bigint>) => {\r\n      state.icpBalance = Number(action.payload);\r\n    },\r\n    setSupportedTokensListState: (\r\n      state,\r\n      action: PayloadAction<FeatureState>\r\n    ) => {\r\n      state.supportedTokenListState = action.payload;\r\n    },\r\n    setBalancesState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.balancesState = action.payload;\r\n    },\r\n    setSupportedTokenList: (\r\n      state,\r\n      action: PayloadAction<AppTokenMetadata[]>\r\n    ) => {\r\n      state.supportedTokenList = action.payload;\r\n    },\r\n    setSonicBalances: (\r\n      state,\r\n      action: PayloadAction<[string, bigint][] | undefined>\r\n    ) => {\r\n      const parsedBalances = action.payload?.reduce((acc, current) => {\r\n        return {\r\n          ...acc,\r\n          [current[0]]: Number(current[1]),\r\n        };\r\n      }, {} as Balances);\r\n      state.sonicBalances = parsedBalances;\r\n    },\r\n    setTokenBalances: (\r\n      state,\r\n      action: PayloadAction<[string, bigint][] | undefined>\r\n    ) => {\r\n      const parsedBalances = action.payload?.reduce((acc, current) => {\r\n        return {\r\n          ...acc,\r\n          [current[0]]: Number(current[1]),\r\n        };\r\n      }, {} as Balances);\r\n      state.tokenBalances = parsedBalances;\r\n    },\r\n    setAllPairsState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.allPairsState = action.payload;\r\n    },\r\n    setAllPairs: (state, action: PayloadAction<Pair.List>) => {\r\n      state.allPairs = action.payload;\r\n    },\r\n    setUserLPBalancesState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.userLPBalancesState = action.payload;\r\n    },\r\n    setUserLPBalances: (state, action: PayloadAction<PairBalances>) => {\r\n      state.userLPBalances = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const swapCanisterActions = swapCanisterSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectSwapCanisterState = (state: RootState) => state.swap;\r\n\r\nexport default swapCanisterSlice.reducer;\r\n","import { useCallback, useEffect } from 'react';\r\n\r\nimport { useAllPairs } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { createAnonSwapActor } from '@/integrations/actor';\r\nimport { FeatureState, swapCanisterActions, useAppDispatch, usePlugStore, useSwapCanisterStore} from '@/store';\r\nimport { AppLog } from '@/utils';\r\nimport { parseResponseSupportedTokenList } from '@/utils/canister';\r\n\r\nimport { useKeepSync } from '../keep-sync';\r\n\r\nexport const useSwapCanisterInit = () => {\r\n  const { getBalances, getUserPositiveLPBalances } = useBalances();\r\n  const { principalId, isConnected, state: plugState } = usePlugStore();\r\n  const { supportedTokenListState } = useSwapCanisterStore();\r\n  const { getAllPairs } = useAllPairs();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!isConnected) {\r\n      dispatch(swapCanisterActions.setBalancesState(FeatureState.Idle));\r\n    }\r\n  }, [isConnected, plugState]);\r\n\r\n  useEffect(() => {\r\n    if (principalId) {\r\n      getBalances({ isRefreshing: false });\r\n      getUserPositiveLPBalances({ isRefreshing: false });\r\n    }\r\n  }, [principalId]);\r\n\r\n  useEffect(() => {\r\n    getSupportedTokenList({ isRefreshing: false });\r\n    getAllPairs({ isRefreshing: false });\r\n  }, []);\r\n\r\n  const getSupportedTokenList = useKeepSync( 'getSupportedTokenList',\r\n    useCallback(\r\n      async (isRefreshing?: boolean , loadAction?:string) => {\r\n        if (supportedTokenListState !== FeatureState.Loading) {\r\n          try {\r\n            dispatch( swapCanisterActions.setSupportedTokensListState( isRefreshing ? FeatureState.Updating : FeatureState.Loading));\r\n            const swapActor = await createAnonSwapActor();\r\n            const response = await swapActor.getSupportedTokenList();\r\n            if (response) {\r\n              dispatch( swapCanisterActions.setSupportedTokenList( parseResponseSupportedTokenList(response)));\r\n            } else {\r\n              throw new Error('No \"getSupportedTokenList\" response');\r\n            }\r\n            dispatch( swapCanisterActions.setSupportedTokensListState(FeatureState.Idle));\r\n            return response;\r\n          } catch (error) {\r\n            AppLog.error('Failed to fetch supported token list', error);\r\n            dispatch( swapCanisterActions.setSupportedTokensListState( FeatureState.Error));\r\n          }\r\n        }\r\n      },\r\n      [supportedTokenListState]\r\n    )\r\n  );\r\n};\r\n","import { selectSwapCanisterState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useSwapCanisterStore = () =>{\r\n  return useAppSelector(selectSwapCanisterState);\r\n}\r\n  \r\n","export * from './swap-view-slice';\r\nexport * from './use-swap-view-init';\r\nexport * from './use-swap-view-store';\r\n","import { MaximalPaths, Pair, Swap } from '@memecake/sonic-js';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { AppTokenMetadata, AppTokenMetadataListObject, BaseTokenData } from '@/models';\r\n\r\nimport { FeatureState, RootState } from '@/store';\r\nimport { capitalize } from '@/utils/format';\r\nimport { getAmountOutFromPath } from '@/views';\r\n\r\n// import BigNumber from 'bignumber.js';\r\n\r\nexport type SwapTokenDataKey = 'from' | 'to';\r\n\r\nexport interface SwapTokenData<M = AppTokenMetadata> extends BaseTokenData<M> {\r\n  paths: MaximalPaths.PathList;\r\n}\r\n\r\ninterface SwapViewState {\r\n  state: FeatureState;\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n  tokenList?: AppTokenMetadataListObject;\r\n  allPairs?: Pair.List;\r\n  slippage: string;\r\n  keepInSonic: boolean;\r\n  baseFromTokenPaths: MaximalPaths.PathList;\r\n  baseToTokenPaths: MaximalPaths.PathList;\r\n  allowance?: number;\r\n}\r\n\r\nexport const INITIAL_SWAP_SLIPPAGE = '0.5';\r\nfunction toJson(data: any) {\r\n  if(data) return JSON.stringify(data, (_, v) => typeof v === 'bigint' ? `${v}n` : v).replace(/\"(-?\\d+)n\"/g, (_, a) => a);\r\n  return '{}';\r\n}\r\nconst initialState: SwapViewState = {\r\n  state: FeatureState?.Idle,\r\n  from: { paths: {}, metadata: undefined, value: '' },\r\n  to: { paths: {}, metadata: undefined, value: '' },\r\n  tokenList: undefined,\r\n  allPairs: undefined,\r\n  slippage: INITIAL_SWAP_SLIPPAGE,\r\n  keepInSonic: false,\r\n  baseFromTokenPaths: {},\r\n  baseToTokenPaths: {},\r\n  allowance: undefined,\r\n};\r\nexport const swapViewSlice = createSlice({\r\n  name: 'swap',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    reset: (state) => {\r\n      \r\n    },\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setValue: (state, action: PayloadAction<{ data: SwapTokenDataKey; value: string }>) => {\r\n      const { allPairs, tokenList } = state;\r\n      const { data, value } = action.payload;\r\n\r\n      const metadata = data === 'from' ? state.from.metadata : state.to.metadata;\r\n      const oppositeMetadata = data === 'to' ? state.from.metadata : state.to.metadata;\r\n\r\n      const oppositeDataKey = data === 'from' ? 'to' : 'from';\r\n      state[data].value = value;\r\n      if (tokenList && metadata && oppositeMetadata && !(metadata.id === ICP_METADATA.id) && !(oppositeMetadata.id === ICP_METADATA.id)) {\r\n        const paths: any = getTokenPaths(allPairs as Pair.List, tokenList, metadata.id, state[data].value, data);\r\n\r\n        // Swap.getTokenPaths({\r\n        //   pairList: allPairs as Pair.List, tokenList, tokenId: metadata.id, amount: value, dataKey: data,\r\n        // });\r\n        state[data].paths = paths;\r\n\r\n        state[oppositeDataKey].value = getAmountOutFromPath(state[data] as SwapTokenData, state[oppositeDataKey] as SwapTokenData);\r\n\r\n        if (data === 'to' && paths[oppositeMetadata.id]) {\r\n          state.from.paths[metadata.id] = { amountOut: paths[oppositeMetadata.id].amountOut, path: [...paths[oppositeMetadata.id].path].reverse() };\r\n        }\r\n      }\r\n    },\r\n    setToken: (state, action: PayloadAction<{ data: SwapTokenDataKey; tokenId: string | undefined }>) => {\r\n      const { allPairs, tokenList } = state;\r\n      const { data, tokenId } = action.payload;\r\n\r\n      if (tokenId && tokenList && allPairs) {\r\n        const paths = getTokenPaths(allPairs as Pair.List, tokenList, tokenId, state[data].value, data);\r\n        // const paths = //Swap.getTokenPaths({ pairList: allPairs as Pair.List, tokenList, tokenId, amount: state[data].value, dataKey: data });  \r\n        state[data].metadata = { ...tokenList[tokenId] };\r\n        state[data].paths = paths;\r\n        const tokenPathsDataKey = `base${capitalize(data)}TokenPaths` as | 'baseToTokenPaths' | 'baseFromTokenPaths';\r\n        state[tokenPathsDataKey] = getTokenPaths(allPairs as Pair.List, tokenList, tokenId, state[data].value, data);\r\n        // Swap.getTokenPaths({ pairList: allPairs as Pair.List, tokenList, tokenId, dataKey: data });\r\n\r\n      } else { state[data].metadata = undefined; }\r\n      if (data === 'from') {\r\n        state.to.metadata = undefined;\r\n        state.to.value = '';\r\n      }\r\n    },\r\n    switchTokens: (state, action: PayloadAction<SwapTokenDataKey>) => {\r\n      const dataKey = action.payload;\r\n      const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n      const oppositeMetadata = state[oppositeDataKey].metadata;\r\n\r\n      if (state.from.metadata && state.to.metadata && oppositeMetadata && state.tokenList && state.allPairs) {\r\n        // FIXME: Handle WICP/ICP specific case better/in other place\r\n\r\n        const isICPToWICPPair = state.from.metadata.id === ICP_METADATA.id && state.to.metadata.id === ENV.canistersPrincipalIDs.WICP;\r\n\r\n        const isWICPToICPPair = state.to.metadata.id === ICP_METADATA.id && state.from.metadata.id === ENV.canistersPrincipalIDs.WICP;\r\n\r\n        const isWICPAndICPPair = isICPToWICPPair || isWICPToICPPair;\r\n\r\n        const value = state[dataKey].value;\r\n\r\n        // const oppositeTokenPaths = Swap.getTokenPaths({\r\n        //   pairList: state.allPairs as Pair.List,\r\n        //   tokenList: state.tokenList,\r\n        //   tokenId: state[dataKey].metadata!.id,\r\n        //   amount: value,\r\n        //   dataKey: oppositeDataKey,\r\n        // });\r\n\r\n        const oppositeTokenPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state[dataKey].metadata!.id, value, oppositeDataKey);\r\n\r\n        const oppositeValue = getAmountOutFromPath( { ...state[dataKey], paths: oppositeTokenPaths },state[oppositeDataKey] as SwapTokenData );\r\n\r\n        // const tokenPaths = Swap.getTokenPaths({\r\n        //   pairList: state.allPairs as Pair.List,\r\n        //   tokenList: state.tokenList,\r\n        //   tokenId: state[oppositeDataKey].metadata!.id,\r\n        //   amount: oppositeValue,\r\n        //   dataKey: dataKey,\r\n        // });\r\n\r\n        const tokenPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state[oppositeDataKey].metadata!.id, oppositeValue, dataKey);\r\n\r\n        const tempMetadata = { ...state.from.metadata };\r\n        state.from.metadata = { ...state.to.metadata };\r\n        state.to.metadata = tempMetadata;\r\n\r\n        // In case of WICP/ICP or ICP/WICP switch -- leave values as they are\r\n        if (!isWICPAndICPPair) {\r\n          state[oppositeDataKey].paths = oppositeTokenPaths;\r\n          state[dataKey].paths = tokenPaths;\r\n\r\n          state[oppositeDataKey].value = value;\r\n          state[dataKey].value = oppositeValue;\r\n\r\n          const baseFromPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state.from.metadata.id);\r\n\r\n          // Swap.getTokenPaths({ pairList: state.allPairs as Pair.List,   tokenList: state.tokenList, tokenId: state.from.metadata.id });\r\n          \r\n          const baseToPaths = getTokenPaths(state.allPairs as Pair.List, state.tokenList, state.to.metadata.id);\r\n          \r\n          //Swap.getTokenPaths({ pairList: state.allPairs as Pair.List, tokenList: state.tokenList,tokenId: state.to.metadata.id, });\r\n\r\n          state.baseFromTokenPaths = baseFromPaths;\r\n          state.baseToTokenPaths = baseToPaths;\r\n        }\r\n      }\r\n    },\r\n    setTokenList: ( state, action: PayloadAction<AppTokenMetadataListObject>) => {\r\n      state.tokenList = action.payload;\r\n      const tokens = Object.values(action.payload);\r\n      const { allPairs, tokenList } = state;\r\n      if (!state.from.metadata) {\r\n        state.from.metadata = { ...tokens[0] };\r\n        state.from.paths = {};\r\n        state.from.value = '';\r\n        state.to.value = '';\r\n        if(state.from.metadata.id){\r\n          state.from.paths =  getTokenPaths(allPairs as Pair.List, tokenList, state.from.metadata.id, 0, \"from\");\r\n        }\r\n      }\r\n      if(state.from.metadata && !state.from.paths){\r\n        state.from.paths =  getTokenPaths(allPairs as Pair.List, tokenList, state.from.metadata.id, 0, \"from\");\r\n      }\r\n    },\r\n    setAllPairs: (state, action: PayloadAction<Pair.List | undefined>) => {\r\n      state.allPairs = action.payload;\r\n    },\r\n    setSlippage: (state, action: PayloadAction<string>) => {\r\n      state.slippage = action.payload;\r\n    },\r\n    setKeepInSonic: (state, action: PayloadAction<boolean>) => {\r\n      state.keepInSonic = action.payload;\r\n    },\r\n    setAllowance: (state, action: PayloadAction<number | undefined>) => {\r\n      state.allowance = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const swapViewActions = swapViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\n\r\nexport const selectSwapViewState = (state: RootState) => state.swapView;\r\n\r\n\r\n//getTokenPaths to avoid cpu load in built fn\r\n\r\nconst getTokenPaths = function(allPairs?: any, tokenList?: any, tokenId?: string, amount?: any, dataKey?: any) {\r\n  var allPairs = JSON.parse(toJson(allPairs)), tokenList = JSON.parse(toJson(tokenList)),tokenPaths: any = {};\r\n  if (tokenId) {\r\n    if(!allPairs[tokenId] ) return tokenPaths;\r\n    Object.keys(allPairs[tokenId]).forEach((x: string) => {\r\n      let fromValue = amount ? amount : 0;\r\n      var p = Swap.getAmountOut({ \r\n        amountIn: fromValue.toString(),decimalsIn: tokenList[tokenId]?.decimals, decimalsOut: tokenList[x]?.decimals,\r\n        reserveIn: allPairs[tokenId][x].reserve0,reserveOut: allPairs[tokenId][x].reserve1,\r\n      })\r\n      tokenPaths[x] = { amountOut: p, path: [tokenId, x] ,  }\r\n    })\r\n  }\r\n  return tokenPaths;\r\n}\r\nexport const getTokenPath = getTokenPaths;\r\nexport default swapViewSlice.reducer;\r\n","import { useEffect, useState } from 'react';\r\nimport { getICPTokenMetadata } from '@/constants';\r\nimport { useAppDispatch } from '@/store'; //selectSwapViewState selectSwapViewState, useAppSelector\r\nimport { parseResponseTokenList } from '@/utils/canister';\r\n\r\nimport { usePriceStore, useSwapCanisterStore } from '..';\r\nimport { swapViewActions } from '.';\r\nimport { AppTokenMetadataListObject } from '@/models';\r\n\r\nexport const useSwapView = (method: string) => {\r\n  const dispatch = useAppDispatch();\r\n  const { icpPrice } = usePriceStore();\r\n  const { allPairs, supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const [isPairLoaded, setIsPairLoad] = useState<boolean>(false);\r\n  var tokenListTemp: AppTokenMetadataListObject = {};\r\n\r\n  useEffect(() => {\r\n    if (!supportedTokenList) return;\r\n    tokenListTemp = parseResponseTokenList([getICPTokenMetadata(icpPrice), ...supportedTokenList]);\r\n    if (method == 'swap') {\r\n      delete tokenListTemp.ICP;\r\n    } else if (method == 'mint') {\r\n      tokenListTemp = {\r\n        ICP: tokenListTemp.ICP,\r\n        \"utozz-siaaa-aaaam-qaaxq-cai\": tokenListTemp[\"utozz-siaaa-aaaam-qaaxq-cai\"],\r\n        \"aanaa-xaaaa-aaaah-aaeiq-cai\": tokenListTemp[\"aanaa-xaaaa-aaaah-aaeiq-cai\"],\r\n      };\r\n    }\r\n    dispatch(swapViewActions.setTokenList(tokenListTemp));\r\n\r\n    const setInitToken = async () => {\r\n      await dispatch(swapViewActions.setAllPairs(allPairs));\r\n      setIsPairLoad(true);\r\n    }\r\n\r\n    if (allPairs && Object.keys(tokenListTemp)) {\r\n      setInitToken();\r\n    }\r\n\r\n  }, [allPairs, supportedTokenList, dispatch, icpPrice]);\r\n\r\n  useEffect(() => {\r\n    if (method == 'mint') {\r\n      dispatch(swapViewActions.setToken({ data: 'from', tokenId: 'ICP' }));\r\n      dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n      dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n    }\r\n    tokenListTemp = parseResponseTokenList([...supportedTokenList || []]);\r\n    if (!isPairLoaded || !tokenListTemp) return;\r\n    if (method == 'swap') {\r\n      const temp = Object.keys(tokenListTemp)[0];\r\n      dispatch(swapViewActions.setToken({ data: \"from\", tokenId: tokenListTemp[temp]?.id }));\r\n      dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n      dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n    }\r\n  }, [isPairLoaded, method])\r\n};","import { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useTokenSelectionChecker } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { selectSwapViewState, useAppSelector } from '@/store';\r\n\r\nimport { useSwapCanisterStore } from '..';\r\n\r\nexport const useSwapViewStore = () => {\r\n  const state = useAppSelector(selectSwapViewState);\r\n  const { from, tokenList } = state;\r\n  const { allPairs } = useSwapCanisterStore();\r\n\r\n  const { isTokenSelected: isICPSelected } = useTokenSelectionChecker({ id0: from.metadata?.id,});\r\n\r\n  const { isTokenSelected: isWICPSelected } = useTokenSelectionChecker({\r\n    id0: from.metadata?.id,\r\n    targetId: ENV.canistersPrincipalIDs.WICP,\r\n  });\r\n\r\n  const [fromTokenOptions, toTokenOptions] = useMemo(() => {\r\n    if (!from.metadata || !tokenList) return [[], []];\r\n    \r\n    const fromTokenOptions = Object.values(tokenList);\r\n\r\n    if (!allPairs) { return [fromTokenOptions, []];}\r\n\r\n    if (isICPSelected) {\r\n      const wicpTokenMetadata = tokenList[ENV.canistersPrincipalIDs.WICP];\r\n      const xtcTokenMetadata = tokenList[ENV.canistersPrincipalIDs.XTC];\r\n      const icpToTokenOptions: AppTokenMetadata[] = [\r\n        ...(wicpTokenMetadata ? [wicpTokenMetadata] : []),\r\n        ...(xtcTokenMetadata ? [xtcTokenMetadata] : []),\r\n      ];\r\n      return [fromTokenOptions, icpToTokenOptions];\r\n    }\r\n    const toTokenPathsIds = Object.keys(from.paths);\r\n    \r\n    const toTokenOptions = fromTokenOptions.filter((token:{ id:string}) =>\r\n      toTokenPathsIds.includes(token.id)\r\n    );\r\n    if (isWICPSelected) {\r\n      const icpToken = fromTokenOptions.find((token) => token.id === ICP_METADATA.id);\r\n      if (icpToken) { toTokenOptions.unshift({ ...icpToken });}\r\n    }\r\n    return [fromTokenOptions, toTokenOptions];\r\n  }, [, from.metadata, from.paths, tokenList, isICPSelected,isWICPSelected]);\r\n\r\n  return { ...state, fromTokenOptions, toTokenOptions};\r\n};\r\n","export * from './withdraw-view-slice';\r\nexport * from './use-withdraw-view-store';\r\n","import { selectAssetsViewState } from '@/store';\r\nimport { useAppSelector } from '@/store';\r\n\r\nexport const useAssetsViewStore = () => useAppSelector(selectAssetsViewState);\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport type { RootState } from '@/store';\r\nimport { FeatureState } from '@/store';\r\n\r\ninterface WithdrawViewState {\r\n  state: FeatureState;\r\n  amount: string;\r\n  tokenId?: string;\r\n}\r\n\r\nconst initialState: WithdrawViewState = {\r\n  state: FeatureState?.Idle,\r\n  amount: '',\r\n  tokenId: undefined,\r\n};\r\n\r\nexport const withdrawViewSlice = createSlice({\r\n  name: 'withdraw',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    setState: (state, action: PayloadAction<FeatureState>) => {\r\n      state.state = action.payload;\r\n    },\r\n    setAmount: (state, action: PayloadAction<string>) => {\r\n      state.amount = action.payload;\r\n    },\r\n    setTokenId: (state, action: PayloadAction<string>) => {\r\n      state.tokenId = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const withdrawViewActions = withdrawViewSlice.actions;\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const selectWithdrawViewState = (state: RootState) => state.withdrawView;\r\n\r\nexport default withdrawViewSlice.reducer;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\n\r\nimport type { AppDispatch, RootState } from './store';\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","export * from './features';\r\nexport * from './hooks';\r\nexport * from './models';\r\nexport * from './store';\r\n","export enum FeatureState {\r\n  NotStarted = 'not-started',\r\n  Idle = 'idle',\r\n  Loading = 'loading',\r\n  Error = 'error',\r\n  Updating = 'updating',\r\n}\r\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport activityViewReducer from '@/store/features/activity-view/activity-view-slice';\r\nimport allowanceReducer from '@/store/features/allowance/allowance-slice';\r\nimport assetsViewReducer from '@/store/features/assets-view/assets-view-slice';\r\nimport cyclesMintingCanisterReducer from '@/store/features/cycles-minting-canister/cycles-minting-canister-slice';\r\nimport depositViewReducer from '@/store/features/deposit-view/deposit-view-slice';\r\nimport keepSyncReducer from '@/store/features/keep-sync/keep-sync-slice';\r\nimport liquidityViewReducer from '@/store/features/liquidity-view/liquidity-view-slice';\r\nimport modalsReducer from '@/store/features/modals/modals-slice';\r\nimport notificationReducer from '@/store/features/notification/notification-slice';\r\nimport plugReducer from '@/store/features/plug/plug-slice';\r\nimport priceReducer from '@/store/features/price/price-slice';\r\nimport swapReducer from '@/store/features/swap-canister/swap-canister-slice';\r\nimport swapViewReducer from '@/store/features/swap-view/swap-view-slice';\r\nimport withdrawViewReducer from '@/store/features/withdraw-view/withdraw-view-slice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    cyclesMinting: cyclesMintingCanisterReducer,\r\n    plug: plugReducer,\r\n    modals: modalsReducer,\r\n    notification: notificationReducer,\r\n    swap: swapReducer,\r\n    price: priceReducer,\r\n    keepSync: keepSyncReducer,\r\n\r\n    activityView: activityViewReducer,\r\n    assetsView: assetsViewReducer,\r\n    depositView: depositViewReducer,\r\n    liquidityView: liquidityViewReducer,\r\n    swapView: swapViewReducer,\r\n    withdrawView: withdrawViewReducer,\r\n    allowance: allowanceReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: false,\r\n    }),\r\n});\r\n\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import type {\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode, transparentize } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyle: SystemStyleObject = {\r\n  lineHeight: '1.2',\r\n  borderRadius: 'xl',\r\n  fontWeight: 'semibold',\r\n  transitionProperty: 'common',\r\n  transitionDuration: 'normal',\r\n  _focus: {\r\n    boxShadow: 'outline',\r\n  },\r\n  _disabled: {\r\n    opacity: 0.4,\r\n    cursor: 'not-allowed',\r\n    boxShadow: 'none',\r\n  },\r\n  _hover: {\r\n    _disabled: {\r\n      bg: 'initial',\r\n    },\r\n  },\r\n};\r\n\r\nconst variantGhost: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n\r\n  if (c === 'gray') {\r\n    return {\r\n      color: mode(`inherit`, `whiteAlpha.900`)(props),\r\n      _hover: {\r\n        bg: mode(`gray.100`, `whiteAlpha.200`)(props),\r\n      },\r\n      _active: { bg: mode(`custom.200`, `whiteAlpha.300`)(props) },\r\n    };\r\n  }\r\n\r\n  const darkHoverBg = transparentize(`${c}.200`, 0.12)(theme);\r\n  const darkActiveBg = transparentize(`${c}.200`, 0.24)(theme);\r\n\r\n  return {\r\n    color: mode(`${c}.600`, `${c}.200`)(props),\r\n    bg: 'transparent',\r\n    _hover: {\r\n      bg: mode(`${c}.50`, darkHoverBg)(props),\r\n    },\r\n    _active: {\r\n      bg: mode(`${c}.100`, darkActiveBg)(props),\r\n    },\r\n  };\r\n};\r\n\r\nconst variantOutline: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n  const borderColor = mode(`gray.200`, `whiteAlpha.300`)(props);\r\n  return {\r\n    border: '1px solid',\r\n    borderColor: c === 'gray' ? borderColor : 'currentColor',\r\n    ...variantGhost(props),\r\n  };\r\n};\r\n\r\ntype AccessibleColor = {\r\n  bg?: string;\r\n  color?: string;\r\n  hoverBg?: string;\r\n  activeBg?: string;\r\n};\r\n\r\n/** Accessible color overrides for less accessible colors. */\r\nconst accessibleColorMap: { [key: string]: AccessibleColor } = {\r\n  yellow: {\r\n    bg: 'yellow.400',\r\n    color: 'black',\r\n    hoverBg: 'yellow.500',\r\n    activeBg: 'yellow.600',\r\n  },\r\n  cyan: {\r\n    bg: 'cyan.400',\r\n    color: 'black',\r\n    hoverBg: 'cyan.500',\r\n    activeBg: 'cyan.600',\r\n  },\r\n};\r\n\r\nconst variantSolid: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n\r\n  if (c === 'gray') {\r\n    const bg = mode(`gray.100`, `whiteAlpha.200`)(props);\r\n\r\n    return {\r\n      bg,\r\n      _hover: {\r\n        bg: mode(`gray.200`, `whiteAlpha.300`)(props),\r\n        _disabled: {\r\n          bg,\r\n        },\r\n      },\r\n      _active: { bg: mode(`gray.300`, `whiteAlpha.400`)(props) },\r\n    };\r\n  }\r\n\r\n  const {\r\n    bg = `${c}.500`,\r\n    color = 'white',\r\n    hoverBg = `${c}.600`,\r\n    activeBg = `${c}.700`,\r\n  } = accessibleColorMap[c] ?? {};\r\n\r\n  const background = mode(bg, `${c}.200`)(props);\r\n\r\n  return {\r\n    bg: background,\r\n    color: mode(color, `gray.800`)(props),\r\n    _hover: {\r\n      bg: mode(hoverBg, `${c}.300`)(props),\r\n      _disabled: {\r\n        bg: background,\r\n      },\r\n    },\r\n    _active: { bg: mode(activeBg, `${c}.400`)(props) },\r\n  };\r\n};\r\n\r\nconst variantLink: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    padding: 0,\r\n    height: 'auto',\r\n    lineHeight: 'normal',\r\n    verticalAlign: 'baseline',\r\n    color: mode(`${c}.500`, `${c}.200`)(props),\r\n    _hover: {\r\n      textDecoration: 'underline',\r\n      _disabled: {\r\n        textDecoration: 'none',\r\n      },\r\n    },\r\n    _active: {\r\n      color: mode(`${c}.700`, `${c}.500`)(props),\r\n    },\r\n  };\r\n};\r\n\r\nconst variantGradient: SystemStyleFunction = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n\r\n  const gradientColor0 = mode(\r\n    theme.colors[c][400],\r\n    theme.colors[c][500]\r\n  )(props);\r\n  const gradientColor1 = mode(\r\n    theme.colors[c][600],\r\n    theme.colors[c][700]\r\n  )(props);\r\n\r\n  const background = `linear-gradient(180deg, ${gradientColor0} 0%, ${gradientColor1} 100%)`;\r\n\r\n  return {\r\n    ...variantSolid(props),\r\n    color: mode(`white`, `gray.50`)(props),\r\n    bg: background,\r\n    _disabled: {\r\n      background: mode('gray.200', 'gray.700')(props),\r\n      color: mode(`gray.800`, `gray.50`)(props),\r\n    },\r\n    _hover: {\r\n      background,\r\n      _disabled: {\r\n        background: mode('gray.200', 'gray.700')(props),\r\n        color: mode(`gray.800`, `gray.50`)(props),\r\n      },\r\n    },\r\n    _active: {\r\n      background,\r\n    },\r\n  };\r\n};\r\n\r\nconst variantUnstyled: SystemStyleObject = {\r\n  bg: 'none',\r\n  color: 'inherit',\r\n  display: 'inline',\r\n  lineHeight: 'inherit',\r\n  m: 0,\r\n  p: 0,\r\n};\r\n\r\nconst variants = {\r\n  ghost: variantGhost,\r\n  outline: variantOutline,\r\n  solid: variantSolid,\r\n  link: variantLink,\r\n  gradient: variantGradient,\r\n  unstyled: variantUnstyled,\r\n};\r\n\r\nconst sizes: Record<string, SystemStyleObject> = {\r\n  lg: {\r\n    h: 12,\r\n    minW: 12,\r\n    fontSize: 'lg',\r\n    px: 6,\r\n  },\r\n  md: {\r\n    h: 10,\r\n    minW: 10,\r\n    fontSize: 'md',\r\n    px: 4,\r\n  },\r\n  sm: {\r\n    h: 8,\r\n    minW: 8,\r\n    fontSize: 'sm',\r\n    px: 3,\r\n  },\r\n  xs: {\r\n    h: 6,\r\n    minW: 6,\r\n    fontSize: 'xs',\r\n    px: 2,\r\n  },\r\n};\r\n\r\nconst defaultProps = {\r\n  variant: 'solid',\r\n  size: 'md',\r\n  colorScheme: 'gray',\r\n};\r\n\r\nexport default {\r\n  baseStyle,\r\n  variants,\r\n  sizes,\r\n  defaultProps,\r\n};\r\n","const variantRounded = {\r\n  borderWidth: '1px',\r\n  borderStyle: 'solid',\r\n  borderColor: 'gray.200',\r\n  borderRadius: 'full',\r\n};\r\n\r\nconst variants = {\r\n  rounded: variantRounded,\r\n};\r\n\r\nexport default {\r\n  variants,\r\n};\r\n","import { menuAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyleList: SystemStyleFunction = (props) => {\r\n  return {\r\n    bg: mode('#fff', 'gray.700')(props),\r\n    boxShadow: mode('sm', 'dark-lg')(props),\r\n    color: 'inherit',\r\n    minW: '3xs',\r\n    py: '2',\r\n    zIndex: 1,\r\n    borderRadius: 'md',\r\n    borderWidth: '1px',\r\n  };\r\n};\r\n\r\nconst baseStyleItem: SystemStyleFunction = (props) => {\r\n  return {\r\n    py: '0.4rem',\r\n    px: '0.8rem',\r\n    transitionProperty: 'background',\r\n    transitionDuration: 'ultra-fast',\r\n    transitionTimingFunction: 'ease-in',\r\n    _focus: {\r\n      bg: mode('gray.100', 'whiteAlpha.100')(props),\r\n    },\r\n    _active: {\r\n      bg: mode('gray.200', 'whiteAlpha.200')(props),\r\n    },\r\n    _expanded: {\r\n      bg: mode('gray.100', 'whiteAlpha.100')(props),\r\n    },\r\n    _disabled: {\r\n      opacity: 0.4,\r\n      cursor: 'not-allowed',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleGroupTitle: SystemStyleObject = {\r\n  mx: 4,\r\n  my: 2,\r\n  fontWeight: 'semibold',\r\n  fontSize: 'sm',\r\n};\r\n\r\nconst baseStyleCommand: SystemStyleObject = {\r\n  opacity: 0.6,\r\n};\r\n\r\nconst baseStyleDivider: SystemStyleObject = {\r\n  border: 0,\r\n  borderBottom: '1px solid',\r\n  borderColor: 'inherit',\r\n  my: '0.5rem',\r\n  opacity: 0.6,\r\n};\r\n\r\nconst baseStyleButton: SystemStyleObject = {\r\n  transitionProperty: 'common',\r\n  transitionDuration: 'normal',\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  button: baseStyleButton,\r\n  list: baseStyleList(props),\r\n  item: baseStyleItem(props),\r\n  groupTitle: baseStyleGroupTitle,\r\n  command: baseStyleCommand,\r\n  divider: baseStyleDivider,\r\n});\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n};\r\n","import { modalAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  PartsStyleObject,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nconst baseStyleOverlay: SystemStyleObject = {\r\n  bg: 'blackAlpha.600',\r\n  zIndex: 'modal',\r\n};\r\n\r\nconst baseStyleDialogContainer: SystemStyleFunction = (props) => {\r\n  const { isCentered, scrollBehavior } = props;\r\n\r\n  return {\r\n    display: 'flex',\r\n    zIndex: 'modal',\r\n    justifyContent: 'center',\r\n    alignItems: isCentered ? 'center' : 'flex-start',\r\n    overflow: scrollBehavior === 'inside' ? 'hidden' : 'auto',\r\n  };\r\n};\r\n\r\nconst baseStyleDialog: SystemStyleFunction = (props) => {\r\n  const { scrollBehavior } = props;\r\n\r\n  return {\r\n    borderRadius: 'xl',\r\n    bg: mode('white', 'custom.2')(props),\r\n    color: 'inherit',\r\n    my: '3.75rem',\r\n    mx: '1rem',\r\n    zIndex: 'modal',\r\n    maxH: scrollBehavior === 'inside' ? 'calc(100% - 7.5rem)' : undefined,\r\n    boxShadow: mode('lg', 'dark-lg')(props),\r\n  };\r\n};\r\n\r\nconst baseStyleHeader: SystemStyleObject = {\r\n  px: 6,\r\n  py: 4,\r\n  borderStyle: 'solid',\r\n  borderBottomWidth: '1px',\r\n  fontSize: 'xl',\r\n  fontWeight: 'semibold',\r\n  textAlign: 'center',\r\n};\r\n\r\nconst baseStyleCloseButton: SystemStyleObject = {\r\n  borderRadius: 'full',\r\n  position: 'absolute',\r\n  top: 2,\r\n  insetEnd: 3,\r\n};\r\n\r\nconst baseStyleBody: SystemStyleFunction = (props) => {\r\n  const { scrollBehavior } = props;\r\n  return {\r\n    px: 6,\r\n    py: 2,\r\n    flex: 1,\r\n    overflow: scrollBehavior === 'inside' ? 'auto' : undefined,\r\n  };\r\n};\r\n\r\nconst baseStyleFooter: SystemStyleObject = {\r\n  px: 6,\r\n  py: 4,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  overlay: baseStyleOverlay,\r\n  dialogContainer: baseStyleDialogContainer(props),\r\n  dialog: baseStyleDialog(props),\r\n  header: baseStyleHeader,\r\n  closeButton: baseStyleCloseButton,\r\n  body: baseStyleBody(props),\r\n  footer: baseStyleFooter,\r\n});\r\n\r\n/**\r\n * Since the `maxWidth` prop references theme.sizes internally,\r\n * we can leverage that to size our modals.\r\n */\r\nfunction getSize(value: string): PartsStyleObject<typeof parts> {\r\n  if (value === 'full') {\r\n    return {\r\n      dialog: { maxW: '100vw', minH: '100vh', my: 0 },\r\n    };\r\n  }\r\n  return {\r\n    dialog: { maxW: value },\r\n  };\r\n}\r\n\r\nconst sizes = {\r\n  xs: getSize('xs'),\r\n  sm: getSize('sm'),\r\n  md: getSize('md'),\r\n  lg: getSize('lg'),\r\n  xl: getSize('xl'),\r\n  '2xl': getSize('2xl'),\r\n  '3xl': getSize('3xl'),\r\n  '4xl': getSize('4xl'),\r\n  '5xl': getSize('5xl'),\r\n  '6xl': getSize('6xl'),\r\n  full: getSize('full'),\r\n};\r\n\r\nconst defaultProps = {\r\n  size: 'md',\r\n};\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n  sizes,\r\n  defaultProps,\r\n};\r\n","import { popoverAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { cssVar, mode } from '@chakra-ui/theme-tools';\r\n\r\nconst $popperBg = cssVar('popper-bg');\r\n\r\nconst $arrowBg = cssVar('popper-arrow-bg');\r\nconst $arrowShadowColor = cssVar('popper-arrow-shadow-color');\r\n\r\nconst baseStylePopper: SystemStyleObject = {\r\n  zIndex: 10,\r\n};\r\n\r\nconst baseStyleContent: SystemStyleFunction = (props) => {\r\n  const bg = mode('white', 'gray.800')(props);\r\n  const borderColor = mode('gray.100', 'custom.4')(props);\r\n\r\n  return {\r\n    [$popperBg.variable]: `colors.${bg}`,\r\n    bg: $popperBg.reference,\r\n    [$arrowBg.variable]: $popperBg.reference,\r\n    [$arrowShadowColor.variable]: 'transparent',\r\n    width: 'xs',\r\n    borderRadius: 'xl',\r\n    shadow: 'md',\r\n    border: '1px solid',\r\n    borderColor,\r\n    zIndex: 'inherit',\r\n    _focus: {\r\n      outline: 0,\r\n      boxShadow: 'outline',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleHeader: SystemStyleObject = {\r\n  mx: 4,\r\n  py: 4,\r\n  px: 1,\r\n  borderBottomWidth: '1px',\r\n  fontWeight: 'bold',\r\n};\r\n\r\nconst baseStyleBody: SystemStyleObject = {\r\n  mx: 4,\r\n  px: 1,\r\n  py: 4,\r\n};\r\n\r\nconst baseStyleFooter: SystemStyleObject = {\r\n  px: 3,\r\n  py: 2,\r\n  borderTopWidth: '1px',\r\n};\r\n\r\nconst baseStyleCloseButton: SystemStyleObject = {\r\n  position: 'absolute',\r\n  borderRadius: 'md',\r\n  top: 1,\r\n  insetEnd: 2,\r\n  padding: 2,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  popper: baseStylePopper,\r\n  content: baseStyleContent(props),\r\n  header: baseStyleHeader,\r\n  body: baseStyleBody,\r\n  footer: baseStyleFooter,\r\n  closeButton: baseStyleCloseButton,\r\n});\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n};\r\n","import { tabsAnatomy as parts } from '@chakra-ui/anatomy';\r\nimport type {\r\n  PartsStyleFunction,\r\n  PartsStyleInterpolation,\r\n  PartsStyleObject,\r\n  SystemStyleFunction,\r\n  SystemStyleObject,\r\n} from '@chakra-ui/theme-tools';\r\nimport { getColor, mode } from '@chakra-ui/theme-tools';\r\n\r\nimport { theme } from '..';\r\n\r\nconst baseStyleRoot: SystemStyleFunction = (props) => {\r\n  const { orientation } = props;\r\n  return {\r\n    display: orientation === 'vertical' ? 'flex' : 'block',\r\n  };\r\n};\r\n\r\nconst baseStyleTab: SystemStyleFunction = (props) => {\r\n  const { isFitted } = props;\r\n\r\n  return {\r\n    flex: isFitted ? 1 : undefined,\r\n    transitionProperty: 'common',\r\n    transitionDuration: 'normal',\r\n    _focus: {\r\n      zIndex: 1,\r\n      boxShadow: 'outline',\r\n    },\r\n  };\r\n};\r\n\r\nconst baseStyleTablist: SystemStyleFunction = (props) => {\r\n  const { align = 'start', orientation } = props;\r\n\r\n  const alignments = {\r\n    end: 'flex-end',\r\n    center: 'center',\r\n    start: 'flex-start',\r\n  };\r\n\r\n  return {\r\n    justifyContent: alignments[align as keyof typeof alignments],\r\n    flexDirection: orientation === 'vertical' ? 'column' : 'row',\r\n  };\r\n};\r\n\r\nconst baseStyleTabpanel: SystemStyleObject = {\r\n  p: 4,\r\n};\r\n\r\nconst baseStyle: PartsStyleFunction<typeof parts> = (props) => ({\r\n  root: baseStyleRoot(props),\r\n  tab: baseStyleTab(props),\r\n  tablist: baseStyleTablist(props),\r\n  tabpanel: baseStyleTabpanel,\r\n});\r\n\r\nconst sizes: Record<string, PartsStyleObject<typeof parts>> = {\r\n  sm: {\r\n    tab: {\r\n      py: 1,\r\n      px: 4,\r\n      fontSize: 'sm',\r\n    },\r\n  },\r\n  md: {\r\n    tab: {\r\n      fontSize: 'md',\r\n      py: 2,\r\n      px: 4,\r\n    },\r\n  },\r\n  lg: {\r\n    tab: {\r\n      fontSize: 'lg',\r\n      py: 3,\r\n      px: 4,\r\n    },\r\n  },\r\n};\r\n\r\nconst variantLine: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c, orientation } = props;\r\n  const isVertical = orientation === 'vertical';\r\n  const borderProp =\r\n    orientation === 'vertical' ? 'borderStart' : 'borderBottom';\r\n  const marginProp = isVertical ? 'marginStart' : 'marginBottom';\r\n\r\n  return {\r\n    tablist: {\r\n      [borderProp]: '2px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n    tab: {\r\n      [borderProp]: '2px solid',\r\n      borderColor: 'transparent',\r\n      [marginProp]: '-2px',\r\n      _selected: {\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'currentColor',\r\n      },\r\n      _active: {\r\n        bg: mode('gray.200', 'whiteAlpha.300')(props),\r\n      },\r\n      _disabled: {\r\n        opacity: 0.4,\r\n        cursor: 'not-allowed',\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nconst variantEnclosed: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    tab: {\r\n      borderTopRadius: 'md',\r\n      border: '1px solid',\r\n      borderColor: 'transparent',\r\n      mb: '-1px',\r\n      _selected: {\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'inherit',\r\n        borderBottomColor: mode(`white`, `gray.800`)(props),\r\n      },\r\n    },\r\n    tablist: {\r\n      mb: '-1px',\r\n      borderBottom: '1px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n  };\r\n};\r\n\r\nconst variantEnclosedColored: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n  return {\r\n    tab: {\r\n      border: '1px solid',\r\n      borderColor: 'inherit',\r\n      bg: mode(`gray.50`, `whiteAlpha.50`)(props),\r\n      mb: '-1px',\r\n      _notLast: {\r\n        marginEnd: '-1px',\r\n      },\r\n      _selected: {\r\n        bg: mode('white', 'gray.800')(props),\r\n        color: mode(`${c}.600`, `${c}.300`)(props),\r\n        borderColor: 'inherit',\r\n        borderTopColor: 'currentColor',\r\n        borderBottomColor: 'transparent',\r\n      },\r\n    },\r\n    tablist: {\r\n      mb: '-1px',\r\n      borderBottom: '1px solid',\r\n      borderColor: 'inherit',\r\n    },\r\n  };\r\n};\r\n\r\nconst variantSoftRounded: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c, theme } = props;\r\n  return {\r\n    tab: {\r\n      borderRadius: 'full',\r\n      fontWeight: 'semibold',\r\n      color: 'gray.600',\r\n      _selected: {\r\n        color: getColor(theme, `${c}.700`),\r\n        bg: getColor(theme, `${c}.100`),\r\n      },\r\n    },\r\n  };\r\n};\r\n\r\nconst variantSolidRounded: PartsStyleFunction<typeof parts> = (props) => {\r\n  const { colorScheme: c } = props;\r\n\r\n  return {\r\n    tab: {\r\n      borderRadius: 'full',\r\n      fontWeight: 'semibold',\r\n      color: mode('gray.600', 'inherit')(props),\r\n      _selected: {\r\n        color: mode(`#fff`, 'gray.100')(props),\r\n        bg: mode(\r\n          `${c}.600`,\r\n          `linear-gradient(to right, ${theme.colors[c][500]}, ${theme.colors[c][600]})`\r\n        )(props),\r\n      },\r\n    },\r\n    tablist: {\r\n      shadow: mode('base', 'none')(props),\r\n      backgroundColor: mode(`gray.50`, `gray.800`)(props),\r\n      borderRadius: 'full',\r\n      p: '1.5',\r\n    },\r\n  };\r\n};\r\nconst variantUnstyled: PartsStyleObject<typeof parts> = {};\r\nconst variants: Record<string, PartsStyleInterpolation<typeof parts>> = {\r\n  line: variantLine,\r\n  enclosed: variantEnclosed,\r\n  'enclosed-colored': variantEnclosedColored,\r\n  'soft-rounded': variantSoftRounded,\r\n  'solid-rounded': variantSolidRounded,\r\n  unstyled: variantUnstyled,\r\n};\r\nconst defaultProps = {\r\n  size: 'md',\r\n  variant: 'line',\r\n  colorScheme: 'blue',\r\n};\r\n\r\nexport default {\r\n  parts: parts.keys,\r\n  baseStyle,\r\n  sizes,\r\n  variants,\r\n  defaultProps,\r\n};\r\n","export const colors = {\r\n  gray: {\r\n    50: '#F0F2F4',\r\n    100: '#D6D8DA',\r\n    200: '#BBBEC2',\r\n    300: '#9EA5AC',\r\n    400: '#818B95',\r\n    500: '#68727D',\r\n    600: '#515860',\r\n    700: '#3B3F44',\r\n    800: '#323350',\r\n    900: '#0B0D0F',\r\n  },\r\n  black: '#151515',\r\n  darkBlue:\"0C0D30\",\r\n  custom: {\r\n    1: '#888E8F',\r\n    2: \"#1c1f43\", // \"#1c1f43\",// '#1E1E1E',\r\n    3: \"#323350\", //'#282828',\r\n    4: '#373737',\r\n    5: '#FFFFFF',\r\n  },\r\n  ['dark-blue']: {\r\n    50: '#eceefe',\r\n    100: '#d8dcfd',\r\n    200: '#b1bafb',\r\n    300: '#8b97f8',\r\n    400: '#6475f6',\r\n    500: '#3d52f4',\r\n    600: '#3142c3',\r\n    700: '#253192',\r\n    800: '#182162',\r\n    900: '#0c1031',\r\n  },\r\n  app: {\r\n    background: {\r\n    body: {\r\n      dark: '#0C0D30',\r\n      light: '#FFFFFF',\r\n    }\r\n  }}\r\n};\r\n","export * from './colors';\r\n","import { extendTheme } from '@chakra-ui/react';\r\nimport { mode } from '@chakra-ui/theme-tools';\r\n\r\nimport Button from './components/button';\r\nimport CloseButton from './components/close-button';\r\nimport Menu from './components/menu';\r\nimport Modal from './components/modal';\r\nimport Popover from './components/popover';\r\nimport Tabs from './components/tabs';\r\nimport { colors } from './foundations';\r\n\r\nconst appTheme = {\r\n  styles: {\r\n    global: (props: any) => ({\r\n      html: {\r\n        fontSize: ['12px', '14px', '16px'],\r\n      },\r\n      body: {\r\n        // bg: mode('custom.5', 'black')(props),\r\n        bg: mode('app.background.body.light', 'app.background.body.dark')(props),\r\n      },\r\n    }),\r\n  },\r\n  fonts: {\r\n    heading: 'Nunito Sans',\r\n    body: 'Nunito Sans',\r\n  },\r\n  config: {\r\n    initialColorMode: 'dark',\r\n    useSystemColorMode: false,\r\n  },\r\n  sizes: {\r\n    modalHeight: '345px',\r\n  },\r\n  colors,\r\n  components: {\r\n    Button,\r\n    Tabs,\r\n    CloseButton,\r\n    Modal,\r\n    Popover,\r\n    Menu,\r\n  },\r\n};\r\n\r\nexport const theme = extendTheme(appTheme);\r\n","import { Principal } from '@dfinity/principal';\r\nimport { Pair } from '@memecake/sonic-js';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { ENV } from '@/config';\r\nimport { SwapIDL } from '@/did';\r\nimport { AppTokenMetadata, AppTokenMetadataListObject, PairBalances } from '@/models';\r\n\r\nimport { getFromStorage } from './local-storage';\r\n\r\nvar prorityOrder = ENV.prorityOrder;\r\n\r\nexport const desensitizationPrincipalId = (principalId?: string, firstLength = 5, lastLength = 3) => {\r\n  if (principalId) {\r\n    const firstPart = principalId.slice(0, firstLength);\r\n    const secondPart = principalId.slice(principalId.length - lastLength, principalId.length);\r\n    return `${firstPart}...${secondPart}`;\r\n  }\r\n};\r\n\r\nexport const parseResponseSupportedTokenList = (response: SwapIDL.TokenInfoExt[], price?: string): AppTokenMetadata[] => {\r\n  var a1: any = [], a2: any = [];\r\n  response.forEach((token) => {\r\n    const logo = getFromStorage(`${token.id}-logo`) || questionMarkSrc;\r\n    var tempTkn = { ...token, ...(price ? { price } : {}), logo }\r\n    var order = prorityOrder.findIndex(x => x == token.symbol);\r\n    var isBlocked = ENV.hiddenTokens.includes(token.id);\r\n    if (!isBlocked) {\r\n      if (order != -1) { a1[order] = tempTkn }\r\n      else { a2.push(tempTkn) }\r\n    }\r\n  })\r\n  var resetArr = [...a1, ...a2].filter(x => x ? true : false);\r\n  return resetArr;\r\n};\r\n\r\nexport const parseResponseTokenList = (response: AppTokenMetadata[]): AppTokenMetadataListObject => {\r\n  return response.reduce((list, token) => {\r\n    if (!list) return {};\r\n    if (ENV.hiddenTokens.includes(token.id))\r\n      return list;\r\n    list[token.id] = token;\r\n    return list;\r\n  }, {} as AppTokenMetadataListObject);\r\n};\r\n\r\nexport const parseResponsePair = (\r\n  pair: [] | [SwapIDL.PairInfoExt]\r\n): SwapIDL.PairInfoExt | undefined => {\r\n  if (pair.length === 0) { return undefined; }\r\n  const resultPair = pair[0];\r\n  for (const token of [resultPair.token0, resultPair.token1]) {\r\n    if (ENV.hiddenTokens.includes(token)) return undefined;\r\n  }\r\n  return pair[0];\r\n};\r\n\r\nexport const parseResponseAllPairs = (\r\n  response: SwapIDL.PairInfoExt[]\r\n): Pair.List => {\r\n  return response.reduce((list, pair) => {\r\n    const { token0, token1, reserve0, reserve1 } = pair;\r\n    for (const token of [token0, token1]) {\r\n      if (ENV.hiddenTokens.includes(token)) return list;\r\n    }\r\n    return {\r\n      ...list,\r\n      [token0]: { ...list[token0], [token1]: pair },\r\n      [token1]: { ...list[token1], [token0]: { ...pair, token0: token1, token1: token0, reserve0: reserve1, reserve1: reserve0 } },\r\n    } as Pair.List;\r\n  }, {} as Pair.List);\r\n};\r\n\r\nexport const parseResponseUserLPBalances = (\r\n  response: [tokenId: string, amount: bigint][]\r\n): PairBalances => {\r\n  return response.reduce((balances, [tokenId, amount]) => {\r\n    const tokenIds = tokenId.split(':');\r\n    for (const token of tokenIds) {\r\n      if (ENV.hiddenTokens.includes(token)) return balances;\r\n    }\r\n    const [token0Id, token1Id] = tokenIds;\r\n    return {\r\n      ...balances,\r\n      [token0Id]: { ...balances[token0Id], [token1Id]: Number(amount) },\r\n      [token1Id]: { ...balances[token1Id], [token0Id]: Number(amount) },\r\n    };\r\n  }, {} as PairBalances);\r\n};\r\n\r\nexport const validPrincipalId = (principalId: string) => {\r\n  try {\r\n    return Boolean(Principal.fromText(principalId));\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n","import { TokenIDL, SwapIDL } from '@/did';\r\nimport { useSwapCanisterStore, usePlugStore } from '@/store';\r\n\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport Artemis from 'artemis-web3-adapter';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nimport { ENV } from '@/config';\r\n\r\nvar supportedTokenList: any = [];\r\n\r\nvar tokenListObj: any = {};\r\n\r\nexport const artemis = new Artemis();\r\n\r\nexport const loadsupportedTokenList = async () => {\r\n  \r\n  var plugStat = usePlugStore();\r\n  supportedTokenList = useSwapCanisterStore()?.supportedTokenList;\r\n  if (!supportedTokenList || Object.keys(tokenListObj).length > 0) return false;\r\n  supportedTokenList.forEach((el: { id: string }) => { tokenListObj[el.id] = el });\r\n  if (plugStat.isConnected) { \r\n    [...Object.values(ENV.canistersPrincipalIDs),...Object.keys(supportedTokenList)]\r\n    artemis.connect('plug',); }\r\n}\r\n\r\nexport const tokenList = (returnType: 'array' | 'obj' , tokenId?:string): AppTokenMetadata[] | any => {\r\n  return (returnType == 'array' && !tokenId) ? supportedTokenList :\r\n    (!tokenId)? tokenListObj:tokenListObj[tokenId];\r\n};\r\n\r\nexport const getTokenActor = async (canisterId: string, isAnnon: boolean): Promise<any> => {\r\n\r\n  var token = tokenListObj?.[canisterId];\r\n  if (!token) return false;\r\n  var actor = false;\r\n  var idl: any = token.tokenType == 'DIP20' ? TokenIDL.DIP20.factory :\r\n    token.tokenType == 'YC' ? TokenIDL.DIP20.YCfactory :\r\n      token.tokenType == 'ICRC1' ? TokenIDL.ICRC1.factory : TokenIDL.DIP20.factory;\r\n\r\n  if(isAnnon==false && !artemis.provider){await artemis.connect('plug');}\r\n\r\n  actor = await artemis.getCanisterActor(token.id, idl, isAnnon);\r\n \r\n  return actor;\r\n}\r\n\r\nexport const getswapActor = async (isAnnon: boolean): Promise<SwapIDL.Factory> => {\r\n  if(!isAnnon && !artemis.provider){ await artemis.connect('plug');}\r\n  var actor = await artemis.getCanisterActor(ENV.canistersPrincipalIDs.swap, SwapIDL.factory, isAnnon);\r\n  return actor;\r\n}\r\n\r\nexport const getTokenLogo = async (canisterId: string): Promise<string> => {\r\n  var token = tokenListObj?.[canisterId];\r\n  if (!token) return '';\r\n  var tokenLogo = '';\r\n  var tokenActor = await getTokenActor(token.id, true);\r\n  if (!token?.tokenType || token?.tokenType == 'DIP20' || token?.tokenType == 'YC') {\r\n    tokenLogo = await tokenActor.logo();\r\n  } else if (token?.tokenType == 'ICRC1') {\r\n    tokenLogo = \"https://d15bmhsw4m27if.cloudfront.net/sonic/\"+token.id\r\n  }\r\n  return tokenLogo;\r\n}\r\n\r\nexport const getTokenBalance = async (canisterId: string , principalId?:string): Promise<bigint> => {\r\n  var tokenInfo = tokenListObj?.[canisterId];\r\n  var tokenBalance: bigint = BigInt(0);\r\n  if (!tokenInfo) { return tokenBalance;}\r\n  var prin = artemis.principalId?artemis.principalId:principalId;\r\n\r\n  if(!prin) return tokenBalance;\r\n\r\n  var tokenActor = await getTokenActor(tokenInfo.id, true);\r\n\r\n  if (tokenInfo?.tokenType == 'DIP20' || tokenInfo?.tokenType == 'YC') {\r\n    tokenBalance = await tokenActor.balanceOf(Principal.fromText(prin));\r\n  } else if (tokenInfo?.tokenType == 'ICRC1') {\r\n    tokenBalance = await tokenActor.icrc1_balance_of({ owner: Principal.fromText(prin), subaccount: [] });\r\n  }\r\n  return tokenBalance;\r\n}\r\n\r\nexport const getTokenAllowance = async (canisterId: string): Promise<bigint> => {\r\n\r\n  var allowance = BigInt(0);\r\n  var tokenInfo = tokenListObj?.[canisterId];\r\n  if (!tokenInfo || !artemis.principalId) return allowance;\r\n\r\n  var tokenActor = await getTokenActor(canisterId, true);\r\n  if (tokenInfo?.tokenType == 'DIP20' || tokenInfo?.tokenType == 'YC') {\r\n    allowance = await tokenActor.allowance(Principal.fromText(artemis.principalId), Principal.fromText(ENV.canistersPrincipalIDs.swap));\r\n  } else allowance = BigInt(0);\r\n\r\n  return allowance;\r\n}\r\n\r\nexport const toHexString = (byteArray:[])  =>{\r\n  return Array.from(byteArray, function(byte) {\r\n    return ('0' + (byte & 0xFF).toString(16)).slice(-2);\r\n  }).join('')\r\n}\r\nexport const fromHexString = (hex:string):number[] => {\r\n  if(!hex) return [];\r\n  if (hex.substr(0,2) === \"0x\") hex = hex.substr(2);\r\n  for (var bytes:number[] = [], c = 0; c < hex.length; c += 2)\r\n  bytes.push(parseInt(hex.substr(c, 2), 16));\r\n  return bytes;\r\n}","import { ENV } from '@/config';\r\n\r\nexport abstract class ExternalLink {\r\n  static readonly discord = ENV.URLs.discord;\r\n\r\n  static readonly twitter = ENV.URLs.twitter;\r\n\r\n  static readonly medium = ENV.URLs.medium;\r\n\r\n  static readonly github = ENV.URLs.github;\r\n\r\n  static readonly sonicDocs = ENV.URLs.sonicDocs;\r\n\r\n  static readonly swapApiDocs = `${ENV.URLs.sonicDocs}/dev/swaps-api`;\r\n\r\n  static readonly failedMintDocs = `${ENV.URLs.sonicDocs}/product/swap/failed-swaps#failed-mints`;\r\n\r\n  static readonly termsAndConditions = ENV.URLs.termsAndConditions;\r\n\r\n  static readonly tokenRequestForm = ENV.URLs.tokenRequestForm;\r\n\r\n  static readonly analyticsApp = ENV.URLs.analyticsApp;\r\n\r\n  static readonly icpPrice = \"https://datapool.memecake.io/ticker/icpusdt\" \r\n\r\n  static ledgerTransaction(transaction: string): ExternalLink.URL {\r\n    return `${ENV.URLs.ledgerTransactions}/${transaction}`;\r\n  }\r\n\r\n  static capTransaction(transaction: string): ExternalLink.URL {\r\n    return `https://explorer.cap.ooo/app-transactions/${ENV.canistersPrincipalIDs.swap}/${transaction}`;\r\n  }\r\n}\r\n\r\nexport namespace ExternalLink {\r\n  export type URL = string;\r\n}\r\n","import { Bytes } from '@ethersproject/bytes';\r\nimport { Pair, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { ethers } from 'ethers';\r\nimport { formatUnits, parseUnits } from 'ethers/lib/utils';\r\n\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport type BigNumberish = BigNumber | Bytes | bigint | string | number;\r\n\r\n//BigNumber.config({ EXPONENTIAL_AT: 99 });\r\nBigNumber.config({ EXPONENTIAL_AT: 99 });\r\n\r\nexport const parseAmount = (val: string, decimals: string | number): bigint => {\r\n  try {\r\n    const fixedVal = new BigNumber(val).toFixed(Number(decimals)); // Fix for scientific notation string\r\n    const str = parseUnits(fixedVal, decimals).toString();\r\n    return BigInt(str);\r\n  } catch (err) {\r\n    return BigInt(0);\r\n  }\r\n};\r\nexport const roundBigInt = ( val:BigInt ,actualDecimals:string | number, roundOfdecimals:number ): bigint =>{\r\n  try {\r\n    var ad:number = parseInt(actualDecimals.toString());\r\n    var roundedNumber =  (Math.floor( (Number(val) / 10 ** ad) *(10**roundOfdecimals))/(10**roundOfdecimals)).toString();\r\n    var tmp:number = parseFloat(roundedNumber)*(10**ad);\r\n    tmp=Number(tmp.toFixed(0))\r\n    return BigInt(tmp);\r\n  }catch (err) {\r\n    return BigInt(0);\r\n  }\r\n}\r\n\r\n\r\nexport const formatValue = (\r\n  val: BigInt | number | string,\r\n  decimals: number\r\n): string => {\r\n  try {\r\n    return formatUnits(ethers.BigNumber.from(val.toString()), decimals);\r\n  } catch (err) {\r\n    return '0';\r\n  }\r\n};\r\n\r\nexport type GetValueWithoutFeesOptions = {\r\n  value: string;\r\n  fee: bigint;\r\n  decimals: number;\r\n  numberOfFees?: number;\r\n};\r\n\r\nexport const getValueWithoutFees = ({\r\n  value,\r\n  fee,\r\n  decimals,\r\n  numberOfFees = 1,\r\n}: GetValueWithoutFeesOptions) => {\r\n  const _value = new BigNumber(value);\r\n  const _feesAmount = toBigNumber(numberOfFees * Number(fee)).applyDecimals(\r\n    decimals\r\n  );\r\n\r\n  return _value.minus(_feesAmount);\r\n};\r\n\r\nexport const getMaxValue = (\r\n  token?: AppTokenMetadata,\r\n  balance?: number | bigint\r\n): BigNumber => {\r\n  if (!token || !balance) return new BigNumber(0);\r\n  var times = 1;\r\n  if(token.tokenType =='ICRC1'){\r\n    times = 2;\r\n  }else if(token.tokenType =='DIP20'){\r\n    times = 2;\r\n  }\r\n  const value = toBigNumber(Number(balance)).minus(Number(token.fee) * times);\r\n\r\n  if (value.isNegative() || value.isZero()) {\r\n    return new BigNumber(0);\r\n  }\r\n\r\n  return value.applyDecimals(token.decimals);\r\n};\r\n\r\nexport const capitalize = (str: string) => {\r\n  return str.charAt(0).toUpperCase() + str.slice(1);\r\n};\r\n\r\nexport const getPairIdsFromPairList = (pairList: Pair.List): string[] => {\r\n  const idsSet = new Set<string>();\r\n\r\n  Object.values(pairList).forEach((paired) => {\r\n    Object.values(paired).forEach((pair) => {\r\n      idsSet.add(pair.id);\r\n    });\r\n  });\r\n\r\n  return Array.from(idsSet);\r\n};\r\n","let timer: NodeJS.Timer | null = null;\r\n\r\nexport const debounce = (\r\n  fn: (...args: unknown[]) => unknown,\r\n  awaitTime = 500\r\n) => {\r\n  if (timer) clearTimeout(timer);\r\n  timer = setTimeout(() => {\r\n    fn();\r\n  }, awaitTime || 0);\r\n};\r\n","import { Principal } from '@dfinity/principal';\r\nimport { ActorAdapter } from '@memecake/sonic-js';\r\nimport axios from 'axios';\r\nimport BigNumber from 'bignumber.js';\r\nimport crc32 from 'buffer-crc32';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nimport { CyclesMintingIDL } from '@/did/sonic/cycles-minting.did';\r\nimport { createAnonLedgerActor } from '@/integrations/actor';\r\n\r\nimport { ExternalLink } from './external-link';\r\nimport { roundBigInt } from '@/utils/format';\r\nexport const ACCOUNT_DOMAIN_SEPERATOR = '\\x0Aaccount-id';\r\n\r\nexport const fetchICPBalance = async (principalId: string) => {\r\n  const ledgerActor = await createAnonLedgerActor();\r\n  const accountId = getAccountId(Principal.fromText(principalId || ''), 0);\r\n  if (accountId) {\r\n    const balance = ( await ledgerActor.account_balance_dfx({ account: accountId })).e8s;\r\n    var temp =  roundBigInt(balance, 8, 5);\r\n    const icpBalanceNoDecimals = new BigNumber(temp.toString()).div(new BigNumber('100000000')).toString();\r\n    return icpBalanceNoDecimals;\r\n  } else {\r\n    throw new Error('Account ID is required');\r\n  }\r\n};\r\n\r\nexport const fetchICP2XDRConversionRate = async () => {\r\n  const cmActor =\r\n    await ActorAdapter.createAnonymousActor<CyclesMintingIDL.Factory>(\r\n      'rkp4c-7iaaa-aaaaa-aaaca-cai', CyclesMintingIDL.factory,'https://ic0.app/'\r\n    );\r\n  return cmActor.get_icp_xdr_conversion_rate();\r\n};\r\n\r\nexport const fetchICPPrice = async () => {\r\n  try {\r\n    const response = await axios.get(ExternalLink.icpPrice);\r\n    if (response.status === 200) {\r\n      return response.data.price // ['internet-computer']['usd'];\r\n    } else {\r\n      throw new Error(response.statusText);\r\n    }\r\n  } catch (error) {\r\n    throw new Error((error as any).message);\r\n  }\r\n};\r\n\r\n/*\r\n    Used dfinity/keysmith/account/account.go as a base for the ID generation\r\n*/\r\nexport const getAccountId = ( principal: Principal, subAccount?: number): string => {\r\n  \r\n  const sha = CryptoJS.algo.SHA224.create();\r\n  sha.update(ACCOUNT_DOMAIN_SEPERATOR); // Internally parsed with UTF-8, like go does\r\n  sha.update(byteArrayToWordArray(principal.toUint8Array()));\r\n\r\n  const SUB_ACCOUNT_ZERO = Buffer.alloc(32);\r\n\r\n  const subBuffer = Buffer.from(SUB_ACCOUNT_ZERO);\r\n  if (subAccount) {\r\n    subBuffer.writeUInt32BE(subAccount);\r\n  }\r\n  sha.update(byteArrayToWordArray(subBuffer));\r\n  const hash = sha.finalize();\r\n\r\n  /// While this is backed by an array of length 28, it's canonical representation\r\n  /// is a hex string of length 64. The first 8 characters are the CRC-32 encoded\r\n  /// hash of the following 56 characters of hex. Both, upper and lower case\r\n  /// characters are valid in the input string and can even be mixed.\r\n  /// [ic/rs/rosetta-api/ledger_canister/src/account_identifier.rs]\r\n  const byteArray = wordArrayToByteArray(hash, 28);\r\n  const checksum = generateChecksum(byteArray);\r\n  const val = checksum + hash.toString();\r\n\r\n  return val;\r\n};\r\n\r\nconst byteArrayToWordArray = (byteArray: Uint8Array) => {\r\n  const wordArray = [] as any;\r\n  let i;\r\n  for (i = 0; i < byteArray.length; i += 1) {\r\n    wordArray[(i / 4) | 0] |= byteArray[i] << (24 - 8 * i);\r\n  }\r\n  // eslint-disable-next-line\r\n  const result = CryptoJS.lib.WordArray.create(wordArray, byteArray.length);\r\n  return result;\r\n};\r\n\r\nconst wordToByteArray = (word: number, length: number): number[] => {\r\n  const byteArray: number[] = [];\r\n  const xFF = 0xff;\r\n  if (length > 0) byteArray.push(word >>> 24);\r\n  if (length > 1) byteArray.push((word >>> 16) & xFF);\r\n  if (length > 2) byteArray.push((word >>> 8) & xFF);\r\n  if (length > 3) byteArray.push(word & xFF);\r\n\r\n  return byteArray;\r\n};\r\n\r\nconst wordArrayToByteArray = (wordArray: any, length: number) => {\r\n  if (\r\n    wordArray.hasOwnProperty('sigBytes') &&\r\n    wordArray.hasOwnProperty('words')\r\n  ) {\r\n    length = wordArray.sigBytes;\r\n    wordArray = wordArray.words;\r\n  }\r\n\r\n  let result: any = [];\r\n  let bytes;\r\n  let i = 0;\r\n  while (length > 0) {\r\n    bytes = wordToByteArray(wordArray[i], Math.min(4, length));\r\n    length -= bytes.length;\r\n    result = [...result, bytes];\r\n    i++;\r\n  }\r\n  return [].concat(...result) as unknown as Uint8Array;\r\n};\r\n\r\nexport const intToHex = (val: number) =>\r\n  val < 0 ? (Number(val) >>> 0).toString(16) : Number(val).toString(16);\r\n\r\n// We generate a CRC32 checksum, and trnasform it into a hexString\r\nexport const generateChecksum = (hash: Uint8Array) => {\r\n  const crc = crc32.unsigned(Buffer.from(hash));\r\n  const hex = intToHex(crc);\r\n  return hex.padStart(8, '0');\r\n};\r\n","export * from './external-link';\r\nexport * from './log';\r\nexport * from './canister';\r\nexport * from './navigator';\r\nexport * from './local-storage';\r\nexport * from './canisterDriver';\r\n","import { serialize } from '@memecake/sonic-js';\r\n\r\nimport { AppLog } from '@/utils';\r\n\r\nexport enum LocalStorageKey {\r\n  Logos = 'logos',\r\n  LiquidityBannerDisabled = 'liquidityBannerDisabled',\r\n  AssetsBannerDisabled = 'assetsBannerDisabled',\r\n  TermsAndConditionsAccepted = 'termsAndConditionsAccepted',\r\n\r\n  MintWICPUncompleteBlockHeights = 'mintWICPUncompleteBlockHeights',\r\n  MintXTCUncompleteBlockHeights = 'mintXTCUncompleteBlockHeights',\r\n}\r\n\r\nexport type MintUncompleteBlockHeights = {\r\n  [principalId: string]: string[];\r\n};\r\n\r\nexport function getFromStorage(key: LocalStorageKey | string): any | undefined {\r\n  try {\r\n    const serializedValue = localStorage.getItem(key);\r\n    return serializedValue ? JSON.parse(serializedValue) : undefined;\r\n  } catch (error) {\r\n    AppLog.warn(`Failed to get from storage: key=${key}`, error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\nexport function saveToStorage(key: LocalStorageKey | string, value: any): void {\r\n  try {\r\n    const serializedValue = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedValue);\r\n  } catch (error) {\r\n    AppLog.warn(\r\n      `Failed to save to storage: key=${key} value=${serialize(value)}`,\r\n      error\r\n    );\r\n  }\r\n}\r\n\r\nexport function removeFromStorage(key: LocalStorageKey | string): void {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    AppLog.warn(`Failed to remove from storage: key=${key}`, error);\r\n  }\r\n}\r\n","export abstract class AppLog {\r\n  static readonly IDENTIFIER = '[Sonic]';\r\n\r\n  static error(label: string, ...args: unknown[]): void {\r\n    // eslint-disable-next-line no-console\r\n    console.error(this.IDENTIFIER, this.createLabel(label), ...args);\r\n  }\r\n\r\n  static warn(label: string, ...args: unknown[]): void {\r\n    // eslint-disable-next-line no-console\r\n    console.warn(this.IDENTIFIER, this.createLabel(label), ...args);\r\n  }\r\n\r\n  private static createLabel(label: string): string {\r\n    return `[${label}]`;\r\n  }\r\n}\r\n","import { addNotification, NotificationType, store } from '@/store';\r\n\r\nexport const copyToClipboard = (\r\n  text: string,\r\n  message = 'Copied to clipboard'\r\n): void => {\r\n  navigator.clipboard.writeText(text);\r\n  store.dispatch(\r\n    addNotification({\r\n      id: String(new Date().getTime()),\r\n      title: message,\r\n      type: NotificationType.Success,\r\n    })\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type AddLiquidityActivityProps = {\r\n  amount0: number;\r\n  amount1: number;\r\n  lpAmount: number;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  token0: string;\r\n  token1: string;\r\n  time: number;\r\n};\r\n\r\nexport const AddLiquidityActivity: React.FC<AddLiquidityActivityProps> = ({\r\n  token0: _token0,\r\n  token1: _token1,\r\n  amount0,\r\n  amount1,\r\n  time,\r\n}) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token0 = tokenList[_token0];\r\n  const token1 = tokenList[_token1];\r\n\r\n  if (!token0 || !token1) return null;\r\n\r\n  return (\r\n    <Asset type=\"lp\" imageSources={[token0.logo, token1.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title=\"Add Liquidity\"\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount0}\r\n            decimals={token0.decimals}\r\n            suffix={' ' + token0.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaPlus />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amount1}\r\n            decimals={token1.decimals}\r\n            suffix={' ' + token1.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type DepositActivityProps = {\r\n  amount: number;\r\n  balance: number;\r\n  fee: number;\r\n  from: Principal;\r\n  to: Principal;\r\n  tokenId: string;\r\n  totalSupply: number;\r\n  time: number;\r\n};\r\n\r\nexport const DepositActivity = ({\r\n  amount,\r\n  tokenId,\r\n  time,\r\n}: DepositActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token = tokenList[tokenId];\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Deposit ${token.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount}\r\n            decimals={token.decimals}\r\n            suffix={' ' + token.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","export * from './add-liquidity-activity';\r\nexport * from './deposit-activity';\r\nexport * from './loading-activity';\r\nexport * from './remove-liquidity-activity';\r\nexport * from './swap-activity';\r\nexport * from './withdraw-activity';\r\nexport * from './ledger-transaction-activity';\r\n","import { Flex, Heading, HStack, Link } from '@chakra-ui/react';\r\nimport { FaCube } from '@react-icons/all-files/fa/FaCube';\r\nimport { useMemo } from 'react';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { LedgerTransaction } from '@/integrations/ledger';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport { useSwapCanisterStore } from '@/store';\r\nimport { ExternalLink } from '@/utils';\r\n\r\nexport type LedgerTransactionActivityProps = LedgerTransaction;\r\n\r\nconst getTokenByAddress = (\r\n  address: string,\r\n  tokenList?: AppTokenMetadata[]\r\n): AppTokenMetadata | undefined => {\r\n  if (!tokenList) return;\r\n\r\n  const findToken = (tokenPrincipal: string) =>\r\n    tokenList.find((token) => token.id === tokenPrincipal);\r\n\r\n  switch (address) {\r\n    case ENV.accountIDs.WICP:\r\n      return findToken(ENV.canistersPrincipalIDs.WICP);\r\n    case ENV.accountIDs.XTC:\r\n      return findToken(ENV.canistersPrincipalIDs.XTC);\r\n  }\r\n};\r\n\r\nexport const LedgerTransactionActivity = ({\r\n  amount,\r\n  account1Address,\r\n  account2Address,\r\n  timestamp,\r\n  blockIndex,\r\n  hash,\r\n}: LedgerTransactionActivityProps) => {\r\n  const { supportedTokenList } = useSwapCanisterStore();\r\n\r\n  const [action, token] = useMemo(() => {\r\n    const from = getTokenByAddress(account1Address, supportedTokenList);\r\n    if (from) return ['from', from];\r\n\r\n    const to = getTokenByAddress(account2Address, supportedTokenList);\r\n    if (to) return ['to mint', to];\r\n\r\n    return ['unknown', undefined];\r\n  }, [account1Address, account2Address, supportedTokenList]);\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`ICP transfer ${action} ${token.symbol}`}\r\n          subtitle={timestamp.toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Flex textAlign=\"end\" direction=\"column\">\r\n        <Heading\r\n          as=\"h6\"\r\n          size=\"sm\"\r\n          display=\"flex\"\r\n          alignItems=\"flex-end\"\r\n          justifyContent=\"flex-end\"\r\n          mt=\"1\"\r\n          mb=\"0.5\"\r\n        >\r\n          <DisplayValue\r\n            value={amount.toString()}\r\n            decimals={token.decimals}\r\n            suffix={' ICP'}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n        <Link\r\n          display=\"flex\"\r\n          justifyContent=\"center\"\r\n          alignItems=\"center\"\r\n          fontSize=\"sm\"\r\n          href={ExternalLink.ledgerTransaction(hash)}\r\n          target=\"_blank\"\r\n          color=\"gray.400\"\r\n        >\r\n          {blockIndex}&nbsp;\r\n          <FaCube />\r\n        </Link>\r\n      </Flex>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Skeleton, Stack } from '@chakra-ui/react';\r\n\r\nimport { Asset, AssetImageBlock, AssetTitleBlock } from '@/components';\r\n\r\nexport const LoadingActivity = () => {\r\n  return (\r\n    <Asset type=\"token\" isLoading mb={2}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock title={`Loading Title`} subtitle={'Loading'} />\r\n      </HStack>\r\n      <Stack textAlign=\"end\" alignSelf=\"flex-start\">\r\n        <Skeleton>\r\n          <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\" mb={2}>\r\n            Loading\r\n          </Heading>\r\n        </Skeleton>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type RemoveLiquidityActivityProps = {\r\n  amount0: number;\r\n  amount1: number;\r\n  lpAmount: number;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  token0: string;\r\n  token1: string;\r\n  time: number;\r\n};\r\n\r\nexport const RemoveLiquidityActivity: React.FC<\r\n  RemoveLiquidityActivityProps\r\n> = ({ token0: _token0, token1: _token1, amount0, amount1, time }) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token0 = tokenList[_token0];\r\n  const token1 = tokenList[_token1];\r\n\r\n  if (!token0 || !token1) return null;\r\n\r\n  return (\r\n    <Asset type=\"lp\" imageSources={[token0.logo, token1.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title=\"Remove Liquidity\"\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount0}\r\n            decimals={token0.decimals}\r\n            suffix={' ' + token0.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaPlus />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amount1}\r\n            decimals={token1.decimals}\r\n            suffix={' ' + token1.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type SwapActivityProps = {\r\n  amountIn: number;\r\n  amountOut: number;\r\n  fee: number;\r\n  from: string;\r\n  pairId: string;\r\n  reserve0: number;\r\n  reserve1: number;\r\n  to: string;\r\n  time: number;\r\n};\r\n\r\nexport const SwapActivity = ({\r\n  from,\r\n  to,\r\n  time,\r\n  amountIn,\r\n  amountOut,\r\n}: SwapActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const fromToken = tokenList[from];\r\n  const toToken = tokenList[to];\r\n\r\n  if (!fromToken || !toToken) return null;\r\n\r\n  return (\r\n    <Asset type=\"swap\" imageSources={[fromToken.logo, toToken.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Swap ${fromToken.symbol} to ${toToken.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amountIn}\r\n            decimals={fromToken.decimals}\r\n            suffix={' ' + fromToken.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n          &nbsp;\r\n          <FaArrowRight />\r\n          &nbsp;\r\n          <DisplayValue\r\n            value={amountOut}\r\n            decimals={toToken.decimals}\r\n            suffix={' ' + toToken.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","import { Heading, HStack, Stack } from '@chakra-ui/react';\r\nimport { Principal } from '@dfinity/principal';\r\n\r\nimport {\r\n  Asset,\r\n  AssetImageBlock,\r\n  AssetTitleBlock,\r\n  DisplayValue,\r\n} from '@/components';\r\nimport { useActivityViewStore } from '@/store';\r\n\r\nexport type WithdrawActivityProps = {\r\n  amount: number;\r\n  balance: number;\r\n  fee: number;\r\n  from: Principal;\r\n  to: Principal;\r\n  tokenId: string;\r\n  totalSupply: number;\r\n  time: number;\r\n};\r\n\r\nexport const WithdrawActivity = ({\r\n  amount,\r\n  tokenId,\r\n  time,\r\n}: WithdrawActivityProps) => {\r\n  const { tokenList } = useActivityViewStore();\r\n\r\n  if (!tokenList) return null;\r\n\r\n  const token = tokenList[tokenId];\r\n\r\n  if (!token) return null;\r\n\r\n  return (\r\n    <Asset type=\"token\" imageSources={[token.logo]}>\r\n      <HStack spacing={4}>\r\n        <AssetImageBlock />\r\n        <AssetTitleBlock\r\n          title={`Withdraw ${token.symbol}`}\r\n          subtitle={new Date(time).toLocaleTimeString('en-US')}\r\n        />\r\n      </HStack>\r\n      <Stack textAlign=\"end\">\r\n        <Heading as=\"h6\" size=\"sm\" display=\"flex\" alignItems=\"center\">\r\n          <DisplayValue\r\n            value={amount}\r\n            decimals={token.decimals}\r\n            suffix={' ' + token.symbol}\r\n            shouldDivideByDecimals\r\n          />\r\n        </Heading>\r\n      </Stack>\r\n    </Asset>\r\n  );\r\n};\r\n","export * from './list';\r\n","import { Skeleton, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport React, { Fragment, useEffect, useMemo } from 'react';\r\n\r\nimport { Header, PlugNotConnected } from '@/components';\r\nimport {\r\n  activityViewActions,\r\n  FeatureState,\r\n  useActivityView,\r\n  useActivityViewStore,\r\n  useAppDispatch,\r\n  usePlugStore,\r\n} from '@/store';\r\n\r\nimport {\r\n  AddLiquidityActivity,\r\n  DepositActivity,\r\n  LedgerTransactionActivity,\r\n  LoadingActivity,\r\n  RemoveLiquidityActivity,\r\n  SwapActivity,\r\n  WithdrawActivity,\r\n} from './components';\r\n\r\nexport const ActivityListView = () => {\r\n  useActivityView();\r\n  const { isConnected } = usePlugStore();\r\n  const { activityList, CAPstate, LedgerState, page, lastPage } =\r\n    useActivityViewStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  useEffect(() => {\r\n    const scrollHandler = (): void => {\r\n      if (lastPage === 0 || page === 0 || CAPstate === FeatureState.Loading)\r\n        return;\r\n      const isBottom =\r\n        window.scrollY + window.innerHeight >= document.body.offsetHeight;\r\n      if (isBottom && page) {\r\n        dispatch(activityViewActions.setPage(page - 1));\r\n      }\r\n    };\r\n\r\n    scrollHandler();\r\n    window.addEventListener('scroll', scrollHandler);\r\n    return () => window.removeEventListener('scroll', scrollHandler);\r\n  }, [page, lastPage, CAPstate, dispatch]);\r\n\r\n  const isUpdating = useMemo(() => {\r\n    return (\r\n      CAPstate === FeatureState.Loading || LedgerState === FeatureState.Loading\r\n    );\r\n  }, [CAPstate, LedgerState]);\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <>\r\n        <Header title=\"Your Activity\" />\r\n        <PlugNotConnected message=\"Your transaction activity will appear here.\" />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (isUpdating && Object.keys(activityList).length === 0) {\r\n    return (\r\n      <>\r\n        <Header title=\"Your Activity\" />\r\n        <Skeleton mb={2} h={4} w={40} />\r\n        <LoadingActivity />\r\n        <LoadingActivity />\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (Object.keys(activityList).length === 0) {\r\n    return (\r\n      <>\r\n        <Header\r\n          title=\"Your Activity\"\r\n          isUpdating={CAPstate === FeatureState.Loading}\r\n        />\r\n        <Text textAlign=\"center\" color={color}>\r\n          You have no activity\r\n        </Text>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header title=\"Your Activity\" isUpdating={isUpdating} />\r\n      <Stack mt={-5} mb={-5} spacing={4} overflowX=\"hidden\" position=\"relative\">\r\n        <Stack\r\n          overflowX=\"auto\"\r\n          pb={20}\r\n          pt={5}\r\n          css={{\r\n            '&::-webkit-scrollbar': {\r\n              display: 'none',\r\n            },\r\n            '&::-webkit-scrollbar-track': {\r\n              display: 'none',\r\n            },\r\n            '&::-webkit-scrollbar-thumb': {\r\n              display: 'none',\r\n            },\r\n          }}\r\n        >\r\n          {Object.entries(activityList)\r\n            .sort(\r\n              ([dateA], [dateB]) =>\r\n                new Date(dateB).getTime() - new Date(dateA).getTime()\r\n            )\r\n            .map(([date, transactions], index) => (\r\n              <Fragment key={index}>\r\n                <Text>{new Date(date).toDateString()}</Text>\r\n                {transactions.map((transaction, index) => {\r\n                  if ('timestamp' in transaction) {\r\n                    return (\r\n                      <LedgerTransactionActivity key={index} {...transaction} />\r\n                    );\r\n                  }\r\n\r\n                  const renderActivity = (\r\n                    Activity: React.FC<any>\r\n                  ): JSX.Element => (\r\n                    <Activity\r\n                      key={index}\r\n                      {...transaction.details}\r\n                      time={transaction.time}\r\n                    />\r\n                  );\r\n                  switch (transaction.operation) {\r\n                    case 'swap':\r\n                      return renderActivity(SwapActivity);\r\n                    case 'addLiquidity':\r\n                      return renderActivity(AddLiquidityActivity);\r\n                    case 'removeLiquidity':\r\n                      return renderActivity(RemoveLiquidityActivity);\r\n                    case 'withdraw':\r\n                      return renderActivity(WithdrawActivity);\r\n                    case 'deposit':\r\n                      return renderActivity(DepositActivity);\r\n                    default:\r\n                      return null;\r\n                  }\r\n                })}\r\n              </Fragment>\r\n            ))}\r\n        </Stack>\r\n      </Stack>\r\n    </>\r\n  );\r\n};\r\n","import { Box, Button } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { plugCircleSrc } from '@/assets';\r\nimport { \r\n  Token, TokenContent, TokenData, TokenDataBalances,TokenDataPrice,TokenDetailsButton,\r\n  TokenDetailsLogo,TokenDetailsSymbol,TokenDataMetaInfo,TokenInput,ViewHeader,\r\n} from '@/components';\r\n\r\nimport { FeeBox } from '@/components/core/fee-box';\r\n\r\nimport { useQuery } from '@/hooks/use-query';\r\n\r\nimport { useTokenAllowance } from '@/hooks/use-token-allowance';\r\nimport {\r\n  depositViewActions, FeatureState, NotificationType, useAppDispatch, useDepositViewStore,\r\n  useNotificationStore, useSwapCanisterStore, useTokenModalOpener,\r\n} from '@/store';\r\n\r\nimport { getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport {tokenList } from '@/utils';\r\n\r\nexport const AssetsDepositView = () => {\r\n  const query = useQuery();\r\n  const { supportedTokenList, tokenBalances, balancesState, supportedTokenListState } = useSwapCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const { amount, tokenId } = useDepositViewStore();\r\n\r\n  const { addNotification } = useNotificationStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const selectedTokenMetadata =  tokenList('obj')[tokenId?tokenId:''];\r\n\r\n  const allowance = useTokenAllowance(selectedTokenMetadata?.id)\r\n  \r\n  const handleSelectTokenId = (tokenId?: string) => {\r\n    if (tokenId) {\r\n      dispatch(depositViewActions.setTokenId(tokenId));\r\n    }\r\n  };\r\n\r\n  const handleOpenSelectTokenModal = () => {\r\n    openSelectTokenModal({ metadata: supportedTokenList, onSelect: (tokenId) => handleSelectTokenId(tokenId), selectedTokenIds: []});\r\n  };\r\n\r\n  const handleDeposit = () => {\r\n    addNotification({\r\n      title: `Deposit ${amount} ${selectedTokenMetadata?.symbol}`,\r\n      type: NotificationType.Deposit,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(() => dispatch(depositViewActions.setAmount('')), 300);\r\n  };\r\n\r\n  const handleMaxClick = () => {\r\n    if (tokenBalance && selectedTokenMetadata)\r\n      dispatch(\r\n        depositViewActions.setAmount(\r\n          getMaxValue(selectedTokenMetadata, tokenBalance).toString()\r\n        )\r\n      );\r\n  };\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n\r\n    if (!selectedTokenMetadata?.id) return [true, 'Select a Token'];\r\n\r\n    if (typeof allowance !== 'number') return [true, 'Getting allowance...'];\r\n\r\n    const parsedFromValue = (amount && parseFloat(amount)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${selectedTokenMetadata?.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <= \r\n      toBigNumber(selectedTokenMetadata.fee).applyDecimals(selectedTokenMetadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `Amount must be greater than fee`];\r\n    }\r\n\r\n    if (tokenBalances && selectedTokenMetadata) {\r\n      if (\r\n        parsedFromValue >\r\n        getMaxValue( selectedTokenMetadata,tokenBalances[selectedTokenMetadata.id]).toNumber()\r\n      ) {\r\n        return [true, `Insufficient ${selectedTokenMetadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    return [false, 'Deposit'];\r\n  }, [amount, tokenBalances, selectedTokenMetadata, allowance]);\r\n\r\n  const tokenBalance = useMemo(() => {\r\n    if (tokenBalances && tokenId) {\r\n      return tokenBalances[tokenId];\r\n    }\r\n\r\n    return 0;\r\n  }, [tokenBalances, tokenId]);\r\n\r\n  const isLoading = useMemo(() =>\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      balancesState === FeatureState.Loading,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const tokenId = query.get('tokenId');\r\n    const fromQueryValue = query.get('amount');\r\n\r\n    if (fromQueryValue) {\r\n      dispatch(depositViewActions.setAmount(fromQueryValue));\r\n    }\r\n\r\n    if (tokenId) {\r\n      handleSelectTokenId(tokenId);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(depositViewActions.setAmount(''));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <ViewHeader title=\"Deposit Asset\" onArrowBack={() => navigate('/assets')}/>\r\n      <Box my={5}>\r\n        <Token\r\n          isLoading={isLoading}\r\n          value={amount}\r\n          setValue={(value) => dispatch(depositViewActions.setAmount(value))}\r\n          sources={[\r\n            {\r\n              name: 'Plug Wallet',\r\n              src: plugCircleSrc,\r\n              balance: tokenBalance,\r\n            },\r\n          ]}\r\n          tokenListMetadata={supportedTokenList}\r\n          tokenMetadata={selectedTokenMetadata}\r\n        >\r\n          <TokenContent>\r\n            <TokenDetailsButton onClick={handleOpenSelectTokenModal}>\r\n              <TokenDetailsLogo />\r\n              <TokenDetailsSymbol />\r\n            </TokenDetailsButton>\r\n            <TokenInput autoFocus />\r\n          </TokenContent>\r\n          <TokenData>\r\n            <TokenDataBalances onMaxClick={handleMaxClick} />\r\n            <TokenDataPrice />\r\n          </TokenData>\r\n          <TokenDataMetaInfo \r\n                tokenSymbol={selectedTokenMetadata?selectedTokenMetadata.symbol:''}\r\n                pageInfo=\"deposit\"\r\n                tokenValue={amount}></TokenDataMetaInfo>\r\n        </Token>\r\n      </Box>\r\n      <FeeBox token={selectedTokenMetadata} isDeposit />\r\n      \r\n      <Button  isFullWidth  size=\"lg\"  variant=\"gradient\" colorScheme=\"dark-blue\" \r\n      isDisabled={buttonDisabled} onClick={handleDeposit} isLoading={isLoading}>\r\n        {buttonMessage}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","export * from './deposit';\r\nexport * from './list';\r\nexport * from './withdraw';\r\n","import {\r\n  Flex,\r\n  HStack,\r\n  Icon,\r\n  // AlertDescription,\r\n  Stack,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { FaMinus } from '@react-icons/all-files/fa/FaMinus';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\nimport { useCallback, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport {\r\n  Asset, AssetIconButton, AssetImageBlock, AssetTitleBlock, DisplayValue, Header,\r\n  InformationBox, PlugNotConnected, TokenBalancesPopover,\r\n} from '@/components';\r\nimport { getAppAssetsSources } from '@/config/utils';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { AppTokenMetadata } from '@/models';\r\nimport {\r\n  assetsViewActions, FeatureState, useAppDispatch,\r\n  useAssetsViewStore,\r\n  usePlugStore,\r\n  usePriceStore,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nconst getAssetPriceByBalance = ( price?: string, balance?: number, decimals?: number) => {\r\n  if (price && balance && decimals) {\r\n    return (\r\n      Number(price) * Number(toBigNumber(balance).applyDecimals(decimals).toString())\r\n    );\r\n  }\r\n  return price;\r\n};\r\n\r\nexport const AssetsListView = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isBannerOpened } = useAssetsViewStore();\r\n  const { totalBalances, sonicBalances, tokenBalances } = useBalances();\r\n  const { supportedTokenListState, balancesState, supportedTokenList } = useSwapCanisterStore();\r\n  const { icpPrice } = usePriceStore();\r\n  const { isConnected } = usePlugStore();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const navigateToDeposit = (tokenId?: string) => {\r\n    if (tokenId) { navigate(`/assets/deposit?tokenId=${tokenId}`); }\r\n  };\r\n\r\n  const navigateToWithdraw = (tokenId?: string) => {\r\n    if (tokenId) { navigate(`/assets/withdraw?tokenId=${tokenId}`); }\r\n  };\r\n\r\n  const handleBannerClose = () => {\r\n    dispatch(assetsViewActions.setIsBannerOpened(false));\r\n  };\r\n\r\n\r\n  const notEmptyTokenList = useMemo(() => {\r\n    const supportedTokenListWithICP: AppTokenMetadata[] = [\r\n       ...(supportedTokenList || []),\r\n    ];\r\n    if (totalBalances) {\r\n      return supportedTokenListWithICP.filter(\r\n        (token) => totalBalances[token.id] !== 0\r\n      );\r\n    }\r\n    return [];\r\n  }, [supportedTokenList, totalBalances, icpPrice]);\r\n\r\n  const isTokenListPresent = useMemo(() => notEmptyTokenList && notEmptyTokenList.length > 0, [notEmptyTokenList]);\r\n\r\n  const isLoading = useMemo(() =>\r\n    supportedTokenListState === FeatureState.Loading ||\r\n    balancesState === FeatureState.Loading,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  const isUpdating = useMemo(() =>\r\n    supportedTokenListState === FeatureState.Updating ||\r\n    balancesState === FeatureState.Updating,\r\n    [supportedTokenListState, balancesState]\r\n  );\r\n\r\n  const assetsDetailsTextColor = useColorModeValue('gray.800', 'custom.1');\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const getCanWithdraw = useCallback(\r\n    (tokenId: string) => {\r\n      return (tokenId !== ICP_METADATA.id && sonicBalances && sonicBalances[tokenId] > 0);\r\n    },\r\n    [sonicBalances]\r\n  );\r\n\r\n  const getCanDeposit = useCallback(\r\n    (tokenId: string) => {\r\n      return ( tokenId !== ICP_METADATA.id && tokenBalances && tokenBalances[tokenId] > 0);\r\n    },\r\n    [tokenBalances]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Header title=\"Your Assets\" isUpdating={isUpdating}>\r\n        {isBannerOpened && (\r\n          <InformationBox title=\"Assets Details\" mb={9} onClose={handleBannerClose}>\r\n            <Text color={assetsDetailsTextColor}>\r\n              View all the assets you have deposited or obtained on Sonic\r\n              through our Liquidity and Swaps protocols, and deposit more or\r\n              withdraw them to your wallet.\r\n            </Text>\r\n          </InformationBox>\r\n        )}\r\n      </Header>\r\n\r\n      {!isConnected ? (\r\n        <PlugNotConnected message=\"Your assets will appear here.\" />\r\n      ) : (\r\n        <Stack spacing={4} pb={8} flex={1}>\r\n          {isLoading ? (\r\n            <>\r\n              <Asset isLoading>\r\n                <AssetImageBlock />\r\n                <HStack>\r\n                  <AssetIconButton aria-label=\"Deposit\" icon={<FaPlus />} />\r\n                  <AssetIconButton aria-label=\"Withdraw\" icon={<FaMinus />} />\r\n                </HStack>\r\n              </Asset>\r\n\r\n              <Asset isLoading>\r\n                <AssetImageBlock />\r\n                <HStack>\r\n                  <AssetIconButton aria-label=\"Deposit\" icon={<FaPlus />} />\r\n                  <AssetIconButton aria-label=\"Withdraw\" icon={<FaMinus />} />\r\n                </HStack>\r\n              </Asset>\r\n            </>\r\n          ) : isTokenListPresent ? (\r\n            notEmptyTokenList.map(\r\n              ({ id, name, symbol, decimals, price, logo }) => (\r\n                <Asset key={id} imageSources={[logo]}>\r\n                  <HStack spacing={4} flex={2} minW={['100%', '200px', '200px']} overflow=\"hidden\" mr={4}>\r\n                    <AssetImageBlock />\r\n                    <AssetTitleBlock title={symbol} subtitle={name} maxW={['100%', '140px', '140px']} />\r\n                  </HStack>\r\n                  <TokenBalancesPopover\r\n                    sources={getAppAssetsSources({\r\n                      balances: {\r\n                        plug: id === ICP_METADATA.id ? totalBalances?.[id] : tokenBalances?.[id],\r\n                        sonic: sonicBalances?.[id],\r\n                      },\r\n                    })}\r\n                    decimals={decimals} symbol={symbol}\r\n                  >\r\n                    <Flex flex={1} direction=\"column\">\r\n                      <Text fontWeight=\"bold\" color={headerColor} display=\"flex\" alignItems=\"center\">\r\n                        Balance\r\n                        <Icon as={FaInfoCircle} w={4} h={4} ml={1.5} opacity={0.45} />\r\n                      </Text>\r\n                      <DisplayValue isUpdating={isUpdating} value={totalBalances?.[id]}\r\n                        decimals={decimals} fontWeight=\"bold\" disableTooltip shouldDivideByDecimals\r\n                      />\r\n                    </Flex>\r\n                  </TokenBalancesPopover>\r\n                  <Flex flex={1} direction=\"column\">\r\n                    <Text fontWeight=\"bold\" color={headerColor}>\r\n                      Price \r\n                    </Text>\r\n                    <DisplayValue isUpdating={isUpdating} fontWeight=\"bold\" prefix=\"~$\"\r\n                      value={ \r\n                        (id == 'ryjl3-tyaaa-aaaaa-aaaba-cai')?\r\n                        ((totalBalances?.[id])?(totalBalances?.[id] / 10**decimals):0)* (parseFloat(icpPrice || '1')) :\r\n                        getAssetPriceByBalance(price, totalBalances?.[id], decimals) ?? 0\r\n                      }\r\n                    />\r\n                  </Flex>\r\n                  <HStack>\r\n                    <AssetIconButton aria-label={`Withdraw ${symbol}`} icon={<FaMinus />}\r\n                      onClick={() => navigateToWithdraw(id)} isDisabled={!getCanWithdraw(id)}\r\n                    />\r\n                    <AssetIconButton colorScheme=\"dark-blue\" aria-label={`Deposit ${symbol}`} icon={<FaPlus />}\r\n                      onClick={() => navigateToDeposit(id)} isDisabled={!getCanDeposit(id)}\r\n                    />\r\n                  </HStack>\r\n                </Asset>\r\n              )\r\n            )\r\n          ) : (\r\n            <Text textAlign=\"center\" color={headerColor}>\r\n              No assets available\r\n            </Text>\r\n          )}\r\n        </Stack>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import { Box, Button } from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { sonicCircleSrc } from '@/assets';\r\nimport {\r\n  Token,\r\n  TokenContent,\r\n  TokenData,\r\n  TokenDataBalances,\r\n  TokenDataPrice,\r\n  TokenDetailsButton,\r\n  TokenDetailsLogo,\r\n  TokenDetailsSymbol,\r\n  TokenInput,\r\n  ViewHeader,\r\n} from '@/components';\r\nimport { FeeBox } from '@/components/core/fee-box';\r\nimport { useQuery } from '@/hooks/use-query';\r\nimport {\r\n  FeatureState,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useNotificationStore,\r\n  useSwapCanisterStore,\r\n  useTokenModalOpener,\r\n  useWithdrawViewStore,\r\n  withdrawViewActions,\r\n} from '@/store';\r\nimport { formatValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nexport const AssetsWithdrawView = () => {\r\n  const query = useQuery();\r\n  const { amount, tokenId } = useWithdrawViewStore();\r\n  const {\r\n    supportedTokenList,\r\n    sonicBalances,\r\n    balancesState,\r\n    supportedTokenListState,\r\n  } = useSwapCanisterStore();\r\n\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { addNotification } = useNotificationStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const selectedTokenMetadata = useMemo(() => {\r\n    if (tokenId && supportedTokenList) {\r\n      return supportedTokenList.find(({ id }) => id === tokenId);\r\n    }\r\n    return undefined;\r\n  }, [supportedTokenList, tokenId]);\r\n\r\n  const handleSelectTokenId = (tokenId?: string) => {\r\n    if (tokenId) {\r\n      dispatch(withdrawViewActions.setTokenId(tokenId));\r\n    }\r\n  };\r\n\r\n  const handleOpenSelectTokenModal = () => {\r\n    openSelectTokenModal({\r\n      metadata: supportedTokenList,\r\n      onSelect: (tokenId) => handleSelectTokenId(tokenId),\r\n      selectedTokenIds: [],\r\n    });\r\n  };\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if (!selectedTokenMetadata?.id) return [true, 'Select a Token'];\r\n\r\n    const parsedFromValue = (amount && parseFloat(amount)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${selectedTokenMetadata?.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <=\r\n      toBigNumber(selectedTokenMetadata.fee)\r\n        .applyDecimals(selectedTokenMetadata.decimals)\r\n        .toNumber()\r\n    ) {\r\n      return [true, `Amount must be greater than fee`];\r\n    }\r\n\r\n    if (sonicBalances && selectedTokenMetadata) {\r\n      const parsedBalance = parseFloat(\r\n        formatValue(\r\n          sonicBalances[selectedTokenMetadata.id],\r\n          selectedTokenMetadata.decimals\r\n        )\r\n      );\r\n\r\n      if (parsedFromValue > parsedBalance) {\r\n        return [true, `Insufficient ${selectedTokenMetadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    return [false, 'Withdraw'];\r\n  }, [amount, sonicBalances, selectedTokenMetadata]);\r\n\r\n  const tokenBalance = useMemo(() => {\r\n    if (sonicBalances && tokenId) {\r\n      return sonicBalances[tokenId];\r\n    }\r\n\r\n    return 0;\r\n  }, [sonicBalances, tokenId]);\r\n\r\n  useEffect(() => {\r\n    const tokenId = query.get('tokenId');\r\n    const amount = query.get('amount');\r\n\r\n    if (amount) {\r\n      dispatch(withdrawViewActions.setAmount(amount));\r\n    }\r\n\r\n    if (tokenId) {\r\n      handleSelectTokenId(tokenId);\r\n    }\r\n\r\n    return () => {\r\n      dispatch(withdrawViewActions.setAmount(''));\r\n    };\r\n  }, []);\r\n\r\n  const handleWithdraw = () => {\r\n    addNotification({\r\n      title: `Withdraw ${amount} ${selectedTokenMetadata?.symbol}`,\r\n      type: NotificationType.Withdraw,\r\n      id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(() => dispatch(withdrawViewActions.setAmount('')), 300);\r\n  };\r\n\r\n  const handleMaxClick = () => {\r\n    dispatch(\r\n      withdrawViewActions.setAmount(\r\n        toBigNumber(tokenBalance)\r\n          .applyDecimals(selectedTokenMetadata?.decimals ?? 0)\r\n          .toString()\r\n      )\r\n    );\r\n  };\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      balancesState === FeatureState.Loading,\r\n    [balancesState, supportedTokenListState]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ViewHeader\r\n        title=\"Withdraw Asset\"\r\n        onArrowBack={() => navigate('/assets')}\r\n      />\r\n      <Box my={5}>\r\n        <Token\r\n          value={amount}\r\n          setValue={(value) => dispatch(withdrawViewActions.setAmount(value))}\r\n          tokenListMetadata={supportedTokenList}\r\n          tokenMetadata={selectedTokenMetadata}\r\n          isLoading={isLoading}\r\n          sources={[\r\n            {\r\n              name: 'Sonic',\r\n              src: sonicCircleSrc,\r\n              balance: tokenBalance,\r\n            },\r\n          ]}\r\n        >\r\n          <TokenContent>\r\n            <TokenDetailsButton onClick={handleOpenSelectTokenModal}>\r\n              <TokenDetailsLogo />\r\n              <TokenDetailsSymbol />\r\n            </TokenDetailsButton>\r\n\r\n            <TokenInput autoFocus />\r\n          </TokenContent>\r\n          <TokenData>\r\n            <TokenDataBalances onMaxClick={handleMaxClick} />\r\n            <TokenDataPrice />\r\n          </TokenData>\r\n        </Token>\r\n      </Box>\r\n      <FeeBox token={selectedTokenMetadata} />\r\n      <Button\r\n        isFullWidth\r\n        variant=\"gradient\"\r\n        colorScheme=\"dark-blue\"\r\n        size=\"lg\"\r\n        onClick={handleWithdraw}\r\n        isLoading={isLoading}\r\n        isDisabled={buttonDisabled}\r\n      >\r\n        {buttonMessage}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","export * from './activity';\r\nexport * from './assets';\r\nexport * from './liquidity';\r\nexport * from './swap';\r\nexport * from './test';\r\n","import {\r\n  Box, Button, Center, Flex, HStack, Icon, IconButton, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverHeader, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { Liquidity } from '@memecake/sonic-js';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaEquals } from '@react-icons/all-files/fa/FaEquals';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { FaPlus } from '@react-icons/all-files/fa/FaPlus';\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport {\r\n  DisplayValue, LPImageBlock, PlugButton, SlippageSettings, StackLine, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenDataMetaInfo, TokenInput, ViewHeader,\r\n} from '@/components';\r\n\r\nimport { useTokenAllowance, useTokenBalanceMemo } from '@/hooks';\r\nimport { useBalances } from '@/hooks/use-balances';\r\nimport { useQuery } from '@/hooks/use-query';\r\n\r\nimport {\r\n  FeatureState, INITIAL_LIQUIDITY_SLIPPAGE, LiquidityTokenDataKey, liquidityViewActions, NotificationType, useAppDispatch,\r\n  useLiquidityViewStore, useNotificationStore, usePlugStore, usePriceStore, useSwapCanisterStore, useTokenModalOpener,\r\n} from '@/store';\r\n\r\nimport { AppLog } from '@/utils';\r\nimport { getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { useAddLiquidityMemo, useTokenSourceMemo } from './liquidity.utils';\r\n\r\nexport const LiquidityAddView = () => {\r\n  const query = useQuery();\r\n\r\n  const { isConnected } = usePlugStore();\r\n\r\n  const { addNotification } = useNotificationStore();\r\n  const { token0, token1, slippage, pair, pairState } = useLiquidityViewStore();\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const balances = useBalances();\r\n  const { tokenBalances, sonicBalances, totalBalances } = balances;\r\n  var { supportedTokenList, supportedTokenListState, balancesState } =\r\n    useSwapCanisterStore();\r\n  const { state: priceState } = usePriceStore();\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const [isReviewing, setIsReviewing] = useState(false);\r\n  const [autoSlippage, setAutoSlippage] = useState(true);\r\n\r\n  const handlePreviousStep = () => {\r\n    if (isReviewing) {\r\n      setIsReviewing(false);\r\n    } else {\r\n      navigate('/liquidity');\r\n    }\r\n  };\r\n  const handleAddLiquidity = () => {\r\n    if (!isReviewing) {\r\n      setIsReviewing(true);\r\n      return;\r\n    }\r\n\r\n    addNotification({\r\n      title: `Add LP of ${token0.value} ${token0.metadata?.symbol} + ${token1.value} ${token1.metadata?.symbol}`,\r\n      type: NotificationType.AddLiquidity,\r\n      id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(() => {\r\n      dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n      dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n      setIsReviewing(false);\r\n      navigate('/liquidity');\r\n    }, 300);\r\n  };\r\n\r\n  const handleTokenMaxClick = (dataKey: LiquidityTokenDataKey) => {\r\n    const token = dataKey === 'token0' ? token0 : token1;\r\n    const tokenBalance = dataKey === 'token0' ? token0Balance : token1Balance;\r\n\r\n    if (!token || !tokenBalance) return;\r\n\r\n    const maxValue = getMaxValue(token.metadata, tokenBalance).toString();\r\n\r\n    setInAndOutTokenValues(dataKey, maxValue);\r\n  };\r\n  const lockedPairsList = [['ryjl3-tyaaa-aaaaa-aaaba-cai', 'utozz-siaaa-aaaam-qaaxq-cai']];\r\n  lockedPairsList;\r\n\r\n  const handleSelectToken = (dataKey: LiquidityTokenDataKey) => {\r\n    if (!isReviewing) {\r\n\r\n      const excludeToken = (() => {\r\n        const foundPair = lockedPairsList.find(pair => {\r\n          if (dataKey === 'token0') {\r\n            return pair[0] === token1.metadata?.id || pair[1] === token1.metadata?.id;\r\n          } else if (dataKey === 'token1') {\r\n            return pair[0] === token0.metadata?.id || pair[1] === token0.metadata?.id;\r\n          }\r\n          return false;\r\n        });\r\n        return foundPair ? foundPair.find(x => x !== (token0.metadata?.id || token1.metadata?.id)) : '';\r\n      })();\r\n\r\n      const customTokenList = supportedTokenList ? supportedTokenList.filter(x => {\r\n        if (dataKey === 'token0') {\r\n          return x.id !== token1.metadata?.id && x.id !== excludeToken;\r\n        } else if (dataKey === 'token1') {\r\n          return x.id !== token0.metadata?.id && x.id !== excludeToken;\r\n        }\r\n      }) : [];\r\n\r\n      openSelectTokenModal({\r\n        metadata: customTokenList,\r\n        onSelect: (tokenId) => {\r\n          if (tokenId && supportedTokenList) {\r\n            if (token0.metadata?.id === tokenId || token1.metadata?.id === tokenId) {\r\n              return;\r\n            }\r\n            const foundToken = supportedTokenList.find(({ id }) => id === tokenId);\r\n\r\n            dispatch(liquidityViewActions.setToken({ data: dataKey, token: foundToken }));\r\n            dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n            dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n          }\r\n        },\r\n        selectedTokenIds,\r\n      });\r\n    }\r\n  };\r\n\r\n  type useTokenTaxCheckOptions = {\r\n    balances?: any;\r\n    tokenId?: string;\r\n    tokenDecimals?: number;\r\n    tokenValue?: string;\r\n    tokenSymbol?: string;\r\n    needAsNetValue?: boolean;\r\n  };\r\n\r\n  const useTokenTaxCheck = ({ balances, tokenId, tokenSymbol, tokenDecimals = 1, tokenValue = '', needAsNetValue = false }: useTokenTaxCheckOptions) => {\r\n    const { sonicBalances, tokenBalances, icpBalance } = balances;\r\n    const tokenInfo = { wallet: 0, sonic: 0, taxInfo: { input: 0, taxedValue: 0, nonTaxedValue: 0, netValue: 0 } }\r\n    if (tokenId != '' && tokenId != 'ICP' && sonicBalances && tokenBalances) {\r\n      var id = tokenId ? tokenId : '';\r\n      tokenInfo['wallet'] = tokenBalances[id] ? tokenBalances[id] : 0;\r\n      tokenInfo['sonic'] = sonicBalances[id] ? sonicBalances[id] : 0;\r\n    } else { tokenInfo['wallet'] = icpBalance ? icpBalance : 0; }\r\n    if (tokenValue) {\r\n      let tokenVal: number = parseFloat(tokenValue)\r\n      if (tokenSymbol == 'YC') {\r\n        let decimals = tokenDecimals ? (10 ** tokenDecimals) : 1\r\n        let sonicBalance = tokenInfo['sonic'] / decimals;\r\n\r\n        if ((sonicBalance > tokenVal)) {\r\n          tokenInfo.taxInfo.nonTaxedValue = tokenVal;\r\n          tokenInfo.taxInfo.taxedValue = 0;\r\n        } else {\r\n          tokenInfo.taxInfo.nonTaxedValue = sonicBalance;\r\n          tokenInfo.taxInfo.taxedValue = tokenVal - tokenInfo.taxInfo.nonTaxedValue;\r\n        }\r\n        if (needAsNetValue) {\r\n          // sonic balance + X * (89/100) = parsedLPValue\r\n          // X = (parsedLPValue - sonic balance)/0.89\r\n          // requestamount = sonic balance + ((parsedLPValue - sonic balance)/0.89)\r\n          // ~ balance + (estimate - balance)/0.89\r\n          if (tokenInfo.taxInfo.taxedValue > 0) {\r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + ((tokenVal - tokenInfo.taxInfo.nonTaxedValue) / 0.89);\r\n          } else {\r\n            tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue;\r\n          }\r\n        } else {\r\n          tokenInfo.taxInfo.netValue = tokenInfo.taxInfo.nonTaxedValue + (tokenInfo.taxInfo.taxedValue * (89 / 100));\r\n        }\r\n      }\r\n    }\r\n    return tokenInfo\r\n  };\r\n  // Utils\r\n  const setInAndOutTokenValues = useCallback(\r\n    (dataKey: LiquidityTokenDataKey, value?: string) => {\r\n\r\n      const [amountIn, reserveIn, reserveOut, decimalsIn, decimalsOut] =\r\n        dataKey === 'token0'\r\n          ? [value ?? token0.value, String(pair?.reserve0), String(pair?.reserve1),\r\n          Number(token0.metadata?.decimals), Number(token1.metadata?.decimals)]\r\n          : [value ?? token1.value, String(pair?.reserve1), String(pair?.reserve0),\r\n          Number(token1.metadata?.decimals), Number(token0.metadata?.decimals)];\r\n\r\n      try {\r\n        var token = (dataKey == 'token0') ? token0 : token1;\r\n        var convertToken = (dataKey == 'token0') ? token1 : token0;\r\n        var fromAmount = amountIn;\r\n        if (token.metadata?.symbol == \"YC\") {\r\n          var info = useTokenTaxCheck({\r\n            balances: balances, tokenId: token.metadata.id, tokenSymbol: token.metadata.symbol, tokenDecimals: token.metadata.decimals, tokenValue: amountIn\r\n          });\r\n          fromAmount = info.taxInfo.netValue.toFixed(3);\r\n        }\r\n\r\n        const lpValue = Liquidity.getOppositeAmount({ amountIn: fromAmount ? fromAmount : '0', reserveIn, reserveOut, decimalsIn, decimalsOut });\r\n\r\n        var parsedLPValue = lpValue.toString();\r\n        if (convertToken.metadata?.symbol == \"YC\") {\r\n          var info = useTokenTaxCheck({\r\n            balances: balances, tokenId: convertToken.metadata.id, tokenSymbol: convertToken.metadata.symbol, tokenDecimals: convertToken.metadata.decimals,\r\n            tokenValue: parsedLPValue, needAsNetValue: true\r\n          });\r\n          parsedLPValue = info.taxInfo.netValue.toFixed(3);\r\n        }\r\n\r\n        dispatch(liquidityViewActions.setValue({ data: dataKey, value: amountIn }));\r\n\r\n        const reversedDataKey = dataKey === 'token0' ? 'token1' : 'token0';\r\n\r\n        if (lpValue.gt(0)) {\r\n          dispatch(liquidityViewActions.setValue({ data: reversedDataKey, value: parsedLPValue }));\r\n        }\r\n      } catch (e) {\r\n        if (e instanceof Error && e.message.startsWith('Minimal amountIn')) {\r\n          const minimalAmount = e.message.split(': ')[1];\r\n          setInAndOutTokenValues(dataKey, minimalAmount);\r\n        } else {\r\n          AppLog.warn('Failed to set token amount', e);\r\n        }\r\n      }\r\n    },\r\n    [dispatch, pair?.reserve0, pair?.reserve1, token0.metadata, token0.value, token1.metadata, token1.value]\r\n  );\r\n\r\n  // Memorized values\r\n  const token0Balance = useTokenBalanceMemo(token0.metadata?.id);\r\n  const token1Balance = useTokenBalanceMemo(token1.metadata?.id);\r\n\r\n  const token0Allowance = useTokenAllowance(token0.metadata?.id);\r\n  const token1Allowance = useTokenAllowance(token1.metadata?.id);\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      pairState === FeatureState.Loading,\r\n    [supportedTokenListState, pairState]\r\n  );\r\n\r\n  const isBalancesUpdating = useMemo(\r\n    () => balancesState === FeatureState.Updating,\r\n    [balancesState]\r\n  );\r\n  const isPriceUpdating = useMemo(\r\n    () => priceState === FeatureState.Updating,\r\n    [priceState]\r\n  );\r\n\r\n  const [buttonDisabled, buttonMessage] = useMemo<[boolean, string]>(() => {\r\n    if (isLoading) return [true, 'Loading'];\r\n    if (!token0.metadata || !token1.metadata) return [true, 'Select Tokens'];\r\n\r\n    const parsedToken0Value = (token0.value && parseFloat(token0.value)) || 0;\r\n    const parsedToken1Value = (token1.value && parseFloat(token1.value)) || 0;\r\n\r\n    if (\r\n      typeof token0Allowance !== 'number' ||\r\n      typeof token1Allowance !== 'number'\r\n    ) {\r\n      return [true, 'Getting allowance'];\r\n    }\r\n\r\n    if (parsedToken0Value <= 0)\r\n      return [true, `Enter ${token0.metadata.symbol} Amount`];\r\n\r\n    if (parsedToken1Value <= 0)\r\n      return [true, `Enter ${token1.metadata.symbol} Amount`];\r\n\r\n    if (\r\n      totalBalances &&\r\n      typeof token0Balance === 'number' &&\r\n      typeof token1Balance === 'number'\r\n    ) {\r\n      if (\r\n        parsedToken0Value >\r\n        getMaxValue(token0.metadata, token0Balance).toNumber()\r\n      ) {\r\n        return [true, `Insufficient ${token0.metadata.symbol} Balance`];\r\n      }\r\n\r\n      if (\r\n        parsedToken1Value >\r\n        getMaxValue(token1.metadata, token1Balance).toNumber()\r\n      ) {\r\n        return [true, `Insufficient ${token1.metadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    if (isReviewing) return [false, 'Confirm Supply'];\r\n    return [false, 'Review Supply'];\r\n  }, [isLoading, token0, token1, totalBalances, token0Balance, token1Balance, isReviewing, token0Allowance, token1Allowance]);\r\n\r\n  const selectedTokenIds = useMemo(() => {\r\n    const selectedIds = [];\r\n    if (token0?.metadata?.id) selectedIds.push(token0.metadata.id);\r\n    if (token1?.metadata?.id) selectedIds.push(token1.metadata.id);\r\n\r\n    return selectedIds;\r\n  }, [token0?.metadata?.id, token1?.metadata?.id]);\r\n\r\n  const { fee0, fee1, price0, price1, shareOfPool, liquidityAmount } = useAddLiquidityMemo({ pair, token0, token1 });\r\n\r\n  const token0Sources = useTokenSourceMemo({ token: token0, tokenBalances, sonicBalances });\r\n  const token1Sources = useTokenSourceMemo({ token: token1, tokenBalances, sonicBalances });\r\n\r\n  useEffect(() => {\r\n    if (!isLoading && supportedTokenList) {\r\n      const token1Id = query.get('token1');\r\n      const token0Id = query.get('token0');\r\n\r\n      if (token0Id) {\r\n        const token0 = supportedTokenList.find(({ id }) => id === token0Id);\r\n        dispatch(liquidityViewActions.setToken({ data: 'token0', token: token0 }));\r\n        dispatch(liquidityViewActions.setValue({ data: 'token0', value: '' }));\r\n      }\r\n\r\n      if (token1Id) {\r\n        const token1 = supportedTokenList.find(({ id }) => id === token1Id);\r\n        dispatch(liquidityViewActions.setToken({ data: 'token1', token: token1 }));\r\n        dispatch(liquidityViewActions.setValue({ data: 'token1', value: '' }));\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLoading]);\r\n\r\n  const handleSetIsAutoSlippage = (isAutoSlippage: boolean) => {\r\n    setAutoSlippage(isAutoSlippage);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    if (autoSlippage) {\r\n      dispatch(liquidityViewActions.setSlippage(INITIAL_LIQUIDITY_SLIPPAGE));\r\n    }\r\n  };\r\n\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n  const bg = useColorModeValue('gray.100', 'gray.800');\r\n  const iconBorderColor = useColorModeValue('gray.200', 'custom.4');\r\n  const textColor = useColorModeValue('gray.700', 'gray.300');\r\n\r\n  return (\r\n    <Stack spacing={4}>\r\n      <ViewHeader onArrowBack={handlePreviousStep} title=\"Add Liquidity\">\r\n        <Menu onClose={handleMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\" icon={<FaCog />} ml=\"auto\" />\r\n          </Tooltip>\r\n          <MenuList shadow={menuListShadow} bg={menuListBg} border=\"none\" borderRadius={20} py={0}>\r\n            <SlippageSettings slippage={slippage}\r\n              setSlippage={(value) =>\r\n                dispatch(liquidityViewActions.setSlippage(value))\r\n              }\r\n              isAutoSlippage={autoSlippage} setIsAutoSlippage={handleSetIsAutoSlippage}\r\n            />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"100%\">\r\n          <Token value={token0.value} setValue={(value) => setInAndOutTokenValues('token0', value)} tokenListMetadata={supportedTokenList}\r\n            tokenMetadata={token0.metadata} isDisabled={isReviewing} sources={token0Sources} isLoading={isLoading}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => handleSelectToken('token0')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances isUpdating={isBalancesUpdating} onMaxClick={() => handleTokenMaxClick('token0')} />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo tokenId={token0.metadata ? token0.metadata.id : ''}\r\n              tokenSymbol={token0.metadata ? token0.metadata.symbol : ''} tokenDecimals={token0.metadata ? token0.metadata.decimals : 0}\r\n              pageInfo=\"liquidity\" tokenValue={token0.value}></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Center borderRadius={12} width={10} height={10} border=\"1px solid\" borderColor={iconBorderColor}\r\n          bg={menuListBg} mt={-2} mb={-2} zIndex=\"docked\">\r\n          <Icon as={FaPlus} />\r\n        </Center>\r\n\r\n        <Box width=\"100%\">\r\n          <Token value={token1.value} setValue={(value) => setInAndOutTokenValues('token1', value)} tokenListMetadata={supportedTokenList}\r\n            tokenMetadata={token1.metadata} isDisabled={isReviewing} sources={token1Sources} isLoading={isLoading}\r\n          >\r\n            <TokenContent>\r\n              {token1.metadata ? (\r\n                <TokenDetailsButton onClick={() => handleSelectToken('token1')}>\r\n                  <TokenDetailsLogo />\r\n                  <TokenDetailsSymbol />\r\n                </TokenDetailsButton>\r\n              ) : (\r\n                <TokenDetailsButton onClick={() => handleSelectToken('token1')} variant={isLoading ? 'solid' : 'gradient'}\r\n                  colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                >\r\n                  <Skeleton isLoaded={!isLoading}>Select a Token</Skeleton>\r\n                </TokenDetailsButton>\r\n              )}\r\n\r\n              <TokenInput />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances isUpdating={isBalancesUpdating} onMaxClick={() => handleTokenMaxClick('token1')} />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo tokenId={token1.metadata ? token1.metadata.id : ''} tokenSymbol={token1.metadata ? token1.metadata.symbol : ''}\r\n              tokenDecimals={token1.metadata ? token1.metadata.decimals : 0} pageInfo=\"liquidity\" tokenValue={token1.value}>\r\n            </TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n        {token0.metadata && token1.metadata && (\r\n          <>\r\n            {isReviewing && (\r\n              <>\r\n                <Center borderRadius={12} width={10} height={10} border=\"1px solid\" borderColor={iconBorderColor}\r\n                  bg={menuListBg} mt={-2} mb={-2} justifyContent=\"center\" alignItems=\"center\" zIndex=\"docked\"\r\n                >\r\n                  <Icon as={FaEquals} />\r\n                </Center>\r\n\r\n                <Token value={liquidityAmount} isDisabled shouldGlow>\r\n                  <TokenContent>\r\n                    <Flex borderRadius=\"full\" mr={5} minWidth=\"fit-content\" background={bg}\r\n                      height={10} px={4} justifyContent=\"center\" alignItems=\"center\" fontWeight=\"bold\"\r\n                    >\r\n                      <LPImageBlock imageSources={[token0.metadata?.logo, token1.metadata?.logo]} size=\"sm\" />\r\n                      <Text ml={2.5}>\r\n                        {`${token0.metadata?.symbol}-${token1.metadata?.symbol}`}\r\n                      </Text>\r\n\r\n                      <Popover trigger=\"hover\">\r\n                        <PopoverTrigger>\r\n                          <Flex>\r\n                            <Icon as={FaInfoCircle} ml={2.5} width={4} />\r\n                          </Flex>\r\n                        </PopoverTrigger>\r\n                        <PopoverContent>\r\n                          <PopoverArrow />\r\n                          <PopoverBody>\r\n                            This is your share of the liquidity pool represented\r\n                            as tokens\r\n                          </PopoverBody>\r\n                        </PopoverContent>\r\n                      </Popover>\r\n                    </Flex>\r\n\r\n                    <TokenInput />\r\n                  </TokenContent>\r\n                  <TokenData color={color}>\r\n                    Share of Pool:\r\n                    <Text flex={1} textAlign=\"right\">\r\n                      {shareOfPool}\r\n                    </Text>\r\n                  </TokenData>\r\n                </Token>\r\n              </>\r\n            )}\r\n\r\n            {liquidityAmount && (\r\n              <Flex alignItems=\"center\" justifyContent=\"space-between\" width=\"full\" mt={5} px={5}>\r\n                <Text color={textColor}>\r\n                  {`1 ${token0.metadata?.symbol} = `}{' '}\r\n                  <DisplayValue as=\"span\" value={price1} />{' '}\r\n                  {` ${token1.metadata?.symbol}`}\r\n                </Text>\r\n                <HStack>\r\n                  <Text color={textColor}>\r\n                    {`1 ${token1.metadata?.symbol} = `}{' '}\r\n                    <DisplayValue as=\"span\" value={price0} />{' '}\r\n                    {`${token0.metadata?.symbol}`}\r\n                  </Text>\r\n                  <Popover trigger=\"hover\">\r\n                    <PopoverTrigger>\r\n                      <Flex>\r\n                        <Icon\r\n                          as={FaInfoCircle}\r\n                          width={5}\r\n                          transition=\"opacity 200ms\"\r\n                          opacity={0.6}\r\n                        />\r\n                      </Flex>\r\n                    </PopoverTrigger>\r\n                    <PopoverContent minWidth=\"25rem\">\r\n                      <PopoverHeader>Transaction Details</PopoverHeader>\r\n                      <PopoverArrow />\r\n                      <PopoverBody display=\"inline-block\">\r\n                        <Stack>\r\n                          <StackLine\r\n                            title={`${token0.metadata.name} Deposit Fee`}\r\n                            value={`${fee0} ${token0.metadata.symbol}`}\r\n                          />\r\n                          <StackLine\r\n                            title={`${token1.metadata.name} Deposit Fee`}\r\n                            value={`${fee1} ${token1.metadata.symbol}`}\r\n                          />\r\n                        </Stack>\r\n                      </PopoverBody>\r\n                    </PopoverContent>\r\n                  </Popover>\r\n                </HStack>\r\n              </Flex>\r\n            )}\r\n          </>\r\n        )}\r\n      </Flex>\r\n      {!isConnected ? (\r\n        <PlugButton variant=\"dark\" />\r\n      ) : (\r\n        <Button isFullWidth size=\"lg\" variant=\"gradient\" colorScheme=\"dark-blue\" onClick={handleAddLiquidity}\r\n          isDisabled={buttonDisabled || typeof token0Allowance !== 'number' || typeof token1Allowance !== 'number'}\r\n          isLoading={isLoading || typeof token0Allowance !== 'number' || typeof token1Allowance !== 'number'}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","export * from './paired-user-lp-token';\r\nexport * from './remove-liquidity-modal';\r\nexport * from './remove-liquidity-modal-asset';\r\n","import {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Flex,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Liquidity, Pair } from '@memecake/sonic-js';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { DisplayValue, TokenImageBlock } from '@/components';\r\nimport { LPBreakdownPopover } from '@/components/core/lp-breakdown-popover';\r\nimport { UserLPMetrics } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nexport interface PairedUserLPTokenProps {\r\n  pairId: string;\r\n  token0: AppTokenMetadata;\r\n  token1: AppTokenMetadata;\r\n  balance0: string;\r\n  balance1: string;\r\n  userShares: string;\r\n  totalShares?: string;\r\n  allPairs?: Pair.List;\r\n  pairMetrics?: UserLPMetrics[keyof UserLPMetrics];\r\n  handleRemove: (token0: AppTokenMetadata, token1: AppTokenMetadata) => void;\r\n  handleAdd: (token0?: string, token1?: string) => void;\r\n  isMetricsLoading?: boolean;\r\n  isLPBalanceLoading?: boolean;\r\n}\r\n\r\nexport const PairedUserLPToken: React.FC<PairedUserLPTokenProps> = ({\r\n  token0,\r\n  token1,\r\n  totalShares,\r\n  userShares,\r\n  allPairs,\r\n  balance0,\r\n  balance1,\r\n  pairMetrics,\r\n  handleAdd,\r\n  handleRemove,\r\n  isMetricsLoading,\r\n  isLPBalanceLoading,\r\n}) => {\r\n  const successColor = useColorModeValue('green.500', 'green.400');\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  const userLPValue = useMemo(() => {\r\n    const pair = allPairs?.[token0.id]?.[token1.id];\r\n\r\n    if (pair && token0.price && token1.price && totalShares && userShares) {\r\n      return Liquidity.getUserPositionValue({\r\n        price0: token0.price,\r\n        price1: token1.price,\r\n        reserve0: pair.reserve0,\r\n        reserve1: pair.reserve1,\r\n        decimals0: token0.decimals,\r\n        decimals1: token1.decimals,\r\n        totalShares,\r\n        userShares,\r\n      }).toString();\r\n    }\r\n\r\n    return '0';\r\n  }, [allPairs, token0, token1, totalShares, userShares]);\r\n\r\n  return (\r\n    <Flex direction=\"column\" borderRadius=\"xl\" bg={bg} shadow={shadow}>\r\n      <Flex\r\n        position=\"relative\"\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"space-between\"\r\n        px={5}\r\n        py={4}\r\n        gridGap={1.5}\r\n      >\r\n        <TokenImageBlock src={token0.logo} size={7} />\r\n        <TokenImageBlock src={token1.logo} size={7} />\r\n        <Text flex={1} fontWeight=\"bold\" fontSize=\"1.125rem\">\r\n          {token0.symbol}/{token1.symbol}\r\n        </Text>\r\n        <Button\r\n          variant=\"outline\"\r\n          borderColor=\"dark-blue.500\"\r\n          onClick={() => handleAdd(token0.id, token1.id)}\r\n          fontWeight=\"normal\"\r\n          width=\"4.5rem\"\r\n        >\r\n          Add\r\n        </Button>\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => handleRemove(token0, token1)}\r\n          fontWeight=\"normal\"\r\n        >\r\n          Remove\r\n        </Button>\r\n      </Flex>\r\n\r\n      <Divider />\r\n\r\n      <Flex direction=\"row\" px={6} py={4}>\r\n        <Box flex={1}>\r\n          <Text color={headerColor}>LP Tokens</Text>\r\n          <LPBreakdownPopover\r\n            sources={[\r\n              {\r\n                src: token0.logo,\r\n                symbol: token0.symbol,\r\n                decimals: token0.decimals,\r\n                balance: balance0,\r\n              },\r\n              {\r\n                src: token1.logo,\r\n                symbol: token1.symbol,\r\n                decimals: token1.decimals,\r\n                balance: balance1,\r\n              },\r\n            ]}\r\n          >\r\n            <DisplayValue\r\n              value={userShares}\r\n              isUpdating={isLPBalanceLoading}\r\n              fontWeight=\"bold\"\r\n              disableTooltip\r\n              width=\"fit-content\"\r\n            />\r\n          </LPBreakdownPopover>\r\n        </Box>\r\n\r\n        <Box flex={1}>\r\n          <Text color={headerColor}>USD Value</Text>\r\n          <DisplayValue\r\n            isUpdating={isLPBalanceLoading}\r\n            prefix=\"$\"\r\n            value={userLPValue}\r\n            fontWeight=\"bold\"\r\n            decimals={8}\r\n            width=\"fit-content\"\r\n          />\r\n        </Box>\r\n\r\n        <Box\r\n          flex={1}\r\n          backgroundColor=\"#8888882f\"\r\n          mx={-3}\r\n          my={-1}\r\n          px={3}\r\n          py={1}\r\n          borderRadius=\"xl\"\r\n        >\r\n          <Text color={headerColor} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            Fees Earned\r\n          </Text>\r\n          <Popover trigger=\"hover\">\r\n            <PopoverTrigger>\r\n              <Box>\r\n                <FaInfoCircle />\r\n              </Box>\r\n            </PopoverTrigger>\r\n\r\n            <PopoverContent color={useColorModeValue('black', 'white')}>\r\n              <PopoverArrow />\r\n              <PopoverBody>\r\n                Your fees earned are based on periodic snapshots of the\r\n                estimated prices of the assets your fees accrued in. Both the\r\n                prices & assets that make up your fees earned are subject to\r\n                change.\r\n              </PopoverBody>\r\n            </PopoverContent>\r\n          </Popover>\r\n\r\n          <DisplayValue\r\n            color={successColor}\r\n            isUpdating={isMetricsLoading}\r\n            prefix=\"$\"\r\n            value={pairMetrics?.fees ?? 0}\r\n            fontWeight=\"bold\"\r\n            decimals={8}\r\n            width=\"fit-content\"\r\n          />\r\n        </Box>\r\n      </Flex>\r\n    </Flex>\r\n  );\r\n};\r\n","import { Image } from '@chakra-ui/image';\r\nimport { Box, Flex, HStack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { Price } from '@memecake/sonic-js';\r\nimport { FC, useMemo } from 'react';\r\n\r\nimport { questionMarkSrc } from '@/assets';\r\nimport { DisplayValue } from '@/components';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\ntype RemoveLiquidityModalAssetProps = Partial<AppTokenMetadata> & {\r\n  balance: string;\r\n  isUpdating?: boolean;\r\n};\r\n\r\nexport const RemoveLiquidityModalAsset: FC<RemoveLiquidityModalAssetProps> = ({\r\n  symbol,\r\n  decimals,\r\n  logo = questionMarkSrc,\r\n  balance = 0,\r\n  price = 0,\r\n  isUpdating,\r\n}) => {\r\n  const balancePrice = useMemo(\r\n    () => Price.getByAmount({ amount: String(balance), price }).toString(),\r\n    [balance, price]\r\n  );\r\n\r\n  const bg = useColorModeValue('gray.100', 'gray.700');\r\n\r\n  return (\r\n    <Flex justifyContent=\"space-between\">\r\n      <HStack pl={2} py={2} pr={4} bg={bg} borderRadius=\"full\" alignSelf=\"center\">\r\n        <Image src={logo} alt={symbol} boxSize={6} borderRadius=\"full\" />\r\n        <Text fontWeight=\"bold\">{symbol}</Text>\r\n      </HStack>\r\n      <Box textAlign=\"end\">\r\n        <Box fontSize=\"xl\" fontWeight=\"bold\">\r\n          <DisplayValue value={balance} isUpdating={isUpdating} decimals={decimals}/>\r\n        </Box>\r\n        <Box fontSize=\"xs\">\r\n          <DisplayValue value={balancePrice} prefix=\"~$\" isUpdating={isUpdating}/>\r\n        </Box>\r\n      </Box>\r\n    </Flex>\r\n  );\r\n};\r\n","import {\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n} from '@chakra-ui/modal';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Center,\r\n  Checkbox,\r\n  Divider,\r\n  Flex,\r\n  FormControl,\r\n  Heading,\r\n  Input,\r\n  SimpleGrid,\r\n  Slider,\r\n  SliderFilledTrack,\r\n  SliderThumb,\r\n  SliderTrack,\r\n  Stack,\r\n  Tooltip,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { Liquidity } from '@memecake/sonic-js';\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { useMemo } from 'react';\r\n\r\nimport { ENV } from '@/config';\r\nimport {\r\n  FeatureState,\r\n  liquidityViewActions,\r\n  modalsSliceActions,\r\n  NotificationType,\r\n  useAppDispatch,\r\n  useLiquidityViewStore,\r\n  useModalsStore,\r\n  useNotificationStore,\r\n  useSwapCanisterStore,\r\n} from '@/store';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { RemoveLiquidityModalAsset } from './remove-liquidity-modal-asset';\r\n\r\nconst PERCENTAGE_PRESETS = [25, 50, 75, 100];\r\n\r\nexport const RemoveLiquidityModal = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { isRemoveLiquidityModalOpened } = useModalsStore();\r\n  const { addNotification } = useNotificationStore();\r\n  const { token0, token1, removeAmountPercentage, keepInSonic } =\r\n    useLiquidityViewStore();\r\n  const { allPairs, userLPBalances, userLPBalancesState } =\r\n    useSwapCanisterStore();\r\n\r\n  const handleModalClose = () => {\r\n    dispatch(modalsSliceActions.closeRemoveLiquidityModal());\r\n  };\r\n\r\n  const handleRemoveLiquidity = () => {\r\n    addNotification({\r\n      title: `Removing LP of ${token0.metadata?.symbol} + ${token1.metadata?.symbol}`,\r\n      type: NotificationType.RemoveLiquidity,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(() => {\r\n      dispatch(liquidityViewActions.setRemoveAmountPercentage(0));\r\n    }, 300);\r\n    handleModalClose();\r\n  };\r\n\r\n  const handleSliderChange = (value: number) => {\r\n    dispatch(liquidityViewActions.setRemoveAmountPercentage(value));\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target;\r\n    if (value === '')\r\n      return dispatch(liquidityViewActions.setRemoveAmountPercentage(NaN));\r\n    const newValue = Math.max(1, Math.min(100, Number(value)));\r\n    dispatch(liquidityViewActions.setRemoveAmountPercentage(newValue));\r\n  };\r\n\r\n  const isBalancesUpdating = useMemo(\r\n    () => userLPBalancesState === FeatureState.Updating,\r\n    [userLPBalancesState]\r\n  );\r\n\r\n  const { balance0, balance1 } = useMemo(() => {\r\n    if (userLPBalances && allPairs && token0.metadata && token1.metadata) {\r\n      const lpBalance =\r\n        userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n      const pair = allPairs[token0.metadata.id]?.[token1.metadata.id];\r\n\r\n      const { balance0, balance1 } = Liquidity.getTokenBalances({\r\n        decimals0: token0.metadata.decimals,\r\n        decimals1: token1.metadata.decimals,\r\n        reserve0: pair?.reserve0 ?? 0,\r\n        reserve1: pair?.reserve1 ?? 0,\r\n        totalSupply: pair?.totalSupply ?? 0,\r\n        lpBalance,\r\n      });\r\n\r\n      return {\r\n        balance0: balance0\r\n          .multipliedBy(removeAmountPercentage / 100)\r\n          .toString(),\r\n        balance1: balance1\r\n          .multipliedBy(removeAmountPercentage / 100)\r\n          .toString(),\r\n      };\r\n    }\r\n\r\n    return {\r\n      balance0: '0',\r\n      balance1: '0',\r\n    };\r\n  }, [\r\n    userLPBalances,\r\n    allPairs,\r\n    token0.metadata,\r\n    token1.metadata,\r\n    removeAmountPercentage,\r\n  ]);\r\n\r\n  const { buttonMessage, isAmountIsLow } = useMemo(() => {\r\n    const AMOUNT_TOO_LOW_LABEL = 'Amount is too low';\r\n\r\n    if (userLPBalances && token0.metadata && token1.metadata) {\r\n      const tokensLPBalance =\r\n        userLPBalances[token0.metadata.id]?.[token1.metadata.id];\r\n      const lpAmount = (removeAmountPercentage / 100) * tokensLPBalance;\r\n\r\n      const isAmountIsLow =\r\n        lpAmount <= ENV.swapCanisterFee || !removeAmountPercentage;\r\n\r\n      return {\r\n        buttonMessage: isAmountIsLow ? AMOUNT_TOO_LOW_LABEL : 'Remove',\r\n        isAmountIsLow,\r\n      };\r\n    }\r\n\r\n    return {\r\n      buttonMessage: AMOUNT_TOO_LOW_LABEL,\r\n      isAmountIsLow: true,\r\n    };\r\n  }, [\r\n    removeAmountPercentage,\r\n    token0.metadata,\r\n    token1.metadata,\r\n    userLPBalances,\r\n  ]);\r\n\r\n  const borderColor = useColorModeValue('gray.300', 'gray.700');\r\n\r\n  const checkboxColorKeepInSonic = useColorModeValue('black', 'white');\r\n  const checkboxColorNotKeepInSonic = useColorModeValue('gray.600', 'custom.1');\r\n  const checkboxColor = keepInSonic\r\n    ? checkboxColorKeepInSonic\r\n    : checkboxColorNotKeepInSonic;\r\n\r\n  return (\r\n    <Modal\r\n      isCentered\r\n      isOpen={isRemoveLiquidityModalOpened}\r\n      onClose={handleModalClose}\r\n    >\r\n      <ModalOverlay />\r\n\r\n      <ModalContent>\r\n        <ModalCloseButton />\r\n        <ModalHeader>\r\n          <Heading as=\"h3\" size=\"sm\">\r\n            Remove Liquidity\r\n          </Heading>\r\n        </ModalHeader>\r\n        <ModalBody textAlign=\"center\">\r\n          <Heading as=\"h4\" size=\"xs\" color=\"gray.500\" mt={2}>\r\n            Amount\r\n          </Heading>\r\n          <Heading\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            as=\"h6\"\r\n            size=\"xl\"\r\n            fontWeight=\"bold\"\r\n            mt={2}\r\n            mb={4}\r\n          >\r\n            <Input\r\n              w={`${String(removeAmountPercentage || 1).length * 23 + 5}px`}\r\n              variant=\"unstyled\"\r\n              value={String(removeAmountPercentage || '')}\r\n              onChange={handleInputChange}\r\n              size=\"xl\"\r\n              fontWeight=\"bold\"\r\n              textAlign=\"right\"\r\n              type=\"number\"\r\n              step={1}\r\n            />\r\n            %\r\n          </Heading>\r\n          <Box px={6}>\r\n            <Slider\r\n              value={removeAmountPercentage || 1}\r\n              onChange={handleSliderChange}\r\n              colorScheme=\"dark-blue\"\r\n              focusThumbOnChange={false}\r\n              min={1}\r\n              max={100}\r\n            >\r\n              <SliderTrack>\r\n                <SliderFilledTrack />\r\n              </SliderTrack>\r\n              <SliderThumb />\r\n            </Slider>\r\n          </Box>\r\n\r\n          <SimpleGrid columns={4} spacing={4} py={6}>\r\n            {PERCENTAGE_PRESETS.map((preset) => (\r\n              <Tooltip\r\n                key={preset}\r\n                label={`${preset}% of your liquidity position`}\r\n              >\r\n                <Button\r\n                  lineHeight=\"1\"\r\n                  colorScheme=\"dark-blue\"\r\n                  variant=\"outline\"\r\n                  disabled={removeAmountPercentage === preset}\r\n                  onClick={() => handleSliderChange(preset)}\r\n                >\r\n                  {preset}%\r\n                </Button>\r\n              </Tooltip>\r\n            ))}\r\n          </SimpleGrid>\r\n\r\n          <Flex alignItems=\"center\" mx={-6}>\r\n            <Divider />\r\n            <Center\r\n              p={2.5}\r\n              borderWidth=\"1px\"\r\n              borderStyle=\"solid\"\r\n              borderColor={borderColor}\r\n              borderRadius=\"md\"\r\n            >\r\n              <FaArrowDown />\r\n            </Center>\r\n\r\n            <Divider />\r\n          </Flex>\r\n\r\n          <Stack mt={6} mb={4}>\r\n            <RemoveLiquidityModalAsset\r\n              {...token0.metadata}\r\n              balance={balance0}\r\n              isUpdating={isBalancesUpdating}\r\n            />\r\n            <RemoveLiquidityModalAsset\r\n              {...token1.metadata}\r\n              balance={balance1}\r\n              isUpdating={isBalancesUpdating}\r\n            />\r\n          </Stack>\r\n\r\n          <Flex direction=\"row\" alignItems=\"center\" borderRadius={5} pt={4}>\r\n            <FormControl dir=\"row\" alignItems=\"center\">\r\n              <Checkbox\r\n                isChecked={keepInSonic}\r\n                onChange={(e) =>\r\n                  dispatch(\r\n                    liquidityViewActions.setKeepInSonic(e.target.checked)\r\n                  )\r\n                }\r\n                colorScheme=\"dark-blue\"\r\n                size=\"md\"\r\n                color={checkboxColor}\r\n                fontWeight={600}\r\n              >\r\n                Keep tokens in Sonic after removing liquidity\r\n              </Checkbox>\r\n            </FormControl>\r\n          </Flex>\r\n        </ModalBody>\r\n\r\n        <ModalFooter>\r\n          <Button\r\n            variant=\"gradient\"\r\n            colorScheme=\"dark-blue\"\r\n            mb={3}\r\n            size=\"lg\"\r\n            isFullWidth\r\n            isDisabled={isAmountIsLow}\r\n            onClick={handleRemoveLiquidity}\r\n          >\r\n            {buttonMessage}\r\n          </Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n","export * from './add';\r\nexport * from './liquidity.utils';\r\nexport * from './list';\r\nexport * from './components';\r\n","import { Liquidity, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\n\r\nimport { AppAssetSource, getAppAssetsSources } from '@/config/utils';\r\nimport { SwapIDL } from '@/did';\r\nimport { Balances, BaseTokenData } from '@/models';\r\n\r\nexport const getShareOfPoolString = (\r\n  params: Liquidity.GetShareOfPoolParams\r\n) => {\r\n  const percentage = Liquidity.getShareOfPool(params).multipliedBy(100);\r\n\r\n  if (percentage.isEqualTo(0)) return '0%';\r\n\r\n  if (percentage.isLessThanOrEqualTo(0.01)) {\r\n    return '<0.01%';\r\n  }\r\n\r\n  return `${percentage.toFixed(2)}%`;\r\n};\r\n\r\nexport interface AddLiquidityMemoParams {\r\n  token0: BaseTokenData;\r\n  token1: BaseTokenData;\r\n  pair?: SwapIDL.PairInfoExt;\r\n}\r\n\r\nexport interface AddLiquidityMemo {\r\n  fee0: string;\r\n  fee1: string;\r\n  price0: string;\r\n  price1: string;\r\n  liquidityAmount?: string;\r\n  shareOfPool?: string;\r\n}\r\n\r\nexport const useAddLiquidityMemo = ({\r\n  token0,\r\n  token1,\r\n  pair,\r\n}: AddLiquidityMemoParams) =>\r\n  useMemo<AddLiquidityMemo>(() => {\r\n    try {\r\n      if (token0.metadata && token1.metadata && token0.value && token1.value) {\r\n        const fee0 = toBigNumber(token0.metadata.fee)\r\n          .multipliedBy(2)\r\n          .applyDecimals(token0.metadata.decimals)\r\n          .toString();\r\n\r\n        const fee1 = toBigNumber(token1.metadata.fee)\r\n          .multipliedBy(2)\r\n          .applyDecimals(token1.metadata.decimals)\r\n          .toString();\r\n\r\n        if (pair && Number(pair.reserve0) && Number(pair.reserve1)) {\r\n          // If pair exists and have reserves\r\n          const price0 = Liquidity.getOppositeAmount({\r\n            amountIn: '1',\r\n            reserveIn: pair.reserve1,\r\n            reserveOut: pair.reserve0,\r\n            decimalsIn: token1.metadata.decimals,\r\n            decimalsOut: token0.metadata.decimals,\r\n          }).toString();\r\n\r\n          const price1 = Liquidity.getOppositeAmount({\r\n            amountIn: '1',\r\n            reserveIn: pair.reserve0,\r\n            reserveOut: pair.reserve1,\r\n            decimalsIn: token0.metadata.decimals,\r\n            decimalsOut: token1.metadata.decimals,\r\n          }).toString();\r\n\r\n          const options = {\r\n            amount0: token0.value,\r\n            amount1: token1.value,\r\n            decimals0: token0.metadata?.decimals,\r\n            decimals1: token1.metadata?.decimals,\r\n            reserve0: pair.reserve0,\r\n            reserve1: pair.reserve1,\r\n            totalSupply: pair.totalSupply,\r\n          };\r\n\r\n          const liquidityAmount = Liquidity.getPosition(options)\r\n            .applyDecimals(Liquidity.PAIR_DECIMALS)\r\n            .toString();\r\n\r\n          const shareOfPool = getShareOfPoolString(options);\r\n\r\n          return {\r\n            fee0,\r\n            fee1,\r\n            price0,\r\n            price1,\r\n            liquidityAmount,\r\n            shareOfPool,\r\n          };\r\n        } else {\r\n          // If pair doesn't exist or doesn't have reserves\r\n          const price0 = toBigNumber(token0.value)\r\n            .div(token1.value)\r\n            .dp(token0.metadata.decimals)\r\n            .toString();\r\n\r\n          const price1 = toBigNumber(token1.value)\r\n            .div(token0.value)\r\n            .dp(token1.metadata.decimals)\r\n            .toString();\r\n\r\n          const liquidityAmount = Liquidity.getPosition({\r\n            amount0: token0.value,\r\n            amount1: token1.value,\r\n            decimals0: token0.metadata.decimals,\r\n            decimals1: token1.metadata.decimals,\r\n            reserve0: 0,\r\n            reserve1: 0,\r\n            totalSupply: 0,\r\n          })\r\n            .applyDecimals(Liquidity.PAIR_DECIMALS)\r\n            .toString();\r\n\r\n          return {\r\n            fee0,\r\n            fee1,\r\n            price0,\r\n            price1,\r\n            shareOfPool: '100%',\r\n            liquidityAmount,\r\n          };\r\n        }\r\n      }\r\n\r\n      throw new Error('Empty token data');\r\n    } catch {\r\n      // If token data is empty or invalid values\r\n      return {\r\n        fee0: '0',\r\n        fee1: '0',\r\n        price0: '0',\r\n        price1: '0',\r\n      };\r\n    }\r\n  }, [token0, token1, pair]);\r\n\r\nexport interface TokenSourceMemoParams {\r\n  token: BaseTokenData;\r\n  tokenBalances?: Balances;\r\n  sonicBalances?: Balances;\r\n}\r\n\r\nexport const useTokenSourceMemo = ({\r\n  token,\r\n  tokenBalances,\r\n  sonicBalances,\r\n}: TokenSourceMemoParams) =>\r\n  useMemo<AppAssetSource[] | undefined>(() => {\r\n    if (token.metadata) {\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          plug: tokenBalances ? tokenBalances[token.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[token.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [token.metadata, tokenBalances, sonicBalances]);\r\n","import { Box, Stack, Text, useColorModeValue } from '@chakra-ui/react';\r\nimport { Liquidity, toBigNumber } from '@memecake/sonic-js';\r\nimport { useMemo } from 'react';\r\nimport { useNavigate } from 'react-router';\r\n\r\nimport { Asset, Header, InformationBox, PlugNotConnected, TokenImageBlock } from '@/components';\r\nimport { useUserMetrics } from '@/hooks';\r\nimport { AppTokenMetadata } from '@/models';\r\n\r\nimport {\r\n  FeatureState, liquidityViewActions, modalsSliceActions, useAppDispatch, useLiquidityViewStore,\r\n  usePlugStore, useSwapCanisterStore,\r\n} from '@/store';\r\n\r\nimport { PairedUserLPToken, PairedUserLPTokenProps, RemoveLiquidityModal } from './components';\r\n\r\nconst INFORMATION_TITLE = 'Liquidity Provider Rewards';\r\nconst INFORMATION_DESCRIPTION = `Liquidity providers earn a 0.3% fee on all trades proportional to their share of the pool. Fees are added to the pool, \r\n  accrue in real time and can be claimed by withdrawing your liquidity. If you want to learn `;\r\n\r\nconst INFORMATION_LINK = 'https://docs.sonic.ooo/product/adding-liquidity/claiming-your-rewards';\r\n\r\nconst InformationDescription = () => {\r\n  const color = useColorModeValue('gray.600', 'custom.1');\r\n\r\n  return (\r\n    <Text color={color}>\r\n      {INFORMATION_DESCRIPTION}\r\n      <Box as=\"a\" color={color} href={INFORMATION_LINK} textDecoration=\"underline\" _visited={{ color: color }}>\r\n        review our documentation\r\n      </Box>\r\n      .\r\n    </Text>\r\n  );\r\n};\r\n\r\nexport const LiquidityListView = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { isConnected } = usePlugStore();\r\n\r\n  const { allPairs, allPairsState, userLPBalances, userLPBalancesState, supportedTokenList, supportedTokenListState } = useSwapCanisterStore();\r\n  const { isBannerOpened } = useLiquidityViewStore();\r\n  const { isLoading: isMetricsLoading, userPairMetrics } = useUserMetrics();\r\n\r\n  const moveToAddLiquidityView = (token0?: string, token1?: string) => {\r\n    const query = token0 || token1\r\n        ? `?${token0 ? `token0=${token0}` : ''}${token1 ? `&token1=${token1}` : ''\r\n        }`\r\n        : '';\r\n    navigate(`/liquidity/add${query}`);\r\n  };\r\n\r\n  const handleInformationClose = () => { dispatch(liquidityViewActions.setIsBannerOpened(false));};\r\n\r\n  const handleOpenRemoveLiquidityModal = ( token0: AppTokenMetadata, token1: AppTokenMetadata) => {\r\n    dispatch(liquidityViewActions.setToken({ data: 'token0', token: token0 }));\r\n    dispatch(liquidityViewActions.setToken({ data: 'token1', token: token1 }));\r\n    dispatch(modalsSliceActions.openRemoveLiquidityModal());\r\n  };\r\n\r\n  const isLoading = useMemo(() => {\r\n    return (\r\n      allPairsState === FeatureState.Loading ||\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      userLPBalancesState === FeatureState.Loading\r\n    );\r\n  }, [allPairsState, supportedTokenListState, userLPBalancesState]);\r\n\r\n  const isUserLPBalancesUpdating = useMemo(() => {\r\n    return userLPBalancesState === FeatureState.Updating;\r\n  }, [userLPBalancesState]);\r\n\r\n  const isUpdating = useMemo(() => {\r\n    return (\r\n      allPairsState === FeatureState.Updating ||\r\n      supportedTokenListState === FeatureState.Updating ||\r\n      isUserLPBalancesUpdating\r\n    );\r\n  }, [allPairsState, supportedTokenListState, isUserLPBalancesUpdating]);\r\n\r\n  const pairedUserLPTokens = useMemo(() => {\r\n    if (userLPBalances && supportedTokenList && allPairs) {\r\n      const lpBalancesPairIDs = Object.keys(userLPBalances);\r\n      const existentPairs = new Set();\r\n\r\n      return lpBalancesPairIDs.reduce((acc, tokenId0) => {\r\n        const pairedList: PairedUserLPTokenProps[] = [];\r\n\r\n        for (const tokenId1 in userLPBalances[tokenId0]) {\r\n          if (existentPairs.has(`${tokenId1}:${tokenId0}`)) continue;\r\n          existentPairs.add(`${tokenId0}:${tokenId1}`);\r\n\r\n          const token0 = supportedTokenList.find((token) => token.id === tokenId0);\r\n          const token1 = supportedTokenList.find((token) => token.id === tokenId1);\r\n\r\n          let balance0, balance1;\r\n\r\n          if (userLPBalances && allPairs && token0 && token1) {\r\n            const lpBalance = userLPBalances[token0.id]?.[token1.id];\r\n            const pair = allPairs[token0.id]?.[token1.id];\r\n\r\n            const balances = Liquidity.getTokenBalances({\r\n              decimals0: token0.decimals,\r\n              decimals1: token1.decimals,\r\n              reserve0: pair?.reserve0 ?? 0,\r\n              reserve1: pair?.reserve1 ?? 0,\r\n              totalSupply: pair?.totalSupply ?? 0,\r\n              lpBalance,\r\n            });\r\n\r\n            balance0 = balances.balance0.toString();\r\n            balance1 = balances.balance1.toString();\r\n          }\r\n\r\n          const userShares = toBigNumber(userLPBalances[tokenId0][tokenId1]).applyDecimals(Liquidity.PAIR_DECIMALS).toString();\r\n\r\n          const totalShares = toBigNumber(\r\n            allPairs?.[tokenId0]?.[tokenId1]?.totalSupply\r\n          ).applyDecimals(Liquidity.PAIR_DECIMALS).toString();\r\n\r\n          pairedList.push({\r\n            pairId: allPairs?.[tokenId0]?.[tokenId1]?.id,\r\n            token0,\r\n            token1,\r\n            balance0,\r\n            balance1,\r\n            userShares,\r\n            totalShares,\r\n            allPairs,\r\n          } as PairedUserLPTokenProps);\r\n        }\r\n\r\n        return [...acc, ...pairedList];\r\n      }, [] as PairedUserLPTokenProps[]);\r\n    }\r\n  }, [userLPBalances, supportedTokenList, allPairs]);\r\n\r\n  const headerColor = useColorModeValue('gray.600', 'gray.400');\r\n\r\n  return (\r\n    <div>\r\n      <Header\r\n        title=\"Your Liquidity Positions\"\r\n        buttonText=\"Create Position\"\r\n        onButtonClick={() => moveToAddLiquidityView()}\r\n        isUpdating={isUpdating}\r\n      >\r\n        {isBannerOpened && (\r\n          <InformationBox\r\n            onClose={handleInformationClose}\r\n            title={INFORMATION_TITLE}\r\n            mb={9}\r\n          >\r\n            <InformationDescription />\r\n          </InformationBox>\r\n        )}\r\n      </Header>\r\n\r\n      <RemoveLiquidityModal />\r\n\r\n      {!isConnected ? (\r\n        <PlugNotConnected message=\"Your liquidity positions will appear here.\" />\r\n      ) : isLoading ? (\r\n        <Stack spacing={4}>\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n\r\n          <Asset isLoading justifyContent=\"flex-start\" gridGap={2}>\r\n            <TokenImageBlock size={7} isLoading />\r\n            <TokenImageBlock size={7} isLoading />\r\n          </Asset>\r\n        </Stack>\r\n      ) : !pairedUserLPTokens?.length ? (\r\n        <Text textAlign=\"center\" color={headerColor}>\r\n          You have no liquidity positions\r\n        </Text>\r\n      ) : (\r\n        <Stack\r\n          css={{ msOverflowStyle: 'none', scrollbarWidth: 'none','&::-webkit-scrollbar': { display: 'none'}}}\r\n          spacing={4} pb={40} overflow=\"auto\">\r\n          {pairedUserLPTokens.map((userLPToken) => {\r\n            return (\r\n              <PairedUserLPToken {...userLPToken} key={userLPToken.pairId} handleRemove={handleOpenRemoveLiquidityModal}\r\n                handleAdd={moveToAddLiquidityView} pairMetrics={userPairMetrics?.[userLPToken.pairId]}\r\n                isMetricsLoading={isMetricsLoading} isLPBalanceLoading={isUserLPBalancesUpdating}\r\n              />\r\n            );\r\n          })}\r\n        </Stack>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Image,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport { FaLink } from '@react-icons/all-files/fa/FaLink';\r\nimport { useMemo } from 'react';\r\n\r\nimport { SwapTokenData, useSwapViewStore } from '@/store';\r\n\r\nexport interface ChainPopoverProps {\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n}\r\n\r\nexport const ChainPopover: React.FC<ChainPopoverProps> = ({ from, to }) => {\r\n  const { tokenList } = useSwapViewStore();\r\n  const [path, isChained] = useMemo(() => {\r\n    if (to.metadata) {\r\n      const path = from.paths[to.metadata.id];\r\n      return [path, path?.path?.length > 2];\r\n    }\r\n    return [];\r\n  }, [from, to]);\r\n\r\n  const bg = useColorModeValue('gray.200', 'gray.700');\r\n\r\n  if (!path || !tokenList || !isChained)\r\n    return (\r\n      <Flex justifyContent=\"center\" alignItems=\"center\">\r\n        {from.metadata?.symbol}\r\n        &nbsp;\r\n        <FaArrowRight />\r\n        &nbsp;\r\n        {to.metadata?.symbol}\r\n      </Flex>\r\n    );\r\n\r\n  return (\r\n    <Popover trigger=\"hover\">\r\n      <PopoverTrigger>\r\n        <Flex justifyContent=\"center\" alignItems=\"center\">\r\n          {from.metadata?.symbol}\r\n          &nbsp;\r\n          <FaLink />\r\n          &nbsp;\r\n          {to.metadata?.symbol}\r\n        </Flex>\r\n      </PopoverTrigger>\r\n\r\n      <PopoverContent width=\"320px\" minWidth=\"fit-content\">\r\n        <PopoverArrow />\r\n        <PopoverBody>\r\n          <Flex width=\"full\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            {path.path.map((item, index) => (\r\n              <div key={index}>\r\n                <Flex\r\n                  px={2}\r\n                  py={1}\r\n                  borderRadius={4}\r\n                  backgroundColor={bg}\r\n                  fontSize=\"0.75rem\"\r\n                  justifyContent=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Image src={tokenList[item].logo} width={3} mr={1} />\r\n                  {tokenList[item].symbol}\r\n                </Flex>\r\n\r\n                {index !== path.path.length - 1 && (\r\n                  <FaArrowRight size={12} style={{ margin: '0 5px' }} />\r\n                )}\r\n              </div>\r\n            ))}\r\n          </Flex>\r\n        </PopoverBody>\r\n      </PopoverContent>\r\n    </Popover>\r\n  );\r\n};\r\n","import {\r\n  Flex,\r\n  Icon,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverHeader,\r\n  PopoverTrigger,\r\n  Portal,\r\n  Stack,\r\n  Text,\r\n} from '@chakra-ui/react';\r\nimport { toBigNumber } from '@memecake/sonic-js';\r\nimport { FaArrowRight } from '@react-icons/all-files/fa/FaArrowRight';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport BigNumber from 'bignumber.js';\r\nimport React, { useMemo } from 'react';\r\n\r\nimport { DisplayValue, StackLine } from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances, useTokenSelectionChecker } from '@/hooks';\r\nimport { useCyclesMintingCanisterStore, useSwapViewStore } from '@/store';\r\nimport { formatValue } from '@/utils/format';\r\n\r\nimport { getSwapAmountOutMin } from '..';\r\nimport { getAmountOutRatio, getXTCValueByXDRRate } from '../swap.utils';\r\nimport { ChainPopover } from './chain-popover';\r\n\r\nexport type ExchangeBoxProps = {\r\n  priceImpact?: string;\r\n};\r\n\r\nexport const ExchangeBox: React.FC<ExchangeBoxProps> = ({ priceImpact }) => {\r\n  const { from, to, slippage, keepInSonic, allPairs } = useSwapViewStore();\r\n\r\n  const { sonicBalances } = useBalances();\r\n\r\n  const { ICPXDRconversionRate } = useCyclesMintingCanisterStore();\r\n\r\n  const { isFirstIsSelected: isFromTokenIsICP,\r\n    isSecondIsSelected: isToTokenIsICP } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id });\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsWICP,\r\n    isSecondIsSelected: isToTokenIsWICP,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.WICP });\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsXTC,\r\n    isSecondIsSelected: isToTokenIsXTC,\r\n  } = useTokenSelectionChecker({\r\n    id0: from.metadata?.id,\r\n    id1: to.metadata?.id,\r\n    targetId: ENV.canistersPrincipalIDs.XTC,\r\n  });\r\n\r\n  const { depositFee, withdrawFee } = useMemo(() => {\r\n    if (from.metadata?.id && to.metadata?.id && sonicBalances) {\r\n      const hasDeposit = sonicBalances[from.metadata.id] < Number(from.value);\r\n      const depositFee =\r\n        hasDeposit && Number(from.metadata.fee) > 0\r\n          ? toBigNumber(BigInt(2) * from.metadata.fee)\r\n            .applyDecimals(from.metadata.decimals)\r\n            .toString()\r\n          : undefined;\r\n\r\n      const withdrawFee =\r\n        !keepInSonic && Number(to.metadata.fee) > 0\r\n          ? toBigNumber(to.metadata.fee)\r\n            .applyDecimals(to.metadata.decimals)\r\n            .toString()\r\n          : undefined;\r\n\r\n      return { depositFee, withdrawFee };\r\n    }\r\n\r\n    return {};\r\n  }, [from, to, sonicBalances, keepInSonic]);\r\n\r\n  const { icpMetadata, operation, fee, feeSymbol } = useMemo(() => {\r\n\r\n    const icpMetadata = isFromTokenIsICP ? from.metadata: isToTokenIsICP? to.metadata: undefined;\r\n    const xtcMetadata = isToTokenIsXTC && to.metadata;\r\n\r\n    const operation = isFromTokenIsWICP? 'Unwrap': isToTokenIsWICP ? 'Wrap' : isFromTokenIsXTC ? 'Swap' : isToTokenIsXTC ? 'Mint XTC': undefined;\r\n\r\n    const icpFeeInXTC = xtcMetadata && ICPXDRconversionRate?\r\n      getXTCValueByXDRRate({\r\n         amount: formatValue(ICP_METADATA.fee, ICP_METADATA.decimals), conversionRate: ICPXDRconversionRate,\r\n        }).minus(formatValue(xtcMetadata.fee, xtcMetadata.decimals)): new BigNumber(0);\r\n\r\n    const xtcFees = icpMetadata? \r\n    toBigNumber( (to.metadata?.fee ?? BigInt(0)) * (keepInSonic ? BigInt(3) : BigInt(1)))\r\n        .applyDecimals(to.metadata?.decimals ?? 0).plus(icpFeeInXTC.multipliedBy(2)).toString()\r\n      : '0';\r\n\r\n    const wicpFee = icpMetadata? toBigNumber(icpMetadata.fee).applyDecimals(icpMetadata.decimals).toString(): '0';\r\n\r\n    const fee = isToTokenIsXTC ? xtcFees : wicpFee;\r\n    const feeSymbol = isToTokenIsXTC ? 'XTC' : 'ICP';\r\n    return { icpMetadata, operation, fee, feeSymbol };\r\n    \r\n  }, [ isFromTokenIsICP, from.metadata, isToTokenIsICP, to.metadata, isToTokenIsXTC,isFromTokenIsWICP,\r\n    isToTokenIsWICP,isFromTokenIsXTC, ICPXDRconversionRate,keepInSonic,\r\n  ]);\r\n\r\n  const pathAmountOut = useMemo( () => getAmountOutRatio(from, to, allPairs), [from, to, allPairs]);\r\n\r\n  const amountOutMin = useMemo( () =>\r\n      getSwapAmountOutMin({ from, to, slippage, allPairs, hasDeposit: Boolean(depositFee), hasWithdraw: keepInSonic}),\r\n    [allPairs, depositFee, from, keepInSonic, slippage, to]\r\n  );\r\n\r\n  if (!from.metadata || !to.metadata) return null;\r\n\r\n  if (icpMetadata) {\r\n    return (\r\n      <Flex opacity={0.4} alignItems=\"center\" px={4} fontWeight={400}>\r\n        <Text display=\"flex\" alignItems=\"center\">\r\n          {from.metadata.symbol}&nbsp;\r\n          <FaArrowRight />\r\n          &nbsp;{to.metadata.symbol}\r\n        </Text>\r\n        <Text flex={1} textAlign=\"right\">\r\n          {operation} Fee = <DisplayValue as=\"span\" value={fee} /> {feeSymbol}\r\n        </Text>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Flex alignItems=\"center\" px={4} fontWeight={400}>\r\n      <ChainPopover from={from} to={to} />\r\n      <Text flex={1} textAlign=\"right\" mx={2}>\r\n        1&nbsp;{from.metadata.symbol}&nbsp;=&nbsp;\r\n        {pathAmountOut}\r\n        &nbsp;\r\n        {to.metadata.symbol}\r\n      </Text>\r\n      <Popover trigger=\"hover\">\r\n        <PopoverTrigger>\r\n          <Flex>\r\n            <Icon as={FaInfoCircle} width={5} transition=\"opacity 200ms\" />\r\n          </Flex>\r\n        </PopoverTrigger>\r\n        <Portal>\r\n          <PopoverContent minWidth=\"25rem\">\r\n            <PopoverHeader>Transaction Details</PopoverHeader>\r\n            <PopoverArrow />\r\n            <PopoverBody display=\"inline-block\">\r\n              <Stack>\r\n                <StackLine\r\n                  title=\"Minimum Received\"\r\n                  value={`${amountOutMin} ${to.metadata.symbol}`}\r\n                />\r\n                <StackLine\r\n                  title=\"Price Impact\"\r\n                  value={\r\n                    <DisplayValue as=\"span\" value={priceImpact} suffix=\"%\" />\r\n                  }\r\n                />\r\n                <StackLine title=\"Allowed Slippage\" value={`${slippage}%`} />\r\n                {depositFee && (\r\n                  <StackLine\r\n                    title=\"Deposit Fee\"\r\n                    value={`${depositFee} ${from.metadata.symbol}`}\r\n                  />\r\n                )}\r\n                {withdrawFee && (\r\n                  <StackLine\r\n                    title=\"Withdraw Fee\"\r\n                    value={`${withdrawFee} ${to.metadata.symbol}`}\r\n                  />\r\n                )}\r\n              </Stack>\r\n            </PopoverBody>\r\n          </PopoverContent>\r\n        </Portal>\r\n      </Popover>\r\n    </Flex>\r\n  );\r\n};\r\n","export * from './exchange-box';\r\nexport * from './keep-in-sonic-box';\r\nexport * from './topmenu';\r\n","import {\r\n  Checkbox,\r\n  Flex,\r\n  FormControl,\r\n  Icon,\r\n  Link,\r\n  Popover,\r\n  PopoverArrow,\r\n  PopoverBody,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n  Portal,\r\n  Text,\r\n  useColorModeValue,\r\n} from '@chakra-ui/react';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\nimport { useMemo } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch, useSwapViewStore } from '@/store';\r\n\r\nexport enum OperationType {\r\n  Swap = 'swap',\r\n  Wrap = 'wrap',\r\n  Mint = 'mint',\r\n}\r\n\r\ntype KeepInSonicBoxProps = {\r\n  symbol?: string;\r\n  operation?: OperationType;\r\n  canHeldInSonic?: boolean;\r\n};\r\n\r\nconst KEEP_IN_SONIC_LINK =\r\n  'https://docs.sonic.ooo/product/assets#keeping-assets-in-sonic-after-a-swap';\r\n\r\nexport const KeepInSonicBox: React.FC<KeepInSonicBoxProps> = ({\r\n  symbol,\r\n  operation = 'swap',\r\n  canHeldInSonic = true,\r\n}) => {\r\n  const { keepInSonic } = useSwapViewStore();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const linkColor = useColorModeValue('dark-blue.300', 'dark-blue.500');\r\n  const bg = useColorModeValue('gray.50', 'custom.2');\r\n  const shadow = useColorModeValue('base', 'none');\r\n\r\n  const checkboxColorKeepInSonic = useColorModeValue('black', 'white');\r\n  const checkboxColorNotKeepInSonic = useColorModeValue('gray.600', 'custom.1');\r\n  const checkboxColor = keepInSonic ? checkboxColorKeepInSonic : checkboxColorNotKeepInSonic;\r\n\r\n  const { label, popoverLabel } = useMemo(() => {\r\n    switch (operation) {\r\n      case 'swap':\r\n        return {\r\n          label: `Keep ${symbol ? symbol : 'tokens'\r\n            } in Sonic after ${operation}`,\r\n          popoverLabel: (\r\n            <>\r\n              Keeping tokens in Sonic (instead of withdrawing to Plug) is good\r\n              for high frequency trading where a few extra seconds matter a lot.\r\n              By doing this, you can skip the deposit step on your next trades\r\n              and save 2-3 seconds each time.&nbsp;\r\n              <Link href={KEEP_IN_SONIC_LINK} color={linkColor}>\r\n                Learn More\r\n              </Link>\r\n              .\r\n            </>\r\n          ),\r\n        };\r\n      case 'mint':\r\n      case 'wrap':\r\n        return {\r\n          label: `Deposit ${symbol ? symbol : 'tokens'\r\n            } to Sonic after ${operation}`,\r\n          popoverLabel: (\r\n            <>\r\n              If you keep your tokens deposited in Sonic (instead of withdrawing\r\n              to Plug) you can start swaps or add liquidity faster on your next\r\n              operation. &nbsp;\r\n              <Link href={KEEP_IN_SONIC_LINK} color={linkColor}>\r\n                Learn More\r\n              </Link>\r\n              .\r\n            </>\r\n          ),\r\n        };\r\n      default:\r\n        return {\r\n          label: 'Keep in Sonic',\r\n          popoverLabel: 'Keep in Sonic',\r\n        };\r\n    }\r\n  }, [operation, symbol]);\r\n\r\n  return (\r\n    <Flex\r\n      direction=\"row\"\r\n      justifyContent=\"space-between\"\r\n      alignItems=\"center\"\r\n      borderRadius=\"xl\"\r\n      bg={bg}\r\n      shadow={shadow}\r\n      px={5}\r\n      py={4}\r\n      mb={5}\r\n    >\r\n      {canHeldInSonic ? (\r\n        <>\r\n          <FormControl dir=\"row\" alignItems=\"center\">\r\n            <Checkbox\r\n              isChecked={keepInSonic}\r\n              onChange={(e) =>\r\n                dispatch(swapViewActions.setKeepInSonic(e.target.checked))\r\n              }\r\n              colorScheme=\"dark-blue\"\r\n              color={checkboxColor}\r\n              fontWeight={600}\r\n            >\r\n              {label}\r\n            </Checkbox>\r\n          </FormControl>\r\n          <Popover trigger=\"hover\">\r\n            <PopoverTrigger>\r\n              <Flex>\r\n                <Icon\r\n                  as={FaInfoCircle}\r\n                  width={5}\r\n                  transition=\"opacity 200ms\"\r\n                  opacity={keepInSonic ? 1 : 0.5}\r\n                />\r\n              </Flex>\r\n            </PopoverTrigger>\r\n            <Portal>\r\n              <PopoverContent>\r\n                <PopoverArrow />\r\n                <PopoverBody display=\"inline-block\">{popoverLabel}</PopoverBody>\r\n              </PopoverContent>\r\n            </Portal>\r\n          </Popover>\r\n        </>\r\n      ) : (\r\n        <Text fontWeight=\"bold\" color=\"gray.400\">\r\n          {symbol} can’t be held in the Sonic canister\r\n        </Text>\r\n      )}\r\n    </Flex>\r\n  );\r\n};\r\n","import React from 'react';\r\n\r\nimport { Flex, Button } from '@chakra-ui/react';\r\nimport { Link } from 'react-router-dom';\r\ntype options = {\r\n    tabname?: string;\r\n};\r\n\r\nexport const SwapSubTab: React.FC<options> = ({ tabname }) => {\r\n    var url = location.pathname;\r\n    return (\r\n        <Flex gap={4} direction='row' align='center' alignItems='center' style={ {justifyContent: 'center'}}>\r\n            <Button style={\r\n                { backgroundColor: (url == '/swap')?'#3F51B5' :'transparent' , border:\"1\" , color:'white' , borderColor:'#3F51B5' }} \r\n                as={Link} colorScheme='blue'  to={'/swap'} variant='outline' px={6}>\r\n              Swap\r\n            </Button>\r\n            <Button  style={\r\n                { backgroundColor: (url == '/swap/mint')?'#3F51B5' :'transparent' , border:\"1\" , color:'white' , borderColor:'#3F51B5' }} \r\n                as={Link} colorScheme='blue'  to={'/swap/mint'} variant='outline'  px={6}>\r\n            Mint\r\n            </Button>\r\n        </Flex>\r\n    );\r\n}","export * from './use-swap-view-data';\r\n","import { Link } from '@chakra-ui/react';\r\nimport { Pair, Swap, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\nimport { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { batch } from 'react-redux';\r\n\r\nimport { PLUG_WALLET_WEBSITE_URL } from '@/components';\r\nimport { ENV } from '@/config';\r\nimport { getAppAssetsSources } from '@/config/utils';\r\nimport { ICP_METADATA } from '@/constants';\r\nimport { useBalances, useQuery, useTokenAllowance, useTokenBalanceMemo, useTokenSelectionChecker } from '@/hooks';\r\n\r\nimport { checkIfPlugProviderVersionCompatible } from '@/integrations/plug';\r\nimport {\r\n  FeatureState, INITIAL_SWAP_SLIPPAGE, NotificationType, SwapTokenDataKey, swapViewActions, useAppDispatch, useCyclesMintingCanisterStore,\r\n  useNotificationStore, usePlugStore, usePriceStore, useSwapCanisterStore, useSwapViewStore, useTokenModalOpener, getTokenPath\r\n} from '@/store';\r\n\r\nimport { formatValue, getMaxValue } from '@/utils/format';\r\nimport { debounce } from '@/utils/function';\r\n\r\nimport { OperationType } from '../components';\r\nimport {\r\n  getAmountOutFromPath, getICPValueByXDRRate, getXTCValueByXDRRate,\r\n} from '../swap.utils';\r\n\r\nexport enum SwapStep { Home, Review }\r\n\r\nexport const useSwapViewData = (action:string) => {\r\n  const dispatch = useAppDispatch();\r\n  const [lastChangedInputDataKey, setLastChangedInputDataKey] = useState<SwapTokenDataKey>('from');\r\n\r\n  const [step, setStep] = useState(SwapStep.Home);\r\n  const [isAutoSlippage, setIsAutoSlippage] = useState(true);\r\n\r\n  const query = useQuery();\r\n  const { addNotification } = useNotificationStore();\r\n  const { fromTokenOptions, toTokenOptions, from, to, tokenList, keepInSonic } = useSwapViewStore();\r\n  \r\n  const {\r\n    sonicBalances, tokenBalances, icpBalance, balancesState, supportedTokenListState,\r\n    supportedTokenList, allPairsState, allPairs,\r\n  } = useSwapCanisterStore();\r\n\r\n  const { totalBalances } = useBalances();\r\n\r\n  const { ICPXDRconversionRate } = useCyclesMintingCanisterStore();\r\n  const { state: priceState } = usePriceStore();\r\n  const { isConnected } = usePlugStore();\r\n\r\n  const openSelectTokenModal = useTokenModalOpener();\r\n\r\n  const {\r\n    isFirstIsSelected: isFromTokenIsICP,\r\n    isSecondIsSelected: isToTokenIsICP,\r\n    isTokenSelected: isICPSelected,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id });\r\n\r\n  const {\r\n    isTokenSelected: isWICPSelected,\r\n    isFirstIsSelected: isFromTokenIsWICP,\r\n    isSecondIsSelected: isToTokenIsWICP,\r\n  } = useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.WICP });\r\n\r\n  const {\r\n    isSecondIsSelected: isToTokenIsXTC, isTokenSelected: isXTCSelected } =\r\n    useTokenSelectionChecker({ id0: from.metadata?.id, id1: to.metadata?.id, targetId: ENV.canistersPrincipalIDs.XTC });\r\n\r\n  const fromBalance = useTokenBalanceMemo(from.metadata?.id);\r\n  const toBalance = useTokenBalanceMemo(to.metadata?.id);\r\n\r\n  function handleICPToWICPChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n\r\n    const _newValue = new BigNumber(newValue);\r\n    const icpFee = formatValue(ICP_METADATA.fee, ICP_METADATA.decimals);\r\n\r\n    const value =\r\n      dataKey === 'from' ? _newValue.minus(icpFee) : _newValue.plus(icpFee);\r\n\r\n    dispatch(\r\n      swapViewActions.setValue({\r\n        data: oppositeDataKey,\r\n        value: value.toNumber() > 0 ? value.dp(ICP_METADATA.decimals).toString() : '',\r\n      })\r\n    );\r\n  }\r\n\r\n  function handleICPToXTCChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n\r\n    const xtcMetadata = tokenList?.[ENV.canistersPrincipalIDs.XTC];\r\n\r\n    if (ICPXDRconversionRate && xtcMetadata) {\r\n      const handler =\r\n        dataKey === 'from' ? getXTCValueByXDRRate : getICPValueByXDRRate;\r\n\r\n      const xtcFee = new BigNumber(\r\n        formatValue(xtcMetadata.fee, xtcMetadata.decimals)\r\n      );\r\n\r\n      const icpFeesConvertedToXTC = getXTCValueByXDRRate({\r\n        amount: formatValue(ICP_METADATA.fee, ICP_METADATA.decimals),\r\n        conversionRate: ICPXDRconversionRate,\r\n      }).minus(xtcFee).multipliedBy(2);\r\n\r\n      const xtcFees = xtcFee.multipliedBy(keepInSonic ? 4 : 2);\r\n\r\n      const amount =\r\n        dataKey === 'from'\r\n          ? newValue\r\n          : new BigNumber(newValue).plus(xtcFees).plus(icpFeesConvertedToXTC).toString();\r\n\r\n      const rateBasedAmount = handler({ amount, conversionRate: ICPXDRconversionRate});\r\n\r\n      const resultAmount =\r\n        dataKey === 'from'\r\n          ? rateBasedAmount.minus(icpFeesConvertedToXTC).minus(xtcFees)\r\n          : rateBasedAmount.dp(ICP_METADATA.decimals);\r\n\r\n      dispatch(\r\n        swapViewActions.setValue({\r\n          data: oppositeDataKey,\r\n          value: resultAmount.toNumber() > 0 ? resultAmount.toString() : '',\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  function handleICPToTokenChange(newValue: string, dataKey: SwapTokenDataKey) {\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n    const data = dataKey === 'from' ? from : to;\r\n    const oppositeData = dataKey === 'from' ? to : from;\r\n\r\n    const wrappedICPMetadata = supportedTokenList?.find((token) => token.id === ENV.canistersPrincipalIDs.WICP);\r\n\r\n    if (wrappedICPMetadata && tokenList && allPairs) {\r\n      const paths = getTokenPath({\r\n        pairList: allPairs as unknown as Pair.List, tokenList,\r\n        tokenId: wrappedICPMetadata.id, amount: newValue,\r\n      });\r\n      const dataWICP = { ...data, metadata: wrappedICPMetadata, paths };\r\n      dispatch(swapViewActions.setValue({ data: oppositeDataKey, value: getAmountOutFromPath(dataWICP, oppositeData) }));\r\n    }\r\n  }\r\n\r\n  const handleSetValue = (value: string, dataKey: SwapTokenDataKey) => {\r\n    dispatch(swapViewActions.setValue({ data: dataKey, value }));\r\n  };\r\n\r\n  const resetViewState = useCallback(() => {\r\n    setStep(SwapStep.Home);\r\n    dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n    dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n  }, [dispatch]);\r\n\r\n  const resetStepToHome = useCallback(() => {\r\n    if (step === SwapStep.Review) {\r\n      setStep(SwapStep.Home);\r\n    }\r\n  }, [step]);\r\n\r\n  const handleChangeValue = (value: string, dataKey: SwapTokenDataKey) => {\r\n    if (!from.metadata || !allPairs) return;\r\n    resetStepToHome();\r\n    handleSetValue(value, dataKey);\r\n\r\n    if (isICPSelected && isWICPSelected) {\r\n      handleICPToWICPChange(value, dataKey);\r\n      return;\r\n    }\r\n\r\n    if (isICPSelected && isXTCSelected) {\r\n      handleICPToXTCChange(value, dataKey);\r\n      return;\r\n    }\r\n\r\n    if (isICPSelected) {\r\n      handleICPToTokenChange(value, dataKey);\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleSwitchTokens = () => {\r\n    resetStepToHome();\r\n\r\n    if (!to.metadata || (isFromTokenIsICP && isToTokenIsXTC)) {\r\n      dispatch(swapViewActions.switchTokens(lastChangedInputDataKey));\r\n      dispatch(swapViewActions.setToken({ data: 'to', tokenId: '' }));\r\n    } else {\r\n      dispatch(swapViewActions.switchTokens(lastChangedInputDataKey));\r\n      setLastChangedInputDataKey(\r\n        lastChangedInputDataKey === 'from' ? 'to' : 'from'\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleMaxClick = (dataKey: SwapTokenDataKey) => {\r\n    const balance = dataKey === 'from' ? fromBalance : toBalance;\r\n    const metadata = dataKey === 'from' ? from.metadata : to.metadata;\r\n\r\n    if (!balance) { return }\r\n\r\n    const maxValue = getMaxValue(metadata, balance).toString();\r\n    handleChangeValue(maxValue, dataKey);\r\n  };\r\n\r\n  const handleSelectToken = (dataKey: SwapTokenDataKey) => {\r\n    resetStepToHome();\r\n\r\n    const options = dataKey === 'from' ? fromTokenOptions : toTokenOptions;\r\n    const oppositeDataKey = dataKey === 'from' ? 'to' : 'from';\r\n    const oppositeTokenId = dataKey === 'from' ? to.metadata?.id : from.metadata?.id;\r\n\r\n    openSelectTokenModal({\r\n      metadata: options,\r\n      onSelect: (tokenId) => {\r\n        batch(() => {\r\n          if (\r\n            (dataKey === 'from' && from?.metadata?.id === tokenId) ||\r\n            (dataKey === 'to' && to?.metadata?.id === tokenId)\r\n          ) {\r\n            return;\r\n          }\r\n          if (oppositeTokenId === tokenId) {\r\n            dispatch(swapViewActions.setToken({ data: oppositeDataKey, tokenId: undefined }));\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n          } else if (tokenId === ENV.canistersPrincipalIDs.XTC && to.metadata?.id === ICP_METADATA.id) {\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n            dispatch(swapViewActions.setToken({ data: oppositeDataKey, tokenId: '' }));\r\n          } else {\r\n            dispatch(swapViewActions.setToken({ data: dataKey, tokenId }));\r\n          }\r\n        });\r\n      },\r\n      selectedTokenIds,\r\n    });\r\n  };\r\n\r\n  const checkIsPlugProviderVersionCompatible = useCallback(() => {\r\n    if (checkIfPlugProviderVersionCompatible()) {\r\n      return true;\r\n    }\r\n\r\n    addNotification({\r\n      title: (\r\n        <div>\r\n          You're using an outdated version of Plug, please update to the latest\r\n          one{' '}\r\n          <Link color=\"blue.400\" href={PLUG_WALLET_WEBSITE_URL} target=\"_blank\" rel=\"noopener noreferrer\">\r\n            here\r\n          </Link>\r\n          .\r\n        </div>\r\n      ),\r\n      type: NotificationType.Error, id: String(new Date().getTime()),\r\n    });\r\n    return false;\r\n  }, [addNotification]);\r\n\r\n  const handleMintXTC = useCallback(() => {\r\n    if (checkIsPlugProviderVersionCompatible()) {\r\n      addNotification({\r\n        title: `Minting ${to.value} ${to.metadata?.symbol}`,\r\n        type: NotificationType.MintXTC,\r\n        id: String(new Date().getTime()),\r\n      });\r\n      debounce(resetViewState, 300);\r\n    }\r\n  }, [\r\n    addNotification,\r\n    checkIsPlugProviderVersionCompatible,\r\n    resetViewState,\r\n    to.metadata?.symbol,\r\n    to.value,\r\n  ]);\r\n\r\n  const handleMintWICP = useCallback(() => {\r\n    if (checkIsPlugProviderVersionCompatible()) {\r\n      addNotification({\r\n        title: `Wrapping ${from.value} ${from.metadata?.symbol}`,\r\n        type: NotificationType.MintWICP,\r\n        id: String(new Date().getTime()),\r\n      });\r\n      debounce(resetViewState, 300);\r\n    }\r\n  }, [addNotification, checkIsPlugProviderVersionCompatible, from.metadata?.symbol, from.value, resetViewState]);\r\n\r\n  const handleWithdrawWICP = useCallback(() => {\r\n    addNotification({\r\n      title: `Unwrapping ${from.value} ${from.metadata?.symbol}`,\r\n      type: NotificationType.WithdrawWICP,\r\n      id: String(new Date().getTime()),\r\n    });\r\n    debounce(resetViewState, 300);\r\n  }, [addNotification, from.metadata?.symbol, from.value, resetViewState]);\r\n\r\n  useEffect(() => { handleChangeValue(from.value, 'from'); }, [to.metadata]);\r\n\r\n  const handleApproveSwap = useCallback(() => {\r\n    addNotification({\r\n      title: `Swap ${from.value} ${from.metadata?.symbol} for ${to.value} ${to.metadata?.symbol}`,\r\n      type: NotificationType.Swap, id: String(new Date().getTime()),\r\n    });\r\n\r\n    debounce(resetViewState, 300);\r\n  }, [addNotification, from.metadata?.symbol, from.value, resetViewState, to.metadata?.symbol, to.value]);\r\n\r\n  const allowance = useTokenAllowance(from.metadata?.id);\r\n\r\n  const handleSetIsAutoSlippage = (isAutoSlippage: boolean) => {\r\n    setIsAutoSlippage(isAutoSlippage);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    if (isAutoSlippage) {\r\n      dispatch(swapViewActions.setSlippage(INITIAL_SWAP_SLIPPAGE));\r\n    }\r\n  };\r\n\r\n  const handleSetSlippage = (slippage: string) => {\r\n    dispatch(swapViewActions.setSlippage(slippage));\r\n  };\r\n\r\n  const isFetchingNotStarted = useMemo(\r\n    () =>\r\n      allPairsState === FeatureState.NotStarted ||\r\n      supportedTokenListState === FeatureState.NotStarted,\r\n    [supportedTokenListState, allPairsState]\r\n  );\r\n\r\n  const isLoading = useMemo(\r\n    () =>\r\n      balancesState === FeatureState.Loading ||\r\n      supportedTokenListState === FeatureState.Loading ||\r\n      allPairsState === FeatureState.Loading,\r\n    [balancesState, supportedTokenListState, allPairsState]\r\n  );\r\n\r\n  const isBalancesUpdating = useMemo(\r\n    () => balancesState === FeatureState.Updating,\r\n    [balancesState]\r\n  );\r\n  const isPriceUpdating = useMemo(\r\n    () => priceState === FeatureState.Updating,\r\n    [priceState]\r\n  );\r\n\r\n  const [isButtonDisabled, buttonMessage, handleButtonClick] = useMemo<\r\n    [boolean, string, (() => void)?]\r\n  >(() => {\r\n    if (isLoading) return [true, 'Loading'];\r\n    if (isFetchingNotStarted || !from.metadata) return [true, 'Fetching'];\r\n    if (!to.metadata) return [true, 'Select a Token'];\r\n\r\n    if (toTokenOptions && toTokenOptions.length <= 0)\r\n      return [true, 'No pairs available'];\r\n\r\n    const parsedFromValue = (from.value && parseFloat(from.value)) || 0;\r\n\r\n    if (parsedFromValue <= 0)\r\n      return [true, `Enter ${from.metadata.symbol} Amount`];\r\n\r\n    if (\r\n      parsedFromValue <= toBigNumber(from.metadata.fee).applyDecimals(from.metadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `${from.metadata.symbol} amount must be greater than fee`];\r\n    }\r\n\r\n    const parsedToValue = (to.value && parseFloat(to.value)) || 0;\r\n\r\n    if (\r\n      parsedToValue <= toBigNumber(to.metadata.fee).applyDecimals(to.metadata.decimals).toNumber()\r\n    ) {\r\n      return [true, `${to.metadata.symbol} amount must be greater than fee`];\r\n    }\r\n\r\n    if (totalBalances && typeof fromBalance === 'number') {\r\n      if (parsedFromValue > Number(getMaxValue(from.metadata, fromBalance))) {\r\n        return [true, `Insufficient ${from.metadata.symbol} Balance`];\r\n      }\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsWICP) {\r\n      return [false, 'Wrap', handleMintWICP];\r\n    }\r\n\r\n    if (isFromTokenIsWICP && isToTokenIsICP) {\r\n      return [false, 'Unwrap', handleWithdrawWICP];\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsXTC) {\r\n      return [false, 'Mint XTC', handleMintXTC];\r\n    }\r\n\r\n    const handleButtonClick = () => {\r\n      if (step !== SwapStep.Review) {\r\n        setStep(SwapStep.Review);\r\n      }\r\n\r\n      if (step === SwapStep.Review) {\r\n        handleApproveSwap();\r\n      }\r\n    };\r\n    const buttonText = step === SwapStep.Review ? 'Swap' : 'Review Swap';\r\n    const waitingForAllowance = step === SwapStep.Review && typeof allowance === 'undefined';\r\n\r\n    return [waitingForAllowance, buttonText, handleButtonClick];\r\n  }, [\r\n    isLoading, isFetchingNotStarted, from.metadata, from.value, to.metadata, to.value, toTokenOptions, totalBalances,\r\n    fromBalance, isFromTokenIsICP, isToTokenIsWICP, isFromTokenIsWICP, isToTokenIsICP, isToTokenIsXTC, step, allowance,\r\n    handleMintWICP, handleWithdrawWICP, handleMintXTC, handleApproveSwap,\r\n  ]);\r\n\r\n  const headerTitle = useMemo(() => {\r\n    if (isFromTokenIsICP && isToTokenIsXTC) {\r\n      return 'Mint XTC';\r\n    }\r\n\r\n    if (isFromTokenIsICP && isToTokenIsWICP) {\r\n      return 'Wrap';\r\n    }\r\n\r\n    if (isFromTokenIsWICP && isToTokenIsICP) {\r\n      return 'Unwrap';\r\n    }\r\n\r\n    return action=='swap'? 'Swap':action=='mint'? 'Mint':'';\r\n  }, [\r\n    isFromTokenIsICP,\r\n    isToTokenIsXTC,\r\n    isToTokenIsWICP,\r\n    isFromTokenIsWICP,\r\n    isToTokenIsICP,\r\n  ]);\r\n\r\n  const priceImpact = useMemo(\r\n    () => {\r\n      return Swap.getPriceImpact({\r\n        amountIn: parseFloat(from.value) > 0 ? from.value : '0',\r\n        amountOut: to.value,\r\n        priceIn: from.metadata?.price ?? '0',\r\n        priceOut: to.metadata?.price ?? '0',\r\n      }).toString();\r\n    },\r\n    [from, to]\r\n  );\r\n\r\n  const selectedTokenIds = useMemo(() => {\r\n    const selectedIds = [];\r\n    if (from?.metadata?.id) {\r\n      selectedIds.push(from.metadata.id);\r\n    }\r\n\r\n    return selectedIds;\r\n  }, [from?.metadata?.id]);\r\n\r\n  const [isSelectTokenButtonDisabled, selectTokenButtonText] = useMemo(() => {\r\n    if (toTokenOptions && toTokenOptions.length <= 0)\r\n      return [true, 'No pairs available'];\r\n    return [false, 'Select a Token'];\r\n  }, [toTokenOptions]);\r\n\r\n  const fromSources = useMemo(() => {\r\n    if (from.metadata) {\r\n      if (from.metadata.id === ICP_METADATA.id) {\r\n        return getAppAssetsSources({\r\n          balances: {\r\n            plug: icpBalance ?? 0,\r\n          },\r\n        });\r\n      }\r\n\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          plug: tokenBalances ? tokenBalances[from.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[from.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [from.metadata, tokenBalances, sonicBalances, icpBalance]);\r\n\r\n  const toSources = useMemo(() => {\r\n    if (to.metadata) {\r\n      if (to.metadata.id === ICP_METADATA.id) {\r\n        return getAppAssetsSources({\r\n          balances: {\r\n            plug: icpBalance ?? 0,\r\n          },\r\n        });\r\n      }\r\n\r\n      return getAppAssetsSources({\r\n        balances: {\r\n          plug: tokenBalances ? tokenBalances[to.metadata.id] : 0,\r\n          sonic: sonicBalances ? sonicBalances[to.metadata.id] : 0,\r\n        },\r\n      });\r\n    }\r\n  }, [to.metadata, tokenBalances, sonicBalances, icpBalance]);\r\n\r\n  const isExplanationTooltipVisible = useMemo(() => {\r\n    return isToTokenIsXTC && isFromTokenIsICP;\r\n  }, [isFromTokenIsICP, isToTokenIsXTC]);\r\n\r\n  const currentOperation = useMemo(\r\n    () =>\r\n      isFromTokenIsICP && isToTokenIsWICP\r\n        ? OperationType.Wrap\r\n        : isFromTokenIsICP && isToTokenIsXTC\r\n          ? OperationType.Mint\r\n          : OperationType.Swap,\r\n    [isFromTokenIsICP, isToTokenIsWICP, isToTokenIsXTC]\r\n  );\r\n\r\n  const canHeldInSonic = useMemo(() => !isToTokenIsICP, [isToTokenIsICP]);\r\n\r\n  useEffect(() => {\r\n    // Get tokens from query params after loading\r\n    if (!isLoading && fromTokenOptions && toTokenOptions) {\r\n      const tokenFromId = query.get('from');\r\n      const tokenToId = query.get('to');\r\n\r\n      if (tokenFromId) {\r\n        const from = fromTokenOptions.find(({ id }) => id === tokenFromId);\r\n        if (from?.id) {\r\n          dispatch(swapViewActions.setToken({ data: 'from', tokenId: from.id }));\r\n          dispatch(swapViewActions.setValue({ data: 'from', value: '' }));\r\n        }\r\n      }\r\n\r\n      if (tokenToId) {\r\n        const to = toTokenOptions.find(({ id }) => id === tokenToId);\r\n        if (to?.id) {\r\n          dispatch(swapViewActions.setToken({ data: 'to', tokenId: to.id }));\r\n          dispatch(swapViewActions.setValue({ data: 'to', value: '' }));\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isLoading]);\r\n\r\n  return {\r\n    step, allowance, isButtonDisabled, buttonMessage, canHeldInSonic, isAutoSlippage, headerTitle, isConnected, isLoading, isBalancesUpdating,\r\n    isPriceUpdating, priceImpact, fromSources, toSources, currentOperation, isICPSelected, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, setStep, setLastChangedInputDataKey,onButtonClick: handleButtonClick,\r\n    onMenuClose: handleMenuClose, onSetSlippage: handleSetSlippage,onSetIsAutoSlippage: handleSetIsAutoSlippage, onChangeValue: handleChangeValue,\r\n    onSelectToken: handleSelectToken,onMaxClick: handleMaxClick, onSwitchTokens: handleSwitchTokens,\r\n  };\r\n};\r\n","export * from './components';\r\nexport * from './hooks';\r\nexport * from './swap';\r\nexport * from './mint';\r\nexport * from './swap.utils';\r\n","import {\r\n  Box, Button, Flex, Icon, IconButton, Link, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\n\r\nimport {\r\n  PlugButton, SlippageSettings, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDataMetaInfo, TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenInput, ViewHeader,\r\n} from '@/components';\r\n\r\nimport { useSwapView, useSwapViewStore } from '@/store';\r\n\r\nimport { SwapStep } from './';\r\nimport { ExchangeBox, KeepInSonicBox, SwapSubTab } from './components';\r\nimport { useSwapViewData } from './hooks';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch } from '@/store';\r\n\r\nexport const MintView = () => {\r\n  useSwapView('mint');\r\n  const dispatch = useAppDispatch();\r\n\r\n  const swapPlacementButtonBg = useColorModeValue('gray.50', 'custom.3');\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n  useEffect(() => { dispatch(swapViewActions.setKeepInSonic(false)) }, []);\r\n\r\n  \r\n  const {\r\n    allowance, step, headerTitle, isAutoSlippage, isICPSelected, isLoading, isBalancesUpdating, isPriceUpdating, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, currentOperation, priceImpact, fromSources, toSources, canHeldInSonic,\r\n    isConnected, isButtonDisabled, buttonMessage, setStep, setLastChangedInputDataKey, onButtonClick, onChangeValue,\r\n    onSetIsAutoSlippage, onSetSlippage, onMenuClose, onMaxClick, onSelectToken, onSwitchTokens,\r\n  } = useSwapViewData('mint');\r\n\r\n  const { fromTokenOptions, toTokenOptions, from, to, slippage } = useSwapViewStore();\r\n\r\n  return (\r\n    <Stack spacing={4}>\r\n      <SwapSubTab tabname={'mint'} />\r\n      <ViewHeader title={headerTitle}\r\n        onArrowBack={step === SwapStep.Review ? () => setStep(SwapStep.Home) : undefined}\r\n      >\r\n        <Menu onClose={onMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\"\r\n              icon={<FaCog />} ml=\"auto\" isDisabled={isICPSelected}\r\n            />\r\n          </Tooltip>\r\n          <MenuList bg={menuListBg} shadow={menuListShadow} borderRadius={20} ml={-20} py={0}>\r\n            <SlippageSettings slippage={slippage} isAutoSlippage={isAutoSlippage} setSlippage={onSetSlippage} setIsAutoSlippage={onSetIsAutoSlippage} />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"full\">\r\n          <Token value={from.value} setValue={(value) => onChangeValue(value, 'from')}\r\n            tokenListMetadata={fromTokenOptions} tokenMetadata={from.metadata}\r\n            isLoading={isLoading} sources={fromSources}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => onSelectToken('from')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus onChange={() => setLastChangedInputDataKey('from')} />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances\r\n                isUpdating={isBalancesUpdating}\r\n                onMaxClick={() => onMaxClick('from')}\r\n              />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo\r\n              tokenSymbol={from.metadata ? from.metadata.symbol : ''} tokenValue={from.value}\r\n              tokenId={from.metadata ? from.metadata.id : ''} tokenDecimals={from.metadata ? from.metadata.decimals : 0}\r\n              pageInfo=\"swap\"\r\n            ></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Flex direction=\"column-reverse\" w=\"full\">\r\n\r\n          <Box width=\"full\">\r\n            <Token value={to.value} setValue={(value) => onChangeValue(value, 'to')} tokenListMetadata={toTokenOptions}\r\n              tokenMetadata={to.metadata} isLoading={isLoading} sources={toSources}\r\n              shouldGlow={step === SwapStep.Review}\r\n            >\r\n              <TokenContent>\r\n                {to.metadata ? (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}>\r\n                    <TokenDetailsLogo />\r\n                    <TokenDetailsSymbol />\r\n                  </TokenDetailsButton>\r\n                ) : (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}\r\n                    isDisabled={isSelectTokenButtonDisabled} variant={isLoading ? 'solid' : 'gradient'}\r\n                    colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                  >\r\n                    <Skeleton isLoaded={!isLoading}>\r\n                      {selectTokenButtonText}\r\n                    </Skeleton>\r\n                  </TokenDetailsButton>\r\n                )}\r\n                <TokenInput onChange={() => setLastChangedInputDataKey('to')} />\r\n              </TokenContent>\r\n              <TokenData>\r\n                <TokenDataBalances isUpdating={isBalancesUpdating} />\r\n                <TokenDataPrice isUpdating={isPriceUpdating} priceImpact={priceImpact}>\r\n                  {isExplanationTooltipVisible && (\r\n                    <Popover trigger=\"hover\">\r\n                      <PopoverTrigger>\r\n                        <Box tabIndex={0}>\r\n                          <FaInfoCircle />\r\n                        </Box>\r\n                      </PopoverTrigger>\r\n                      <PopoverContent>\r\n                        <PopoverArrow />\r\n                        <PopoverBody>\r\n                          <Text>\r\n                            This price & percentage shows the current difference\r\n                            between minting and swapping to XTC from ICP. If\r\n                            negative, it's better to swap; if positive, it's\r\n                            better to mint.{' '}\r\n                            <Link\r\n                              color={linkColor}\r\n                              rel=\"noopener noreferrer\"\r\n                              target=\"_blank\"\r\n                              href=\"https://sonic-ooo.medium.com/xtc-in-sonic-minting-vs-swapping-and-price-differences-67965228e52e\"\r\n                            >\r\n                              Learn More.\r\n                            </Link>\r\n                          </Text>\r\n                        </PopoverBody>\r\n                      </PopoverContent>\r\n                    </Popover>\r\n                  )}\r\n                </TokenDataPrice>\r\n              </TokenData>\r\n            </Token>\r\n          </Box>\r\n          <Tooltip label=\"Switch placement\">\r\n            <IconButton aria-label=\"Switch placement\"\r\n              icon={<Icon as={FaArrowDown} transition=\"transform 250ms\" />}\r\n              variant=\"outline\" mt={-2} mb={-2} w=\"fit-content\" mx=\"auto\"\r\n              bg={swapPlacementButtonBg} onClick={onSwitchTokens}\r\n              pointerEvents={!to.metadata ? 'none' : 'all'}\r\n              _hover={{\r\n                '& > svg': {\r\n                  transform: 'rotate(180deg)',\r\n                },\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Flex>\r\n      </Flex>\r\n\r\n      <ExchangeBox priceImpact={priceImpact} />\r\n\r\n      <KeepInSonicBox canHeldInSonic={canHeldInSonic} symbol={to.metadata?.symbol} operation={currentOperation} />\r\n\r\n      {isConnected ? (\r\n        <Button isFullWidth variant=\"gradient\" colorScheme=\"dark-blue\" size=\"lg\" onClick={onButtonClick}\r\n          isLoading={\r\n            isLoading ||\r\n            (step === SwapStep.Review && typeof allowance !== 'number')\r\n          }\r\n          isDisabled={isButtonDisabled}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      ) : (\r\n        <PlugButton variant=\"dark\" />\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import {\r\n  Box, Button, Flex, Icon, IconButton, Link, Menu, MenuButton, MenuList, Popover, PopoverArrow, PopoverBody,\r\n  PopoverContent, PopoverTrigger, Skeleton, Stack, Text, Tooltip, useColorModeValue,\r\n} from '@chakra-ui/react';\r\n\r\nimport { FaArrowDown } from '@react-icons/all-files/fa/FaArrowDown';\r\nimport { FaCog } from '@react-icons/all-files/fa/FaCog';\r\nimport { FaInfoCircle } from '@react-icons/all-files/fa/FaInfoCircle';\r\n\r\nimport {\r\n  PlugButton, SlippageSettings, Token, TokenContent, TokenData, TokenDataBalances, TokenDataPrice,\r\n  TokenDataMetaInfo, TokenDetailsButton, TokenDetailsLogo, TokenDetailsSymbol, TokenInput, ViewHeader,\r\n} from '@/components';\r\n\r\nimport { useSwapView, useSwapViewStore } from '@/store';\r\n\r\nimport { SwapStep } from './';\r\nimport { ExchangeBox, KeepInSonicBox, SwapSubTab } from './components';\r\nimport { useSwapViewData } from './hooks';\r\n\r\nimport { useEffect } from 'react';\r\n\r\nimport { swapViewActions, useAppDispatch } from '@/store';\r\n\r\nexport const SwapView = () => {\r\n  useSwapView('swap');\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    allowance, step, headerTitle, isAutoSlippage, isICPSelected, isLoading, isBalancesUpdating, isPriceUpdating, isExplanationTooltipVisible,\r\n    isSelectTokenButtonDisabled, selectTokenButtonText, currentOperation, priceImpact, fromSources, toSources, canHeldInSonic,\r\n    isConnected, isButtonDisabled, buttonMessage, setStep, setLastChangedInputDataKey, onButtonClick, onChangeValue,\r\n    onSetIsAutoSlippage, onSetSlippage, onMenuClose, onMaxClick, onSelectToken, onSwitchTokens,\r\n  } = useSwapViewData('swap');\r\n\r\n  const swapPlacementButtonBg = useColorModeValue('gray.50', 'custom.3');\r\n  const menuListShadow = useColorModeValue('lg', 'none');\r\n  const menuListBg = useColorModeValue('gray.50', 'custom.3');\r\n  const linkColor = useColorModeValue('dark-blue.500', 'dark-blue.400');\r\n\r\n  useEffect(() => { dispatch(swapViewActions.setKeepInSonic(true)); }, []);\r\n\r\n  const { fromTokenOptions, toTokenOptions, from, to, slippage } = useSwapViewStore();\r\n  return (\r\n    <Stack spacing={4}>\r\n      <SwapSubTab tabname={'swap'} />\r\n      <ViewHeader title={headerTitle}\r\n        onArrowBack={step === SwapStep.Review ? () => setStep(SwapStep.Home) : undefined}\r\n      >\r\n        <Menu onClose={onMenuClose}>\r\n          <Tooltip label=\"Adjust the slippage\">\r\n            <MenuButton as={IconButton} isRound size=\"sm\" aria-label=\"Adjust the slippage\"\r\n              icon={<FaCog />} ml=\"auto\" isDisabled={isICPSelected}\r\n            />\r\n          </Tooltip>\r\n          <MenuList bg={menuListBg} shadow={menuListShadow} borderRadius={20} ml={-20} py={0}>\r\n            <SlippageSettings slippage={slippage} isAutoSlippage={isAutoSlippage} setSlippage={onSetSlippage} setIsAutoSlippage={onSetIsAutoSlippage} />\r\n          </MenuList>\r\n        </Menu>\r\n      </ViewHeader>\r\n      <Flex direction=\"column\" alignItems=\"center\">\r\n        <Box width=\"full\">\r\n          <Token value={from.value} setValue={(value) => onChangeValue(value, 'from')}\r\n            tokenListMetadata={fromTokenOptions} tokenMetadata={from.metadata}\r\n            isLoading={isLoading} sources={fromSources}\r\n          >\r\n            <TokenContent>\r\n              <TokenDetailsButton onClick={() => onSelectToken('from')}>\r\n                <TokenDetailsLogo />\r\n                <TokenDetailsSymbol />\r\n              </TokenDetailsButton>\r\n\r\n              <TokenInput autoFocus onChange={() => setLastChangedInputDataKey('from')} />\r\n            </TokenContent>\r\n            <TokenData>\r\n              <TokenDataBalances\r\n                isUpdating={isBalancesUpdating}\r\n                onMaxClick={() => onMaxClick('from')}\r\n              />\r\n              <TokenDataPrice isUpdating={isPriceUpdating} />\r\n            </TokenData>\r\n            <TokenDataMetaInfo\r\n              tokenSymbol={from.metadata ? from.metadata.symbol : ''} tokenValue={from.value}\r\n              tokenId={from.metadata ? from.metadata.id : ''} tokenDecimals={from.metadata ? from.metadata.decimals : 0}\r\n              pageInfo=\"swap\"\r\n            ></TokenDataMetaInfo>\r\n          </Token>\r\n        </Box>\r\n\r\n        <Flex direction=\"column-reverse\" w=\"full\">\r\n\r\n          <Box width=\"full\">\r\n            <Token value={to.value} setValue={(value) => onChangeValue(value, 'to')} tokenListMetadata={toTokenOptions}\r\n              tokenMetadata={to.metadata} isLoading={isLoading} sources={toSources}\r\n              shouldGlow={step === SwapStep.Review}\r\n            >\r\n              <TokenContent>\r\n                {to.metadata ? (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}>\r\n                    <TokenDetailsLogo />\r\n                    <TokenDetailsSymbol />\r\n                  </TokenDetailsButton>\r\n                ) : (\r\n                  <TokenDetailsButton onClick={() => onSelectToken('to')}\r\n                    isDisabled={isSelectTokenButtonDisabled} variant={isLoading ? 'solid' : 'gradient'}\r\n                    colorScheme={isLoading ? 'gray' : 'dark-blue'}\r\n                  >\r\n                    <Skeleton isLoaded={!isLoading}>\r\n                      {selectTokenButtonText}\r\n                    </Skeleton>\r\n                  </TokenDetailsButton>\r\n                )}\r\n                <TokenInput onChange={() => setLastChangedInputDataKey('to')} />\r\n              </TokenContent>\r\n              <TokenData>\r\n                <TokenDataBalances isUpdating={isBalancesUpdating} />\r\n                <TokenDataPrice isUpdating={isPriceUpdating} priceImpact={priceImpact}>\r\n                  {isExplanationTooltipVisible && (\r\n                    <Popover trigger=\"hover\">\r\n                      <PopoverTrigger>\r\n                        <Box tabIndex={0}>\r\n                          <FaInfoCircle />\r\n                        </Box>\r\n                      </PopoverTrigger>\r\n                      <PopoverContent>\r\n                        <PopoverArrow />\r\n                        <PopoverBody>\r\n                          <Text>\r\n                            This price & percentage shows the current difference\r\n                            between minting and swapping to XTC from ICP. If\r\n                            negative, it's better to swap; if positive, it's\r\n                            better to mint.{' '}\r\n                            <Link\r\n                              color={linkColor}\r\n                              rel=\"noopener noreferrer\"\r\n                              target=\"_blank\"\r\n                              href=\"https://sonic-ooo.medium.com/xtc-in-sonic-minting-vs-swapping-and-price-differences-67965228e52e\"\r\n                            >\r\n                              Learn More.\r\n                            </Link>\r\n                          </Text>\r\n                        </PopoverBody>\r\n                      </PopoverContent>\r\n                    </Popover>\r\n                  )}\r\n                </TokenDataPrice>\r\n              </TokenData>\r\n            </Token>\r\n          </Box>\r\n          <Tooltip label=\"Switch placement\">\r\n            <IconButton aria-label=\"Switch placement\"\r\n              icon={<Icon as={FaArrowDown} transition=\"transform 250ms\" />}\r\n              variant=\"outline\" mt={-2} mb={-2} w=\"fit-content\" mx=\"auto\"\r\n              bg={swapPlacementButtonBg} onClick={onSwitchTokens}\r\n              pointerEvents={!to.metadata ? 'none' : 'all'}\r\n              _hover={{\r\n                '& > svg': {\r\n                  transform: 'rotate(180deg)',\r\n                },\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Flex>\r\n      </Flex>\r\n\r\n      <ExchangeBox priceImpact={priceImpact} />\r\n\r\n      <KeepInSonicBox canHeldInSonic={canHeldInSonic} symbol={to.metadata?.symbol} operation={currentOperation} />\r\n\r\n      {isConnected ? (\r\n        <Button isFullWidth variant=\"gradient\" colorScheme=\"dark-blue\" size=\"lg\" onClick={onButtonClick}\r\n          isLoading={\r\n            isLoading ||\r\n            (step === SwapStep.Review && typeof allowance !== 'number')\r\n          }\r\n          isDisabled={isButtonDisabled}\r\n        >\r\n          {buttonMessage}\r\n        </Button>\r\n      ) : (\r\n        <PlugButton variant=\"dark\" />\r\n      )}\r\n    </Stack>\r\n  );\r\n};\r\n","import { Pair, Swap, toBigNumber } from '@memecake/sonic-js';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nimport {\r\n  DEFAULT_CYCLES_PER_XDR,\r\n  SwapTokenData,\r\n  TOKEN_SUBDIVIDABLE_BY,\r\n} from '@/store';\r\nimport { getValueWithoutFees } from '@/utils/format';\r\n\r\nexport type GetXTCValueByXDRRateOptions = {\r\n  amount: string;\r\n  conversionRate: string;\r\n};\r\n\r\nexport type GetICPValueByXDRRateOptions = {\r\n  amount: string;\r\n  conversionRate: string;\r\n};\r\n\r\nexport function getXTCValueByXDRRate({\r\n  amount,\r\n  conversionRate,\r\n}: GetXTCValueByXDRRateOptions) {\r\n  const _amount = new BigNumber(amount);\r\n  const _conversionRate = new BigNumber(conversionRate);\r\n  const _defaultCyclesPerXDR = new BigNumber(DEFAULT_CYCLES_PER_XDR);\r\n  const _subdividableBy = new BigNumber(TOKEN_SUBDIVIDABLE_BY * 100_000_000);\r\n\r\n  // XTCValueByXDRRate = amount * conversionRate * defaultCyclesPerXDR / subdividableBy\r\n  const result = _amount\r\n    .multipliedBy(_conversionRate)\r\n    .multipliedBy(_defaultCyclesPerXDR)\r\n    .dividedBy(_subdividableBy);\r\n\r\n  return result;\r\n}\r\n\r\nexport function getICPValueByXDRRate({\r\n  amount,\r\n  conversionRate,\r\n}: GetXTCValueByXDRRateOptions) {\r\n  const _amount = new BigNumber(amount);\r\n  const _defaultCyclesPerXDR = new BigNumber(DEFAULT_CYCLES_PER_XDR);\r\n  const _subdividableBy = new BigNumber(TOKEN_SUBDIVIDABLE_BY * 100_000_000);\r\n\r\n  const _conversionRate = new BigNumber(conversionRate);\r\n\r\n  // ICPValueByXDRRate = amount / conversionRate / defaultCyclesPerXDR * subdividableBy\r\n  const result = _amount\r\n    .multipliedBy(_subdividableBy)\r\n    .dividedBy(_defaultCyclesPerXDR)\r\n    .dividedBy(_conversionRate);\r\n\r\n  return result;\r\n}\r\n\r\nexport const getAmountOutFromPath = (\r\n  tokenIn: SwapTokenData,\r\n  tokenOut: SwapTokenData\r\n): string => {\r\n  if (!tokenIn.metadata || !tokenOut.metadata || !tokenIn.value) return '';\r\n\r\n  const path = tokenIn.paths[tokenOut.metadata.id];\r\n\r\n  if (path) {\r\n    return new BigNumber(path.amountOut)\r\n      .dp(tokenOut.metadata.decimals)\r\n      .toString();\r\n  }\r\n\r\n  return '';\r\n};\r\n\r\nexport type GetSwapAmountOutMinOptions = {\r\n  from: SwapTokenData;\r\n  to: SwapTokenData;\r\n  slippage: string;\r\n  allPairs?: Pair.List;\r\n  hasDeposit?: boolean;\r\n  hasWithdraw?: boolean;\r\n};\r\n\r\nexport const getSwapAmountOutMin = ({\r\n  from,\r\n  to,\r\n  slippage,\r\n  allPairs,\r\n  hasDeposit,\r\n  hasWithdraw,\r\n}: GetSwapAmountOutMinOptions) => {\r\n  if (\r\n    !from.metadata ||\r\n    new BigNumber(from.value).isZero() ||\r\n    new BigNumber(from.value).isNaN() ||\r\n    !to.metadata ||\r\n    new BigNumber(to.value).isZero() ||\r\n    new BigNumber(to.value).isNaN() ||\r\n    !allPairs\r\n  )\r\n    return '0';\r\n\r\n  const pair = allPairs[from.metadata.id]?.[to.metadata.id];\r\n  if (!pair) return '0';\r\n\r\n  let fromValue = new BigNumber(from.value);\r\n\r\n  if (hasDeposit) {\r\n    fromValue = getValueWithoutFees({\r\n      value: from.value,\r\n      fee: from.metadata.fee,\r\n      decimals: from.metadata.decimals,\r\n      numberOfFees: 2,\r\n    });\r\n  }\r\n\r\n  const toValue = Swap.getAmountOut({\r\n    amountIn: fromValue.toString(),\r\n    decimalsIn: from.metadata.decimals,\r\n    decimalsOut: to.metadata.decimals,\r\n    reserveIn: Number(pair.reserve0),\r\n    reserveOut: Number(pair.reserve1),\r\n  }).toString();\r\n\r\n  let result = Swap.getAmountMin({\r\n    amount: Math.max(Number(toValue), 0).toString(),\r\n    slippage,\r\n    decimals: to.metadata.decimals,\r\n  });\r\n\r\n  if (hasWithdraw) {\r\n    result = getValueWithoutFees({\r\n      value: result.toString(),\r\n      fee: to.metadata.fee,\r\n      decimals: to.metadata.decimals,\r\n      numberOfFees: 2,\r\n    });\r\n  }\r\n\r\n  return result.dp(Number(to.metadata.decimals)).toString();\r\n};\r\n\r\nexport const getAmountOutRatio = (\r\n  from: SwapTokenData,\r\n  to: SwapTokenData,\r\n  allPairs?: Pair.List\r\n): string => {\r\n  if (!from.metadata || !to.metadata) return '0';\r\n\r\n  if (from.value && to.value) {\r\n    const ratio = toBigNumber(to.value)\r\n      .div(from.value)\r\n      .dp(to.metadata.decimals);\r\n    if (ratio.isZero())\r\n      return `less than ${toBigNumber(1)\r\n        .applyDecimals(to.metadata.decimals)\r\n        .toString()}`;\r\n    return ratio.toString();\r\n  }\r\n\r\n  if (!allPairs) return '0';\r\n\r\n  const pair = allPairs[from.metadata.id]?.[to.metadata.id];\r\n\r\n  if (!pair) return '0';\r\n\r\n  return Swap.getAmountOut({\r\n    amountIn: '1',\r\n    decimalsIn: from.metadata.decimals,\r\n    decimalsOut: to.metadata.decimals,\r\n    reserveIn: Number(pair.reserve0),\r\n    reserveOut: Number(pair.reserve1),\r\n  }).toString();\r\n};\r\n","export * from './test';\r\nexport * from './todos';\r\nexport * from './test2'","import { useState , useEffect , createContext, useContext , useRef , useReducer , useCallback ,useMemo  } from \"react\";\r\nconst UserContext = createContext({});\r\n\r\nimport Todos2 from './todos';\r\nimport useFetch from './useFetch';\r\n\r\n\r\n\r\nconst initialTodos = [\r\n    {\r\n      id: 1,\r\n      title: \"Todo 1\",\r\n      complete: false,\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Todo 2\",\r\n      complete: false,\r\n    },\r\n  ];\r\n\r\n  const reducer = (state:any, action:any) => {\r\n    switch (action.type) {\r\n      case \"COMPLETE\":\r\n        return state.map((todo:any) => {\r\n          if (todo.id === action.id) {\r\n           var p= { ...todo, complete: !todo.complete }\r\n            return p;\r\n          } else {\r\n            return todo;\r\n          }\r\n        });\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n\r\n  function Todos() {\r\n\r\n    const [todos, dispatch] = useReducer(reducer, initialTodos);\r\n\r\n    const handleComplete = (todo:any) => {\r\n      dispatch({ type: \"COMPLETE\", id: todo.id });\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        {todos.map((todo:any) => (\r\n          <div key={todo.id}>\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={todo.complete}\r\n                onChange={() => handleComplete(todo)}\r\n              />\r\n              {todo.title}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\nfunction App() {\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const previousInputValue = useRef(\"\");\r\n  \r\n    useEffect(() => {\r\n      previousInputValue.current = inputValue;\r\n    }, [inputValue]);\r\n  \r\n    return (\r\n      <>\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={(e) => setInputValue(e.target.value)}\r\n        />\r\n        <h2>Current Value: {inputValue}</h2>\r\n        <h2>Previous Value: {previousInputValue.current}</h2>\r\n      </>\r\n    );\r\n  }\r\n  \r\n\r\nfunction Component1() {\r\n  \r\n\r\n    const [user, setUser] = useState(\"Jesse Hall\");\r\n    setUser;\r\n    return (\r\n        <UserContext.Provider value={{user:user , number:1222}}>\r\n      <div>\r\n        <h1>{`Hello ${user}!`}</h1>\r\n        <Component2 />\r\n      </div>\r\n        \r\n      </UserContext.Provider>\r\n    //  \r\n    );\r\n  }\r\n  \r\n  function Component2() {\r\n    return (\r\n      <>\r\n        <h1>Component 2  </h1>\r\n        <Component3 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component3() {\r\n    const value:any = useContext(UserContext);\r\n    return (\r\n      <>\r\n        <h1>Component 3 user {value.user}</h1>\r\n        <Component4 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component4() {\r\n    return (\r\n      <>\r\n        <h1>Component 4</h1>\r\n        <Component5 />\r\n      </>\r\n    );\r\n  }\r\n  \r\n  function Component5() {\r\n    const value:any = useContext(UserContext);\r\n  \r\n    return (\r\n      <>\r\n        <h1>Component 5</h1>\r\n        <h2>{`Hello ${value.user} again!`}</h2>\r\n      </>\r\n    );\r\n  }\r\n\r\nfunction Timer() {\r\n    const [count, setCount] = useState(0);\r\n    // setInterval(() => {\r\n    //     setCount((count) => count + 2);\r\n    // }, 3000);\r\n    setCount;\r\n    useEffect(() => {\r\n    //     setCount((count) => count + 2);\r\n    //   console.log('count updated' ,count)\r\n    },[count]);\r\n  \r\n    return <h1>I've rendered {count} times!</h1>;\r\n  }\r\n // Timer;\r\n\r\n\r\nconst App2 = () => {\r\n  const [count, setCount] = useState(0);\r\n  const [todos, setTodos] = useState([\"todo 1\", \"todo 2\"]);\r\n\r\n  const increment = () => {\r\n    setCount(count+1)\r\n    setTodos(() => [...todos, \"new Task\"+count]);\r\n  };\r\n\r\n\r\n\r\n  const addTodo = useCallback(() => {\r\n    setCount(count+1) \r\n    setTodos((t) => [...t, \"New Todo \"+ count]);}, [todos]);\r\n\r\n    const expensiveCalculation = (num:number) => {\r\n\r\n      console.log(\"Calculating...\");\r\n      for (let i = 0; i < 1000000000; i++) {\r\n        num += 1;\r\n      }\r\n      return num;\r\n    };\r\n\r\n   // const calculation = expensiveCalculation(count);\r\n   const calculation =  useMemo(() => expensiveCalculation(count), [count]);\r\n\r\n  return (\r\n    <div>\r\n      <Todos2 todos={todos} addTodo={addTodo}  />\r\n      <hr />\r\n      <div>\r\n        Count: {count}\r\n        <button onClick={increment}>+</button>\r\n      </div>\r\n      <br/>\r\n      <br/>\r\n      <hr />\r\n\r\n      <div>\r\n        Count: {count}\r\n        <button onClick={increment}>+</button>\r\n        <h2>Expensive Calculation</h2>\r\n        {calculation}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst Home = () => {\r\n //const [data, setData] = useState<[{id?:string , title?:string}]>([{}]);\r\n\r\n  type  d= [{id?:string , title?:string}];\r\n const data:d= useFetch(\"https://jsonplaceholder.typicode.com/todos\");\r\n\r\n//  useMemo(():any => {\r\n\r\n//   setTimeout(() => {\r\n//     fetch(\"https://jsonplaceholder.typicode.com/todos\").then(\r\n//       (res) => res.json()\r\n//   ).then((data) => setData(data) );\r\n//   }, 10*1000);\r\n//  },[]);\r\n\r\n\r\n  return data.length>1 ?(\r\n    <>\r\n      <h1>HOME</h1>\r\n      {data.length>1 &&\r\n        data.map((item ) => {\r\n          return <p key={item.id} >{item.title}</p>;\r\n        })}\r\n    </>\r\n  ): (<></>);\r\n};\r\n\r\nexport const TestView = () => {\r\n    const [count, setCount] = useState(0);\r\n    const [color, setColor] = useState(\"\");\r\n  \r\n\r\n    useEffect(() => {\r\n       \r\n      console.log( 'count' , count , color)\r\n    },[count , color]);\r\n\r\n   \r\n\r\n    \r\n\r\n    return (<div>\r\n        <h1>My favorite color is {color}!</h1>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"blue\")}\r\n      >Blue</button> , \r\n\r\n<button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"red\")}\r\n      >Red</button> ,\r\n       <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"pink\")}\r\n      >Pink</button> , \r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setColor(\"green\")}\r\n      >Green</button>\r\n    <br/>\r\n    ----------------------------------------------------------------------------------\r\n\r\n    <h1>I've rendered {count} times! </h1>\r\n    <button\r\n        type=\"button\"\r\n        onClick={() => setCount(count+1)}\r\n      >count</button>\r\n\r\n      <Timer></Timer>\r\n      <br/>\r\n      ----------------------------------------------------------------------------------\r\n\r\n      <Component1 />\r\n      ----------------------------------------------------------------------------------\r\n      <br/>\r\n      <App/>\r\n      ----------------------------------------------------------------------------------\r\n      <br/>\r\n\r\n      <Todos />\r\n\r\n      <App2/>\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n\r\n      <Home/>\r\n    </div>\r\n    \r\n    )\r\n}\r\n","import { useState, useEffect , useMemo } from \"react\";\r\n\r\n\r\nexport const TestViewt1 = () => {\r\n\r\n    const [count, setCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n      let timer = setTimeout(() => {\r\n      setCount((count) => count + 1);\r\n    }, 5000);\r\n  \r\n    return () => clearTimeout(timer)\r\n    }, [count]);\r\n  \r\n    return <h1>I've rendered {count} times!</h1>;\r\n}\r\n\r\nexport const TestViewt2 = () => {\r\n    const [count, setCount] = useState(0);\r\n    const [todos, setTodos] =  useState<string[]>(['']);\r\n    const calculation = useMemo(() => expensiveCalculation(count), [count]);\r\n  \r\n    const increment = () => {\r\n      setCount((c) => c + 1);\r\n    };\r\n    const addTodo = () => {\r\n      setTodos((t) => {\r\n        var s:string[] = [...t, \"New Todo\"]\r\n        return s;\r\n      }  );\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <div>\r\n          <h2>My Todos</h2>\r\n          {todos.map((todo, index) => {\r\n            return <p key={index}>{todo}</p>;\r\n          })}\r\n          <button onClick={addTodo}>Add Todo</button>\r\n        </div>\r\n        <hr />\r\n        <div>\r\n          Count: {count}\r\n          <button onClick={increment}>+</button>\r\n          <h2>Expensive Calculation</h2>\r\n          {calculation}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  const expensiveCalculation = (num:number) => {\r\n    console.log(\"Calculating...\");\r\n    for (let i = 0; i < 1000000000; i++) {\r\n      num += 1;\r\n    }\r\n    return num;\r\n}\r\n","import React, { memo  } from 'react';\r\n\r\ntype TodosProps={\r\n    todos:string[],\r\n    addTodo:() => any;\r\n}\r\nconst Todos2: React.FC<TodosProps>  = ( {todos, addTodo} ) => {\r\n    console.log(\"child render\");\r\n    return (\r\n      <div>\r\n        ---------------------------------------\r\n        <br/>\r\n        <h2>My Todos</h2>\r\n        {todos.map((todo, index) => {\r\n          return <p key={index}>{todo}</p>;\r\n        })}\r\n         <button onClick={addTodo}>Add Todo</button>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default memo(Todos2);\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst useFetch = (url: string): any => {\r\n    const [data, setData] = useState([]);\r\n    useEffect(() => {\r\n        fetch(url).then(\r\n            (res) => res.json()\r\n        ).then((data) => setData(data));\r\n    }, [url]);\r\n    return data;\r\n};\r\n\r\nexport default useFetch;"],"names":["ActorAdapter","DEFAULT_HOST","ENV","host","Default","IC_HOST","App","useCyclesMintingCanisterInit","usePlugInit","usePriceInit","useSwapCanisterInit","useLiquidityViewInit","useBlockHeightsInit","useTokenLogosFetcherInit","useNetworkErrorNotifications","loadsupportedTokenList","BrowserRouter","basename","Layout","NotificationManager","TermsAndConditionsModal","TokenSelectModal","AllowanceVerifyModal","MintManualModal","SwapProgressModal","SwapFailModal","WithdrawProgressModal","DepositProgressModal","AddLiquidityProgressModal","AddLiquidityFailModal","RemoveLiquidityProgressModal","RemoveLiquidityFailModal","WithdrawWICPProgressModal","WithdrawWICPFailModal","MintXTCProgressModal","MintXTCFailModal","MintWICPProgressModal","MintWICPFailModal","Routes","Route","path","element","SwapView","MintView","AssetsListView","AssetsWithdrawView","AssetsDepositView","LiquidityListView","LiquidityAddView","ActivityListView","TestView","TestViewt1","TestViewt2","Navigate","to","AppUpdatedModal","isNotiOpen","AnalyticsApi","constructor","this","axios","create","baseURL","analyticsHost","method","transformRequest","data","serialize","transformResponse","deserialize","headers","async","request","principalId","pairId","response","operationName","query","variables","user","positionMetrics","JSONbig","strict","RosettaErrorType","Object","freeze","NotFound","Timeout","NetworkError","RosettaError","Error","message","status","super","errorType","Transaction","rosettaTransaction","blockIndex","hash","transaction_identifier","timestampMs","metadata","timestamp","div","toNumber","Date","operations","length","type","account1Address","account","address","amount","value","isZero","negated","account2Address","fee","memo","RosettaApi","process","env","REACT_APP_ROSETTA_BASE_URL","stringify","parse","networkIdentifier","networksList","then","res","network_identifiers","find","blockchain","accountAddress","accountBalanceByAddress","balances","error","isAxiosError","networkStatus","current_block_identifier","index","transactionHash","responseTransactions","transactionsByHash","transactions","transaction","block_identifier","undefined","limit","maxBlockIndex","offset","Math","max","transactionCount","min","i","push","getTransactionByBlock","transactionsByAccount","Promise","all","map","blockTransaction","reverse","blockByIndex","block","url","network_identifier","account_identifier","default","AssetProvider","useAssetContext","createContext","name","errorMessage","Asset","imageSources","questionMarkSrc","isLoading","props","bg","useColorModeValue","shadow","Flex","position","direction","borderRadius","alignItems","justifyContent","px","py","flexWrap","gap","AssetIconButton","ariaLabel","tooltipProps","SkeletonCircle","h","w","minW","isLoaded","Tooltip","label","IconButton","isRound","variant","AssetTitleBlock","title","subtitle","color","subtitleColor","Box","ml","Skeleton","mb","width","Heading","as","fontSize","fontWeight","openDelay","Text","textOverflow","whiteSpace","overflow","maxW","AssetImageBlock","swap","SwapImageBlock","lp","LPImageBlock","token","TokenImageBlock","src","Checkbox","checked","onClick","borderColor","cursor","height","border","Fade","in","Image","checkPlainSrc","DisplayValue","forwardRef","decimals","isUpdating","prefix","suffix","disableTooltip","shouldDivideByDecimals","textProps","ref","blinker","keyframes","formattedValue","tooltipAmount","isDisabled","useMemo","toBigNumber","applyDecimals","toString","dp","formatAmount","String","animation","Emoji","children","chakra","span","role","mt","transform","FeeBox","isDeposit","BigInt","opacity","display","FaArrowRight","flex","textAlign","mx","symbol","GradientBox","size","background","pt","sm","md","lg","Header","buttonText","onButtonClick","top","setTop","useState","paddingToLine","marginTop","backgroundColor","useHeaderResizeEffect","clientHeight","transition","zIndex","flexDirection","pb","Spinner","Button","colorScheme","Divider","boxSize","skeletonSize","alt","left","bottom","right","InformationBox","onClose","collapse","setCollapse","titleColor","Collapse","unmountOnExit","CloseButton","setTimeout","LogoBox","stackBg","Link","href","style","textDecoration","boxShadow","Stack","align","userSelect","Logo","viewBox","fill","xmlns","fillRule","clipRule","d","id","x1","y1","x2","y2","gradientUnits","stopColor","LPBreakdownPopoverItem","balance","justify","_last","HStack","minWidth","LPBreakdownPopover","sources","filteredSources","filter","source","Number","Popover","trigger","PopoverTrigger","PopoverContent","PopoverArrow","PopoverHeader","PopoverBody","NumberInput","placeholder","onChange","setValue","Input","outline","_placeholder","event","target","isNaN","SearchBar","search","setSearch","boxSizing","searchSrc","mr","inputValue","SlippageSettings","slippage","setSlippage","isAutoSlippage","setIsAutoSlippage","inputBorderColorDisabled","inputBorderColor","inputColorDisabled","inputColorEnabled","inputColor","yellowColor","redColor","messageColor","warningMessage","InputGroup","borderStyle","borderWidth","num","replace","onBlur","e","pr","pl","InputRightElement","spacing","Icon","FaExclamationTriangle","StackLine","StackItem","TokenBalancesPopoverItem","_balance","TokenBalancesPopover","TokenProvider","useTokenContext","Token","shouldGlow","htmlProps","tokenProps","borderGlow","borderNotGlow","backgroundGlow","backgroundNotGlow","TokenGlow","TokenContent","TokenDetailsButton","FaChevronDown","TokenDetailsLogo","tokenMetadata","logoSrc","logo","minH","TokenDetailsSymbol","TokenData","TokenDataPrice","priceImpact","isActive","parseFloat","price","Price","getByAmount","defaultColorActive","defaultColorInactive","defaultColor","priceImpactNumber","isPrice","TokenDataBalances","onMaxClick","totalTokenBalance","reduce","acc","current","shouldRenderMaxButton","getMaxValue","TokenInput","handleChange","useCallback","_value","nat","split","newValue","parseInt","includes","slice","activeColor","inactiveColor","TokenDataMetaInfo","tokenSymbol","tokenValue","tokenDecimals","tokenId","pageInfo","info","useTokenTaxCheck","calcPrice","taxInfo","netValue","toFixed","className","ViewHeader","onArrowBack","titleRightAdjustment","titleLeftAdjustment","borderTopRadius","borderBottomRadius","icon","FaArrowLeft","spin","CircleIcon","iconSrc","spinAnimation","bgDark","StepStatus","Disabled","bgLight","checkOpacity","Done","borderTop","greenCheckSrc","PlusIcon","NAVBAR_HEIGHT","FOOTER_HEIGHT","links","get","catch","mavTabs","isConnected","usePlugStore","dispatch","useAppDispatch","location","useLocation","headerHeight","setHeaderHeight","navMenus","currentTabIndex","findIndex","pathname","backgroundColorValue","useToken","colorMode","toggleColorMode","useColorMode","menuBg","menuShadow","Container","maxWidth","margin","p","nav","Tabs","TabList","Tab","ExternalLink","analyticsApp","FiArrowUpRight","PlugMenu","PlugButton","Menu","placement","MenuButton","FaEllipsisH","MenuList","isDarkModeEnabled","MenuItem","FaSun","FaMoon","modalsSliceActions","openMintManualModal","FaRedo","MenuDivider","twitter","rel","FaTwitter","discord","FaDiscord","medium","FaMedium","sonicDocs","FaBook","swapApiDocs","FaNetworkWired","footer","pointerEvents","version","Maintenance","m","verticalAlign","isAddLiquidityFailModalOpened","isAddLiquidityFailOpened","addLiquidityModalData","addLiquidityData","useModalsStore","callbacks","addLiquidityCallback","closeCallback","handleClose","closeAddLiquidityFailModal","TransactionFailedModal","isOpen","isCentered","isFullWidth","isAddLiquidityProgressModalOpened","steps","token1Symbol","token0Symbol","step","activeStep","getStepStatus","useStepStatus","TransactionProgressModal","closeAddLiquidityProgressModal","AddLiquidityModalDataStep","Getacnt","TransactionStep","chevron","CreatePair","plusSrc","Approve0","Deposit0","depositSrc","Approve1","Deposit1","AddLiquidity","dropSrc","isAllowanceVerifyModalOpened","allowanceModalData","_tokenSymbol","closeAllowanceVerifyModal","Active","appVer","localStorage","getItem","isModelOpen","setisModelOpen","useEffect","Modal","setItem","ModalOverlay","ModalContent","ModalCloseButton","ImportTokenImage","ImportToken","handleImport","understandRisk","setUnderstandRisk","redTriangleWarningSrc","isChecked","alignSelf","disabled","modalProps","ModalHeader","ModalBody","ModalFooter","rowGap","colorDisabled","colorEnabled","weight","FaChevronRight","my","TransactionType","DepositFailModal","isDepositFailModalOpened","depositModalData","retryCallback","closeDepositFailModal","isDepositProgressModalOpened","closeDepositProgressModal","DepositModalDataStep","Approve","Deposit","TOKEN_OPTIONS","useConst","MintTokenSymbol","WICP","XTC","mintManualModalOpened","mintManualBlockHeight","mintManualTokenSymbol","mintManualModalErrorMessage","addNotification","useNotificationStore","blockHeightErrorMessage","setBlockHeightErrorMessage","tokenErrorMessage","setTokenErrorMessage","handleMint","checkIfPlugProviderVersionCompatible","NotificationType","MintManual","getTime","PLUG_WALLET_WEBSITE_URL","resetModalData","setMintManualModalErrorMessage","closeMintManualModal","linkColor","activityTabURL","learnMoreURL","failedMintDocs","onSubmit","preventDefault","noValidate","borderBottom","FormControl","isRequired","isInvalid","Boolean","FormLabel","Select","setMintManualTokenSymbol","option","FormErrorMessage","onKeyDown","key","setMintManualBlockHeight","FormHelperText","leftIcon","FaRedoAlt","isMintWICPFailModalOpened","mintWICPModalData","closeMintWICPFailModal","isMintWICPProgressModalOpened","closeMintWICPProgressModal","MintModalDataStep","LedgerTransfer","withdrawSrc","Mint","swapSrc","isMintXTCFailModalOpened","isRemoveLiquidityFailOpened","mintXTCModalData","closeMintXTCFailModal","isMintXTCProgressModalOpened","closeMintXTCProgressModal","isRemoveLiquidityFailModalOpened","removeLiquidityModalData","closeRemoveLiquidityFailModal","isRemoveLiquidityProgressModalOpened","closeRemoveLiquidityProgressModal","RemoveLiquidityModalDataStep","RemoveLiquidity","Withdraw0","Withdraw1","isSwapFailModalOpened","swapModalData","withdrawCallback","closeSwapFailModal","isSwapProgressModalOpened","fromTokenSymbol","toTokenSymbol","closeSwapProgressModal","SwapModalDataStep","Swap","Withdraw","isTermsAndConditionsModalOpened","isOpened","termsAndConditionsModalData","successCallback","closeTermsAndConditionsModal","termsAndConditions","tokenSelectModalData","tokenSelectData","isTokenSelectModalModalOpened","isTokenSelectOpened","tokens","onSelect","selectedTokenIds","allowAddToken","addToken","setAddToken","importTokenData","setImportTokenData","parsedTokens","filteredList","setFilteredList","totalBalances","useBalances","filteredItems","lowerSearch","toLowerCase","handleTokenSelectClose","closeTokenSelectModal","emptyColor","scrollBehavior","_hover","arrowBackSrc","Array","TokenSelectItemSkeleton","TokenSelectItem","isSelected","FaHdd","tokenData","balancesState","isBalancesUpdating","FeatureState","Updating","nameColor","selectedStepIndex","indexOf","activeStepIndex","isWithdrawProgressModalOpened","withdrawModalData","closeWithdrawProgressModal","WithdrawModalDataStep","isWithdrawWICPFailModalOpened","withdrawWICPModalData","closeWithdrawWICPFailModal","isWithdrawWICPProgressModalOpened","closeWithdrawWICPProgressModal","WithdrawWICPModalDataStep","WithdrawWICP","state","isPlugPAPIExists","window","ic","plug","PlugState","Loading","colorDark","bgHoverDark","colorLight","bgHoverLight","bgHover","before","PlugLogo","content","Disconnected","plugActions","connect","NotInstalled","open","Connected","_disabled","_active","_before","socketColor","clipPath","stopOpacity","shortPrincipalId","desensitizationPrincipalId","copyToClipboard","FiCopy","disconnect","BiExit","PlugNotConnected","FaInbox","PATHS","All","Home","ROUTES","ERRORS","swapCanisterFee","SWAP_CANISTER_FEE","canistersPrincipalIDs","ledger","cyclesMinting","swapCapRoot","accountIDs","URLs","DISCORD_URL","TWITTER_URL","MEDIUM_URL","github","GITHUB_URL","TERMS_AND_CONDITIONS_URL","tokenRequestForm","TOKEN_REQUEST_FORM_URL","ledgerTransactions","LEDGER_TRANSACTIONS_URL","hiddenTokens","maintenanceMode","prorityOrder","getAppAssetsSources","plugCircleSrc","sonicCircleSrc","sonic","ICP_METADATA","totalSupply","icpSrc","tokenType","getICPTokenMetadata","LedgerIDL","factory","IDL","AccountIdentifier","ICPTs","Record","e8s","Nat64","AccountBalanceArgs","SubAccount","Vec","Nat8","BlockHeight","NotifyCanisterArgs","to_subaccount","Opt","from_subaccount","to_canister","Principal","max_fee","block_height","Memo","TimeStamp","timestamp_nanos","SendArgs","created_at_time","Service","account_balance_dfx","Func","notify_dfx","send_dfx","CyclesMintingIDL","IcpXdrConversionRate","xdr_permyriad_per_icp","timestamp_seconds","IcpXdrConversionRateCertifiedResponse","certificate","hash_tree","SetAuthorizedSubnetworkListArgs","who","subnets","TransactionNotification","from","CyclesResponse","Variant","Refunded","Tuple","CanisterCreated","ToppedUp","Null","Result","Ok","Err","get_average_icp_xdr_conversion_rate","get_icp_xdr_conversion_rate","set_authorized_subnetwork_list","transaction_notification","SwapStorageIDL","Operation__1","lpTransfer","lpApprove","withdraw","tokenTransfer","addLiquidity","createPair","deposit","removeLiquidity","lpTransferFrom","tokenTransferFrom","tokenApprove","Time","Int","Operation","TxRecord","op","Nat","amount0","amount1","caller","Status","memSize","storageId","cycles","start","Bucket","addRecords","getStatus","getTransaction","getTransactions","BucketInfoExt","bucketId","Status__1","recordsPerBucket","owner","txAmount","flushing","Bool","bufferSize","chunkSize","dswap","buckets","TxRecord__1","addRecord","flush","getBucket","getUserTransactionAmount","getUserTransactions","historySize","newBucket","setDSwapCanisterId","SwapIDL","TxReceipt","ok","err","TokenInfoExt","PairInfoExt","price0CumulativeLast","creator","reserve0","reserve1","lptoken","token0","token1","price1CumulativeLast","kLast","blockTimestampLast","TokenInfoWithType","SwapInfo","pairs","UserInfo","lpBalances","UserInfoPage","addAuth","addTokenTypes","addTokenWithType","allowance","approve","balanceOf","burn","depositTo","exportBalances","exportLPTokens","exportPairs","exportTokenTypes","exportTokens","getAllPairs","getHolders","getLPTokenId","getNumPairs","getPair","getPairs","getSupportedTokenList","getSupportedTokenListByName","getSupportedTokenListSome","getSwapInfo","getUserBalances","getUserInfo","getUserInfoAbove","getUserInfoByNamePageAbove","getUserLPBalances","getUserLPBalancesAbove","initateTransfer","initiateICRC1Transfer","logMessageClear","logMessageGet","removeAuth","setFeeForToken","setFeeOn","setFeeTo","setGlobalTokenFee","setMaxTokens","setOwner","setPairSupply","setPermissionless","swapExactTokensForTokens","swapTokensForExactTokens","transfer","transferFrom","updateAllTokenMetadata","updateTokenFees","updateTokenMetadata","withdrawTo","TokenIDL","DIP20","ICRC1","TxError","InsufficientAllowance","InsufficientBalance","ErrorOperationStyle","Unauthorized","LedgerTrap","ErrorTo","Other","BlockUsed","AmountTooSmall","Metadata","TokenInfo","holderNumber","deployTime","feeTo","getAllowanceSize","getBlockUsed","getMetadata","getTokenInfo","getUserApprovals","isBlockUsed","mint","setFee","setGenesis","setLogo","setName","YCfactory","GetTransactionsRequest","Account","subaccount","Burn","Transfer","kind","ArchivedTransactionRange","callback","GetTransactionsResponse","first_index","log_length","archived_transactions","HttpRequest","body","HttpResponse","status_code","Nat16","Value","Blob","StandardRecord","TransferArg","TransferError","GenericError","error_code","TemporarilyUnavailable","BadBurn","min_burn_amount","Duplicate","duplicate_of","BadFee","expected_fee","CreatedInFuture","ledger_time","TooOld","InsufficientFunds","get_transactions","http_request","icrc1_balance_of","icrc1_decimals","icrc1_fee","icrc1_metadata","icrc1_minting_account","icrc1_name","icrc1_supported_standards","icrc1_symbol","icrc1_total_supply","icrc1_transfer","XTCIDL","NotifyDfxFailed","UnexpectedCyclesResponse","InsufficientXTCFee","FetchRateFailed","TransactionId","BurnError","InvalidTokenContract","NotSufficientLiquidity","BurnResult","TransactionStatus","FAILED","SUCCEEDED","EventDetail","canister","CanisterCalled","method_name","TransferFrom","Event","EventsConnection","next_offset","next_canister_id","canisterCalled","canisterCreated","MintError","MintResult","Stats","transfers_count","mints_count","transfers_from_count","canisters_created_count","supply","burns_count","approvals_count","proxy_calls_count","history_events","TxReceiptLegacy","ResultCall","return","CreateResult","canister_id","ResultSend","events","get_map_block_used","get_transaction","halt","mint_by_icp","nameErc20","stats","transferErc20","wallet_balance","wallet_call","args","wallet_create_canister","controller","wallet_create_wallet","wallet_send","useAllPairs","useDispatch","allPairsState","allPairs","useSwapCanisterStore","useKeepSync","isRefreshing","swapCanisterActions","setAllPairsState","swapActor","getswapActor","setAllPairs","parseResponseAllPairs","Idle","AppLog","interval","directGetAllPairs","sonicBalances","icpBalance","tokenBalances","userLPBalancesState","getUserPositiveLPBalances","setUserLPBalancesState","fromText","setUserLPBalances","parseResponseUserLPBalances","getBalances","tokenInfo","tokenList","setBalancesState","tokenCanisterId","tokenFeeLen","roundBigInt","tokenBalance","getTokenBalance","fetchICPBalance","setICPBalance","parseAmount","setSonicBalances","setTokenBalances","sumBalances","entries","forEach","canisterId","notificationId","popNotification","totalBlockHeightsWICP","getFromStorage","LocalStorageKey","MintWICPUncompleteBlockHeights","totalBlockHeightsXTC","MintXTCUncompleteBlockHeights","blockHeightsXTC","blockHeightsWICP","totalLength","setMintWICPUncompleteBlockHeights","setMintXTCUncompleteBlockHeights","MINT_AUTO_NOTIFICATION_TITLES","NotificationState","MintAuto","resizeObserver","ResizeObserver","header","document","getElementById","observe","useNotificationEffect","notifications","timeout","supportedTokenListState","priceState","balanceState","useAppSelector","useQuery","URLSearchParams","delete","history","replaceState","useTokenAllowance","tokensAllowance","useAllowanceStore","validPrincipalId","now","expiration","allowanceActions","fetchAllowance","useTokenBalanceMemo","wallet","input","taxedValue","nonTaxedValue","tokenVal","sonicBalance","supportedTokenList","storageKey","tokenLogo","getTokenLogo","saveToStorage","useTokenSelectionChecker","id0","id1","targetId","isFirstIsSelected","isSecondIsSelected","isTokenSelected","useUserMetrics","setIsLoading","userLPMetrics","setUserLPMetrics","getUserLPMetrics","pairIds","getPairIdsFromPairList","analyticsApi","promises","queryUserLPMetrics","_userPairMetrics","resolve","debounce","KEEP_SYNC_DEFAULT_INTERVAL","userPairMetrics","getUserMetrics","Render","render","ColorModeScript","initialColorMode","theme","config","ChakraProvider","resetCSS","store","createAnonLedgerActor","createAnonymousActor","createSwapActor","createActor","createAnonSwapActor","createTokenActor","createAnonTokenActor","getCapRootInstance","CapRoot","init","page","capRoot","result","get_user_transactions","parseCapHistoryLog","values","time","details","aux","ADDRESS_TO_FILTER","getUserLedgerTransactions","accountId","rosetta","getTransactionsByAccount","isArray","t","ua","navigator","userAgent","isAndroid","isiOs","isMobile","exposeProviderWithWalletConnect","debug","requestConnect","checkIsConnected","getPrincipal","requestBalance","versions","provider","parseVersion","v","providerVersion","requiredVersion","setState","reject","principal","toText","clearTimeout","setPrincipalId","BatchTransactions","handleRetry","Batch","State","onSuccess","handleTransactionSuccess","onFail","prevResponses","handleTransactionFail","Running","batchTransactionResolver","batchTransactionRejector","getState","responses","pop","finishPromise","retryResponse","nextTxArgs","resolved","firstTransaction","otherTransactions","txData","batchTransactions","getAmountDependsOnBalance","fromValue","getDepositTransactions","approveTx","depositTx","txNames","requiredAllowance","getTransactionName","blockHeight","removeBlockHeightFromStorage","localStorageKey","totalBlockHeights","userBlockHeights","newBlockHeights","_blockHeight","saveBlockHeightToStorage","prevMintWICPBlockHeight","updateFailedBlockHeight","failedBlockHeight","useAddLiquidityBatch","addLiquidityParams","pair","useLiquidityViewStore","deposit0Params","allowance0","deposit1Params","allowance1","createPairParams","approve0","deposit0","approve1","deposit1","getICRCAcnt","tx0complete","tx1complete","batchLoad","DepositBatch","batch","openBatchModal","token0Type","token1Type","token0Amt","token1Amt","intitICRCTokenDeposit","useApproveTransactionMemo","useDepositTransactionMemo","useICRCTransferMemo","tokenAcnt","useCreatePairTransactionMemo","useAddLiquidityTransactionMemo","TrxFull","_transactions","setAddLiquidityModalData","openAddLiquidityFailModal","openAddLiquidityProgressModal","keys","useBatch","batchFnUpdate","useDepositBatch","setDepositModalData","openDepositProgressModal","openDepositFailModal","getAcnt","useMintBatch","amountIn","amountOut","keepInSonic","useSwapViewStore","mintXTCUncompleteBlockHeights","mintWICPUncompleteBlockHeights","canisterPrincipalId","canisterAccountID","mintTransaction","openFailModal","getMintTransaction","mintTransactionData","handler","getMintXTCTransaction","uncompleteBlockHeights","setMintUncompleteBlockHeights","getMintWICPTransaction","setMintWICPModalData","openMintWICPProgressModal","openMintWICPFailModal","setMintXTCModalData","openMintXTCProgressModal","openMintXTCFailModal","depositParams","ledgerTransfer","useLedgerTransferTransactionMemo","toAccountId","setMintModalData","useMintMultipleBatch","blockHeights","setTransactions","updateTransactions","transactionName","getTransactionNames","useMintSingleBatch","useRemoveLiquidityBatch","removeLiquidityParams","withdraw0Params","amount0Min","withdraw1Params","amount1Min","useRemoveLiquidityTransactionMemo","withdraw0","useWithdrawTransactionMemo","withdraw1","setRemoveLiquidityModalData","openRemoveLiquidityProgressModal","openRemoveLiquidityFailModal","useSwapBatch","swapParams","navigate","useNavigate","entryVal","withdrawParams","useSwapExactTokensTransactionMemo","amountOutMin","setSwapModalData","openSwapProgressModal","openSwapFailModal","execute","reqAmt","useWithdrawBatch","withdrawMemo","openWithdrawFailModal","setWithdrawModalData","openWithdrawProgressModal","useWithdrawWICPBatch","withdrawWICP","useWithdrawWICPTransactionMemo","setWithdrawWICPModalData","openWithdrawWICPProgressModal","openWithdrawWICPFailModal","parsedAmount","toApproveAmount","idl","methodName","JSON","setData","actor","canId","subacc","useICRCDepositMemo","tokenTrx","settokenTrxData","getTokenActor","fromHexString","resp","token0Value","token1Value","_temp","substring","amount0Desired","amount1Desired","getAmountMin","currentTime","lpAmount","round","options","argBlockHeight","outAmountMin","paths","useSwapForExactTokensTransactionMemo","amountInMin","DefaultHookState","setError","states","newBatch","transactionsList","txSuccessResponse","prevRes","handleError","useMintErrorHandler","isBlockUsedError","isUnauthorizedError","isOtherError","isOperationStyleError","isErrorToError","isAmountToSmallError","errorText","removeLastProcessedTransaction","prevMintBlockHeightData","newBlockHeightData","_","AddLiquidityNotificationContent","liquidityViewStore","batchData","handleStateChange","handleOpenModal","setAllowanceVerifyModalData","openAllowanceVerifyModal","clearAddLiquidityModalData","Success","transactionLink","finally","DepositNotificationContent","depositViewStore","useDepositViewStore","selectedToken","clearDepositModalData","Pending","MintAutoNotificationContent","setSteps","setStep","handleMintError","doneStepColor","activeStepColor","disabledStepColor","setNotificationData","removeFromStorage","transactionNames","_step","stepStatus","isDoneStep","isActiveStep","isDisabledStep","stepColor","stepLabel","MintManualNotificationContent","MintWICPNotificationContent","swapViewStore","MintXTCNotificationContent","RemoveLiquidityNotificationContent","userLPBalances","removeLiquidityBatchParams","removeAmountPercentage","multipliedBy","dividedBy","clearRemoveLiquidityModalData","SwapNotificationContent","clearSwapModalData","TransactionNotificationContent","NavLink","WithdrawNotificationContent","useWithdrawViewStore","clearWithdrawModalData","WithdrawWICPNotificationContent","getAccountId","NotificationBox","notification","show","setShow","animateOpacity","NotificationHeader","NotificationContent","NotificationTimer","notificationContent","MintWICP","MintXTC","ErrorNotificationType","NotificationIcon","errorNode","redWarningSrc","pendingNode","successNode","transparentGreenCheckSrc","n","shouldShowCloseButton","closeSrc","errorBody","hasOwnProperty","reduceWidth","collapseAnimation","onAnimationEnd","initialState","CAPstate","LedgerState","activityList","lastPage","fetchedPages","activityViewSlice","createSlice","reducers","setCAPState","action","payload","setLedgerState","setTokenList","setPage","setLedgerTransactions","pushActivityList","toFilterTransactions","cur","dateString","toDateString","alreadyAdded","Set","item","has","add","sort","a","b","timeA","setLastPage","pushFetchedPages","clearActivityList","activityViewActions","actions","selectActivityViewState","activityView","reducer","useActivityViewStore","useActivityView","parseResponseTokenList","getUserTransactionsPage","_principalId","_page","allowanceSlice","setAllowance","clearAllowance","rest","selectAllowanceState","createAsyncThunk","getTokenAllowance","isBannerOpened","AssetsBannerDisabled","assetsViewSlice","setIsBannerOpened","assetsViewActions","selectAssetsViewState","assetsView","selectWithdrawViewState","ICPXDRconversionRate","ICPXDRconversionRateState","cyclesMintingCanisterSlice","setICPXDRConversionRate","setICPXDRConversionRateState","cyclesMintingCanisterSliceActions","selectCyclesMintingCanisterState","DEFAULT_CYCLES_PER_XDR","TOKEN_SUBDIVIDABLE_BY","useCyclesMintingCanisterStore","getICPXDRConversionRate","fetchICP2XDRConversionRate","conversionRate","depositViewSlice","setAmount","setTokenId","depositViewActions","selectDepositViewState","depositView","keepSyncSlice","timers","clearInterval","setInterval","keepSync","setCallback","keepSyncActions","selectKeepSyncState","runner","_interval","INITIAL_LIQUIDITY_SLIPPAGE","LiquidityBannerDisabled","pairState","liquidityViewSlice","setPairState","setRemoveAmountPercentage","setKeepInSonic","setToken","setPair","liquidityViewActions","selectLiquidityViewState","liquidityView","localPair","initialMintXTCModalData","initialMintWICPModalData","initialWithdrawWICPModalData","initialSwapModalData","initialDepositModalData","initialWithdrawModalData","initialAddLiquidityModalData","initialRemoveLiquidityModalData","initialTokenSelectData","isWithdrawFailModalOpened","isRemoveLiquidityModalOpened","modalsSlice","clearMintXTCModalData","addMintXTCUncompleteBlockHeight","clearMintWICPModalData","addMintWICPUncompleteBlockHeight","clearWithdrawWICPModalData","closeWithdrawFailModal","openTokenSelectModal","clearTokenSelectModalData","setTokenSelectModalData","openRemoveLiquidityModal","closeRemoveLiquidityModal","openTermsAndConditionsModal","setTermsAndConditionsModalData","selectModalsState","modals","useTokenModalOpener","notificationSlice","notificationIndex","newNotifications","popId","filteredNotifications","obj","setNotificationSliceState","selectNotificationState","setNotificationState","plugSlice","tknList","accountChangeCallback","newPrincipalId","warn","whitelist","onConnectionUpdate","sessionData","clear","reload","selectPlugState","icpPrice","priceSlice","setPrice","priceActions","selectPriceState","usePriceStore","_getICPPrice","supportedTokenListWithPrices","tokenPrice","wicpToTokenPair","wicpDecimals","wicpReserve","tokenReserve","setSupportedTokenList","fetchICPPrice","swapCanisterSlice","setSupportedTokensListState","parsedBalances","selectSwapCanisterState","plugState","loadAction","parseResponseSupportedTokenList","toJson","INITIAL_SWAP_SLIPPAGE","baseFromTokenPaths","baseToTokenPaths","swapViewSlice","reset","oppositeMetadata","oppositeDataKey","getTokenPaths","getAmountOutFromPath","capitalize","switchTokens","dataKey","isICPToWICPPair","isWICPToICPPair","isWICPAndICPPair","oppositeTokenPaths","oppositeValue","tokenPaths","tempMetadata","baseFromPaths","baseToPaths","swapViewActions","selectSwapViewState","swapView","x","getAmountOut","decimalsIn","decimalsOut","reserveIn","reserveOut","getTokenPath","useSwapView","isPairLoaded","setIsPairLoad","tokenListTemp","ICP","setInitToken","temp","isICPSelected","isWICPSelected","fromTokenOptions","toTokenOptions","wicpTokenMetadata","xtcTokenMetadata","toTokenPathsIds","icpToken","unshift","useAssetsViewStore","withdrawViewSlice","withdrawViewActions","withdrawView","useSelector","configureStore","middleware","getDefaultMiddleware","serializableCheck","variantGhost","c","mode","darkHoverBg","transparentize","darkActiveBg","accessibleColorMap","yellow","hoverBg","activeBg","cyan","variantSolid","variants","ghost","solid","link","padding","lineHeight","gradient","colors","unstyled","baseStyle","transitionProperty","transitionDuration","_focus","sizes","xs","defaultProps","rounded","baseStyleList","baseStyleItem","transitionTimingFunction","_expanded","baseStyleGroupTitle","baseStyleCommand","baseStyleDivider","baseStyleButton","parts","button","list","groupTitle","command","divider","baseStyleOverlay","baseStyleDialogContainer","baseStyleDialog","maxH","baseStyleHeader","borderBottomWidth","baseStyleCloseButton","insetEnd","baseStyleBody","baseStyleFooter","getSize","dialog","xl","full","overlay","dialogContainer","closeButton","$popperBg","cssVar","$arrowBg","$arrowShadowColor","baseStylePopper","baseStyleContent","variable","reference","borderTopWidth","popper","baseStyleRoot","orientation","baseStyleTab","isFitted","baseStyleTablist","end","center","baseStyleTabpanel","line","borderProp","tablist","tab","_selected","enclosed","borderBottomColor","_notLast","marginEnd","borderTopColor","getColor","root","tabpanel","gray","black","darkBlue","custom","app","dark","light","appTheme","styles","global","html","fonts","heading","useSystemColorMode","modalHeight","components","extendTheme","firstLength","lastLength","a1","a2","tempTkn","order","parseResponsePair","resultPair","tokenIds","token0Id","token1Id","tokenListObj","artemis","plugStat","el","returnType","isAnnon","getCanisterActor","tokenActor","prin","toHexString","byteArray","byte","join","hex","substr","bytes","static","EXPONENTIAL_AT","val","fixedVal","str","parseUnits","actualDecimals","roundOfdecimals","ad","roundedNumber","floor","tmp","formatValue","formatUnits","ethers","BigNumber","getValueWithoutFees","numberOfFees","_feesAmount","minus","times","isNegative","charAt","toUpperCase","pairList","idsSet","paired","timer","fn","awaitTime","ACCOUNT_DOMAIN_SEPERATOR","ledgerActor","statusText","subAccount","sha","algo","SHA224","update","byteArrayToWordArray","toUint8Array","SUB_ACCOUNT_ZERO","Buffer","alloc","subBuffer","writeUInt32BE","finalize","wordArrayToByteArray","generateChecksum","wordArray","lib","WordArray","wordToByteArray","word","sigBytes","words","concat","intToHex","crc","unsigned","padStart","serializedValue","removeItem","console","IDENTIFIER","createLabel","text","clipboard","writeText","AddLiquidityActivity","_token0","_token1","toLocaleTimeString","FaPlus","DepositActivity","getTokenByAddress","findToken","tokenPrincipal","LedgerTransactionActivity","ledgerTransaction","FaCube","LoadingActivity","RemoveLiquidityActivity","SwapActivity","fromToken","toToken","WithdrawActivity","scrollHandler","scrollY","innerHeight","offsetHeight","addEventListener","removeEventListener","overflowX","css","dateA","dateB","date","Fragment","renderActivity","Activity","operation","openSelectTokenModal","selectedTokenMetadata","handleSelectTokenId","buttonDisabled","buttonMessage","parsedFromValue","fromQueryValue","tokenListMetadata","autoFocus","getAssetPriceByBalance","notEmptyTokenList","supportedTokenListWithICP","isTokenListPresent","assetsDetailsTextColor","headerColor","getCanWithdraw","getCanDeposit","FaMinus","FaInfoCircle","isReviewing","setIsReviewing","autoSlippage","setAutoSlippage","handleTokenMaxClick","token0Balance","token1Balance","maxValue","setInAndOutTokenValues","lockedPairsList","handleSelectToken","excludeToken","foundPair","customTokenList","foundToken","needAsNetValue","convertToken","fromAmount","lpValue","Liquidity","getOppositeAmount","parsedLPValue","reversedDataKey","gt","startsWith","minimalAmount","token0Allowance","token1Allowance","isPriceUpdating","parsedToken0Value","parsedToken1Value","selectedIds","fee0","fee1","price0","price1","shareOfPool","liquidityAmount","useAddLiquidityMemo","token0Sources","useTokenSourceMemo","token1Sources","menuListShadow","menuListBg","iconBorderColor","textColor","FaCog","Center","FaEquals","PairedUserLPToken","totalShares","userShares","balance0","balance1","pairMetrics","handleAdd","handleRemove","isMetricsLoading","isLPBalanceLoading","successColor","userLPValue","getUserPositionValue","decimals0","decimals1","gridGap","fees","RemoveLiquidityModalAsset","balancePrice","PERCENTAGE_PRESETS","RemoveLiquidityModal","handleModalClose","handleSliderChange","lpBalance","getTokenBalances","isAmountIsLow","AMOUNT_TOO_LOW_LABEL","tokensLPBalance","checkboxColorKeepInSonic","checkboxColorNotKeepInSonic","checkboxColor","NaN","Slider","focusThumbOnChange","SliderTrack","SliderFilledTrack","SliderThumb","SimpleGrid","columns","preset","FaArrowDown","dir","getShareOfPoolString","params","percentage","getShareOfPool","isEqualTo","isLessThanOrEqualTo","getPosition","PAIR_DECIMALS","InformationDescription","_visited","moveToAddLiquidityView","handleOpenRemoveLiquidityModal","isUserLPBalancesUpdating","pairedUserLPTokens","lpBalancesPairIDs","existentPairs","tokenId0","pairedList","tokenId1","msOverflowStyle","scrollbarWidth","userLPToken","ChainPopover","isChained","FaLink","ExchangeBox","isFromTokenIsICP","isToTokenIsICP","isFromTokenIsWICP","isToTokenIsWICP","isFromTokenIsXTC","isToTokenIsXTC","depositFee","withdrawFee","icpMetadata","feeSymbol","xtcMetadata","icpFeeInXTC","getXTCValueByXDRRate","xtcFees","plus","wicpFee","pathAmountOut","getAmountOutRatio","getSwapAmountOutMin","hasDeposit","hasWithdraw","Portal","OperationType","KEEP_IN_SONIC_LINK","KeepInSonicBox","canHeldInSonic","popoverLabel","SwapSubTab","tabname","SwapStep","useSwapViewData","lastChangedInputDataKey","setLastChangedInputDataKey","isXTCSelected","fromBalance","toBalance","resetViewState","resetStepToHome","Review","handleChangeValue","handleSetValue","handleICPToWICPChange","_newValue","icpFee","handleICPToXTCChange","getICPValueByXDRRate","xtcFee","icpFeesConvertedToXTC","rateBasedAmount","resultAmount","handleICPToTokenChange","oppositeData","wrappedICPMetadata","dataWICP","checkIsPlugProviderVersionCompatible","handleMintXTC","handleMintWICP","handleWithdrawWICP","handleApproveSwap","isFetchingNotStarted","NotStarted","isButtonDisabled","handleButtonClick","headerTitle","getPriceImpact","priceIn","priceOut","isSelectTokenButtonDisabled","selectTokenButtonText","fromSources","toSources","isExplanationTooltipVisible","currentOperation","Wrap","tokenFromId","tokenToId","onMenuClose","onSetSlippage","onSetIsAutoSlippage","onChangeValue","onSelectToken","oppositeTokenId","onSwitchTokens","swapPlacementButtonBg","tabIndex","_amount","_conversionRate","_defaultCyclesPerXDR","_subdividableBy","tokenIn","tokenOut","toValue","ratio","UserContext","initialTodos","complete","todo","Todos","todos","useReducer","handleComplete","setInputValue","previousInputValue","useRef","Component1","setUser","Provider","number","Component2","Component3","useContext","Component4","Component5","Timer","count","setCount","App2","setTodos","increment","addTodo","calculation","log","expensiveCalculation","setColor","fetch","json"],"sourceRoot":""}